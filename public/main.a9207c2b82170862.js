"use strict";var rD=Object.defineProperty,iD=Object.defineProperties,sD=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,oD=Object.prototype.hasOwnProperty,aD=Object.prototype.propertyIsEnumerable,eE=(kt,Ue,S)=>Ue in kt?rD(kt,Ue,{enumerable:!0,configurable:!0,writable:!0,value:S}):kt[Ue]=S,tE=(kt,Ue)=>{for(var S in Ue||(Ue={}))oD.call(Ue,S)&&eE(kt,S,Ue[S]);if(X0)for(var S of X0(Ue))aD.call(Ue,S)&&eE(kt,S,Ue[S]);return kt},nE=(kt,Ue)=>iD(kt,sD(Ue));(self.webpackChunkbegue_alejandro_PPLaboIV=self.webpackChunkbegue_alejandro_PPLaboIV||[]).push([[179],{7128:(kt,Ue,S)=>{S.d(Ue,{nm:()=>qe});var f=S(880),V=(S(5e3),S(3692),S(5867),S(5861)),Ie=S(9681),ge=S(4859),ne=S(2090),Ee=S(1877);const Q=new Map,ae={activated:!1,tokenObservers:[]},Me={initialized:!1,enabled:!1};function Qe(Pe){return Q.get(Pe)||ae}function He(Pe,we){Q.set(Pe,we)}function tt(){return Me}class Fe{constructor(we,Je,ft,Rt,zt){if(this.operation=we,this.retryPolicy=Je,this.getWaitDuration=ft,this.lowerBound=Rt,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=Rt,Rt>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(we){var Je=this;return(0,V.Z)(function*(){Je.stop();try{Je.pending=new ne.BH,yield function Ze(Pe){return new Promise(we=>{setTimeout(we,Pe)})}(Je.getNextRun(we)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new ne.BH,yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch(ft){Je.retryPolicy(ft)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun(we){if(we)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const ue=new ne.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function je(Pe){if(!Qe(Pe).activated)throw ue.create("use-before-activation",{appName:Pe.name})}function Ge(Pe,we){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*({url:Pe,body:we},Je){const ft={"Content-Type":"application/json"},Rt=Je.getImmediate({optional:!0});if(Rt){const kr=yield Rt.getHeartbeatsHeader();kr&&(ft["X-Firebase-Client"]=kr)}const zt={method:"POST",body:JSON.stringify(we),headers:ft};let tr,_r;try{tr=yield fetch(Pe,zt)}catch(kr){throw ue.create("fetch-network-error",{originalErrorMessage:kr.message})}if(200!==tr.status)throw ue.create("fetch-status-error",{httpStatus:tr.status});try{_r=yield tr.json()}catch(kr){throw ue.create("fetch-parse-error",{originalErrorMessage:kr.message})}const Hn=_r.ttl.match(/^([\d.]+)(s)$/);if(!Hn||!Hn[2]||isNaN(Number(Hn[1])))throw ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_r.ttl}`});const Cr=1e3*Number(Hn[1]),Ni=Date.now();return{token:_r.token,expireTimeMillis:Ni+Cr,issuedAtTimeMillis:Ni}})).apply(this,arguments)}function Bt(Pe,we){const{projectId:Je,appId:ft,apiKey:Rt}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Je}/apps/${ft}:exchangeDebugToken?key=${Rt}`,body:{debug_token:we}}}const _n="firebase-app-check-store";let Tn=null;function qt(){return Tn||(Tn=new Promise((Pe,we)=>{try{const Je=indexedDB.open("firebase-app-check-database",1);Je.onsuccess=ft=>{Pe(ft.target.result)},Je.onerror=ft=>{var Rt;we(ue.create("storage-open",{originalErrorMessage:null===(Rt=ft.target.error)||void 0===Rt?void 0:Rt.message}))},Je.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(_n,{keyPath:"compositeKey"})}}catch(Je){we(ue.create("storage-open",{originalErrorMessage:Je.message}))}}),Tn)}function vn(){return(vn=(0,V.Z)(function*(Pe,we){const ft=(yield qt()).transaction(_n,"readwrite"),zt=ft.objectStore(_n).put({compositeKey:Pe,value:we});return new Promise((tr,_r)=>{zt.onsuccess=Hn=>{tr()},ft.onerror=Hn=>{var Cr;_r(ue.create("storage-set",{originalErrorMessage:null===(Cr=Hn.target.error)||void 0===Cr?void 0:Cr.message}))}})})).apply(this,arguments)}const tn=new Ee.Yd("@firebase/app-check");function Ir(Pe,we){return(0,ne.hl)()?function Yt(Pe,we){return function Fn(Pe,we){return vn.apply(this,arguments)}(function Jn(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),we)}(Pe,we).catch(Je=>{tn.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function nr(){return tt().enabled}function gr(){return ut.apply(this,arguments)}function ut(){return(ut=(0,V.Z)(function*(){const Pe=tt();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const De={error:"UNKNOWN_ERROR"};function mt(Pe){return ne.US.encodeString(JSON.stringify(Pe),!1)}function Ve(Pe){return _t.apply(this,arguments)}function _t(){return(_t=(0,V.Z)(function*(Pe,we=!1){const Je=Pe.app;je(Je);const ft=Qe(Je);let zt,Rt=ft.token;if(!Rt){const Hn=yield ft.cachedTokenPromise;Hn&&jn(Hn)&&(Rt=Hn)}if(!we&&Rt&&jn(Rt))return{token:Rt.token};let _r,tr=!1;if(nr()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=Ge(Bt(Je,yield gr()),Pe.heartbeatServiceProvider).then(Cr=>(ft.exchangeTokenPromise=void 0,Cr)),tr=!0);const Hn=yield ft.exchangeTokenPromise;return yield Ir(Je,Hn),He(Je,Object.assign(Object.assign({},ft),{token:Hn})),{token:Hn.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().then(Hn=>(ft.exchangeTokenPromise=void 0,Hn)),tr=!0),Rt=yield ft.exchangeTokenPromise}catch(Hn){"appCheck/throttled"===Hn.code?tn.warn(Hn.message):tn.error(Hn),zt=Hn}return Rt?(_r={token:Rt.token},He(Je,Object.assign(Object.assign({},ft),{token:Rt})),yield Ir(Je,Rt)):_r=dn(zt),tr&&ar(Je,_r),_r})).apply(this,arguments)}function gn(Pe,we){const Je=Qe(Pe),ft=Je.tokenObservers.filter(Rt=>Rt.next!==we);0===ft.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),He(Pe,Object.assign(Object.assign({},Je),{tokenObservers:ft}))}function hn(Pe){const{app:we}=Pe,Je=Qe(we);let ft=Je.tokenRefresher;ft||(ft=function sn(Pe){const{app:we}=Pe;return new Fe((0,V.Z)(function*(){let ft;if(ft=Qe(we).token?yield Ve(Pe,!0):yield Ve(Pe),ft.error)throw ft.error}),()=>!0,()=>{const Je=Qe(we);if(Je.token){let ft=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Je.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(Pe),He(we,Object.assign(Object.assign({},Je),{tokenRefresher:ft}))),!ft.isRunning()&&Je.isTokenAutoRefreshEnabled&&ft.start()}function ar(Pe,we){const Je=Qe(Pe).tokenObservers;for(const ft of Je)try{"EXTERNAL"===ft.type&&null!=we.error?ft.error(we.error):ft.next(we)}catch(Rt){}}function jn(Pe){return Pe.expireTimeMillis-Date.now()>0}function dn(Pe){return{token:mt(De),error:Pe}}class se{constructor(we,Je){this.app=we,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:we}=Qe(this.app);for(const Je of we)gn(this.app,Je.next);return Promise.resolve()}}const Kr="app-check-internal";!function Mr(){(0,Ie._registerComponent)(new ge.wA("app-check",Pe=>function me(Pe,we){return new se(Pe,we)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,we,Je)=>{Pe.getProvider(Kr).initialize()})),(0,Ie._registerComponent)(new ge.wA(Kr,Pe=>function J(Pe){return{getToken:we=>Ve(Pe,we),addTokenListener:we=>function yt(Pe,we,Je,ft){const{app:Rt}=Pe,zt=Qe(Rt),tr={next:Je,error:ft,type:we};if(He(Rt,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,tr]})),zt.token&&jn(zt.token)){const _r=zt.token;Promise.resolve().then(()=>{Je({token:_r.token}),hn(Pe)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>hn(Pe))}(Pe,"INTERNAL",we),removeTokenListener:we=>gn(Pe.app,we)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)("@firebase/app-check","0.5.8")}();class qe{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(kt,Ue,S)=>{S.d(Ue,{Ot:()=>ie,ZF:()=>le,hX:()=>Qe,z6:()=>V});var f=S(5867),E=S(5e3),z=S(880);class ie{constructor(Fe){return Fe}}class V{constructor(){return(0,f.C6)()}}const ne=new E.OlP("angularfire2._apps"),Ee={provide:ie,useFactory:function ge(Ke){return Ke&&1===Ke.length?Ke[0]:new ie((0,f.Mq)())},deps:[[new E.FiY,ne]]},Q={provide:V,deps:[[new E.FiY,ne]]};function ae(Ke){return(Fe,Ze)=>{const bt=Fe.runOutsideAngular(()=>Ke(Ze));return new ie(bt)}}let Me=(()=>{class Ke{constructor(Ze){(0,f.KN)("angularfire",z.q4.full,"core"),(0,f.KN)("angularfire",z.q4.full,"app"),(0,f.KN)("angular",E.q4F.full,Ze.toString())}}return Ke.\u0275fac=function(Ze){return new(Ze||Ke)(E.LFG(E.Lbi))},Ke.\u0275mod=E.oAB({type:Ke}),Ke.\u0275inj=E.cJS({providers:[Ee,Q]}),Ke})();function Qe(Ke,...Fe){return{ngModule:Me,providers:[{provide:ne,useFactory:ae(Ke),multi:!0,deps:[E.R0b,E.zs3,z.HU,...Fe]}]}}const le=(0,z.u3)(f.ZF,!0)},3385:(kt,Ue,S)=>{S.d(Ue,{zQ:()=>Oe,rT:()=>ue,f7:()=>je,L6:()=>Ze,_Q:()=>bt,lh:()=>xe,Qv:()=>Fe,nw:()=>ce});var f=S(5e3),E=S(7579),z=S(9646),ie=S(8306),V=S(8996),Ie=S(6451),ge=S(3900),ne=S(576);function Ee(Ge,Le){return(0,ne.m)(Le)?(0,ge.w)(()=>Ge,Le):(0,ge.w)(()=>Ge)}var Q=S(5363),ae=S(4004),Me=S(3151),Qe=S(590),He=S(9468),tt=S(9300),pt=S(880),le=S(2011),Xe=S(9808),Ct=S(7128);S(127);const Fe=new f.OlP("angularfire2.auth.use-emulator"),Ze=new f.OlP("angularfire2.auth.settings"),bt=new f.OlP("angularfire2.auth.tenant-id"),ue=new f.OlP("angularfire2.auth.langugage-code"),xe=new f.OlP("angularfire2.auth.use-device-language"),je=new f.OlP("angularfire.auth.persistence"),ce=(Ge,Le,gt,Nt,Bt,Ut,Tt,_n)=>(0,le.cc)(`${Ge.name}.auth`,"AngularFireAuth",Ge.name,()=>{const Nn=Le.runOutsideAngular(()=>Ge.auth());if(gt&&Nn.useEmulator(...gt),Nt&&(Nn.tenantId=Nt),Nn.languageCode=Bt,Ut&&Nn.useDeviceLanguage(),Tt)for(const[Tn,qt]of Object.entries(Tt))Nn.settings[Tn]=qt;return _n&&Nn.setPersistence(_n),Nn},[gt,Nt,Bt,Ut,Tt,_n]);let Oe=(()=>{class Ge{constructor(gt,Nt,Bt,Ut,Tt,_n,Nn,Tn,qt,on,Yt,pn){const bn=new E.x,Fn=(0,z.of)(void 0).pipe((0,Q.Q)(Tt.outsideAngular),(0,ge.w)(()=>Ut.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5881)))),(0,ae.U)(()=>(0,le.on)(gt,Ut,Nt)),(0,ae.U)(vn=>ce(vn,Ut,_n,Tn,qt,on,Nn,Yt)),(0,Me.d)({bufferSize:1,refCount:!1}));if((0,Xe.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,z.of)(null);else{Fn.pipe((0,Qe.P)()).subscribe();const Ln=Fn.pipe((0,ge.w)(tn=>tn.getRedirectResult().then(Zn=>Zn,()=>null)),pt.iC,(0,Me.d)({bufferSize:1,refCount:!1})),Yn=Fn.pipe((0,ge.w)(tn=>new ie.y(Zn=>({unsubscribe:Ut.runOutsideAngular(()=>tn.onAuthStateChanged(Gt=>Zn.next(Gt),Gt=>Zn.error(Gt),()=>Zn.complete()))})))),Jn=Fn.pipe((0,ge.w)(tn=>new ie.y(Zn=>({unsubscribe:Ut.runOutsideAngular(()=>tn.onIdTokenChanged(Gt=>Zn.next(Gt),Gt=>Zn.error(Gt),()=>Zn.complete()))}))));this.authState=Ln.pipe(Ee(Yn),(0,He.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular)),this.user=Ln.pipe(Ee(Jn),(0,He.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(tn=>tn?(0,V.D)(tn.getIdToken()):(0,z.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(tn=>tn?(0,V.D)(tn.getIdTokenResult()):(0,z.of)(null))),this.credential=(0,Ie.T)(Ln,bn,this.authState.pipe((0,tt.h)(tn=>!tn))).pipe((0,ae.U)(tn=>(null==tn?void 0:tn.user)?tn:null),(0,He.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular))}return(0,le.pX)(this,Fn,Ut,{spy:{apply:(vn,Ln,Yn)=>{(vn.startsWith("signIn")||vn.startsWith("createUser"))&&Yn.then(Jn=>bn.next(Jn))}}})}}return Ge.\u0275fac=function(gt){return new(gt||Ge)(f.LFG(le.Dh),f.LFG(le.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(pt.HU),f.LFG(Fe,8),f.LFG(Ze,8),f.LFG(bt,8),f.LFG(ue,8),f.LFG(xe,8),f.LFG(je,8),f.LFG(Ct.nm,8))},Ge.\u0275prov=f.Yz7({token:Ge,factory:Ge.\u0275fac,providedIn:"any"}),Ge})()},3290:(kt,Ue,S)=>{S.d(Ue,{ST:()=>se,yb:()=>me});var f=S(5e3),E=S(4986),z=S(8306),ie=S(8996),V=S(9646),Ie=S(880),ge=S(8675),ne=S(1520),Ee=S(4004),Q=S(5026),ae=S(1884),Me=S(9300),Qe=S(2011),He=S(9808),pt=(S(5881),S(3942)),le=S(5525),Xe=S(2090),Ct=S(4859);function Fe(J,k){if(void 0===k)return{merge:!1};if(void 0!==k.mergeFields&&void 0!==k.merge)throw new le.WA("invalid-argument",`Invalid options passed to function ${J}(): You cannot specify both "merge" and "mergeFields".`);return k}function Ze(){if("undefined"==typeof Uint8Array)throw new le.WA("unimplemented","Uint8Arrays are not available in this environment.")}function bt(){if(!(0,le.Me)())throw new le.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class ue{constructor(k){this._delegate=k}static fromBase64String(k){return bt(),new ue(le.Jj.fromBase64String(k))}static fromUint8Array(k){return Ze(),new ue(le.Jj.fromUint8Array(k))}toBase64(){return bt(),this._delegate.toBase64()}toUint8Array(){return Ze(),this._delegate.toUint8Array()}isEqual(k){return this._delegate.isEqual(k._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xe(J){return function je(J,k){if("object"!=typeof J||null===J)return!1;const N=J;for(const X of k)if(X in N&&"function"==typeof N[X])return!0;return!1}(J,["next","error","complete"])}class ce{enableIndexedDbPersistence(k,N){return(0,le.ST)(k._delegate,{forceOwnership:N})}enableMultiTabIndexedDbPersistence(k){return(0,le.fH)(k._delegate)}clearIndexedDbPersistence(k){return(0,le.Fc)(k._delegate)}}class Oe{constructor(k,N,X){this._delegate=N,this._persistenceProvider=X,this.INTERNAL={delete:()=>this.terminate()},k instanceof le.l7||(this._appCompat=k)}get _databaseId(){return this._delegate._databaseId}settings(k){const N=this._delegate._getSettings();!k.merge&&N.host!==k.host&&(0,le.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),k.merge&&delete(k=Object.assign(Object.assign({},N),k)).merge,this._delegate._setSettings(k)}useEmulator(k,N,X={}){(0,le.at)(this._delegate,k,N,X)}enableNetwork(){return(0,le.Ix)(this._delegate)}disableNetwork(){return(0,le.TF)(this._delegate)}enablePersistence(k){let N=!1,X=!1;return k&&(N=!!k.synchronizeTabs,X=!!k.experimentalForceOwningTab,(0,le.Wi)("synchronizeTabs",N,"experimentalForceOwningTab",X)),N?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,X)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,le.Mx)(this._delegate)}onSnapshotsInSync(k){return(0,le.sc)(this._delegate,k)}get app(){if(!this._appCompat)throw new le.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(k){try{return new pn(this,(0,le.hJ)(this._delegate,k))}catch(N){throw Ut(N,"collection()","Firestore.collection()")}}doc(k){try{return new Bt(this,(0,le.JU)(this._delegate,k))}catch(N){throw Ut(N,"doc()","Firestore.doc()")}}collectionGroup(k){try{return new qt(this,(0,le.B$)(this._delegate,k))}catch(N){throw Ut(N,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(k){return(0,le.i3)(this._delegate,N=>k(new Le(this,N)))}batch(){return(0,le.qY)(this._delegate),new gt(new le.PU(this._delegate,k=>(0,le.GL)(this._delegate,k)))}loadBundle(k){return(0,le.Pb)(this._delegate,k)}namedQuery(k){return(0,le.L$)(this._delegate,k).then(N=>N?new qt(this,N):null)}}class Be extends le.u7{constructor(k){super(),this.firestore=k}convertBytes(k){return new ue(new le.Jj(k))}convertReference(k){const N=this.convertDocumentKey(k,this.firestore._databaseId);return Bt.forKey(N,this.firestore,null)}}class Le{constructor(k,N){this._firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}get(k){const N=bn(k);return this._delegate.get(N).then(X=>new Nn(this._firestore,new le.xU(this._firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,N.converter)))}set(k,N,X){const ee=bn(k);return X?(Fe("Transaction.set",X),this._delegate.set(ee,N,X)):this._delegate.set(ee,N),this}update(k,N,X,...ee){const Ae=bn(k);return 2===arguments.length?this._delegate.update(Ae,N):this._delegate.update(Ae,N,X,...ee),this}delete(k){const N=bn(k);return this._delegate.delete(N),this}}class gt{constructor(k){this._delegate=k}set(k,N,X){const ee=bn(k);return X?(Fe("WriteBatch.set",X),this._delegate.set(ee,N,X)):this._delegate.set(ee,N),this}update(k,N,X,...ee){const Ae=bn(k);return 2===arguments.length?this._delegate.update(Ae,N):this._delegate.update(Ae,N,X,...ee),this}delete(k){const N=bn(k);return this._delegate.delete(N),this}commit(){return this._delegate.commit()}}class Nt{constructor(k,N,X){this._firestore=k,this._userDataWriter=N,this._delegate=X}fromFirestore(k,N){const X=new le.$q(this._firestore._delegate,this._userDataWriter,k._key,k._document,k.metadata,null);return this._delegate.fromFirestore(new Tn(this._firestore,X),null!=N?N:{})}toFirestore(k,N){return N?this._delegate.toFirestore(k,N):this._delegate.toFirestore(k)}static getInstance(k,N){const X=Nt.INSTANCES;let ee=X.get(k);ee||(ee=new WeakMap,X.set(k,ee));let Ae=ee.get(N);return Ae||(Ae=new Nt(k,new Be(k),N),ee.set(N,Ae)),Ae}}Nt.INSTANCES=new WeakMap;class Bt{constructor(k,N){this.firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}static forPath(k,N,X){if(k.length%2!=0)throw new le.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${k.canonicalString()} has ${k.length}`);return new Bt(N,new le.my(N._delegate,X,new le.Ky(k)))}static forKey(k,N,X){return new Bt(N,new le.my(N._delegate,X,k))}get id(){return this._delegate.id}get parent(){return new pn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(k){try{return new pn(this.firestore,(0,le.hJ)(this._delegate,k))}catch(N){throw Ut(N,"collection()","DocumentReference.collection()")}}isEqual(k){return(k=(0,Xe.m9)(k))instanceof le.my&&(0,le.Eo)(this._delegate,k)}set(k,N){N=Fe("DocumentReference.set",N);try{return N?(0,le.pl)(this._delegate,k,N):(0,le.pl)(this._delegate,k)}catch(X){throw Ut(X,"setDoc()","DocumentReference.set()")}}update(k,N,...X){try{return 1===arguments.length?(0,le.r7)(this._delegate,k):(0,le.r7)(this._delegate,k,N,...X)}catch(ee){throw Ut(ee,"updateDoc()","DocumentReference.update()")}}delete(){return(0,le.oe)(this._delegate)}onSnapshot(...k){const N=Tt(k),X=_n(k,ee=>new Nn(this.firestore,new le.xU(this.firestore._delegate,this._userDataWriter,ee._key,ee._document,ee.metadata,this._delegate.converter)));return(0,le.cf)(this._delegate,N,X)}get(k){let N;return N="cache"===(null==k?void 0:k.source)?(0,le.kl)(this._delegate):"server"===(null==k?void 0:k.source)?(0,le.Xk)(this._delegate):(0,le.QT)(this._delegate),N.then(X=>new Nn(this.firestore,new le.xU(this.firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,this._delegate.converter)))}withConverter(k){return new Bt(this.firestore,this._delegate.withConverter(k?Nt.getInstance(this.firestore,k):null))}}function Ut(J,k,N){return J.message=J.message.replace(k,N),J}function Tt(J){for(const k of J)if("object"==typeof k&&!xe(k))return k;return{}}function _n(J,k){var N,X;let ee;return ee=xe(J[0])?J[0]:xe(J[1])?J[1]:"function"==typeof J[0]?{next:J[0],error:J[1],complete:J[2]}:{next:J[1],error:J[2],complete:J[3]},{next:Ae=>{ee.next&&ee.next(k(Ae))},error:null===(N=ee.error)||void 0===N?void 0:N.bind(ee),complete:null===(X=ee.complete)||void 0===X?void 0:X.bind(ee)}}class Nn{constructor(k,N){this._firestore=k,this._delegate=N}get ref(){return new Bt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(k){return this._delegate.data(k)}get(k,N){return this._delegate.get(k,N)}isEqual(k){return(0,le.qK)(this._delegate,k._delegate)}}class Tn extends Nn{data(k){const N=this._delegate.data(k);return(0,le.K9)(void 0!==N,"Document in a QueryDocumentSnapshot should exist"),N}}class qt{constructor(k,N){this.firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}where(k,N,X){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.ar)(k,N,X)))}catch(ee){throw Ut(ee,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(k,N){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.Xo)(k,N)))}catch(X){throw Ut(X,/(orderBy|where)\(\)/,"Query.$1()")}}limit(k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.b9)(k)))}catch(N){throw Ut(N,"limit()","Query.limit()")}}limitToLast(k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.vh)(k)))}catch(N){throw Ut(N,"limitToLast()","Query.limitToLast()")}}startAt(...k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.e0)(...k)))}catch(N){throw Ut(N,"startAt()","Query.startAt()")}}startAfter(...k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.TQ)(...k)))}catch(N){throw Ut(N,"startAfter()","Query.startAfter()")}}endBefore(...k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.Lx)(...k)))}catch(N){throw Ut(N,"endBefore()","Query.endBefore()")}}endAt(...k){try{return new qt(this.firestore,(0,le.IO)(this._delegate,(0,le.Wu)(...k)))}catch(N){throw Ut(N,"endAt()","Query.endAt()")}}isEqual(k){return(0,le.iE)(this._delegate,k._delegate)}get(k){let N;return N="cache"===(null==k?void 0:k.source)?(0,le.UQ)(this._delegate):"server"===(null==k?void 0:k.source)?(0,le.zN)(this._delegate):(0,le.PL)(this._delegate),N.then(X=>new Yt(this.firestore,new le.W(this.firestore._delegate,this._userDataWriter,this._delegate,X._snapshot)))}onSnapshot(...k){const N=Tt(k),X=_n(k,ee=>new Yt(this.firestore,new le.W(this.firestore._delegate,this._userDataWriter,this._delegate,ee._snapshot)));return(0,le.cf)(this._delegate,N,X)}withConverter(k){return new qt(this.firestore,this._delegate.withConverter(k?Nt.getInstance(this.firestore,k):null))}}class on{constructor(k,N){this._firestore=k,this._delegate=N}get type(){return this._delegate.type}get doc(){return new Tn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Yt{constructor(k,N){this._firestore=k,this._delegate=N}get query(){return new qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(k=>new Tn(this._firestore,k))}docChanges(k){return this._delegate.docChanges(k).map(N=>new on(this._firestore,N))}forEach(k,N){this._delegate.forEach(X=>{k.call(N,new Tn(this._firestore,X))})}isEqual(k){return(0,le.qK)(this._delegate,k._delegate)}}class pn extends qt{constructor(k,N){super(k,N),this.firestore=k,this._delegate=N}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const k=this._delegate.parent;return k?new Bt(this.firestore,k):null}doc(k){try{return new Bt(this.firestore,void 0===k?(0,le.JU)(this._delegate):(0,le.JU)(this._delegate,k))}catch(N){throw Ut(N,"doc()","CollectionReference.doc()")}}add(k){return(0,le.ET)(this._delegate,k).then(N=>new Bt(this.firestore,N))}isEqual(k){return(0,le.Eo)(this._delegate,k._delegate)}withConverter(k){return new pn(this.firestore,this._delegate.withConverter(k?Nt.getInstance(this.firestore,k):null))}}function bn(J){return(0,le.Cf)(J,le.my)}class Fn{constructor(...k){this._delegate=new le.Lz(...k)}static documentId(){return new Fn(le.Xb.keyField().canonicalString())}isEqual(k){return(k=(0,Xe.m9)(k))instanceof le.Lz&&this._delegate._internalPath.isEqual(k._internalPath)}}class vn{constructor(k){this._delegate=k}static serverTimestamp(){const k=(0,le.Bt)();return k._methodName="FieldValue.serverTimestamp",new vn(k)}static delete(){const k=(0,le.AK)();return k._methodName="FieldValue.delete",new vn(k)}static arrayUnion(...k){const N=(0,le.vr)(...k);return N._methodName="FieldValue.arrayUnion",new vn(N)}static arrayRemove(...k){const N=(0,le.Ab)(...k);return N._methodName="FieldValue.arrayRemove",new vn(N)}static increment(k){const N=(0,le.nP)(k);return N._methodName="FieldValue.increment",new vn(N)}isEqual(k){return this._delegate.isEqual(k._delegate)}}const Ln={Firestore:Oe,GeoPoint:le.F8,Timestamp:le.EK,Blob:ue,Transaction:Le,WriteBatch:gt,DocumentReference:Bt,DocumentSnapshot:Nn,Query:qt,QueryDocumentSnapshot:Tn,QuerySnapshot:Yt,CollectionReference:pn,FieldPath:Fn,FieldValue:vn,setLogLevel:function Ge(J){(0,le.Ub)(J)},CACHE_SIZE_UNLIMITED:le.IX};!function Jn(J){(function Yn(J,k){J.INTERNAL.registerComponent(new Ct.wA("firestore-compat",N=>{const X=N.getProvider("app-compat").getImmediate(),ee=N.getProvider("firestore").getImmediate();return k(X,ee)},"PUBLIC").setServiceProps(Object.assign({},Ln)))})(J,(k,N)=>new Oe(k,N,new ce)),J.registerVersion("@firebase/firestore-compat","0.1.18")}(pt.Z);var tn=S(3385),Zn=S(7128),Gt=S(127);function Cn(J,k){return function Ir(J,k=E.z){return new z.y(N=>{let X;return null!=k?k.schedule(()=>{X=J.onSnapshot({includeMetadataChanges:!0},N)}):X=J.onSnapshot({includeMetadataChanges:!0},N),()=>{null!=X&&X()}})}(J,k)}function nr(J,k){return Cn(J,k).pipe((0,Ee.U)(N=>({payload:N,type:"query"})))}function gr(J,k){return nr(J,k).pipe((0,ge.O)(void 0),(0,ne.G)(),(0,Ee.U)(([N,X])=>{const ee=X.payload.docChanges(),Ae=ee.map(Ye=>({type:Ye.type,payload:Ye}));return N&&JSON.stringify(N.payload.metadata)!==JSON.stringify(X.payload.metadata)&&X.payload.docs.forEach((Ye,ct)=>{const Mt=ee.find(Lt=>Lt.doc.ref.isEqual(Ye.ref)),ht=null==N?void 0:N.payload.docs.find(Lt=>Lt.ref.isEqual(Ye.ref));Mt&&JSON.stringify(Mt.doc.metadata)===JSON.stringify(Ye.metadata)||!Mt&&ht&&JSON.stringify(ht.metadata)===JSON.stringify(Ye.metadata)||Ae.push({type:"modified",payload:{oldIndex:ct,newIndex:ct,type:"modified",doc:Ye}})}),Ae}))}function ut(J,k,N){return gr(J,N).pipe((0,Q.R)((X,ee)=>function ye(J,k,N){return k.forEach(X=>{N.indexOf(X.type)>-1&&(J=function mt(J,k){switch(k.type){case"added":if(!J[k.newIndex]||!J[k.newIndex].doc.ref.isEqual(k.doc.ref))return De(J,k.newIndex,0,k);break;case"modified":if(null==J[k.oldIndex]||J[k.oldIndex].doc.ref.isEqual(k.doc.ref)){if(k.oldIndex!==k.newIndex){const N=J.slice();return N.splice(k.oldIndex,1),N.splice(k.newIndex,0,k),N}return De(J,k.newIndex,1,k)}break;case"removed":if(J[k.oldIndex]&&J[k.oldIndex].doc.ref.isEqual(k.doc.ref))return De(J,k.oldIndex,1)}return J}(J,X))}),J}(X,ee.map(Ae=>Ae.payload),k),[]),(0,ae.x)(),(0,Ee.U)(X=>X.map(ee=>({type:ee.type,payload:ee}))))}function De(J,k,N,...X){const ee=J.slice();return ee.splice(k,N,...X),ee}function Ve(J){return(!J||0===J.length)&&(J=["added","removed","modified"]),J}class _t{constructor(k,N,X){this.ref=k,this.query=N,this.afs=X}stateChanges(k){let N=gr(this.query,this.afs.schedulers.outsideAngular);return k&&k.length>0&&(N=N.pipe((0,Ee.U)(X=>X.filter(ee=>k.indexOf(ee.type)>-1)))),N.pipe((0,ge.O)(void 0),(0,ne.G)(),(0,Me.h)(([X,ee])=>ee.length>0||!X),(0,Ee.U)(([X,ee])=>ee),Ie.iC)}auditTrail(k){return this.stateChanges(k).pipe((0,Q.R)((N,X)=>[...N,...X],[]))}snapshotChanges(k){const N=Ve(k);return ut(this.query,N,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(k={}){return nr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(N=>N.payload.docs.map(X=>k.idField?Object.assign(Object.assign({},X.data()),{[k.idField]:X.id}):X.data())),Ie.iC)}get(k){return(0,ie.D)(this.query.get(k)).pipe(Ie.iC)}add(k){return this.ref.add(k)}doc(k){return new yt(this.ref.doc(k),this.afs)}}class yt{constructor(k,N){this.ref=k,this.afs=N}set(k,N){return this.ref.set(k,N)}update(k){return this.ref.update(k)}delete(){return this.ref.delete()}collection(k,N){const X=this.ref.collection(k),{ref:ee,query:Ae}=dn(X,N);return new _t(ee,Ae,this.afs)}snapshotChanges(){return function an(J,k){return Cn(J,k).pipe((0,ge.O)(void 0),(0,ne.G)(),(0,Ee.U)(([N,X])=>X.exists?(null==N?void 0:N.exists)?{payload:X,type:"modified"}:{payload:X,type:"added"}:{payload:X,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(k={}){return this.snapshotChanges().pipe((0,Ee.U)(({payload:N})=>k.idField?Object.assign(Object.assign({},N.data()),{[k.idField]:N.id}):N.data()))}get(k){return(0,ie.D)(this.ref.get(k)).pipe(Ie.iC)}}class gn{constructor(k,N){this.query=k,this.afs=N}stateChanges(k){return k&&0!==k.length?gr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(N=>N.filter(X=>k.indexOf(X.type)>-1)),(0,Me.h)(N=>N.length>0),Ie.iC):gr(this.query,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}auditTrail(k){return this.stateChanges(k).pipe((0,Q.R)((N,X)=>[...N,...X],[]))}snapshotChanges(k){const N=Ve(k);return ut(this.query,N,this.afs.schedulers.outsideAngular).pipe(Ie.iC)}valueChanges(k={}){return nr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ee.U)(X=>X.payload.docs.map(ee=>k.idField?Object.assign({[k.idField]:ee.id},ee.data()):ee.data())),Ie.iC)}get(k){return(0,ie.D)(this.query.get(k)).pipe(Ie.iC)}}const hn=new f.OlP("angularfire2.enableFirestorePersistence"),sn=new f.OlP("angularfire2.firestore.persistenceSettings"),ar=new f.OlP("angularfire2.firestore.settings"),jn=new f.OlP("angularfire2.firestore.use-emulator");function dn(J,k=(N=>N)){return{query:k(J),ref:J}}let se=(()=>{class J{constructor(N,X,ee,Ae,Ye,ct,Mt,ht,Lt,ke,ve,fe,rt,at,$t,ln,Dn){this.schedulers=Mt;const wn=(0,Qe.on)(N,ct,X),rr=Lt;ke&&(0,tn.nw)(wn,ct,ve,rt,at,$t,fe,ln),[this.firestore,this.persistenceEnabled$]=(0,Qe.cc)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const sr=ct.runOutsideAngular(()=>wn.firestore());if(Ae&&sr.settings(Ae),rr&&sr.useEmulator(...rr),ee&&!(0,He.PM)(Ye)){const Pn=()=>{try{return(0,ie.D)(sr.enablePersistence(ht||void 0).then(()=>!0,()=>!1))}catch(An){return"undefined"!=typeof console&&console.warn(An),(0,V.of)(!1)}};return[sr,ct.runOutsideAngular(Pn)]}return[sr,(0,V.of)(!1)]},[Ae,rr,ee])}collection(N,X){let ee;ee="string"==typeof N?this.firestore.collection(N):N;const{ref:Ae,query:Ye}=dn(ee,X),ct=this.schedulers.ngZone.run(()=>Ae);return new _t(ct,Ye,this)}collectionGroup(N,X){const ee=X||(Ye=>Ye),Ae=this.firestore.collectionGroup(N);return new gn(ee(Ae),this)}doc(N){let X;X="string"==typeof N?this.firestore.doc(N):N;const ee=this.schedulers.ngZone.run(()=>X);return new yt(ee,this)}createId(){return this.firestore.collection("_").doc().id}}return J.\u0275fac=function(N){return new(N||J)(f.LFG(Qe.Dh),f.LFG(Qe.xv,8),f.LFG(hn,8),f.LFG(ar,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Ie.HU),f.LFG(sn,8),f.LFG(jn,8),f.LFG(tn.zQ,8),f.LFG(tn.Qv,8),f.LFG(tn.L6,8),f.LFG(tn._Q,8),f.LFG(tn.rT,8),f.LFG(tn.lh,8),f.LFG(tn.f7,8),f.LFG(Zn.nm,8))},J.\u0275prov=f.Yz7({token:J,factory:J.\u0275fac,providedIn:"any"}),J})(),me=(()=>{class J{constructor(){Gt.Z.registerVersion("angularfire",Ie.q4.full,"fst-compat")}static enablePersistence(N){return{ngModule:J,providers:[{provide:hn,useValue:!0},{provide:sn,useValue:N}]}}}return J.\u0275fac=function(N){return new(N||J)},J.\u0275mod=f.oAB({type:J}),J.\u0275inj=f.cJS({providers:[se]}),J})()},2011:(kt,Ue,S)=>{S.d(Ue,{Dh:()=>ne,GT:()=>Ie,Ot:()=>ge,cc:()=>He,hO:()=>Qe,on:()=>Q,pX:()=>V,xv:()=>Ee});var f=S(5e3),E=S(127),z=S(880);kt=S.hmd(kt);const ie=["ngOnDestroy"],V=(Xe,Ct,At,Ke={})=>new Proxy(Xe,{get:(Fe,Ze)=>At.runOutsideAngular(()=>{var bt;if(Xe[Ze])return(null===(bt=null==Ke?void 0:Ke.spy)||void 0===bt?void 0:bt.get)&&Ke.spy.get(Ze,Xe[Ze]),Xe[Ze];if(ie.indexOf(Ze)>-1)return()=>{};const ue=Ct.toPromise().then(xe=>{const je=xe&&xe[Ze];return"function"==typeof je?je.bind(xe):je&&je.then?je.then(ce=>At.run(()=>ce)):At.run(()=>je)});return new Proxy(()=>{},{get:(xe,je)=>ue[je],apply:(xe,je,ce)=>ue.then(Oe=>{var Be;const Ge=Oe&&Oe(...ce);return(null===(Be=null==Ke?void 0:Ke.spy)||void 0===Be?void 0:Be.apply)&&Ke.spy.apply(Ze,ce,Ge),Ge})})})}),Ie=(Xe,Ct)=>{Ct.forEach(At=>{Object.getOwnPropertyNames(At.prototype||At).forEach(Ke=>{Object.defineProperty(Xe.prototype,Ke,Object.getOwnPropertyDescriptor(At.prototype||At,Ke))})})};class ge{constructor(Ct){return Ct}}const ne=new f.OlP("angularfire2.app.options"),Ee=new f.OlP("angularfire2.app.name");function Q(Xe,Ct,At){const Fe="object"==typeof At&&At||{};Fe.name=Fe.name||"string"==typeof At&&At||"[DEFAULT]";const bt=E.Z.apps.filter(ue=>ue&&ue.name===Fe.name)[0]||Ct.runOutsideAngular(()=>E.Z.initializeApp(Xe,Fe));try{JSON.stringify(Xe)!==JSON.stringify(bt.options)&&ae("error",`${bt.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ue){}return new ge(bt)}const ae=(Xe,...Ct)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Xe](...Ct)},Me={provide:ge,useFactory:Q,deps:[ne,f.R0b,[new f.FiY,Ee]]};let Qe=(()=>{class Xe{constructor(At){E.Z.registerVersion("angularfire",z.q4.full,"core"),E.Z.registerVersion("angularfire",z.q4.full,"app-compat"),E.Z.registerVersion("angular",f.q4F.full,At.toString())}static initializeApp(At,Ke){return{ngModule:Xe,providers:[{provide:ne,useValue:At},{provide:Ee,useValue:Ke}]}}}return Xe.\u0275fac=function(At){return new(At||Xe)(f.LFG(f.Lbi))},Xe.\u0275mod=f.oAB({type:Xe}),Xe.\u0275inj=f.cJS({providers:[Me]}),Xe})();function He(Xe,Ct,At,Ke,Fe){const[,Ze,bt]=globalThis.\u0275AngularfireInstanceCache.find(ue=>ue[0]===Xe)||[];if(Ze)return function tt(Xe,Ct){try{return Xe.toString()===Ct.toString()}catch(At){return Xe===Ct}}(Fe,bt)||(le("error",`${Ct} was already initialized on the ${At} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Fe,was:bt})),Ze;{const ue=Ke();return globalThis.\u0275AngularfireInstanceCache.push([Xe,ue,Fe]),ue}}const pt=!!kt.hot,le=(Xe,...Ct)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[Xe](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(kt,Ue,S)=>{S.d(Ue,{q4:()=>Ii,iC:()=>wt,HU:()=>R,vb:()=>mi,JM:()=>ss,nk:()=>wi,u3:()=>or});var f=S(5e3),E=S(5867),z=S(5861),ie=S(9681),V=S(2090),Ie=S(4859),ge=S(1877);S(2833);const Ee="@firebase/remote-config",Q="0.3.8",He=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nt{constructor(Y,be,ze,It){this.client=Y,this.storage=be,this.storageCache=ze,this.logger=It}isCachedDataFresh(Y,be){if(!be)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-be,It=ze<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${It}.`),It}fetch(Y){var be=this;return(0,z.Z)(function*(){const[ze,It]=yield Promise.all([be.storage.getLastSuccessfulFetchTimestampMillis(),be.storage.getLastSuccessfulFetchResponse()]);if(It&&be.isCachedDataFresh(Y.cacheMaxAgeMillis,ze))return It;Y.eTag=It&&It.eTag;const jt=yield be.client.fetch(Y),yn=[be.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&yn.push(be.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(yn),jt})()}}function Bt(q=navigator){return q.languages&&q.languages[0]||q.language}class Ut{constructor(Y,be,ze,It,jt,yn){this.firebaseInstallations=Y,this.sdkVersion=be,this.namespace=ze,this.projectId=It,this.apiKey=jt,this.appId=yn}fetch(Y){var be=this;return(0,z.Z)(function*(){const[ze,It]=yield Promise.all([be.firebaseInstallations.getId(),be.firebaseInstallations.getToken()]),yn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${be.projectId}/namespaces/${be.namespace}:fetch?key=${be.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},hr={sdk_version:be.sdkVersion,app_instance_id:ze,app_instance_id_token:It,app_id:be.appId,language_code:Bt()},mr={method:"POST",headers:Jt,body:JSON.stringify(hr)},yr=fetch(yn,mr),Vn=new Promise((St,Xn)=>{Y.signal.addEventListener(()=>{const Qn=new Error("The operation was aborted.");Qn.name="AbortError",Xn(Qn)})});let O;try{yield Promise.race([yr,Vn]),O=yield yr}catch(St){let Xn="fetch-client-network";throw"AbortError"===St.name&&(Xn="fetch-timeout"),He.create(Xn,{originalErrorMessage:St.message})}let A=O.status;const T=O.headers.get("ETag")||void 0;let W,de;if(200===O.status){let St;try{St=yield O.json()}catch(Xn){throw He.create("fetch-client-parse",{originalErrorMessage:Xn.message})}W=St.entries,de=St.state}if("INSTANCE_STATE_UNSPECIFIED"===de?A=500:"NO_CHANGE"===de?A=304:("NO_TEMPLATE"===de||"EMPTY_CONFIG"===de)&&(W={}),304!==A&&200!==A)throw He.create("fetch-status",{httpStatus:A});return{status:A,eTag:T,config:W}})()}}class Nn{constructor(Y,be){this.client=Y,this.storage=be}fetch(Y){var be=this;return(0,z.Z)(function*(){const ze=(yield be.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return be.attemptFetch(Y,ze)})()}attemptFetch(Y,{throttleEndTimeMillis:be,backoffCount:ze}){var It=this;return(0,z.Z)(function*(){yield function Tt(q,Y){return new Promise((be,ze)=>{const It=Math.max(Y-Date.now(),0),jt=setTimeout(be,It);q.addEventListener(()=>{clearTimeout(jt),ze(He.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,be);try{const jt=yield It.client.fetch(Y);return yield It.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function _n(q){if(!(q instanceof V.ZR&&q.customData))return!1;const Y=Number(q.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(jt))throw jt;const yn={throttleEndTimeMillis:Date.now()+(0,V.$s)(ze),backoffCount:ze+1};return yield It.storage.setThrottleMetadata(yn),It.attemptFetch(Y,yn)}})()}}class on{constructor(Y,be,ze,It,jt){this.app=Y,this._client=be,this._storageCache=ze,this._storage=It,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Yt(q,Y){const be=q.target.error||void 0;return He.create(Y,{originalErrorMessage:be&&be.message})}const pn="app_namespace_store";class Ln{constructor(Y,be,ze,It=function vn(){return new Promise((q,Y)=>{try{const be=indexedDB.open("firebase_remote_config",1);be.onerror=ze=>{Y(Yt(ze,"storage-open"))},be.onsuccess=ze=>{q(ze.target.result)},be.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(pn,{keyPath:"compositeKey"})}}catch(be){Y(He.create("storage-open",{originalErrorMessage:be}))}})}()){this.appId=Y,this.appName=be,this.namespace=ze,this.openDbPromise=It}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var be=this;return(0,z.Z)(function*(){const ze=yield be.openDbPromise;return new Promise((It,jt)=>{const Jt=ze.transaction([pn],"readonly").objectStore(pn),hr=be.createCompositeKey(Y);try{const mr=Jt.get(hr);mr.onerror=yr=>{jt(Yt(yr,"storage-get"))},mr.onsuccess=yr=>{const Vn=yr.target.result;It(Vn?Vn.value:void 0)}}catch(mr){jt(He.create("storage-get",{originalErrorMessage:mr&&mr.message}))}})})()}set(Y,be){var ze=this;return(0,z.Z)(function*(){const It=yield ze.openDbPromise;return new Promise((jt,yn)=>{const hr=It.transaction([pn],"readwrite").objectStore(pn),mr=ze.createCompositeKey(Y);try{const yr=hr.put({compositeKey:mr,value:be});yr.onerror=Vn=>{yn(Yt(Vn,"storage-set"))},yr.onsuccess=()=>{jt()}}catch(yr){yn(He.create("storage-set",{originalErrorMessage:yr&&yr.message}))}})})()}delete(Y){var be=this;return(0,z.Z)(function*(){const ze=yield be.openDbPromise;return new Promise((It,jt)=>{const Jt=ze.transaction([pn],"readwrite").objectStore(pn),hr=be.createCompositeKey(Y);try{const mr=Jt.delete(hr);mr.onerror=yr=>{jt(Yt(yr,"storage-delete"))},mr.onsuccess=()=>{It()}}catch(mr){jt(He.create("storage-delete",{originalErrorMessage:mr&&mr.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class Yn{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,z.Z)(function*(){const be=Y.storage.getLastFetchStatus(),ze=Y.storage.getLastSuccessfulFetchTimestampMillis(),It=Y.storage.getActiveConfig(),jt=yield be;jt&&(Y.lastFetchStatus=jt);const yn=yield ze;yn&&(Y.lastSuccessfulFetchTimestampMillis=yn);const Jt=yield It;Jt&&(Y.activeConfig=Jt)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function Gt(){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,z.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(q){return!1}})).apply(this,arguments)}!function Jn(){(0,ie._registerComponent)(new Ie.wA("remote-config",function q(Y,{instanceIdentifier:be}){const ze=Y.getProvider("app").getImmediate(),It=Y.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw He.create("registration-window");if(!(0,V.hl)())throw He.create("indexed-db-unavailable");const{projectId:jt,apiKey:yn,appId:Jt}=ze.options;if(!jt)throw He.create("registration-project-id");if(!yn)throw He.create("registration-api-key");if(!Jt)throw He.create("registration-app-id");const hr=new Ln(Jt,ze.name,be=be||"firebase"),mr=new Yn(hr),yr=new ge.Yd(Ee);yr.logLevel=ge.in.ERROR;const Vn=new Ut(It,ie.SDK_VERSION,be,jt,yn,Jt),O=new Nn(Vn,hr),A=new Nt(O,hr,mr,yr),T=new on(ze,A,mr,hr,yr);return function bt(q){const Y=(0,V.m9)(q);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(T),T},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ee,Q),(0,ie.registerVersion)(Ee,Q,"esm2017")}();var Cn=S(8766);const an="/firebase-messaging-sw.js",nr="/firebase-cloud-messaging-push-scope",gr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ye="google.c.a.c_id",De="google.c.a.c_l",mt="google.c.a.ts",Ve="google.c.a.e";var yt=(()=>{return(q=yt||(yt={})).PUSH_RECEIVED="push-received",q.NOTIFICATION_CLICKED="notification-clicked",yt;var q})();function gn(q){const Y=new Uint8Array(q);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hn(q){const be=(q+"=".repeat((4-q.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(be),It=new Uint8Array(ze.length);for(let jt=0;jt<ze.length;++jt)It[jt]=ze.charCodeAt(jt);return It}const sn="fcm_token_details_db",jn="fcm_token_object_Store";function dn(q){return se.apply(this,arguments)}function se(){return se=(0,z.Z)(function*(q){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(sn))return null;let Y=null;return(yield(0,Cn.X3)(sn,5,{upgrade:(ze=(0,z.Z)(function*(It,jt,yn,Jt){var hr;if(jt<2||!It.objectStoreNames.contains(jn))return;const mr=Jt.objectStore(jn),yr=yield mr.index("fcmSenderId").get(q);if(yield mr.clear(),yr)if(2===jt){const Vn=yr;if(!Vn.auth||!Vn.p256dh||!Vn.endpoint)return;Y={token:Vn.fcmToken,createTime:null!==(hr=Vn.createTime)&&void 0!==hr?hr:Date.now(),subscriptionOptions:{auth:Vn.auth,p256dh:Vn.p256dh,endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:"string"==typeof Vn.vapidKey?Vn.vapidKey:gn(Vn.vapidKey)}}}else if(3===jt){const Vn=yr;Y={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:gn(Vn.auth),p256dh:gn(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:gn(Vn.vapidKey)}}}else if(4===jt){const Vn=yr;Y={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:gn(Vn.auth),p256dh:gn(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:gn(Vn.vapidKey)}}}}),function(jt,yn,Jt,hr){return ze.apply(this,arguments)})})).close(),yield(0,Cn.Lj)(sn),yield(0,Cn.Lj)("fcm_vapid_details_db"),yield(0,Cn.Lj)("undefined"),me(Y)?Y:null;var ze}),se.apply(this,arguments)}function me(q){if(!q||!q.subscriptionOptions)return!1;const{subscriptionOptions:Y}=q;return"number"==typeof q.createTime&&q.createTime>0&&"string"==typeof q.token&&q.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}const N="firebase-messaging-store";let X=null;function ee(){return X||(X=(0,Cn.X3)("firebase-messaging-database",1,{upgrade:(q,Y)=>{0===Y&&q.createObjectStore(N)}})),X}function Ae(q){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,z.Z)(function*(q){const Y=ke(q),ze=yield(yield ee()).transaction(N).objectStore(N).get(Y);if(ze)return ze;{const It=yield dn(q.appConfig.senderId);if(It)return yield ct(q,It),It}})).apply(this,arguments)}function ct(q,Y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,z.Z)(function*(q,Y){const be=ke(q),It=(yield ee()).transaction(N,"readwrite");return yield It.objectStore(N).put(Y,be),yield It.done,Y})).apply(this,arguments)}function ht(q){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,z.Z)(function*(q){const Y=ke(q),ze=(yield ee()).transaction(N,"readwrite");yield ze.objectStore(N).delete(Y),yield ze.done})).apply(this,arguments)}function ke({appConfig:q}){return q.appId}const fe=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rt(q,Y){return at.apply(this,arguments)}function at(){return(at=(0,z.Z)(function*(q,Y){const be=yield sr(q),ze=An(Y),It={method:"POST",headers:be,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(rr(q.appConfig),It)).json()}catch(yn){throw fe.create("token-subscribe-failed",{errorInfo:yn})}if(jt.error)throw fe.create("token-subscribe-failed",{errorInfo:jt.error.message});if(!jt.token)throw fe.create("token-subscribe-no-token");return jt.token})).apply(this,arguments)}function $t(q,Y){return ln.apply(this,arguments)}function ln(){return(ln=(0,z.Z)(function*(q,Y){const be=yield sr(q),ze=An(Y.subscriptionOptions),It={method:"PATCH",headers:be,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(`${rr(q.appConfig)}/${Y.token}`,It)).json()}catch(yn){throw fe.create("token-update-failed",{errorInfo:yn})}if(jt.error)throw fe.create("token-update-failed",{errorInfo:jt.error.message});if(!jt.token)throw fe.create("token-update-no-token");return jt.token})).apply(this,arguments)}function Dn(q,Y){return wn.apply(this,arguments)}function wn(){return(wn=(0,z.Z)(function*(q,Y){const ze={method:"DELETE",headers:yield sr(q)};try{const jt=yield(yield fetch(`${rr(q.appConfig)}/${Y}`,ze)).json();if(jt.error)throw fe.create("token-unsubscribe-failed",{errorInfo:jt.error.message})}catch(It){throw fe.create("token-unsubscribe-failed",{errorInfo:It})}})).apply(this,arguments)}function rr({projectId:q}){return`https://fcmregistrations.googleapis.com/v1/projects/${q}/registrations`}function sr(q){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,z.Z)(function*({appConfig:q,installations:Y}){const be=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":q.apiKey,"x-goog-firebase-installations-auth":`FIS ${be}`})})).apply(this,arguments)}function An({p256dh:q,auth:Y,endpoint:be,vapidKey:ze}){const It={web:{endpoint:be,auth:Y,p256dh:q}};return ze!==gr&&(It.web.applicationPubKey=ze),It}const wr=6048e5;function Gn(q){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,z.Z)(function*(q){const Y=yield Sn(q.swRegistration,q.vapidKey),be={vapidKey:q.vapidKey,swScope:q.swRegistration.scope,endpoint:Y.endpoint,auth:gn(Y.getKey("auth")),p256dh:gn(Y.getKey("p256dh"))},ze=yield Ae(q.firebaseDependencies);if(ze){if(Mn(ze.subscriptionOptions,be))return Date.now()>=ze.createTime+wr?_e(q,{token:ze.token,createTime:Date.now(),subscriptionOptions:be}):ze.token;try{yield Dn(q.firebaseDependencies,ze.token)}catch(It){console.warn(It)}return Et(q.firebaseDependencies,be)}return Et(q.firebaseDependencies,be)})).apply(this,arguments)}function Mr(q){return xt.apply(this,arguments)}function xt(){return(xt=(0,z.Z)(function*(q){const Y=yield Ae(q.firebaseDependencies);Y&&(yield Dn(q.firebaseDependencies,Y.token),yield ht(q.firebaseDependencies));const be=yield q.swRegistration.pushManager.getSubscription();return!be||be.unsubscribe()})).apply(this,arguments)}function _e(q,Y){return qe.apply(this,arguments)}function qe(){return(qe=(0,z.Z)(function*(q,Y){try{const be=yield $t(q.firebaseDependencies,Y),ze=Object.assign(Object.assign({},Y),{token:be,createTime:Date.now()});return yield ct(q.firebaseDependencies,ze),be}catch(be){throw yield Mr(q),be}})).apply(this,arguments)}function Et(q,Y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,z.Z)(function*(q,Y){const ze={token:yield rt(q,Y),createTime:Date.now(),subscriptionOptions:Y};return yield ct(q,ze),ze.token})).apply(this,arguments)}function Sn(q,Y){return $n.apply(this,arguments)}function $n(){return($n=(0,z.Z)(function*(q,Y){return(yield q.pushManager.getSubscription())||q.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hn(Y)})})).apply(this,arguments)}function Mn(q,Y){return Y.vapidKey===q.vapidKey&&Y.endpoint===q.endpoint&&Y.auth===q.auth&&Y.p256dh===q.p256dh}function ur(q){const Y={from:q.from,collapseKey:q.collapse_key,messageId:q.fcmMessageId};return function xr(q,Y){if(!Y.notification)return;q.notification={};const be=Y.notification.title;be&&(q.notification.title=be);const ze=Y.notification.body;ze&&(q.notification.body=ze);const It=Y.notification.image;It&&(q.notification.image=It)}(Y,q),function fn(q,Y){!Y.data||(q.data=Y.data)}(Y,q),function Dr(q,Y){if(!Y.fcmOptions)return;q.fcmOptions={};const be=Y.fcmOptions.link;be&&(q.fcmOptions.link=be);const ze=Y.fcmOptions.analytics_label;ze&&(q.fcmOptions.analyticsLabel=ze)}(Y,q),Y}function fi(q){return"object"==typeof q&&!!q&&ye in q}function Zr(q,Y){const be=[];for(let ze=0;ze<q.length;ze++)be.push(q.charAt(ze)),ze<Y.length&&be.push(Y.charAt(ze));return be.join("")}function vr(q){return fe.create("missing-app-config-values",{valueName:q})}Zr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Zr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pr{constructor(Y,be,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const It=function si(q){if(!q||!q.options)throw vr("App Configuration Object");if(!q.name)throw vr("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:be}=q;for(const ze of Y)if(!be[ze])throw vr(ze);return{appName:q.name,projectId:be.projectId,apiKey:be.apiKey,appId:be.appId,senderId:be.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:It,installations:be,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function dr(q){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,z.Z)(function*(q){try{q.swRegistration=yield navigator.serviceWorker.register(an,{scope:nr}),q.swRegistration.update().catch(()=>{})}catch(Y){throw fe.create("failed-service-worker-registration",{browserErrorMessage:Y.message})}})).apply(this,arguments)}function we(q,Y){return Je.apply(this,arguments)}function Je(){return(Je=(0,z.Z)(function*(q,Y){if(!Y&&!q.swRegistration&&(yield dr(q)),Y||!q.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw fe.create("invalid-sw-registration");q.swRegistration=Y}})).apply(this,arguments)}function ft(q,Y){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,z.Z)(function*(q,Y){Y?q.vapidKey=Y:q.vapidKey||(q.vapidKey=gr)})).apply(this,arguments)}function tr(){return(tr=(0,z.Z)(function*(q,Y){if(!navigator)throw fe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw fe.create("permission-blocked");return yield ft(q,null==Y?void 0:Y.vapidKey),yield we(q,null==Y?void 0:Y.serviceWorkerRegistration),Gn(q)})).apply(this,arguments)}function _r(q,Y,be){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,z.Z)(function*(q,Y,be){const ze=Cr(Y);(yield q.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:be[ye],message_name:be[De],message_time:be[mt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Cr(q){switch(q){case yt.NOTIFICATION_CLICKED:return"notification_open";case yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function kr(){return(kr=(0,z.Z)(function*(q,Y){const be=Y.data;if(!be.isFirebaseMessaging)return;q.onMessageHandler&&be.messageType===yt.PUSH_RECEIVED&&("function"==typeof q.onMessageHandler?q.onMessageHandler(ur(be)):q.onMessageHandler.next(ur(be)));const ze=be.data;fi(ze)&&"1"===ze[Ve]&&(yield _r(q,be.messageType,ze))})).apply(this,arguments)}const Si="@firebase/messaging",Ds=q=>{const Y=new Pr(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),q.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",be=>function Ni(q,Y){return kr.apply(this,arguments)}(Y,be)),Y},ks=q=>{const Y=q.getProvider("messaging").getImmediate();return{getToken:ze=>function zt(q,Y){return tr.apply(this,arguments)}(Y,ze)}};function ki(){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,z.Z)(function*(){try{yield(0,V.eu)()}catch(q){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function qr(){(0,ie._registerComponent)(new Ie.wA("messaging",Ds,"PUBLIC")),(0,ie._registerComponent)(new Ie.wA("messaging-internal",ks,"PRIVATE")),(0,ie.registerVersion)(Si,"0.9.13"),(0,ie.registerVersion)(Si,"0.9.13","esm2017")}();var bs=S(7982),Cs=S(4408),is=S(7565);const Qr=new class zi extends is.v{}(class Yr extends Cs.o{constructor(Y,be){super(Y,be),this.scheduler=Y,this.work=be}schedule(Y,be=0){return be>0?super.schedule(Y,be):(this.delay=be,this.state=Y,this.scheduler.flush(this),this)}execute(Y,be){return be>0||this.closed?super.execute(Y,be):this._execute(Y,be)}requestAsyncId(Y,be,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(Y,be,ze):Y.flush(this)}});var Wi=S(4986),gi=S(8306),Xr=S(8505),Ki=S(9468),oi=S(5363);const Ii=new f.GfV("7.3.0"),Hr="__angularfire_symbol__analyticsIsSupportedValue",lr="__angularfire_symbol__analyticsIsSupported",Li="__angularfire_symbol__remoteConfigIsSupportedValue",fs="__angularfire_symbol__remoteConfigIsSupported",Br="__angularfire_symbol__messagingIsSupportedValue",Tr="__angularfire_symbol__messagingIsSupported";globalThis[lr]||(globalThis[lr]=(0,bs.Gb)().then(q=>globalThis[Hr]=q).catch(()=>globalThis[Hr]=!1)),globalThis[Tr]||(globalThis[Tr]=ki().then(q=>globalThis[Br]=q).catch(()=>globalThis[Br]=!1)),globalThis[fs]||(globalThis[fs]=Gt().then(q=>globalThis[Li]=q).catch(()=>globalThis[Li]=!1));const wi={async:()=>globalThis[lr],sync:()=>{const q=globalThis[Hr];if(void 0===q)throw new Error((q=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${q} in the constructor, first ensure that ${q} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${q})\`.`)("Analytics"));return q}};function ss(q,Y,be){if(Y){if(1===Y.length)return Y[0];const jt=Y.filter(yn=>yn.app===be);if(1===jt.length)return jt[0]}return be.container.getProvider(q).getImmediate({optional:!0})}const mi=(q,Y)=>{const be=Y?[Y]:(0,E.C6)(),ze=[];return be.forEach(It=>{It.container.getProvider(q).instances.forEach(yn=>{ze.includes(yn)||ze.push(yn)})}),ze};function xi(){}class qi{constructor(Y,be=Qr){this.zone=Y,this.delegate=be}now(){return this.delegate.now()}schedule(Y,be,ze){const It=this.zone;return this.delegate.schedule(function(yn){It.runGuarded(()=>{Y.apply(this,[yn])})},be,ze)}}class ir{constructor(Y){this.zone=Y,this.task=null}call(Y,be){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)),be.pipe((0,Xr.b)({next:ze,complete:ze,error:ze})).subscribe(Y).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R=(()=>{class q{constructor(be){this.ngZone=be,this.outsideAngular=be.runOutsideAngular(()=>new qi(Zone.current)),this.insideAngular=be.run(()=>new qi(Zone.current,Wi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return q.\u0275fac=function(be){return new(be||q)(f.LFG(f.R0b))},q.\u0275prov=f.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})();function $(){const q=globalThis.\u0275AngularFireScheduler;if(!q)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return q}function x(q){return $().ngZone.runOutsideAngular(()=>q())}function K(q){return $().ngZone.run(()=>q())}function wt(q){return $(),function un(q){return function(be){return(be=be.lift(new ir(q.ngZone))).pipe((0,Ki.R)(q.outsideAngular),(0,oi.Q)(q.insideAngular))}}($())(q)}const cr=(q,Y)=>function(){const ze=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),K(()=>q.apply(void 0,ze))},or=(q,Y)=>function(){let be;const ze=arguments;for(let jt=0;jt<arguments.length;jt++)"function"==typeof ze[jt]&&(Y&&(be||(be=K(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xi,{},xi,xi)))),ze[jt]=cr(ze[jt],be));const It=x(()=>q.apply(this,ze));if(!Y){if(It instanceof gi.y){const jt=$();return It.pipe((0,Ki.R)(jt.outsideAngular),(0,oi.Q)(jt.insideAngular))}return K(()=>It)}return It instanceof gi.y?It.pipe(wt):It instanceof Promise?K(()=>new Promise((jt,yn)=>It.then(Jt=>K(()=>jt(Jt)),Jt=>K(()=>yn(Jt))))):"function"==typeof It&&be?function(){return setTimeout(()=>{be&&"scheduled"===be.state&&be.invoke()},10),It.apply(this,arguments)}:K(()=>It)}},198:(kt,Ue,S)=>{S.d(Ue,{$:()=>jt,A:()=>ae,B:()=>He,G:()=>qe,H:()=>Mn,J:()=>qr,L:()=>Mt,M:()=>zi,N:()=>gi,P:()=>Ea,Q:()=>Xr,R:()=>yo,T:()=>Ki,U:()=>Wi,V:()=>lr,W:()=>Li,X:()=>ps,Y:()=>un,Z:()=>or,_:()=>Y,a:()=>nn,a0:()=>yr,a1:()=>O,a2:()=>T,a3:()=>de,a4:()=>Xn,a5:()=>Ri,a6:()=>Oi,a7:()=>gs,a8:()=>$a,a9:()=>la,aA:()=>Qa,aB:()=>vo,aC:()=>et,aD:()=>Ne,aE:()=>xt,aI:()=>Wt,aL:()=>Ii,aa:()=>Yi,ab:()=>Ks,ac:()=>Ho,af:()=>Ha,ag:()=>Go,ah:()=>zo,ak:()=>xi,al:()=>fa,an:()=>pa,ao:()=>Gr,ap:()=>rr,aq:()=>je,ar:()=>wn,as:()=>$t,at:()=>At,au:()=>yl,av:()=>Ja,aw:()=>Ke,ax:()=>ue,ay:()=>Oe,az:()=>ht,b:()=>go,c:()=>Oo,d:()=>Kl,e:()=>Ya,f:()=>zn,g:()=>ti,h:()=>Hs,i:()=>Zt,j:()=>jr,k:()=>Ti,l:()=>Ka,m:()=>lp,n:()=>Aa,o:()=>ne,r:()=>zl,s:()=>zc,u:()=>Za});var f=S(5861),E=S(2090),z=S(9681),ie=S(655),V=S(1877),Ie=S(4859);const ne={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const He=function Me(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new E.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Xe=new V.Yd("@firebase/auth");function Ct(_,...h){Xe.logLevel<=V.in.ERROR&&Xe.error(`Auth (${z.SDK_VERSION}): ${_}`,...h)}function At(_,...h){throw bt(_,...h)}function Ke(_,...h){return bt(_,...h)}function Fe(_,h,p){const w=Object.assign(Object.assign({},tt()),{[h]:p});return new E.LL("auth","Firebase",w).create(h,{appName:_.name})}function Ze(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&At(_,"argument-error"),Fe(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bt(_,...h){if("string"!=typeof _){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(p,...w)}return pt.create(_,...h)}function ue(_,h,...p){if(!_)throw bt(h,...p)}function xe(_){const h="INTERNAL ASSERTION FAILED: "+_;throw Ct(h),new Error(h)}function je(_,h){_||xe(h)}const ce=new Map;function Oe(_){je(_ instanceof Function,"Expected a class definition");let h=ce.get(_);return h?(je(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,ce.set(_,h),h)}function Le(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function gt(){return"http:"===Nt()||"https:"===Nt()}function Nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Tt{constructor(h,p){this.shortDelay=h,this.longDelay=p,je(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,E.uI)()||(0,E.b$)()}get(){return function Bt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,E.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _n(_,h){je(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Nn{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new Tt(3e4,6e4);function on(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function Yt(_,h,p,w){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(_,h,p,w,j={}){return bn(_,j,(0,f.Z)(function*(){let te={},$e={};w&&("GET"===h?$e=w:te={body:JSON.stringify(w)});const ot=(0,E.xO)(Object.assign({key:_.config.apiKey},$e)).slice(1),cn=yield _._getAdditionalHeaders();return cn["Content-Type"]="application/json",_.languageCode&&(cn["X-Firebase-Locale"]=_.languageCode),Nn.fetch()(Yn(_,_.config.apiHost,p,ot),Object.assign({method:h,headers:cn,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function bn(_,h,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,f.Z)(function*(_,h,p){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},Tn),h);try{const j=new Jn(_),te=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const $e=yield te.json();if("needConfirmation"in $e)throw tn(_,"account-exists-with-different-credential",$e);if(te.ok&&!("errorMessage"in $e))return $e;{const ot=te.ok?$e.errorMessage:$e.error.message,[cn,On]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw tn(_,"credential-already-in-use",$e);if("EMAIL_EXISTS"===cn)throw tn(_,"email-already-in-use",$e);const qn=w[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw Fe(_,qn,On);At(_,qn)}}catch(j){if(j instanceof E.ZR)throw j;At(_,"network-request-failed")}})).apply(this,arguments)}function vn(_,h,p,w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(_,h,p,w,j={}){const te=yield Yt(_,h,p,w,j);return"mfaPendingCredential"in te&&At(_,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function Yn(_,h,p,w){const j=`${h}${p}?${w}`;return _.config.emulator?_n(_.config,j):`${_.config.apiScheme}://${j}`}class Jn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Ke(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(_,h,p){const w={appName:_.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const j=Ke(_,h,w);return j.customData._tokenResponse=p,j}function Gt(){return(Gt=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ir(_,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function an(_,h){return nr.apply(this,arguments)}function nr(){return(nr=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function gr(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function De(){return(De=(0,f.Z)(function*(_,h=!1){const p=(0,E.m9)(_),w=yield p.getIdToken(h),j=Ve(w);ue(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const te="object"==typeof j.firebase?j.firebase:void 0,$e=null==te?void 0:te.sign_in_provider;return{claims:j,token:w,authTime:gr(mt(j.auth_time)),issuedAtTime:gr(mt(j.iat)),expirationTime:gr(mt(j.exp)),signInProvider:$e||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function mt(_){return 1e3*Number(_)}function Ve(_){const[h,p,w]=_.split(".");if(void 0===h||void 0===p||void 0===w)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,E.tV)(p);return j?JSON.parse(j):(Ct("Failed to decode base64 JWT payload"),null)}catch(j){return Ct("Caught error parsing JWT payload as JSON",j),null}}function yt(_,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof E.ZR&&hn(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function hn({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class sn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class ar{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=gr(this.lastLoginAt),this.creationTime=gr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jn(_){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(_){var h;const p=_.auth,w=yield _.getIdToken(),j=yield yt(_,an(p,{idToken:w}));ue(null==j?void 0:j.users.length,p,"internal-error");const te=j.users[0];_._notifyReloadListener(te);const $e=(null===(h=te.providerUserInfo)||void 0===h?void 0:h.length)?k(te.providerUserInfo):[],ot=J(_.providerData,$e),qn=!!_.isAnonymous&&!(_.email&&te.passwordHash||(null==ot?void 0:ot.length)),ni={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:ot,metadata:new ar(te.createdAt,te.lastLoginAt),isAnonymous:qn};Object.assign(_,ni)})).apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(_){const h=(0,E.m9)(_);yield jn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function J(_,h){return[..._.filter(w=>!h.some(j=>j.providerId===w.providerId)),...h]}function k(_){return _.map(h=>{var{providerId:p}=h,w=(0,ie._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function X(){return(X=(0,f.Z)(function*(_,h){const p=yield bn(_,{},(0,f.Z)(function*(){const w=(0,E.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:te}=_.config,$e=Yn(_,j,"/v1/token",`key=${te}`),ot=yield _._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()($e,{method:"POST",headers:ot,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){ue(h.idToken,"internal-error"),ue(void 0!==h.idToken,"internal-error"),ue(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function _t(_){const h=Ve(_);return ue(h,"internal-error"),ue(void 0!==h.exp,"internal-error"),ue(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var w=this;return(0,f.Z)(function*(){return ue(!w.accessToken||w.refreshToken,h,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:te,expiresIn:$e}=yield function N(_,h){return X.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(j,te,Number($e))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:j,expirationTime:te}=p,$e=new ee;return w&&(ue("string"==typeof w,"internal-error",{appName:h}),$e.refreshToken=w),j&&(ue("string"==typeof j,"internal-error",{appName:h}),$e.accessToken=j),te&&(ue("number"==typeof te,"internal-error",{appName:h}),$e.expirationTime=te),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return xe("not implemented")}}function Ae(_,h){ue("string"==typeof _||void 0===_,"internal-error",{appName:h})}class Ye{constructor(h){var{uid:p,auth:w,stsTokenManager:j}=h,te=(0,ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new ar(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const w=yield yt(p,p.stsTokenManager.getToken(p.auth,h));return ue(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function ye(_){return De.apply(this,arguments)}(this,h)}reload(){return function se(_){return me.apply(this,arguments)}(this)}_assign(h){this!==h&&(ue(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ye(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,f.Z)(function*(){let j=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),j=!0),p&&(yield jn(w)),yield w.auth._persistUserIfCurrent(w),j&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield yt(h,function Zn(_,h){return Gt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,j,te,$e,ot,cn,On,qn;const ni=null!==(w=p.displayName)&&void 0!==w?w:void 0,ri=null!==(j=p.email)&&void 0!==j?j:void 0,_o=null!==(te=p.phoneNumber)&&void 0!==te?te:void 0,na=null!==($e=p.photoURL)&&void 0!==$e?$e:void 0,Nu=null!==(ot=p.tenantId)&&void 0!==ot?ot:void 0,ed=null!==(cn=p._redirectEventId)&&void 0!==cn?cn:void 0,oc=null!==(On=p.createdAt)&&void 0!==On?On:void 0,Or=null!==(qn=p.lastLoginAt)&&void 0!==qn?qn:void 0,{uid:ac,emailVerified:ku,isAnonymous:tu,providerData:ra,stsTokenManager:ia}=p;ue(ac&&ia,h,"internal-error");const td=ee.fromJSON(this.name,ia);ue("string"==typeof ac,h,"internal-error"),Ae(ni,h.name),Ae(ri,h.name),ue("boolean"==typeof ku,h,"internal-error"),ue("boolean"==typeof tu,h,"internal-error"),Ae(_o,h.name),Ae(na,h.name),Ae(Nu,h.name),Ae(ed,h.name),Ae(oc,h.name),Ae(Or,h.name);const nu=new Ye({uid:ac,auth:h,email:ri,emailVerified:ku,displayName:ni,isAnonymous:tu,photoURL:na,phoneNumber:_o,tenantId:Nu,stsTokenManager:td,createdAt:oc,lastLoginAt:Or});return ra&&Array.isArray(ra)&&(nu.providerData=ra.map(nd=>Object.assign({},nd))),ed&&(nu._redirectEventId=ed),nu}static _fromIdTokenResponse(h,p,w=!1){return(0,f.Z)(function*(){const j=new ee;j.updateFromServerResponse(p);const te=new Ye({uid:p.localId,auth:h,stsTokenManager:j,isAnonymous:w});return yield jn(te),te})()}}const Mt=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,w){var j=this;return(0,f.Z)(function*(){j.storage[p]=w})()}_get(p){var w=this;return(0,f.Z)(function*(){const j=w.storage[p];return void 0===j?null:j})()}_remove(p){var w=this;return(0,f.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return _.type="NONE",_})();function ht(_,h,p){return`firebase:${_}:${h}:${p}`}class Lt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:j,name:te}=this.auth;this.fullUserKey=ht(this.userKey,j.apiKey,te),this.fullPersistenceKey=ht("persistence",j.apiKey,te),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ye._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,f.Z)(function*(){if(!p.length)return new Lt(Oe(Mt),h,w);const j=(yield Promise.all(p.map(function(){var On=(0,f.Z)(function*(qn){if(yield qn._isAvailable())return qn});return function(qn){return On.apply(this,arguments)}}()))).filter(On=>On);let te=j[0]||Oe(Mt);const $e=ht(w,h.config.apiKey,h.name);let ot=null;for(const On of p)try{const qn=yield On._get($e);if(qn){const ni=Ye._fromJSON(h,qn);On!==te&&(ot=ni),te=On;break}}catch(qn){}const cn=j.filter(On=>On._shouldAllowMigration);return te._shouldAllowMigration&&cn.length?(te=cn[0],ot&&(yield te._set($e,ot.toJSON())),yield Promise.all(p.map(function(){var On=(0,f.Z)(function*(qn){if(qn!==te)try{yield qn._remove($e)}catch(ni){}});return function(qn){return On.apply(this,arguments)}}())),new Lt(te,h,w)):new Lt(te,h,w)})()}}function ke(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(at(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(ve(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ln(h))return"Blackberry";if(Dn(h))return"Webos";if(fe(h))return"Safari";if((h.includes("chrome/")||rt(h))&&!h.includes("edge/"))return"Chrome";if($t(h))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function ve(_=(0,E.z$)()){return/firefox\//i.test(_)}function fe(_=(0,E.z$)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function rt(_=(0,E.z$)()){return/crios\//i.test(_)}function at(_=(0,E.z$)()){return/iemobile/i.test(_)}function $t(_=(0,E.z$)()){return/android/i.test(_)}function ln(_=(0,E.z$)()){return/blackberry/i.test(_)}function Dn(_=(0,E.z$)()){return/webos/i.test(_)}function wn(_=(0,E.z$)()){return/iphone|ipad|ipod/i.test(_)}function rr(_=(0,E.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function An(_=(0,E.z$)()){return wn(_)||$t(_)||Dn(_)||ln(_)||/windows phone/i.test(_)||at(_)}function Gn(_,h=[]){let p;switch(_){case"Browser":p=ke((0,E.z$)());break;case"Worker":p=`${ke((0,E.z$)())}-${_}`;break;default:p=_}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${z.SDK_VERSION}/${w}`}class Kr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=te=>new Promise(($e,ot)=>{try{$e(h(te))}catch(cn){ot(cn)}});w.onAbort=p,this.queue.push(w);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const j of p.queue)yield j(h),j.onAbort&&w.push(j.onAbort)}catch(j){w.reverse();for(const te of w)try{te()}catch($e){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j.message})}})()}}class Mr{constructor(h,p,w){this.app=h,this.heartbeatServiceProvider=p,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=Oe(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,te;if(!w._deleted&&(w.persistenceManager=yield Lt.create(w,h),!w._deleted)){if(null===(j=w._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch($e){}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(te=w.currentUser)||void 0===te?void 0:te.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var w;const j=yield p.assertedPersistence.getCurrentUser();let te=j,$e=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ot=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,cn=null==te?void 0:te._redirectEventId,On=yield p.tryRedirectSignIn(h);(!ot||ot===cn)&&(null==On?void 0:On.user)&&(te=On.user,$e=!0)}if(!te)return p.directlySetCurrentUser(null);if(!te._redirectEventId){if($e)try{yield p.beforeStateQueue.runMiddleware(te)}catch(ot){te=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ot))}return te?p.reloadAndSetCurrentUserOrClear(te):p.directlySetCurrentUser(null)}return ue(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===te._redirectEventId?p.directlySetCurrentUser(te):p.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(j){yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){try{yield jn(h)}catch(w){if("auth/network-request-failed"!==w.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ut(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const w=h?(0,E.m9)(h):null;return w&&ue(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return h&&ue(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(Oe(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new E.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,f.Z)(function*(){const j=yield w.getOrInitRedirectPersistenceManager(p);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&Oe(h)||p._popupRedirectResolver;ue(w,p,"argument-error"),p.redirectPersistenceManager=yield Lt.create(p,[Oe(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var w,j;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,j){if(this._deleted)return()=>{};const te="function"==typeof p?p:p.next.bind(p),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return ue($e,this,"internal-error"),$e.then(()=>te(this.currentUser)),"function"==typeof p?h.addObserver(p,w,j):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Gn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return j&&(w["X-Firebase-Client"]=j),w})()}}function xt(_){return(0,E.m9)(_)}class _e{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,E.ne)(p=>this.observer=p)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qe(_,h,p){const w=xt(_);ue(w._canInitEmulator,w,"emulator-config-failed"),ue(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const j=!!(null==p?void 0:p.disableWarnings),te=Et(h),{host:$e,port:ot}=function Xt(_){const h=Et(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(w);if(j){const te=j[1];return{host:te,port:Sn(w.substr(te.length+1))}}{const[te,$e]=w.split(":");return{host:te,port:Sn($e)}}}(h);w.config.emulator={url:`${te}//${$e}${null===ot?"":`:${ot}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$e,port:ot,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function $n(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Et(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function Sn(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Mn{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return xe("not implemented")}_getIdTokenResponse(h){return xe("not implemented")}_linkToIdToken(h,p){return xe("not implemented")}_getReauthenticationResolver(h){return xe("not implemented")}}function ur(_,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:resetPassword",on(_,h))})).apply(this,arguments)}function fn(_,h){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function fi(_,h){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:update",on(_,h))})).apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithPassword",on(_,h))})).apply(this,arguments)}function Pr(_,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:sendOobCode",on(_,h))})).apply(this,arguments)}function Pe(_,h){return we.apply(this,arguments)}function we(){return(we=(0,f.Z)(function*(_,h){return Pr(_,h)})).apply(this,arguments)}function Je(_,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(_,h){return Pr(_,h)})).apply(this,arguments)}function Rt(_,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(_,h){return Pr(_,h)})).apply(this,arguments)}function tr(_,h){return _r.apply(this,arguments)}function _r(){return(_r=(0,f.Z)(function*(_,h){return Pr(_,h)})).apply(this,arguments)}function Cr(){return(Cr=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithEmailLink",on(_,h))})).apply(this,arguments)}function kr(){return(kr=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithEmailLink",on(_,h))})).apply(this,arguments)}class Si extends Mn{constructor(h,p,w,j=null){super("password",w),this._email=h,this._password=p,this._tenantId=j}static _fromEmailAndPassword(h,p){return new Si(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Si(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function si(_,h){return vr.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Hn(_,h){return Cr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:At(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return fn(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ni(_,h){return kr.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:At(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Er(_,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithIdp",on(_,h))})).apply(this,arguments)}class qr extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new qr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):At("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:j}=p,te=(0,ie._T)(p,["providerId","signInMethod"]);if(!w||!j)return null;const $e=new qr(w,j);return $e.idToken=te.idToken||void 0,$e.accessToken=te.accessToken||void 0,$e.secret=te.secret,$e.nonce=te.nonce,$e.pendingToken=te.pendingToken||null,$e}_getIdTokenResponse(h){return Er(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,Er(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Er(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,E.xO)(p)}return h}}function ki(_,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:sendVerificationCode",on(_,h))})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithPhoneNumber",on(_,h))})).apply(this,arguments)}function ns(){return(ns=(0,f.Z)(function*(_,h){const p=yield vn(_,"POST","/v1/accounts:signInWithPhoneNumber",on(_,h));if(p.temporaryProof)throw tn(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Us={USER_NOT_FOUND:"user-not-found"};function Mi(){return(Mi=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithPhoneNumber",on(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Us)})).apply(this,arguments)}class pi extends Mn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new pi({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new pi({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ts(_,h){return Fi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function lo(_,h){return ns.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function rs(_,h){return Mi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:j}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:j,temporaryProof:te}=h;return w||p||j||te?new pi({verificationId:p,verificationCode:w,phoneNumber:j,temporaryProof:te}):null}}class Yr{constructor(h){var p,w,j,te,$e,ot;const cn=(0,E.zd)((0,E.pd)(h)),On=null!==(p=cn.apiKey)&&void 0!==p?p:null,qn=null!==(w=cn.oobCode)&&void 0!==w?w:null,ni=function bs(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=cn.mode)&&void 0!==j?j:null);ue(On&&qn&&ni,"argument-error"),this.apiKey=On,this.operation=ni,this.code=qn,this.continueUrl=null!==(te=cn.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==($e=cn.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(ot=cn.tenantId)&&void 0!==ot?ot:null}static parseLink(h){const p=function Cs(_){const h=(0,E.zd)((0,E.pd)(_)).link,p=h?(0,E.zd)((0,E.pd)(h)).deep_link_id:null,w=(0,E.zd)((0,E.pd)(_)).deep_link_id;return(w?(0,E.zd)((0,E.pd)(w)).link:null)||w||p||h||_}(h);try{return new Yr(p)}catch(w){return null}}}let zi=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,w){return Si._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const j=Yr.parseLink(w);return ue(j,"argument-error"),Si._fromEmailAndCode(p,j.code,j.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Qr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Jr extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Wi extends Jr{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return ue("providerId"in p&&"signInMethod"in p,"argument-error"),qr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return ue(h.idToken||h.accessToken,"argument-error"),qr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Wi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Wi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:j,pendingToken:te,nonce:$e,providerId:ot}=h;if(!w&&!j&&!p&&!te||!ot)return null;try{return new Wi(ot)._credential({idToken:p,accessToken:w,nonce:$e,pendingToken:te})}catch(cn){return null}}}let gi=(()=>{class _ extends Jr{constructor(){super("facebook.com")}static credential(p){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Xr=(()=>{class _ extends Jr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:j}=p;if(!w&&!j)return null;try{return _.credential(w,j)}catch(te){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Ki=(()=>{class _ extends Jr{constructor(){super("github.com")}static credential(p){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Ii extends Mn{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Er(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,Er(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Er(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:j,pendingToken:te}=p;return w&&j&&te&&w===j?new Ii(w,te):null}static _create(h,p){return new Ii(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends Qr{constructor(h){ue(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return lr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return lr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Ii.fromJSON(h);return ue(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return Ii._create(w,p)}catch(j){return null}}}let Li=(()=>{class _ extends Jr{constructor(){super("twitter.com")}static credential(p,w){return qr._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:j}=p;if(!w||!j)return null;try{return _.credential(w,j)}catch(te){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function fs(_,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signUp",on(_,h))})).apply(this,arguments)}class Tr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,j=!1){return(0,f.Z)(function*(){const te=yield Ye._fromIdTokenResponse(h,w,j),$e=ei(w);return new Tr({user:te,providerId:$e,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const j=ei(w);return new Tr({user:h,providerId:j,_tokenResponse:w,operationType:p})})()}}function ei(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ps(_){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,f.Z)(function*(_){var h;const p=xt(_);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Tr({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield fs(p,{returnSecureToken:!0}),j=yield Tr._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}class wi extends E.ZR{constructor(h,p,w,j){var te;super(p.code,p.message),this.operationType=w,this.user=j,Object.setPrototypeOf(this,wi.prototype),this.customData={appName:h.name,tenantId:null!==(te=h.tenantId)&&void 0!==te?te:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,j){return new wi(h,p,w,j)}}function ss(_,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?wi._fromErrorAndOperation(_,te,h,w):te})}function mi(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function xi(_,h){return qi.apply(this,arguments)}function qi(){return(qi=(0,f.Z)(function*(_,h){const p=(0,E.m9)(_);yield $(!0,p,h);const{providerUserInfo:w}=yield Ir(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),j=mi(w||[]);return p.providerData=p.providerData.filter(te=>j.has(te.providerId)),j.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ir(_,h){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(_,h,p=!1){const w=yield yt(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return Tr._forOperation(_,"link",w)})).apply(this,arguments)}function $(_,h,p){return x.apply(this,arguments)}function x(){return(x=(0,f.Z)(function*(_,h,p){yield jn(h);const j=!1===_?"provider-already-linked":"no-such-provider";ue(mi(h.providerData).has(p)===_,h.auth,j)})).apply(this,arguments)}function K(_,h){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(_,h,p=!1){const{auth:w}=_,j="reauthenticate";try{const te=yield yt(_,ss(w,j,h,_),p);ue(te.idToken,w,"internal-error");const $e=Ve(te.idToken);ue($e,w,"internal-error");const{sub:ot}=$e;return ue(_.uid===ot,w,"user-mismatch"),Tr._forOperation(_,j,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&At(w,"user-mismatch"),te}})).apply(this,arguments)}function it(_,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(_,h,p=!1){const w="signIn",j=yield ss(_,w,h),te=yield Tr._fromIdTokenResponse(_,w,j);return p||(yield _._updateCurrentUser(te.user)),te})).apply(this,arguments)}function un(_,h){return cr.apply(this,arguments)}function cr(){return(cr=(0,f.Z)(function*(_,h){return it(xt(_),h)})).apply(this,arguments)}function or(_,h){return q.apply(this,arguments)}function q(){return(q=(0,f.Z)(function*(_,h){const p=(0,E.m9)(_);return yield $(!1,p,h.providerId),ir(p,h)})).apply(this,arguments)}function Y(_,h){return be.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(_,h){return K((0,E.m9)(_),h)})).apply(this,arguments)}function ze(_,h){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(_,h){return vn(_,"POST","/v1/accounts:signInWithCustomToken",on(_,h))})).apply(this,arguments)}function jt(_,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,f.Z)(function*(_,h){const p=xt(_),w=yield ze(p,{token:h,returnSecureToken:!0}),j=yield Tr._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}class Jt{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?hr._fromServerResponse(h,p):At(h,"internal-error")}}class hr extends Jt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new hr(p)}}function mr(_,h,p){var w;ue((null===(w=p.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),ue(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(ue(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(ue(p.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function yr(_,h,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_),j={requestType:"PASSWORD_RESET",email:h};p&&mr(w,j,p),yield Je(w,j)})).apply(this,arguments)}function O(_,h,p){return A.apply(this,arguments)}function A(){return(A=(0,f.Z)(function*(_,h,p){yield ur((0,E.m9)(_),{oobCode:h,newPassword:p})})).apply(this,arguments)}function T(_,h){return W.apply(this,arguments)}function W(){return(W=(0,f.Z)(function*(_,h){yield fi((0,E.m9)(_),{oobCode:h})})).apply(this,arguments)}function de(_,h){return St.apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(_,h){const p=(0,E.m9)(_),w=yield ur(p,{oobCode:h}),j=w.requestType;switch(ue(j,p,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ue(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ue(w.mfaInfo,p,"internal-error");default:ue(w.email,p,"internal-error")}let te=null;return w.mfaInfo&&(te=Jt._fromServerResponse(xt(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:te},operation:j}})).apply(this,arguments)}function Xn(_,h){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,f.Z)(function*(_,h){const{data:p}=yield de((0,E.m9)(_),h);return p.email})).apply(this,arguments)}function Ri(_,h,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(_,h,p){const w=xt(_),j=yield fs(w,{returnSecureToken:!0,email:h,password:p}),te=yield Tr._fromIdTokenResponse(w,"signIn",j);return yield w._updateCurrentUser(te.user),te})).apply(this,arguments)}function Oi(_,h,p){return un((0,E.m9)(_),zi.credential(h,p))}function gs(_,h,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_),j={requestType:"EMAIL_SIGNIN",email:h};ue(p.handleCodeInApp,w,"argument-error"),p&&mr(w,j,p),yield Rt(w,j)})).apply(this,arguments)}function $a(_,h){const p=Yr.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function la(_,h,p){return os.apply(this,arguments)}function os(){return(os=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_),j=zi.credentialWithLink(h,p||Le());return ue(j._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),un(w,j)})).apply(this,arguments)}function co(_,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:createAuthUri",on(_,h))})).apply(this,arguments)}function Yi(_,h){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,f.Z)(function*(_,h){const w={identifier:h,continueUri:gt()?Le():"http://localhost"},{signinMethods:j}=yield co((0,E.m9)(_),w);return j||[]})).apply(this,arguments)}function Ks(_,h){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(_,h){const p=(0,E.m9)(_),j={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&mr(p.auth,j,h);const{email:te}=yield Pe(p.auth,j);te!==_.email&&(yield _.reload())})).apply(this,arguments)}function Ho(_,h,p){return wo.apply(this,arguments)}function wo(){return(wo=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};p&&mr(w.auth,te,p);const{email:$e}=yield tr(w.auth,te);$e!==_.email&&(yield _.reload())})).apply(this,arguments)}function ca(_,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,f.Z)(function*(_,h){return Yt(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ha(_,h){return ho.apply(this,arguments)}function ho(){return(ho=(0,f.Z)(function*(_,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,E.m9)(_),te={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},$e=yield yt(w,ca(w.auth,te));w.displayName=$e.displayName||null,w.photoURL=$e.photoUrl||null;const ot=w.providerData.find(({providerId:cn})=>"password"===cn);ot&&(ot.displayName=w.displayName,ot.photoURL=w.photoURL),yield w._updateTokensIfNecessary($e)})).apply(this,arguments)}function Go(_,h){return da((0,E.m9)(_),h,null)}function zo(_,h){return da((0,E.m9)(_),null,h)}function da(_,h,p){return fo.apply(this,arguments)}function fo(){return(fo=(0,f.Z)(function*(_,h,p){const{auth:w}=_,te={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(te.email=h),p&&(te.password=p);const $e=yield yt(_,fn(w,te));yield _._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class Zs{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class bo extends Zs{constructor(h,p,w,j){super(h,p,w),this.username=j}}class Ga extends Zs{constructor(h,p){super(h,"facebook.com",p)}}class ha extends bo{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ts extends Zs{constructor(h,p){super(h,"google.com",p)}}class wu extends bo{constructor(h,p,w){super(h,"twitter.com",p,w)}}function fa(_){const{user:h,_tokenResponse:p}=_;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function po(_){var h,p;if(!_)return null;const{providerId:w}=_,j=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},te=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const $e=null===(p=null===(h=Ve(_.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if($e)return new Zs(te,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!w)return null;switch(w){case"facebook.com":return new Ga(te,j);case"github.com":return new ha(te,j);case"google.com":return new Ts(te,j);case"twitter.com":return new wu(te,j,_.screenName||null);case"custom":case"anonymous":return new Zs(te,null);default:return new Zs(te,w,j)}}(p)}class as{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new as("enroll",h)}static _fromMfaPendingCredential(h){return new as("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return as._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(w=h.multiFactorSession)||void 0===w?void 0:w.idToken)return as._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Co{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=xt(h),j=p.customData._serverResponse,te=(j.mfaInfo||[]).map(ot=>Jt._fromServerResponse(w,ot));ue(j.mfaPendingCredential,w,"internal-error");const $e=as._fromMfaPendingCredential(j.mfaPendingCredential);return new Co($e,te,function(){var ot=(0,f.Z)(function*(cn){const On=yield cn._process(w,$e);delete j.mfaInfo,delete j.mfaPendingCredential;const qn=Object.assign(Object.assign({},j),{idToken:On.idToken,refreshToken:On.refreshToken});switch(p.operationType){case"signIn":const ni=yield Tr._fromIdTokenResponse(w,p.operationType,qn);return yield w._updateCurrentUser(ni.user),ni;case"reauthenticate":return ue(p.user,w,"internal-error"),Tr._forOperation(p.user,p.operationType,qn);default:At(w,"internal-error")}});return function(cn){return ot.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function pa(_,h){var p;const w=(0,E.m9)(_),j=h;return ue(h.customData.operationType,w,"argument-error"),ue(null===(p=j.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),Co._fromError(w,j)}function bi(_,h){return Yt(_,"POST","/v2/accounts/mfaEnrollment:start",on(_,h))}class us{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>Jt._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new us(h)}getSession(){var h=this;return(0,f.Z)(function*(){return as._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var w=this;return(0,f.Z)(function*(){const j=h,te=yield w.getSession(),$e=yield yt(w.user,j._process(w.user.auth,te,p));return yield w.user._updateTokensIfNecessary($e),w.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const w="string"==typeof h?h:h.uid,j=yield p.user.getIdToken(),te=yield yt(p.user,function Ko(_,h){return Yt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",on(_,h))}(p.user.auth,{idToken:j,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:$e})=>$e!==w),yield p.user._updateTokensIfNecessary(te);try{yield p.user.reload()}catch($e){if("auth/user-token-expired"!==$e.code)throw $e}})()}}const As=new WeakMap;function Gr(_){const h=(0,E.m9)(_);return As.has(h)||As.set(h,us._fromUser(h)),As.get(h)}const Fs="__sak";class ls{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const go=(()=>{class _ extends ls{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function To(){const _=(0,E.z$)();return fe(_)||wn(_)}()&&function wr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const j=this.storage.getItem(w),te=this.localCache[w];j!==te&&p(w,te,j)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ot,cn,On)=>{this.notifyListeners(ot,On)});const j=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(j);if(p.newValue!==ot)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!w)return}const te=()=>{const ot=this.storage.getItem(j);!w&&this.localCache[j]===ot||this.notifyListeners(j,ot)},$e=this.storage.getItem(j);!function Pn(){return(0,E.w1)()&&10===document.documentMode}()||$e===p.newValue||p.newValue===p.oldValue?te():setTimeout(te,10)}notifyListeners(p,w){this.localCache[p]=w;const j=this.listeners[p];if(j)for(const te of Array.from(j))te(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var j=()=>super._set,te=this;return(0,f.Z)(function*(){yield j().call(te,p,w),te.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,j=this;return(0,f.Z)(function*(){const te=yield w().call(j,p);return j.localCache[p]=JSON.stringify(te),te})()}_remove(p){var w=()=>super._remove,j=this;return(0,f.Z)(function*(){yield w().call(j,p),delete j.localCache[p]})()}}return _.type="LOCAL",_})(),nn=(()=>{class _ extends ls{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return _.type="SESSION",_})();let ma=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(te=>te.isListeningto(p));if(w)return w;const j=new _(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,f.Z)(function*(){const j=p,{eventId:te,eventType:$e,data:ot}=j.data,cn=w.handlersMap[$e];if(!(null==cn?void 0:cn.size))return;j.ports[0].postMessage({status:"ack",eventId:te,eventType:$e});const On=Array.from(cn).map(function(){var ni=(0,f.Z)(function*(ri){return ri(j.origin,ot)});return function(ri){return ni.apply(this,arguments)}}()),qn=yield function kn(_){return Promise.all(_.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(On);j.ports[0].postMessage({status:"done",eventId:te,eventType:$e,response:qn})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Wt(_="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return _+p}class st{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var j=this;return(0,f.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let $e,ot;return new Promise((cn,On)=>{const qn=Wt("",20);te.port1.start();const ni=setTimeout(()=>{On(new Error("unsupported_event"))},w);ot={messageChannel:te,onMessage(ri){const _o=ri;if(_o.data.eventId===qn)switch(_o.data.status){case"ack":clearTimeout(ni),$e=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),cn(_o.data.response);break;default:clearTimeout(ni),clearTimeout($e),On(new Error("invalid_response"))}}},j.handlers.add(ot),te.port1.addEventListener("message",ot.onMessage),j.target.postMessage({eventType:h,eventId:qn,data:p},[te.port2])}).finally(()=>{ot&&j.removeMessageHandler(ot)})})()}}function vt(){return window}function js(){return void 0!==vt().WorkerGlobalScope&&"function"==typeof vt().importScripts}function Ao(){return(Ao=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const So="firebaseLocalStorageDb",Mo="firebaseLocalStorage",mo="fbase_key";class ui{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ys(_,h){return _.transaction([Mo],h?"readwrite":"readonly").objectStore(Mo)}function v(){const _=indexedDB.open(So,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Mo,{keyPath:mo})}catch(j){p(j)}}),_.addEventListener("success",(0,f.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Mo)?h(w):(w.close(),yield function D(){const _=indexedDB.deleteDatabase(So);return new ui(_).toPromise()}(),h(yield v()))}))})}function y(_,h,p){return M.apply(this,arguments)}function M(){return(M=(0,f.Z)(function*(_,h,p){const w=Ys(_,!0).put({[mo]:h,value:p});return new ui(w).toPromise()})).apply(this,arguments)}function U(){return(U=(0,f.Z)(function*(_,h){const p=Ys(_,!1).get(h),w=yield new ui(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function he(_,h){const p=Ys(_,!0).delete(h);return new ui(p).toPromise()}const Zt=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield v()),p.db})()}_withRetries(p){var w=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const te=yield w._openDb();return yield p(te)}catch(te){if(j++>3)throw te;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return js()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=ma._getInstance(function Cu(){return js()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(j,te){return{keyProcessed:(yield p._poll()).includes(te.key)}});return function(j,te){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(j,te){return["keyChanged"]});return function(j,te){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var w,j;if(p.activeServiceWorker=yield function ya(){return Ao.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new st(p.activeServiceWorker);const te=yield p.sender._send("ping",{},800);!te||(null===(w=te[0])||void 0===w?void 0:w.fulfilled)&&(null===(j=te[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Hl(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield v();return yield y(p,Fs,"1"),yield he(p,Fs),!0}catch(p){}return!1})()}_withPendingWrite(p){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(te=>y(te,p,w)),j.localCache[p]=w,j.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,f.Z)(function*(){const j=yield w._withRetries(te=>function P(_,h){return U.apply(this,arguments)}(te,p));return w.localCache[p]=j,j})()}_remove(p){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(j=>he(j,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const w=yield p._withRetries($e=>{const ot=Ys($e,!1).getAll();return new ui(ot).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const j=[],te=new Set;for(const{fbase_key:$e,value:ot}of w)te.add($e),JSON.stringify(p.localCache[$e])!==JSON.stringify(ot)&&(p.notifyListeners($e,ot),j.push($e));for(const $e of Object.keys(p.localCache))p.localCache[$e]&&!te.has($e)&&(p.notifyListeners($e,null),j.push($e));return j})()}notifyListeners(p,w){this.localCache[p]=w;const j=this.listeners[p];if(j)for(const te of Array.from(j))te(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function En(_,h){return Yt(_,"POST","/v2/accounts/mfaSignIn:start",on(_,h))}function Ci(){return(Ci=(0,f.Z)(function*(_){return(yield Yt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function xo(_){return new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=h,w.onerror=j=>{const te=Ke("internal-error");te.customData=j,p(te)},w.type="text/javascript",w.charset="UTF-8",function Nr(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(w)})}function ms(_){return`__${_}${Math.floor(1e6*Math.random())}`}const $s=1e12;class ll{constructor(h){this.auth=h,this.counter=$s,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new qo(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||$s;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||$s))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var w;return null===(w=p._widgets.get(h||$s))||void 0===w||w.execute(),""})()}}class qo{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;ue(j,"argument-error",{appName:p}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function va(_){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qs=ms("rcb"),Wa=new Tt(3e4,6e4);class Gl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vt().grecaptcha}load(h,p=""){return ue(function Qt(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(vt().grecaptcha):new Promise((w,j)=>{const te=vt().setTimeout(()=>{j(Ke(h,"network-request-failed"))},Wa.get());vt()[Qs]=()=>{vt().clearTimeout(te),delete vt()[Qs];const ot=vt().grecaptcha;if(!ot)return void j(Ke(h,"internal-error"));const cn=ot.render;ot.render=(On,qn)=>{const ni=cn(On,qn);return this.counter++,ni},this.hostLanguage=p,w(ot)},xo(`https://www.google.com/recaptcha/api.js??${(0,E.xO)({onload:Qs,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(te),j(Ke(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!vt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yo{load(h){return(0,f.Z)(function*(){return new ll(h)})()}clearedOneInstance(){}}const Tu="recaptcha",_a={theme:"light",type:"image"};class yo{constructor(h,p=Object.assign({},_a),w){this.parameters=p,this.type=Tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xt(w),this.isInvisible="invisible"===this.parameters.size,ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof h?document.getElementById(h):h;ue(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yo:new Gl,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(te=>{const $e=ot=>{!ot||(h.tokenChangeListeners.delete($e),te(ot))};h.tokenChangeListeners.add($e),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){ue(!this.parameters.sitekey,this.auth,"argument-error"),ue(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ue("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=vt()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){ue(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){ue(gt()&&!js(),h.auth,"internal-error"),yield function Au(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function fr(_){return Ci.apply(this,arguments)}(h.auth);ue(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return ue(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vs{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=pi._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function zc(_,h,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(_,h,p){const w=xt(_),j=yield Ji(w,h,(0,E.m9)(p));return new vs(j,te=>un(w,te))})).apply(this,arguments)}function Ka(_,h,p){return _s.apply(this,arguments)}function _s(){return(_s=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_);yield $(!1,w,"phone");const j=yield Ji(w.auth,h,(0,E.m9)(p));return new vs(j,te=>or(w,te))})).apply(this,arguments)}function zl(_,h,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_),j=yield Ji(w.auth,h,(0,E.m9)(p));return new vs(j,te=>Y(w,te))})).apply(this,arguments)}function Ji(_,h,p){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(_,h,p){var w;const j=yield p.verify();try{let te;if(ue("string"==typeof j,_,"argument-error"),ue(p.type===Tu,_,"argument-error"),te="string"==typeof h?{phoneNumber:h}:h,"session"in te){const $e=te.session;if("phoneNumber"in te)return ue("enroll"===$e.type,_,"internal-error"),(yield bi(_,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{ue("signin"===$e.type,_,"internal-error");const ot=(null===(w=te.multiFactorHint)||void 0===w?void 0:w.uid)||te.multiFactorUid;return ue(ot,_,"missing-multi-factor-info"),(yield En(_,{mfaPendingCredential:$e.credential,mfaEnrollmentId:ot,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield ki(_,{phoneNumber:te.phoneNumber,recaptchaToken:j});return $e}}finally{p._reset()}})).apply(this,arguments)}function Za(_,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,f.Z)(function*(_,h){yield ir((0,E.m9)(_),h)})).apply(this,arguments)}let Ea=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=xt(p)}verifyPhoneNumber(p,w){return Ji(this.auth,p,(0,E.m9)(w))}static credential(p,w){return pi._fromVerification(p,w)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:j}=p;return w&&j?pi._fromTokenResponse(w,j):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Ro(_,h){return h?Oe(h):(ue(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class cl extends Mn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Er(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Er(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Er(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Wl(_){return it(_.auth,new cl(_),_.bypassAuthState)}function Wc(_){const{auth:h,user:p}=_;return ue(p,h,"internal-error"),K(p,new cl(_),_.bypassAuthState)}function cs(_){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(_){const{auth:h,user:p}=_;return ue(p,h,"internal-error"),ir(p,new cl(_),_.bypassAuthState)})).apply(this,arguments)}class pr{constructor(h,p,w,j,te=!1){this.auth=h,this.resolver=w,this.user=j,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(w,j){h.pendingPromise={resolve:w,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(te){h.reject(te)}});return function(w,j){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:j,postBody:te,tenantId:$e,error:ot,type:cn}=h;if(ot)return void p.reject(ot);const On={auth:p.auth,requestUri:w,sessionId:j,tenantId:$e||void 0,postBody:te||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(cn)(On))}catch(qn){p.reject(qn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Wl;case"linkViaPopup":case"linkViaRedirect":return cs;case"reauthViaPopup":case"reauthViaRedirect":return Wc;default:At(this.auth,"internal-error")}}resolve(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ia=new Tt(2e3,1e4);function Oo(_,h,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,f.Z)(function*(_,h,p){const w=xt(_);Ze(_,h,Qr);const j=Ro(w,p);return new Ms(w,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Ya(_,h,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_);Ze(w.auth,h,Qr);const j=Ro(w.auth,p);return new Ms(w.auth,"reauthViaPopup",h,j,w).executeNotNull()})).apply(this,arguments)}function Kl(_,h,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_);Ze(w.auth,h,Qr);const j=Ro(w.auth,p);return new Ms(w.auth,"linkViaPopup",h,j,w).executeNotNull()})).apply(this,arguments)}let Ms=(()=>{class _ extends pr{constructor(p,w,j,te,$e){super(p,w,te,$e),this.provider=j,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const w=yield p.execute();return ue(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,f.Z)(function*(){je(1===p.filter.length,"Popup operations only handle one event");const w=Wt();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(j=>{p.reject(j)}),p.resolver._isIframeWebStorageSupported(p.auth,j=>{j||p.reject(Ke(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ke(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,j;this.pollId=(null===(j=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ke(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,Ia.get())};p()}}return _.currentPopupAction=null,_})();const Ur=new Map;class Xo extends pr{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let w=Ur.get(p.auth._key());if(!w){try{const te=(yield function li(_,h){return Z.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(te)}catch(j){w=()=>Promise.reject(j)}Ur.set(p.auth._key(),w)}return p.bypassAuthState||Ur.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const j=yield w.auth._redirectUserForId(h.eventId);if(j)return w.user=j,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Z(){return(Z=(0,f.Z)(function*(_,h){const p=xn(h),w=Kt(_);if(!(yield w._isAvailable()))return!1;const j="true"===(yield w._get(p));return yield w._remove(p),j})).apply(this,arguments)}function re(_,h){return B.apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(_,h){return Kt(_)._set(xn(h),"true")})).apply(this,arguments)}function Ne(){Ur.clear()}function et(_,h){Ur.set(_._key(),h)}function Kt(_){return Oe(_._redirectPersistence)}function xn(_){return ht("pendingRedirect",_.config.apiKey,_.name)}function zn(_,h,p){return function Rr(_,h,p){return zr.apply(this,arguments)}(_,h,p)}function zr(){return(zr=(0,f.Z)(function*(_,h,p){const w=xt(_);Ze(_,h,Qr);const j=Ro(w,p);return yield re(j,w),j._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function Hs(_,h,p){return function Xs(_,h,p){return Rn.apply(this,arguments)}(_,h,p)}function Rn(){return(Rn=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_);Ze(w.auth,h,Qr);const j=Ro(w.auth,p);yield re(j,w.auth);const te=yield Su(w);return j._openRedirect(w.auth,h,"reauthViaRedirect",te)})).apply(this,arguments)}function ti(_,h,p){return function Pi(_,h,p){return Wr.apply(this,arguments)}(_,h,p)}function Wr(){return(Wr=(0,f.Z)(function*(_,h,p){const w=(0,E.m9)(_);Ze(w.auth,h,Qr);const j=Ro(w.auth,p);yield $(!1,w,h.providerId),yield re(j,w.auth);const te=yield Su(w);return j._openRedirect(w.auth,h,"linkViaRedirect",te)})).apply(this,arguments)}function jr(_,h){return No.apply(this,arguments)}function No(){return(No=(0,f.Z)(function*(_,h){return yield xt(_)._initializationPromise,vo(_,h,!1)})).apply(this,arguments)}function vo(_,h){return ql.apply(this,arguments)}function ql(){return(ql=(0,f.Z)(function*(_,h,p=!1){const w=xt(_),j=Ro(w,h),$e=yield new Xo(w,j,p).execute();return $e&&!p&&(delete $e.user._redirectEventId,yield w._persistUserIfCurrent($e.user),yield w._setRedirectUser(null,h)),$e})).apply(this,arguments)}function Su(_){return xs.apply(this,arguments)}function xs(){return(xs=(0,f.Z)(function*(_){const h=Wt(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Qa{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function eo(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hl(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!hl(h)){const j=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Ke(this.auth,j))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Yl(h))}saveEventToCache(h){this.cachedEventUids.add(Yl(h)),this.lastProcessedEventTime=Date.now()}}function Yl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function hl({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Ja(_){return ko.apply(this,arguments)}function ko(){return(ko=(0,f.Z)(function*(_,h={}){return Yt(_,"GET","/v1/projects",h)})).apply(this,arguments)}const uh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ql=/^https?/;function Fo(){return(Fo=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield Ja(_);for(const p of h)try{if(Xa(p))return}catch(w){}At(_,"unauthorized-domain")})).apply(this,arguments)}function Xa(_){const h=Le(),{protocol:p,hostname:w}=new URL(h);if(_.startsWith("chrome-extension://")){const $e=new URL(_);return""===$e.hostname&&""===w?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&$e.hostname===w}if(!Ql.test(p))return!1;if(uh.test(_))return w===_;const j=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(w)}const to=new Tt(3e4,6e4);function fl(){const _=vt().___jsl;if(null==_?void 0:_.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let pl=null;function Jl(_){return pl=pl||function Mu(_){return new Promise((h,p)=>{var w,j,te;function $e(){fl(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{fl(),p(Ke(_,"network-request-failed"))},timeout:to.get()})}if(null===(j=null===(w=vt().gapi)||void 0===w?void 0:w.iframes)||void 0===j?void 0:j.Iframe)h(gapi.iframes.getContext());else{if(!(null===(te=vt().gapi)||void 0===te?void 0:te.load)){const ot=ms("iframefcb");return vt()[ot]=()=>{gapi.load?$e():p(Ke(_,"network-request-failed"))},xo(`https://apis.google.com/js/api.js?onload=${ot}`).catch(cn=>p(cn))}$e()}}).catch(h=>{throw pl=null,h})}(_),pl}const Xl=new Tt(5e3,15e3),ec={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Da=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zc(_){const h=_.config;ue(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?_n(h,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:_.name,v:z.SDK_VERSION},j=Da.get(_.config.apiHost);j&&(w.eid=j);const te=_._getFrameworks();return te.length&&(w.fw=te.join(",")),`${p}?${(0,E.xO)(w).slice(1)}`}function Ru(){return Ru=(0,f.Z)(function*(_){const h=yield Jl(_),p=vt().gapi;return ue(p,_,"internal-error"),h.open({where:document.body,url:Zc(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ec,dontclear:!0},w=>new Promise(function(){var j=(0,f.Z)(function*(te,$e){yield w.restyle({setHideOnLeave:!1});const ot=Ke(_,"network-request-failed"),cn=vt().setTimeout(()=>{$e(ot)},Xl.get());function On(){vt().clearTimeout(cn),te(w)}w.ping(On).then(On,()=>{$e(ot)})});return function(te,$e){return j.apply(this,arguments)}}()))}),Ru.apply(this,arguments)}const gl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ml{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function yl(_,h,p,w,j,te){ue(_.config.authDomain,_,"auth-domain-config-required"),ue(_.config.apiKey,_,"invalid-api-key");const $e={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:w,v:z.SDK_VERSION,eventId:j};if(h instanceof Qr){h.setDefaultLanguage(_.languageCode),$e.providerId=h.providerId||"",(0,E.xb)(h.getCustomParameters())||($e.customParameters=JSON.stringify(h.getCustomParameters()));for(const[cn,On]of Object.entries(te||{}))$e[cn]=On}if(h instanceof Jr){const cn=h.getScopes().filter(On=>""!==On);cn.length>0&&($e.scopes=cn.join(","))}_.tenantId&&($e.tid=_.tenantId);const ot=$e;for(const cn of Object.keys(ot))void 0===ot[cn]&&delete ot[cn];return`${function Gs({config:_}){return _.emulator?_n(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,E.xO)(ot).slice(1)}`}const Ta="webStorageSupport",Ti=class lh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=vo,this._overrideRedirectResult=et}_openPopup(h,p,w,j){var te=this;return(0,f.Z)(function*(){var $e;je(null===($e=te.eventManagers[h._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const ot=yl(h,p,w,Le(),j);return function Ca(_,h,p,w=500,j=600){const te=Math.max((window.screen.availHeight-j)/2,0).toString(),$e=Math.max((window.screen.availWidth-w)/2,0).toString();let ot="";const cn=Object.assign(Object.assign({},gl),{width:w.toString(),height:j.toString(),top:te,left:$e}),On=(0,E.z$)().toLowerCase();p&&(ot=rt(On)?"_blank":p),ve(On)&&(h=h||"http://localhost",cn.scrollbars="yes");const qn=Object.entries(cn).reduce((ri,[_o,na])=>`${ri}${_o}=${na},`,"");if(function sr(_=(0,E.z$)()){var h;return wn(_)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(On)&&"_self"!==ot)return function Yc(_,h){const p=document.createElement("a");p.href=_,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",ot),new ml(null);const ni=window.open(h||"",ot,qn);ue(ni,_,"popup-blocked");try{ni.focus()}catch(ri){}return new ml(ni)}(h,ot,Wt())})()}_openRedirect(h,p,w,j){var te=this;return(0,f.Z)(function*(){return yield te._originValidation(h),function yi(_){vt().location.href=_}(yl(h,p,w,Le(),j)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:j,promise:te}=this.eventManagers[p];return j?Promise.resolve(j):(je(te,"If manager is not set, promise should be"),te)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const w=yield function qc(_){return Ru.apply(this,arguments)}(h),j=new Qa(h);return w.register("authEvent",te=>(ue(null==te?void 0:te.authEvent,h,"invalid-auth-event"),{status:j.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:j},p.iframes[h._key()]=w,j})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Ta,{type:Ta},j=>{var te;const $e=null===(te=null==j?void 0:j[0])||void 0===te?void 0:te[Ta];void 0!==$e&&p(!!$e),At(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ea(_){return Fo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return An()||fe()||wn()}};class Ou extends class rc{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return xe("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Ou(h)}_finalizeEnroll(h,p,w){return function bu(_,h){return Yt(_,"POST","/v2/accounts/mfaEnrollment:finalize",on(_,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Un(_,h){return Yt(_,"POST","/v2/accounts/mfaSignIn:finalize",on(_,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lp=(()=>{class _{constructor(){}static assertion(p){return Ou._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var ic="@firebase/auth";class Jc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{var j;h((null===(j=w)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Aa(_=(0,z.getApp)()){const h=(0,z._getProvider)(_,"auth");return h.isInitialized()?h.getImmediate():function Be(_,h){const p=(0,z._getProvider)(_,"auth");if(p.isInitialized()){const j=p.getImmediate(),te=p.getOptions();if((0,E.vZ)(te,null!=h?h:{}))return j;At(j,"already-initialized")}return p.initialize({options:h})}(_,{popupRedirectResolver:Ti,persistence:[Zt,go,nn]})}!function Pu(_){(0,z._registerComponent)(new Ie.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),{apiKey:te,authDomain:$e}=w.options;return((ot,cn)=>{ue(te&&!te.includes(":"),"invalid-api-key",{appName:ot.name}),ue(!(null==$e?void 0:$e.includes(":")),"argument-error",{appName:ot.name});const On={apiKey:te,authDomain:$e,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gn(_)},qn=new Mr(ot,cn,On);return function Ge(_,h){const p=(null==h?void 0:h.persistence)||[],w=(Array.isArray(p)?p:[p]).map(Oe);(null==h?void 0:h.errorMap)&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(w,null==h?void 0:h.popupRedirectResolver)}(qn,p),qn})(w,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,z._registerComponent)(new Ie.wA("auth-internal",h=>{const p=xt(h.getProvider("auth").getImmediate());return new Jc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,z.registerVersion)(ic,"0.20.1",function Xc(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,z.registerVersion)(ic,"0.20.1","esm2017")}("Browser")},5525:(kt,Ue,S)=>{S.d(Ue,{u7:()=>Uc,Jj:()=>el,IX:()=>kg,my:()=>di,xU:()=>_u,Lz:()=>ua,WA:()=>vt,F8:()=>Pc,$q:()=>Bl,W:()=>Eu,EK:()=>P,PU:()=>em,l7:()=>Qs,Ky:()=>Qt,Xb:()=>Un,Cf:()=>Ar,K9:()=>ma,Me:()=>Ci,yq:()=>go,Wi:()=>xg,ET:()=>By,Ab:()=>th,vr:()=>Qf,Fc:()=>wy,hJ:()=>qv,B$:()=>Yv,at:()=>Vf,oe:()=>Bc,AK:()=>im,TF:()=>by,JU:()=>Pg,ST:()=>Ey,fH:()=>Iy,Ix:()=>Lg,Wu:()=>Py,Lx:()=>Oy,qY:()=>$i,GL:()=>ol,QT:()=>jo,kl:()=>tm,Xk:()=>nm,PL:()=>Fy,UQ:()=>Ly,zN:()=>Vy,ad:()=>Gd,nP:()=>om,b9:()=>Ry,vh:()=>Zg,Pb:()=>Vg,L$:()=>Bf,cf:()=>rm,sc:()=>jy,Xo:()=>Wg,IO:()=>My,iE:()=>my,Eo:()=>Ng,i3:()=>$y,Bt:()=>sm,pl:()=>Uy,Ub:()=>ul,qK:()=>Gg,TQ:()=>Qg,e0:()=>Yg,r7:()=>Yf,Mx:()=>Dy,ar:()=>xy});var ne,f=S(5861),E=S(9681),z=S(4859),ie=S(1877),V=S(2090),Ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge={},Ee=Ee||{},Q=Ie||self;function ae(){}function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function le(i,e,n){return i.call.apply(i.bind,arguments)}function Xe(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ct(i,e,n){return(Ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?le:Xe).apply(null,arguments)}function At(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ke(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),b=2;b<arguments.length;b++)g[b-2]=arguments[b];return e.prototype[u].apply(o,g)}}function Fe(){this.s=this.s,this.o=this.o}var bt={};Fe.prototype.s=!1,Fe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function He(i){return Object.prototype.hasOwnProperty.call(i,tt)&&i[tt]||(i[tt]=++pt)}(this);delete bt[i]}},Fe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ue=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},xe=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in u&&e.call(n,u[d],d,i)};function ce(i){return Array.prototype.concat.apply([],arguments)}function Oe(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Be(i){return/^[\s\xa0]*$/.test(i)}var Nt,Ge=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Le(i,e){return-1!=i.indexOf(e)}function gt(i,e){return i<e?-1:i>e?1:0}e:{var Bt=Q.navigator;if(Bt){var Ut=Bt.userAgent;if(Ut){Nt=Ut;break e}}Nt=""}function Tt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function _n(i){const e={};for(const n in i)e[n]=i[n];return e}var Nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<Nn.length;d++)n=Nn[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function qt(i){return qt[" "](i),i}qt[" "]=ae;var Jn,i,Yt=Le(Nt,"Opera"),pn=Le(Nt,"Trident")||Le(Nt,"MSIE"),bn=Le(Nt,"Edge"),Fn=bn||pn,vn=Le(Nt,"Gecko")&&!(Le(Nt.toLowerCase(),"webkit")&&!Le(Nt,"Edge"))&&!(Le(Nt,"Trident")||Le(Nt,"MSIE"))&&!Le(Nt,"Edge"),Ln=Le(Nt.toLowerCase(),"webkit")&&!Le(Nt,"Edge");function Yn(){var i=Q.document;return i?i.documentMode:void 0}e:{var tn="",Zn=(i=Nt,vn?/rv:([^\);]+)(\)|;)/.exec(i):bn?/Edge\/([\d\.]+)/.exec(i):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ln?/WebKit\/(\S+)/.exec(i):Yt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Zn&&(tn=Zn?Zn[1]:""),pn){var Gt=Yn();if(null!=Gt&&Gt>parseFloat(tn)){Jn=String(Gt);break e}}Jn=tn}var Ir={};var gr=Q.document&&pn&&(Yn()||parseInt(Jn,10))||void 0,ut=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",ae,e),Q.removeEventListener("test",ae,e)}catch(n){}return i}();function ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function De(i,e){if(ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(vn){e:{try{qt(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:mt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&De.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},Ke(De,ye);var mt={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),_t=0;function yt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++_t,this.ca=this.fa=!1}function gn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function hn(i){this.src=i,this.g={},this.h=0}function sn(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=ue(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(gn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ar(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!n&&d.ia==o)return u}return-1}hn.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ar(i,e,o,u);return-1<g?(e=i[g],n||(e.fa=!1)):((e=new yt(e,this.src,d,!!o,u)).fa=n,i.push(e)),e};var jn="closure_lm_"+(1e6*Math.random()|0),dn={};function se(i,e,n,o,u){if(o&&o.once)return k(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)se(i,e[d],n,o,u);return null}return n=Mt(n),i&&i[Ve]?i.N(e,n,Qe(o)?!!o.capture:!!o,u):me(i,e,n,!1,o,u)}function me(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var g=Qe(u)?!!u.capture:!!u,b=Ye(i);if(b||(i[jn]=b=new hn(i)),(n=b.add(e,n,o,g,d)).proxy)return n;if(o=function J(){var e=Ae;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ut||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ee(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function k(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)k(i,e[d],n,o,u);return null}return n=Mt(n),i&&i[Ve]?i.O(e,n,Qe(o)?!!o.capture:!!o,u):me(i,e,n,!0,o,u)}function N(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)N(i,e[d],n,o,u);else o=Qe(o)?!!o.capture:!!o,n=Mt(n),i&&i[Ve]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ar(d=i.g[e],n,o,u))&&(gn(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Ye(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ar(e,n,o,u)),(n=-1<i?e[i]:null)&&X(n))}function X(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ve])sn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ee(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ye(e))?(sn(n,i),0==n.h&&(n.src=null,e[jn]=null)):gn(i)}}}function ee(i){return i in dn?dn[i]:dn[i]="on"+i}function Ae(i,e){if(i.ca)i=!0;else{e=new De(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&X(i),i=n.call(o,e)}return i}function Ye(i){return(i=i[jn])instanceof hn?i:null}var ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(i){return"function"==typeof i?i:(i[ct]||(i[ct]=function(e){return i.handleEvent(e)}),i[ct])}function ht(){Fe.call(this),this.i=new hn(this),this.P=this,this.I=null}function Lt(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ye(e,i);else if(e instanceof ye)e.target=e.target||i;else{var u=e;Tn(e=new ye(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var g=e.g=n[d];u=ke(g,o,!0,e)&&u}if(u=ke(g=e.g=i,o,!0,e)&&u,u=ke(g,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=ke(g=e.g=n[d],o,!1,e)&&u}function ke(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ca&&g.capture==n){var b=g.listener,L=g.ia||g.src;g.fa&&sn(i.i,g),u=!1!==b.call(L,o)&&u}}return u&&!o.defaultPrevented}Ke(ht,Fe),ht.prototype[Ve]=!0,ht.prototype.removeEventListener=function(i,e,n,o){N(this,i,e,n,o)},ht.prototype.M=function(){if(ht.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)gn(n[o]);delete i.g[e],i.h--}}this.I=null},ht.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ht.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var ve=Q.JSON.stringify;function fe(){var i=Pn;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var wn,at=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new $t,i=>i.reset());class $t{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ln(i){Q.setTimeout(()=>{throw i},0)}function Dn(i,e){wn||function rr(){var i=Q.Promise.resolve(void 0);wn=function(){i.then(An)}}(),sr||(wn(),sr=!0),Pn.add(i,e)}var sr=!1,Pn=new class rt{constructor(){this.h=this.g=null}add(e,n){const o=at.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function An(){for(var i;i=fe();){try{i.h.call(i.g)}catch(n){ln(n)}var e=at;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}sr=!1}function wr(i,e){ht.call(this),this.h=i||1,this.g=e||Q,this.j=Ct(this.kb,this),this.l=Date.now()}function Gn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Kr(i,e,n){if("function"==typeof i)n&&(i=Ct(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ct(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function Mr(i){i.g=Kr(()=>{i.g=null,i.i&&(i.i=!1,Mr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ke(wr,ht),(ne=wr.prototype).da=!1,ne.S=null,ne.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(Gn(this),this.start()))}},ne.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ne.M=function(){wr.Z.M.call(this),Gn(this),delete this.g};class xt extends Fe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Mr(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _e(i){Fe.call(this),this.h=i,this.g={}}Ke(_e,Fe);var qe=[];function Et(i,e,n,o){Array.isArray(n)||(n&&(qe[0]=n.toString()),n=qe);for(var u=0;u<n.length;u++){var d=se(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Xt(i){Tt(i.g,function(e,n){this.g.hasOwnProperty(n)&&X(e)},i),i.g={}}function Sn(){this.g=!0}function ur(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return ve(n)}catch(b){return e}}(i,n)+(o?" "+o:"")})}_e.prototype.M=function(){_e.Z.M.call(this),Xt(this)},_e.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sn.prototype.Aa=function(){this.g=!1},Sn.prototype.info=function(){};var Dr={},fi=null;function Zr(){return fi=fi||new ht}function si(i){ye.call(this,Dr.Ma,i)}function vr(i){const e=Zr();Lt(e,new si(e,i))}function Pr(i,e){ye.call(this,Dr.STAT_EVENT,i),this.stat=e}function dr(i){const e=Zr();Lt(e,new Pr(e,i))}function Pe(i,e){ye.call(this,Dr.Na,i),this.size=e}function we(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}Dr.Ma="serverreachability",Ke(si,ye),Dr.STAT_EVENT="statevent",Ke(Pr,ye),Dr.Na="timingevent",Ke(Pe,ye);var Je={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ft={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rt(){}function tr(){}Rt.prototype.h=null;var Ni,_r={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hn(){ye.call(this,"d")}function Cr(){ye.call(this,"c")}function kr(){}function Si(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new _e(this),this.P=Ds,this.W=new wr(i=Fn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Er}function Er(){this.i=null,this.g="",this.h=!1}Ke(Hn,ye),Ke(Cr,ye),Ke(kr,Rt),kr.prototype.g=function(){return new XMLHttpRequest},kr.prototype.i=function(){return{}},Ni=new kr;var Ds=45e3,ks={},qr={};function ki(i,e,n){i.K=1,i.v=Li(Xr(e)),i.s=n,i.U=!0,Ei(i,null)}function Ei(i,e){i.F=Date.now(),ns(i),i.A=Xr(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),x(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Er,i.g=Bi(i.l,n?e:null,!i.s),0<i.O&&(i.L=new xt(Ct(i.Ia,i,i.g),i.O)),Et(i.V,i.g,"readystatechange",i.gb),e=i.H?_n(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),vr(1),function $n(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",b=d.split("&"),L=0;L<b.length;L++){var H=b[L].split("=");if(1<H.length){var pe=H[0];H=H[1];var Re=pe.split("_");g=2<=Re.length&&"type"==Re[1]?g+(pe+"=")+H+"&":g+(pe+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ts(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Fi(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=lo(i,n),u==qr){4==e&&(i.o=4,dr(14),o=!1),ur(i.j,i.m,null,"[Incomplete Response]");break}if(u==ks){i.o=4,dr(15),ur(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ur(i.j,i.m,u,null),bs(i,u)}ts(i)&&u!=qr&&u!=ks&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,dr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),po(e),e.L=!0,dr(11))):(ur(i.j,i.m,n,"[Invalid Chunked Response]"),pi(i),Mi(i))}function lo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?qr:(n=Number(e.substring(n,o)),isNaN(n)?ks:(o+=1)+n>e.length?qr:(e=e.substr(o,n),i.C=o+n,e))}function ns(i){i.Y=Date.now()+i.P,Us(i,i.P)}function Us(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=we(Ct(i.eb,i),e)}function rs(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function Mi(i){0==i.l.G||i.I||Ga(i.l,i)}function pi(i){rs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Gn(i.W),Xt(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function bs(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||q(n.i,i)))if(n.I=i.N,!i.J&&q(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(H){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=we(Ct(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;bo(n),Ho(n)}fo(n),dr(18)}if(1>=or(n.i)&&n.ka){try{n.ka()}catch(H){}n.ka=void 0}}else Ts(n,11)}else if((i.J||n.g==i)&&bo(n),!Be(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(n.U=H[0],H=H[1],2==n.G)if("c"==H[0]){n.J=H[1],n.la=H[2];const pe=H[3];null!=pe&&(n.ma=pe,n.h.info("VER="+n.ma));const Re=H[4];null!=Re&&(n.za=Re,n.h.info("SVER="+n.za));const nt=H[5];null!=nt&&"number"==typeof nt&&0<nt&&(n.K=o=1.5*nt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Pt=i.g;if(Pt){const Ft=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var d=o.i;!d.g&&(Le(Ft,"spdy")||Le(Ft,"quic")||Le(Ft,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Y(d,d.h),d.h=null))}if(o.D){const mn=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;mn&&(o.sa=mn,lr(o.F,o.D,mn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var g=i;if((o=n).oa=fa(o,o.H?o.la:null,o.W),g.J){be(o.i,g);var b=g,L=o.K;L&&b.setTimeout(L),b.B&&(rs(b),ns(b)),o.g=g}else da(o);0<n.l.length&&Do(n)}else"stop"!=H[0]&&"close"!=H[0]||Ts(n,7);else 3==n.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Ts(n,7):Ui(n):"noop"!=H[0]&&n.j&&n.j.wa(H),n.A=0)}vr(4)}catch(H){}}function Yr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)xe(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(Me(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function Cs(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}}function is(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof is)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function zi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Qr(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Qr(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Qr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(ne=Si.prototype).setTimeout=function(i){this.P=i},ne.gb=function(i){i=i.target;const e=this.L;e&&3==os(i)?e.l():this.Ia(i)},ne.Ia=function(i){try{if(i==this.g)e:{const pe=os(this.g);var e=this.g.Da();const Re=this.g.ba();if(!(3>pe)&&(3!=pe||Fn||this.g&&(this.h.h||this.g.ga()||co(this.g)))){this.I||4!=pe||7==e||vr(8==e||0>=Re?3:2),rs(this);var n=this.g.ba();this.N=n;t:if(ts(this)){var o=co(this.g);i="";var u=o.length,d=4==os(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){pi(this),Mi(this);var g="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==n,function Mn(i,e,n,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,pe,n),this.i){if(this.$&&!this.J){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(b)){var H=b;break t}}H=null}if(!(n=H)){this.i=!1,this.o=3,dr(12),pi(this),Mi(this);break e}ur(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bs(this,n)}this.U?(Fi(this,pe,g),Fn&&this.i&&3==pe&&(Et(this.V,this.W,"tick",this.fb),this.W.start())):(ur(this.j,this.m,g,null),bs(this,g)),4==pe&&pi(this),this.i&&!this.I&&(4==pe?Ga(this.l,this):(this.i=!1,ns(this)))}else 400==n&&0<g.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),pi(this),Mi(this)}}}catch(pe){}},ne.fb=function(){if(this.g){var i=os(this.g),e=this.g.ga();this.C<e.length&&(rs(this),Fi(this,i,e),this.i&&4!=i&&ns(this))}},ne.cancel=function(){this.I=!0,pi(this)},ne.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function xr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vr(3),dr(17)),pi(this),this.o=2,Mi(this)):Us(this,this.Y-i)},(ne=is.prototype).R=function(){zi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},ne.T=function(){return zi(this),this.g.concat()},ne.get=function(i,e){return Qr(this.h,i)?this.h[i]:e},ne.set=function(i,e){Qr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},ne.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],d=this.get(u);i.call(e,d,u,this)}};var Jr=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function gi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof gi){this.g=void 0!==e?e:i.g,Ki(this,i.j),this.s=i.s,oi(this,i.i),Ii(this,i.m),this.l=i.l,e=i.h;var n=new qi;n.i=e.i,e.g&&(n.g=new is(e.g),n.h=e.h),Hr(this,n),this.o=i.o}else i&&(n=String(i).match(Jr))?(this.g=!!e,Ki(this,n[1]||"",!0),this.s=Tr(n[2]||""),oi(this,n[3]||"",!0),Ii(this,n[4]),this.l=Tr(n[5]||"",!0),Hr(this,n[6]||"",!0),this.o=Tr(n[7]||"")):(this.g=!!e,this.h=new qi(null,this.g))}function Xr(i){return new gi(i)}function Ki(i,e,n){i.j=n?Tr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function oi(i,e,n){i.i=n?Tr(e,!0):e}function Ii(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Hr(i,e,n){e instanceof qi?(i.h=e,function Te(i,e){e&&!i.j&&(ir(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(R(this,o),x(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=ei(e,mi)),i.h=new qi(e,i.g))}function lr(i,e,n){i.h.set(e,n)}function Li(i){return lr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Tr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ei(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ps),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ps(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}gi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ei(e,Zi,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ei(e,Zi,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(ei(n,"/"==n.charAt(0)?ss:wi,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ei(n,xi)),i.join("")};var Zi=/[#\/\?@]/g,wi=/[#\?:]/g,ss=/[#\?]/g,mi=/[#\?@]/g,xi=/#/g;function qi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function ir(i){i.g||(i.g=new is,i.h=0,i.i&&function Wi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R(i,e){ir(i),e=K(i,e),Qr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Qr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&zi(i)))}function $(i,e){return ir(i),e=K(i,e),Qr(i.g.h,e)}function x(i,e,n){R(i,e),0<n.length&&(i.i=null,i.g.set(K(i,e),Oe(n)),i.h+=n.length)}function K(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function wt(i){this.l=i||un,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ea&&Q.g.Ea()&&Q.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ne=qi.prototype).add=function(i,e){ir(this),this.i=null,i=K(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},ne.forEach=function(i,e){ir(this),this.g.forEach(function(n,o){xe(n,function(u){i.call(e,u,o,this)},this)},this)},ne.T=function(){ir(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],d=0;d<u.length;d++)n.push(e[o]);return n},ne.R=function(i){ir(this);var e=[];if("string"==typeof i)$(this,i)&&(e=ce(e,this.g.get(K(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=ce(e,i[n])}return e},ne.set=function(i,e){return ir(this),this.i=null,$(this,i=K(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},ne.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var g=u;""!==o[d]&&(g+="="+encodeURIComponent(String(o[d]))),i.push(g)}}return this.i=i.join("&")};var un=10;function cr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function or(i){return i.h?1:i.g?i.g.size:0}function q(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Y(i,e){i.g?i.g.add(e):i.h=e}function be(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ze(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Oe(i.i)}function It(){}function jt(){this.g=new It}function yn(i,e,n){const o=n||"";try{Yr(i,function(u,d){let g=u;Qe(u)&&(g=ve(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function hr(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function mr(i){this.l=i.$b||null,this.j=i.ib||!1}function yr(i,e){ht.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},It.prototype.stringify=function(i){return Q.JSON.stringify(i,void 0)},It.prototype.parse=function(i){return Q.JSON.parse(i,void 0)},Ke(mr,Rt),mr.prototype.g=function(){return new yr(this.l,this.j)},mr.prototype.i=function(i){return function(){return i}}({}),Ke(yr,ht);var Vn=0;function O(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function A(i){i.readyState=4,i.l=null,i.j=null,i.A=null,T(i)}function T(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(ne=yr.prototype).open=function(i,e){if(this.readyState!=Vn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,T(this)},ne.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,A(this)),this.readyState=Vn},ne.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,T(this)),this.g&&(this.readyState=3,T(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Q.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},ne.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?A(this):T(this),3==this.readyState&&O(this)}},ne.Ua=function(i){this.g&&(this.response=this.responseText=i,A(this))},ne.Ta=function(i){this.g&&(this.response=i,A(this))},ne.ha=function(){this.g&&A(this)},ne.setRequestHeader=function(i,e){this.v.append(i,e)},ne.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},ne.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var W=Q.JSON.parse;function de(i){ht.call(this),this.headers=new is,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=St,this.K=this.L=!1}Ke(de,ht);var St="",Xn=/^https?$/i,Qn=["POST","PUT"];function Vi(i){return"content-type"==i.toLowerCase()}function Oi(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,gs(i),$a(i)}function gs(i){i.D||(i.D=!0,Lt(i,"complete"),Lt(i,"error"))}function Ws(i){if(i.h&&void 0!==Ee&&(!i.C[1]||4!=os(i)||2!=i.ba()))if(i.v&&4==os(i))Kr(i.Fa,0,i);else if(Lt(i,"readystatechange"),4==os(i)){i.h=!1;try{const b=i.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var u=String(i.H).match(Jr)[1]||null;if(!u&&Q.self&&Q.self.location){var d=Q.self.location.protocol;u=d.substr(0,d.length-1)}o=!Xn.test(u?u.toLowerCase():"")}n=o}if(n)Lt(i,"complete"),Lt(i,"success");else{i.m=6;try{var g=2<os(i)?i.g.statusText:""}catch(L){g=""}i.j=g+" ["+i.ba()+"]",gs(i)}}finally{$a(i)}}}function $a(i,e){if(i.g){la(i);const n=i.g,o=i.C[0]?ae:null;i.g=null,i.C=null,e||Lt(i,"ready");try{n.onreadystatechange=o}catch(u){}}}function la(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function os(i){return i.g?i.g.readyState:0}function co(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case St:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Yi(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function Di(i){let e="";return Tt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):lr(i,e,n))}function Bs(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function Ks(i){this.za=0,this.l=[],this.h=new Sn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bs("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bs("baseRetryDelayMs",5e3,i),this.$a=Bs("retryDelaySeedMs",1e4,i),this.Ya=Bs("forwardChannelMaxRetries",2,i),this.ra=Bs("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new wt(i&&i.concurrentRequestLimit),this.Ca=new jt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Ui(i){if(wo(i),3==i.G){var e=i.V++,n=Xr(i.F);lr(n,"SID",i.J),lr(n,"RID",e),lr(n,"TYPE","terminate"),Go(i,n),(e=new Si(i,i.h,e,void 0)).K=2,e.v=Li(Xr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=Bi(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ns(e)}wu(i)}function Ho(i){i.g&&(po(i),i.g.cancel(),i.g=null)}function wo(i){Ho(i),i.u&&(Q.clearTimeout(i.u),i.u=null),bo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function ca(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Do(i)}function Do(i){cr(i.i)||i.m||(i.m=!0,Dn(i.Ha,i),i.C=0)}function ho(i,e){var n;n=e?e.m:i.V++;const o=Xr(i.F);lr(o,"SID",i.J),lr(o,"RID",n),lr(o,"AID",i.U),Go(i,o),i.o&&i.s&&Yi(o,i.o,i.s),n=new Si(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=zo(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Y(i.i,n),ki(n,o,e)}function Go(i,e){i.j&&Yr({},function(n,o){lr(e,o,n)})}function zo(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Ct(i.j.Oa,i.j,i):null;e:{var u=i.l;let d=-1;for(;;){const g=["count="+n];-1==d?0<n?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let b=!0;for(let L=0;L<n;L++){let H=u[L].h;const pe=u[L].g;if(H-=d,0>H)d=Math.max(0,u[L].h-100),b=!1;else try{yn(pe,g,"req"+H+"_")}catch(Re){o&&o(pe)}}if(b){o=g.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function da(i){i.g||i.u||(i.Y=1,Dn(i.Ga,i),i.A=0)}function fo(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=we(Ct(i.Ga,i),ha(i,i.A)),i.A++,0))}function po(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Zs(i){i.g=new Si(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Xr(i.oa);lr(e,"RID","rpc"),lr(e,"SID",i.J),lr(e,"CI",i.N?"0":"1"),lr(e,"AID",i.U),Go(i,e),lr(e,"TYPE","xmlhttp"),i.o&&i.s&&Yi(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Li(Xr(e)),n.s=null,n.U=!0,Ei(n,i)}function bo(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function Ga(i,e){var n=null;if(i.g==e){bo(i),po(i),i.g=null;var o=2}else{if(!q(i.i,e))return;n=e.D,be(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Lt(o=Zr(),new Pe(o,n,e,u)),Do(i)}else da(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Ha(i,e){return!(or(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=we(Ct(i.Ha,i,e),ha(i,i.C)),i.C++,0)))}(i,e)||2==o&&fo(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Ts(i,5);break;case 4:Ts(i,10);break;case 3:Ts(i,6);break;default:Ts(i,2)}}function ha(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Ts(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Ct(i.jb,i);n||(n=new gi("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Ki(n,"https"),Li(n)),function Jt(i,e){const n=new Sn;if(Q.Image){const o=new Image;o.onload=At(hr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=At(hr,n,o,"TestLoadImage: error",!1,e),o.onabort=At(hr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=At(hr,n,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else dr(2);i.G=0,i.j&&i.j.va(e),wu(i),wo(i)}function wu(i){i.G=0,i.I=-1,i.j&&((0!=ze(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Oe(i.l),i.l.length=0),i.j.ua())}function fa(i,e,n){let o=function fs(i){return i instanceof gi?Xr(i):new gi(i,void 0)}(n);if(""!=o.i)e&&oi(o,e+"."+o.i),Ii(o,o.m);else{const u=Q.location;o=function Br(i,e,n,o){var u=new gi(null,void 0);return i&&Ki(u,i),e&&oi(u,e),n&&Ii(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&Tt(i.aa,function(u,d){lr(o,d,u)}),n=i.sa,(e=i.D)&&n&&lr(o,e,n),lr(o,"VER",i.ma),Go(i,o),o}function Bi(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new de(n&&i.Ba&&!i.qa?new mr({ib:!0}):i.qa)).L=i.H,e}function qs(){}function Fr(){if(pn&&!(10<=Number(gr)))throw Error("Environmental error: no available transport.")}function Qi(i,e){ht.call(this),this.g=new Ks(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Wo(this)}function Du(i){Hn.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function al(){Cr.call(this),this.status=1}function Wo(i){this.g=i}(ne=de.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ni.g(),this.C=function zt(i){return i.h||(i.h=i.i())}(this.u?this.u:Ni),this.g.onreadystatechange=Ct(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Oi(this,d)}i=n||"";const u=new is(this.headers);o&&Yr(o,function(d,g){u.set(g,d)}),o=function je(i){e:{var e=Vi;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=Q.FormData&&i instanceof Q.FormData,!(0<=ue(Qn,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{la(this),0<this.B&&((this.K=function Ri(i){return pn&&function Cn(){return function on(i){var e=Ir;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ge(String(Jn)).split("."),n=Ge("9").split("."),o=Math.max(e.length,n.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=n[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=gt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||gt(0==u[2].length,0==d[2].length)||gt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.pa,this)):this.A=Kr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Oi(this,d)}},ne.pa=function(){void 0!==Ee&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},ne.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Lt(this,"complete"),Lt(this,"abort"),$a(this))},ne.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$a(this,!0)),de.Z.M.call(this)},ne.Fa=function(){this.s||(this.F||this.v||this.l?Ws(this):this.cb())},ne.cb=function(){Ws(this)},ne.ba=function(){try{return 2<os(this)?this.g.status:-1}catch(i){return-1}},ne.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},ne.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),W(e)}},ne.Da=function(){return this.m},ne.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ne=Ks.prototype).ma=8,ne.G=1,ne.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},ne.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Si(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=_n(d),Tn(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=zo(this,u,e),lr(n=Xr(this.F),"RID",i),lr(n,"CVER",22),this.D&&lr(n,"X-HTTP-Session-Id",this.D),Go(this,n),this.o&&d&&Yi(n,this.o,d),Y(this.i,u),this.Ra&&lr(n,"TYPE","init"),this.ja?(lr(n,"$req",e),lr(n,"SID","null"),u.$=!0,ki(u,n,null)):ki(u,n,e),this.G=2}}else 3==this.G&&(i?ho(this,i):0==this.l.length||cr(this.i)||ho(this))},ne.Ga=function(){if(this.u=null,Zs(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=we(Ct(this.bb,this),i)}},ne.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dr(10),Ho(this),Zs(this))},ne.ab=function(){null!=this.v&&(this.v=null,Ho(this),fo(this),dr(19))},ne.jb=function(i){i?(this.h.info("Successfully pinged google.com"),dr(2)):(this.h.info("Failed to ping google.com"),dr(1))},(ne=qs.prototype).xa=function(){},ne.wa=function(){},ne.va=function(){},ne.ua=function(){},ne.Oa=function(){},Fr.prototype.g=function(i,e){return new Qi(i,e)},Ke(Qi,ht),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Dn(Ct(i.hb,i,e))),dr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=fa(i,null,i.W),Do(i)},Qi.prototype.close=function(){Ui(this.g)},Qi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,ca(this.g,e)}else this.v?((e={}).__data__=ve(i),ca(this.g,e)):ca(this.g,i)},Qi.prototype.M=function(){this.g.j=null,delete this.j,Ui(this.g),delete this.g,Qi.Z.M.call(this)},Ke(Du,Hn),Ke(al,Cr),Ke(Wo,qs),Wo.prototype.xa=function(){Lt(this.g,"a")},Wo.prototype.wa=function(i){Lt(this.g,new Du(i))},Wo.prototype.va=function(i){Lt(this.g,new al(i))},Wo.prototype.ua=function(){Lt(this.g,"b")},Fr.prototype.createWebChannel=Fr.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,ft.COMPLETE="complete",tr.EventType=_r,_r.OPEN="a",_r.CLOSE="b",_r.ERROR="c",_r.MESSAGE="d",ht.prototype.listen=ht.prototype.N,de.prototype.listenOnce=de.prototype.O,de.prototype.getLastError=de.prototype.La,de.prototype.getLastErrorCode=de.prototype.Da,de.prototype.getStatus=de.prototype.ba,de.prototype.getResponseJson=de.prototype.Qa,de.prototype.getResponseText=de.prototype.ga,de.prototype.send=de.prototype.ea;var $l=ge.createWebChannelTransport=function(){return new Fr},za=ge.getStatEventTarget=function(){return Zr()},as=ge.ErrorCode=Je,Co=ge.EventType=ft,pa=ge.Event=Dr,bi=ge.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bu=ge.FetchXmlHttpFactory=mr,Ko=ge.WebChannel=tr,us=ge.XhrIo=de;const As="@firebase/firestore";class Gr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gr.UNAUTHENTICATED=new Gr(null),Gr.GOOGLE_CREDENTIALS=new Gr("google-credentials-uid"),Gr.FIRST_PARTY=new Gr("first-party-uid"),Gr.MOCK_USER=new Gr("mock-user");let Fs="9.8.0";const ls=new ie.Yd("@firebase/firestore");function To(){return ls.logLevel}function ul(i){ls.setLogLevel(i)}function Vt(i,...e){if(ls.logLevel<=ie.in.DEBUG){const n=e.map(ga);ls.debug(`Firestore (${Fs}): ${i}`,...n)}}function ai(i,...e){if(ls.logLevel<=ie.in.ERROR){const n=e.map(ga);ls.error(`Firestore (${Fs}): ${i}`,...n)}}function go(i,...e){if(ls.logLevel<=ie.in.WARN){const n=e.map(ga);ls.warn(`Firestore (${Fs}): ${i}`,...n)}}function ga(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+i;throw ai(e),new Error(e)}function kn(i,e){i||nn()}function ma(i,e){i||nn()}function Wt(i,e){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class js{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ya{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Gr.UNAUTHENTICATED))}shutdown(){}}class Ao{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Hl{constructor(e){this.t=e,this.currentUser=Gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=H=>this.i!==u?(u=this.i,n(H)):Promise.resolve();let g=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new yi,e.enqueueRetryable(()=>d(this.currentUser))};const b=()=>{const H=g;e.enqueueRetryable((0,f.Z)(function*(){yield H.promise,yield d(o.currentUser)}))},L=H=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new yi)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(kn("string"==typeof o.accessToken),new js(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kn(null===e||"string"==typeof e),new Gr(e)}}class Cu{constructor(e,n,o){this.type="FirstParty",this.user=Gr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class So{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Cu(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Gr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mo{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=d=>{null!=d.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.p;return this.p=d.token,Vt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kn("string"==typeof n.token),this.p=n.token,new Zo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ui{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ys(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}ui.A=-1;class D{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ys(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function v(i,e){return i<e?-1:i>e?1:0}function y(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function M(i){return i+"\0"}class P{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return P.fromMillis(Date.now())}static fromDate(e){return P.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new P(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?v(this.nanoseconds,e.nanoseconds):v(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class U{constructor(e){this.timestamp=e}static fromTimestamp(e){return new U(e)}static min(){return new U(new P(0,0))}static max(){return new U(new P(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function he(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ce(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function dt(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class en{constructor(e,n,o){void 0===n?n=0:n>e.length&&nn(),void 0===o?o=e.length-n:o>e.length-n&&nn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===en.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof en?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),g=n.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Zt extends en{construct(e,n,o){return new Zt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const En=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends en{construct(e,n,o){return new Un(e,n,o)}static isValidIdentifier(e){return En.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new vt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new vt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new vt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===b?(g=!g,u++):"."!==b||g?(o+=b,u++):(d(),u++)}if(d(),g)throw new vt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}class fr{constructor(e){this.fields=e,e.sort(Un.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return y(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ci(){return"undefined"!=typeof atob}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Nr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return v(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const xo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ms(i){if(kn(!!i),"string"==typeof i){let e=0;const n=xo.exec(i);if(kn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:br(i.seconds),nanos:br(i.nanos)}}function br(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function ys(i){return"string"==typeof i?Nr.fromBase64String(i):Nr.fromUint8Array(i)}function $s(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ll(i){const e=i.mapValue.fields.__previous_value__;return $s(e)?ll(e):e}function qo(i){const e=ms(i.mapValue.fields.__local_write_time__.timestampValue);return new P(e.seconds,e.nanos)}class va{constructor(e,n,o,u,d,g,b,L){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=b,this.useFetchStreams=L}}class Qs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Qs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Qs&&e.projectId===this.projectId&&e.database===this.database}}function Wa(i){return null==i}function Lr(i){return 0===i&&1/i==-1/0}function Gl(i){return"number"==typeof i&&Number.isInteger(i)&&!Lr(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Zt.fromString(e))}static fromName(e){return new Qt(Zt.fromString(e).popFirst(5))}static empty(){return new Qt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Zt(e.slice()))}}const Yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tu={nullValue:"NULL_VALUE"};function _a(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$s(i)?4:Ea(i)?9007199254740991:10:nn()}function yo(i,e){if(i===e)return!0;const n=_a(i);if(n!==_a(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return qo(i).isEqual(qo(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ms(o.timestampValue),g=ms(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,ys(i.bytesValue).isEqual(ys(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return br(o.geoPointValue.latitude)===br(u.geoPointValue.latitude)&&br(o.geoPointValue.longitude)===br(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return br(o.integerValue)===br(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=br(o.doubleValue),g=br(u.doubleValue);return d===g?Lr(d)===Lr(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return y(i.arrayValue.values||[],e.arrayValue.values||[],yo);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(he(d)!==he(g))return!1;for(const b in d)if(d.hasOwnProperty(b)&&(void 0===g[b]||!yo(d[b],g[b])))return!1;return!0}(i,e);default:return nn()}var u}function Au(i,e){return void 0!==(i.values||[]).find(n=>yo(n,e))}function vs(i,e){if(i===e)return 0;const n=_a(i),o=_a(e);if(n!==o)return v(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return v(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=br(u.integerValue||u.doubleValue),b=br(d.integerValue||d.doubleValue);return g<b?-1:g>b?1:g===b?0:isNaN(g)?isNaN(b)?0:-1:1}(i,e);case 3:return zc(i.timestampValue,e.timestampValue);case 4:return zc(qo(i),qo(e));case 5:return v(i.stringValue,e.stringValue);case 6:return function(u,d){const g=ys(u),b=ys(d);return g.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),b=d.split("/");for(let L=0;L<g.length&&L<b.length;L++){const H=v(g[L],b[L]);if(0!==H)return H}return v(g.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=v(br(u.latitude),br(d.latitude));return 0!==g?g:v(br(u.longitude),br(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],b=d.values||[];for(let L=0;L<g.length&&L<b.length;++L){const H=vs(g[L],b[L]);if(H)return H}return v(g.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Yo.mapValue&&d===Yo.mapValue)return 0;if(u===Yo.mapValue)return 1;if(d===Yo.mapValue)return-1;const g=u.fields||{},b=Object.keys(g),L=d.fields||{},H=Object.keys(L);b.sort(),H.sort();for(let pe=0;pe<b.length&&pe<H.length;++pe){const Re=v(b[pe],H[pe]);if(0!==Re)return Re;const nt=vs(g[b[pe]],L[H[pe]]);if(0!==nt)return nt}return v(b.length,H.length)}(i.mapValue,e.mapValue);default:throw nn()}}function zc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return v(i,e);const n=ms(i),o=ms(e),u=v(n.seconds,o.seconds);return 0!==u?u:v(n.nanos,o.nanos)}function Vr(i){return Ka(i)}function Ka(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ms(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?ys(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=Ka(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const b of u)g?g=!1:d+=",",d+=`${b}:${Ka(o.fields[b])}`;return d+"}"}(i.mapValue):nn();var e}function _s(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function zl(i){return!!i&&"integerValue"in i}function Qo(i){return!!i&&"arrayValue"in i}function Ji(i){return!!i&&"nullValue"in i}function Ss(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Za(i){return!!i&&"mapValue"in i}function Js(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ce(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=Js(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Js(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ea(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ro(i){return"nullValue"in i?Tu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?_s(Qs.empty(),Qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:nn()}function cl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?_s(Qs.empty(),Qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Yo:nn()}function Wl(i,e){const n=vs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Wc(i,e){const n=vs(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class cs{constructor(e){this.value=e}static empty(){return new cs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Za(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Js(n)}setAll(e){let n=Un.emptyPath(),o={},u=[];e.forEach((g,b)=>{if(!n.isImmediateParentOf(b)){const L=this.getFieldsMap(n);this.applyChanges(L,o,u),o={},u=[],n=b.popLast()}g?o[b.lastSegment()]=Js(g):u.push(b.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());Za(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Za(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Ce(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new cs(Js(this.value))}}function qa(i){const e=[];return Ce(i.fields,(n,o)=>{const u=new Un([n]);if(Za(o)){const d=qa(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new fr(e)}class pr{constructor(e,n,o,u,d,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new pr(e,0,U.min(),U.min(),cs.empty(),0)}static newFoundDocument(e,n,o){return new pr(e,1,n,U.min(),o,0)}static newNoDocument(e,n){return new pr(e,2,n,U.min(),cs.empty(),0)}static newUnknownDocument(e,n){return new pr(e,3,n,U.min(),cs.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ia{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Oo(i){return i.fields.find(e=>2===e.kind)}function Po(i){return i.fields.filter(e=>2!==e.kind)}Ia.UNKNOWN_ID=-1;class Ya{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jo(0,Ms.min())}}function Kl(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=U.fromTimestamp(1e9===o?new P(n+1,0):new P(n,o));return new Ms(u,Qt.empty(),e)}function dl(i){return new Ms(i.readTime,i.key,-1)}class Ms{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ms(U.min(),Qt.empty(),-1)}static max(){return new Ms(U.max(),Qt.empty(),-1)}}function Zl(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qt.comparator(i.documentKey,e.documentKey),0!==n?n:v(i.largestBatchId,e.largestBatchId))}class Ur{constructor(e,n){this.comparator=e,this.root=n||li.EMPTY}insert(e,n){return new Ur(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,li.BLACK,null,null))}remove(e){return new Ur(this.comparator,this.root.remove(e,this.comparator).copy(null,null,li.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xo(this.root,e,this.comparator,!0)}}class Xo{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class li{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=null!=o?o:li.RED,this.left=null!=u?u:li.EMPTY,this.right=null!=d?d:li.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new li(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return li.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,n,o,u){return this}insert(i,e,n){return new li(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Z{constructor(e){this.comparator=e,this.data=new Ur(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new re(this.data.getIterator())}getIteratorFrom(e){return new re(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Z)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Z(this.comparator);return n.data=e,n}}class re{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function B(i){return i.hasNext()?i.getNext():void 0}class Ne{constructor(e,n=null,o=[],u=[],d=null,g=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=b,this.P=null}}function et(i,e=null,n=[],o=[],u=null,d=null,g=null){return new Ne(i,e,n,o,u,d,g)}function Kt(i){const e=Wt(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Vr(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Wa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>Vr(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>Vr(o)).join(",")),e.P=n}return e.P}function zn(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Qa(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!yo(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hl(i.startAt,e.startAt)&&hl(i.endAt,e.endAt)}function Rr(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function zr(i,e){return i.filters.filter(n=>n instanceof Rn&&n.field.isEqual(e))}function Hs(i,e,n){let o=Tu,u=!0;for(const d of zr(i,e)){let g=Tu,b=!0;switch(d.op){case"<":case"<=":g=Ro(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,b=!1;break;case"!=":case"not-in":g=Tu}Wl({value:o,inclusive:u},{value:g,inclusive:b})<0&&(o=g,u=b)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Wl({value:o,inclusive:u},{value:g,inclusive:n.inclusive})<0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}function Xs(i,e,n){let o=Yo,u=!0;for(const d of zr(i,e)){let g=Yo,b=!0;switch(d.op){case">=":case">":g=cl(d.value),b=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,b=!1;break;case"!=":case"not-in":g=Yo}Wc({value:o,inclusive:u},{value:g,inclusive:b})>0&&(o=g,u=b)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Wc({value:o,inclusive:u},{value:g,inclusive:n.inclusive})>0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}class Rn extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new ti(e,n,o):"array-contains"===n?new No(e,o):"in"===n?new vo(e,o):"not-in"===n?new ql(e,o):"array-contains-any"===n?new Su(e,o):new Rn(e,n,o)}static V(e,n,o){return"in"===n?new Pi(e,o):new Wr(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(vs(n,this.value)):null!==n&&_a(this.value)===_a(n)&&this.v(vs(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ti extends Rn{constructor(e,n,o){super(e,n,o),this.key=Qt.fromName(o.referenceValue)}matches(e){const n=Qt.comparator(e.key,this.key);return this.v(n)}}class Pi extends Rn{constructor(e,n){super(e,"in",n),this.keys=jr(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Wr extends Rn{constructor(e,n){super(e,"not-in",n),this.keys=jr(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jr(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Qt.fromName(o.referenceValue))}class No extends Rn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qo(n)&&Au(n.arrayValue,this.value)}}class vo extends Rn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Au(this.value.arrayValue,n)}}class ql extends Rn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Au(this.value.arrayValue,n)}}class Su extends Rn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Au(this.value.arrayValue,o))}}class xs{constructor(e,n){this.position=e,this.inclusive=n}}class wa{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qa(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function Yl(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Qt.comparator(Qt.fromName(g.referenceValue),n.key):vs(g,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function hl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!yo(i.position[n],e.position[n]))return!1;return!0}class eo{constructor(e,n=null,o=[],u=[],d=null,g="F",b=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=b,this.endAt=L,this.D=null,this.C=null}}function Ja(i,e,n,o,u,d,g,b){return new eo(i,e,n,o,u,d,g,b)}function ko(i){return new eo(i)}function Ql(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function ea(i){for(const e of i.filters)if(e.S())return e.field;return null}function Fo(i){return null!==i.collectionGroup}function Xa(i){const e=Wt(i);if(null===e.D){e.D=[];const n=ea(e),o=Ql(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new wa(n)),e.D.push(new wa(Un.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new wa(Un.keyField(),d))}}}return e.D}function to(i){const e=Wt(i);if(!e.C)if("F"===e.limitType)e.C=et(e.path,e.collectionGroup,Xa(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of Xa(e))n.push(new wa(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new xs(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new xs(e.startAt.position,e.startAt.inclusive):null;e.C=et(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.C}function fl(i,e,n){return new eo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Mu(i,e){return zn(to(i),to(e))&&i.limitType===e.limitType}function pl(i){return`${Kt(to(i))}|lt:${i.limitType}`}function Jl(i){return`Query(target=${function xn(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${Vr(o.value)}`;var o}).join(", ")}]`),Wa(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>Vr(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>Vr(n)).join(",")),`Target(${e})`}(to(i))}; limitType=${i.limitType})`}function Xl(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Qt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,g){const b=Yl(u,d,g);return u.inclusive?b<=0:b<0}(n.startAt,Xa(n),o)||n.endAt&&!function(u,d,g){const b=Yl(u,d,g);return u.inclusive?b>=0:b>0}(n.endAt,Xa(n),o)));var n,o}function Kc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function xu(i){return(e,n)=>{let o=!1;for(const u of Xa(i)){const d=ec(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function ec(i,e,n){const o=i.field.isKeyField()?Qt.comparator(e.key,n.key):function(u,d,g){const b=d.data.field(u),L=g.data.field(u);return null!==b&&null!==L?vs(b,L):nn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function Da(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lr(e)?"-0":e}}function Zc(i){return{integerValue:""+i}}function qc(i,e){return Gl(e)?Zc(e):Da(i,e)}class Ru{constructor(){this._=void 0}}function gl(i,e,n){return i instanceof ba?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof ta?ml(i,e):i instanceof Ca?Yc(i,e):function(o,u){const d=nc(o,u),g=Qc(d)+Qc(o.k);return zl(d)&&zl(o.k)?Zc(g):Da(o.M,g)}(i,e)}function tc(i,e,n){return i instanceof ta?ml(i,e):i instanceof Ca?Yc(i,e):n}function nc(i,e){return i instanceof eu?zl(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class ba extends Ru{}class ta extends Ru{constructor(e){super(),this.elements=e}}function ml(i,e){const n=yl(e);for(const o of i.elements)n.some(u=>yo(u,o))||n.push(o);return{arrayValue:{values:n}}}class Ca extends Ru{constructor(e){super(),this.elements=e}}function Yc(i,e){let n=yl(e);for(const o of i.elements)n=n.filter(u=>!yo(u,o));return{arrayValue:{values:n}}}class eu extends Ru{constructor(e,n){super(),this.M=e,this.k=n}}function Qc(i){return br(i.integerValue||i.doubleValue)}function yl(i){return Qo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Gs{constructor(e,n){this.field=e,this.transform=n}}class lh{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rc(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Ou{}function lp(i,e,n){i instanceof Pu?function(o,u,d){const g=o.value.clone(),b=h(o.fieldTransforms,u,d.transformResults);g.setAll(b),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof Aa?function(o,u,d){if(!rc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=h(o.fieldTransforms,u,d.transformResults),b=u.data;b.setAll(_(o)),b.setAll(g),u.convertToFoundDocument(d.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ic(i,e,n){var u;i instanceof Pu?function(o,u,d){if(!rc(o.precondition,u))return;const g=o.value.clone(),b=p(o.fieldTransforms,d,u);g.setAll(b),u.convertToFoundDocument(Xc(u),g).setHasLocalMutations()}(i,e,n):i instanceof Aa?function(o,u,d){if(!rc(o.precondition,u))return;const g=p(o.fieldTransforms,d,u),b=u.data;b.setAll(_(o)),b.setAll(g),u.convertToFoundDocument(Xc(u),b).setHasLocalMutations()}(i,e,n):rc(i.precondition,u=e)&&u.convertToNoDocument(U.min())}function sc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=nc(o.transform,u||null);null!=d&&(null==n&&(n=cs.empty()),n.set(o.field,d))}return n||null}function Jc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&y(n,o,(u,d)=>function Ta(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof ta&&o instanceof ta||n instanceof Ca&&o instanceof Ca?y(n.elements,o.elements,yo):n instanceof eu&&o instanceof eu?yo(n.k,o.k):n instanceof ba&&o instanceof ba);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function Xc(i){return i.isFoundDocument()?i.version:U.min()}class Pu extends Ou{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Aa extends Ou{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}}function _(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function h(i,e,n){const o=new Map;kn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],g=d.transform,b=e.data.field(d.field);o.set(d.field,tc(g,b,n[u]))}return o}function p(i,e,n){const o=new Map;for(const u of i){const d=u.transform,g=n.data.field(u.field);o.set(u.field,gl(d,g,e))}return o}class w extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class j extends Ou{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class te{constructor(e){this.count=e}}var $e,ot;function cn(i){switch(i){default:return nn();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function On(i){if(void 0===i)return ai("GRPC error has no .code"),st.UNKNOWN;switch(i){case $e.OK:return st.OK;case $e.CANCELLED:return st.CANCELLED;case $e.UNKNOWN:return st.UNKNOWN;case $e.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case $e.INTERNAL:return st.INTERNAL;case $e.UNAVAILABLE:return st.UNAVAILABLE;case $e.UNAUTHENTICATED:return st.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case $e.NOT_FOUND:return st.NOT_FOUND;case $e.ALREADY_EXISTS:return st.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return st.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case $e.ABORTED:return st.ABORTED;case $e.OUT_OF_RANGE:return st.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return st.UNIMPLEMENTED;case $e.DATA_LOSS:return st.DATA_LOSS;default:return nn()}}(ot=$e||($e={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";class qn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ce(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return dt(this.inner)}size(){return this.innerSize}}const ni=new Ur(Qt.comparator);function ri(){return ni}const _o=new Ur(Qt.comparator);function na(...i){let e=_o;for(const n of i)e=e.insert(n.key,n);return e}function Nu(){return new qn(i=>i.toString(),(i,e)=>i.isEqual(e))}const ed=new Ur(Qt.comparator),oc=new Z(Qt.comparator);function Or(...i){let e=oc;for(const n of i)e=e.add(n);return e}const ac=new Z(v);function ku(){return ac}class tu{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,n)),new tu(U.min(),o,ku(),ri(),Or())}}class ra{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new ra(Nr.EMPTY_BYTE_STRING,n,Or(),Or(),Or())}}class ia{constructor(e,n,o,u){this.O=e,this.removedTargetIds=n,this.key=o,this.F=u}}class td{constructor(e,n){this.targetId=e,this.$=n}}class nu{constructor(e,n,o=Nr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class nd{constructor(){this.B=0,this.L=dp(),this.U=Nr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Or(),n=Or(),o=Or();return this.L.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:nn()}}),new ra(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=dp()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class ji{constructor(e){this.nt=e,this.st=new Map,this.it=ri(),this.rt=cp(),this.ot=new Z(v)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:nn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,u)=>{this.ft(u)&&n(u)})}_t(e){const n=e.targetId,o=e.$.count,u=this.wt(n);if(u){const d=u.target;if(Rr(d))if(0===o){const g=new Qt(d.path);this.ct(n,g,pr.newNoDocument(g,U.min()))}else kn(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((d,g)=>{const b=this.wt(g);if(b){if(d.current&&Rr(b.target)){const L=new Qt(b.target.path);null!==this.it.get(L)||this.It(g,L)||this.ct(g,L,pr.newNoDocument(L,e))}d.j&&(n.set(g,d.H()),d.J())}});let o=Or();this.rt.forEach((d,g)=>{let b=!0;g.forEachWhile(L=>{const H=this.wt(L);return!H||2===H.purpose||(b=!1,!1)}),b&&(o=o.add(d))}),this.it.forEach((d,g)=>g.setReadTime(e));const u=new tu(e,n,this.ot,this.it,o);return this.it=ri(),this.rt=cp(),this.ot=new Z(v),u}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,n)?u.Y(n,1):u.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new nd,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Z(v),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Vt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new nd),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function cp(){return new Ur(Qt.comparator)}function dp(){return new Ur(Qt.comparator)}const ch={asc:"ASCENDING",desc:"DESCENDING"},hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Im{constructor(e,n){this.databaseId=e,this.N=n}}function uc(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(i,e){return i.N?e.toBase64():e.toUint8Array()}function wm(i,e){return uc(i,e.toTimestamp())}function ds(i){return kn(!!i),U.fromTimestamp(function(e){const n=ms(e);return new P(n.seconds,n.nanos)}(i))}function pp(i,e){return(n=i,new Zt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Dm(i){const e=Zt.fromString(i);return kn(vp(e)),e}function Sa(i,e){return pp(i.databaseId,e.path)}function ci(i,e){const n=Dm(e);if(n.get(1)!==i.databaseId.projectId)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Qt(Es(n))}function lc(i,e){return pp(i.databaseId,e)}function dh(i){const e=Dm(i);return 4===e.length?Zt.emptyPath():Es(e)}function vl(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Es(i){return kn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function _l(i,e,n){return{name:Sa(i,e),fields:n.value.mapValue.fields}}function rd(i,e,n){const o=ci(i,e.name),u=ds(e.updateTime),d=new cs({mapValue:{fields:e.fields}}),g=pr.newFoundDocument(o,u,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function El(i,e){let n;if(e instanceof Pu)n={update:_l(i,e.key,e.value)};else if(e instanceof w)n={delete:Sa(i,e.key)};else if(e instanceof Aa)n={update:_l(i,e.key,e.data),updateMask:xm(e.fieldMask)};else{if(!(e instanceof j))return nn();n={verify:Sa(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof ba)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ta)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ca)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof eu)return{fieldPath:d.field.canonicalString(),increment:g.k};throw nn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:wm(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:nn()),n;var u}function hh(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Ti.updateTime(ds(u.updateTime)):void 0!==u.exists?Ti.exists(u.exists):Ti.none():Ti.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let b=null;"setToServerValue"in g?(kn("REQUEST_TIME"===g.setToServerValue),b=new ba):"appendMissingElements"in g?b=new ta(g.appendMissingElements.values||[]):"removeAllFromArray"in g?b=new Ca(g.removeAllFromArray.values||[]):"increment"in g?b=new eu(d,g.increment):nn();const L=Un.fromServerFormat(g.fieldPath);return new Gs(L,b)}(i,u)):[];var u;if(e.update){const u=ci(i,e.update.name),d=new cs({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new fr((e.updateMask.fieldPaths||[]).map(H=>Un.fromServerFormat(H)));return new Aa(u,d,g,n,o)}return new Pu(u,d,n,o)}if(e.delete){const u=ci(i,e.delete);return new w(u,n)}if(e.verify){const u=ci(i,e.verify);return new j(u,n)}return nn()}function mp(i,e){return{documents:[lc(i,e.path)]}}function fh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=lc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=lc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0===L.length)return;const H=L.map(pe=>function(Re){if("=="===Re.op){if(Ss(Re.value))return{unaryFilter:{field:ru(Re.field),op:"IS_NAN"}};if(Ji(Re.value))return{unaryFilter:{field:ru(Re.field),op:"IS_NULL"}}}else if("!="===Re.op){if(Ss(Re.value))return{unaryFilter:{field:ru(Re.field),op:"IS_NOT_NAN"}};if(Ji(Re.value))return{unaryFilter:{field:ru(Re.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ru(Re.field),op:Sm(Re.op),value:Re.value}}}(pe));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(L){if(0!==L.length)return L.map(H=>{return{field:ru((pe=H).field),direction:Am(pe.dir)};var pe})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(H=e.limit,i.N||Wa(H)?H:{value:H});var H,b,L;return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),n}function yp(i){let e=dh(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){kn(1===o);const pe=n.from[0];pe.allDescendants?u=pe.collectionId:e=e.child(pe.collectionId)}let d=[];n.where&&(d=id(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(pe=>{return new wa(Il((Re=pe).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Re.direction));var Re}));let b=null;n.limit&&(b=function(pe){let Re;return Re="object"==typeof pe?pe.value:pe,Wa(Re)?null:Re}(n.limit));let L=null;var pe;n.startAt&&(L=new xs((pe=n.startAt).values||[],!!pe.before));let H=null;return n.endAt&&(H=function(pe){return new xs(pe.values||[],!pe.before)}(n.endAt)),Ja(e,u,g,d,b,"F",L,H)}function id(i){return i?void 0!==i.unaryFilter?[sd(i)]:void 0!==i.fieldFilter?[Mm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>id(e)).reduce((e,n)=>e.concat(n)):nn():[]}function Am(i){return ch[i]}function Sm(i){return hp[i]}function ru(i){return{fieldPath:i.canonicalString()}}function Il(i){return Un.fromServerFormat(i.fieldPath)}function Mm(i){return Rn.create(Il(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(i.fieldFilter.op),i.fieldFilter.value)}function sd(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Il(i.unaryFilter.field);return Rn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Il(i.unaryFilter.field);return Rn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Il(i.unaryFilter.field);return Rn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Il(i.unaryFilter.field);return Rn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function xm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Ls(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=_p(e)),e=Rm(i.get(n),e);return _p(e)}function Rm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function _p(i){return i+"\x01\x01"}function Lo(i){const e=i.length;if(kn(e>=2),2===e)return kn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Zt.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>n)&&nn(),i.charAt(g+1)){case"\x01":const b=i.substring(d,g);let L;0===u.length?L=b:(u+=b,L=u,u=""),o.push(L);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:nn()}d=g+2}return new Zt(o)}const Ep=["userId","batchId"];function od(i,e){return[i,Ls(e)]}function Ip(i,e,n){return[i,Ls(e),n]}const Om={},Pm=["prefixPath","collectionGroup","readTime","documentId"],Nm=["prefixPath","collectionGroup","documentId"],km=["collectionGroup","readTime","prefixPath","documentId"],Fm=["canonicalId","targetId"],wl=["targetId","path"],sa=["path","targetId"],Uv=["collectionId","parent"],Bv=["indexId","uid"],wp=["uid","sequenceNumber"],jv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],oa=["indexId","uid","orderedDocumentKey"],ph=["userId","collectionPath","documentId"],gh=["userId","collectionPath","largestBatchId"],Lm=["userId","collectionGroup","largestBatchId"],mh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],cc=[...mh,"documentOverlays"],yh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Dp=[...yh,"indexConfiguration","indexState","indexEntries"],ad="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ud{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new lt((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.reject(n)}static resolve(e){return new lt((n,o)=>{n(e)})}static reject(e){return new lt((n,o)=>{o(e)})}static waitFor(e){return new lt((n,o)=>{let u=0,d=0,g=!1;e.forEach(b=>{++u,b.next(()=>{++d,g&&d===u&&n()},L=>o(L))}),g=!0,d===u&&n()})}static or(e){let n=lt.resolve(!1);for(const o of e)n=n.next(u=>u?lt.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}}class vh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new yi,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new Dl(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=Ih(o.target.error);this.At.reject(new Dl(e,u))}}static open(e,n,o,u){try{return new vh(n,e.transaction(u,o))}catch(d){throw new Dl(n,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Eh(n)}}class Rs{constructor(e,n,o){this.name=e,this.version=n,this.Pt=o,12.2===Rs.Vt((0,V.z$)())&&ai("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),Lu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,V.hl)())return!1;if(Rs.St())return!0;const e=(0,V.z$)(),n=Rs.Vt(e),o=0<n&&n<10,u=Rs.Dt(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,f.Z)(function*(){return n.db||(Vt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Dl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const b=g.target.error;u("VersionError"===b.name?new vt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new vt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Dl(e,b))},d.onupgradeneeded=g=>{Vt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.Pt.kt(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,f.Z)(function*(){const g="readonly"===n;let b=0;for(;;){++b;try{d.db=yield d.Nt(e);const L=vh.open(d.db,e,g?"readonly":"readwrite",o),H=u(L).next(pe=>(L.bt(),pe)).catch(pe=>(L.abort(pe),lt.reject(pe))).toPromise();return H.catch(()=>{}),yield L.Rt,H}catch(L){const H="FirebaseError"!==L.name&&b<3;if(Vt("SimpleDb","Transaction failed with error:",L.message,"Retrying:",H),d.close(),!H)return Promise.reject(L)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _h{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Lu(this.Ft.delete())}}class Dl extends vt{constructor(e,n){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Fu(i){return"IndexedDbTransactionError"===i.name}class Eh{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Vt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Lu(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),Lu(this.store.add(e))}get(e){return Lu(this.store.get(e)).next(n=>(void 0===n&&(n=null),Vt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),Lu(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),Lu(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.Kt(u,(g,b)=>{d.push(b)}).next(()=>d)}{const u=this.store.getAll(o.range);return new lt((d,g)=>{u.onerror=b=>{g(b.target.error)},u.onsuccess=b=>{d(b.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new lt((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Qt(e,n){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(d,g,b)=>b.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.Kt(u,n)}zt(e){const n=this.cursor({});return new lt((o,u)=>{n.onerror=d=>{const g=Ih(d.target.error);u(g)},n.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(b=>{b?g.continue():o()}):o()}})}Kt(e,n){const o=[];return new lt((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const b=g.target.result;if(!b)return void u();const L=new _h(b),H=n(b.primaryKey,b.value,L);if(H instanceof lt){const pe=H.catch(Re=>(L.done(),lt.reject(Re)));o.push(pe)}L.isDone?u():null===L.Lt?b.continue():b.continue(L.Lt)}}).next(()=>lt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Lu(i){return new lt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Ih(o.target.error);n(u)}})}let bp=!1;function Ih(i){const e=Rs.Vt((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return bp||(bp=!0,setTimeout(()=>{throw o},0)),o}}return i}class Cp extends ud{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function hs(i,e){const n=Wt(i);return Rs.xt(n.Ht,e)}class wh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&lp(d,e,o[u])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&ic(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&ic(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(U.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Or())}isEqual(e){return this.batchId===e.batchId&&y(this.mutations,e.mutations,(n,o)=>Jc(n,o))&&y(this.baseMutations,e.baseMutations,(n,o)=>Jc(n,o))}}class ld{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){kn(e.mutations.length===o.length);let u=ed;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new ld(e,n,o,u)}}class dc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ma{constructor(e,n,o,u,d=U.min(),g=U.min(),b=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=b}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class cd{constructor(e){this.Jt=e}}function Tp(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:hc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Sa(u=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:uc(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:iu(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:n.path.toArray(),version:iu(e.version)}}var u,d;return o}function hc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function iu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function no(i){const e=new P(i.seconds,i.nanoseconds);return U.fromTimestamp(e)}function Vu(i,e){const n=(e.baseMutations||[]).map(d=>hh(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>hh(i.Jt,d)),u=P.fromMillis(e.localWriteTimeMs);return new wh(e.batchId,u,n,o)}function bl(i){const e=no(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?no(i.lastLimboFreeSnapshotVersion):U.min();let o;var u;return void 0!==i.query.documents?(kn(1===(u=i.query).documents.length),o=to(ko(dh(u.documents[0])))):o=to(yp(i.query)),new Ma(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Nr.fromBase64String(i.resumeToken))}function Ap(i,e){const n=iu(e.snapshotVersion),o=iu(e.lastLimboFreeSnapshotVersion);let u;u=Rr(e.target)?mp(i.Jt,e.target):fh(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kt(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Cl(i){const e=yp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?fl(e,e.limit,"L"):e}function Dh(i,e){return new dc(e.largestBatchId,hh(i.Jt,e.overlayMutation))}function bh(i,e){const n=e.path.lastSegment();return[i,Ls(e.path.popLast()),n]}class Sp{getBundleMetadata(e,n){return Ch(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:no(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return Ch(e).put({bundleId:(o=n).id,createTime:iu(ds(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return dd(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:Cl(u.bundledQuery),readTime:no(u.readTime)};var u})}saveNamedQuery(e,n){return dd(e).put({name:(o=n).name,readTime:iu(ds(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ch(i){return hs(i,"bundles")}function dd(i){return hs(i,"namedQueries")}class hd{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new hd(e,n.uid||"")}getOverlay(e,n){return su(e).get(bh(this.userId,n)).next(o=>o?Dh(this.M,o):null)}saveOverlays(e,n,o){const u=[];return o.forEach((d,g)=>{const b=new dc(n,g);u.push(this.Xt(e,b))}),lt.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(g=>u.add(Ls(g.getCollectionPath())));const d=[];return u.forEach(g=>{const b=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(su(e).Qt("collectionPathOverlayIndex",b))}),lt.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Nu(),d=Ls(n),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return su(e).qt("collectionPathOverlayIndex",g).next(b=>{for(const L of b){const H=Dh(this.M,L);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Nu();let g;const b=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return su(e).Wt({index:"collectionGroupOverlayIndex",range:b},(L,H,pe)=>{const Re=Dh(this.M,H);d.size()<u||Re.largestBatchId===g?(d.set(Re.getKey(),Re),g=Re.largestBatchId):pe.done()}).next(()=>d)}Xt(e,n){return su(e).put(function(o,u,d){const[g,b,L]=bh(u,d.mutation.key);return{userId:u,collectionPath:b,documentId:L,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:El(o.Jt,d.mutation)}}(this.M,this.userId,n))}}function su(i){return hs(i,"documentOverlays")}class aa{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(br(e.integerValue));else if("doubleValue"in e){const o=br(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),Lr(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(ys(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Ea(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):nn()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const u of Object.keys(o))this.re(u,n),this.te(o[u],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const u of o)this.te(u,n)}ae(e,n){this.ne(n,37),Qt.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Mp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function fd(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=Mp(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}aa.fe=new aa;class xp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=n.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=n.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const n=this.Ee(e),o=fd(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Re(e){const n=this.Ee(e),o=fd(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Th{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class fc{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class pc{constructor(){this.De=new xp,this.Ce=new Th(this.De),this.xe=new fc(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ou{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ou(this.indexId,this.documentKey,this.arrayValue,o)}}function Uu(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Rp(i.arrayValue,e.arrayValue),0!==n?n:(n=Rp(i.directionalValue,e.directionalValue),0!==n?n:Qt.comparator(i.documentKey,e.documentKey)))}function Rp(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Op{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Oo(e);if(void 0!==n&&!this.Be(n))return!1;const o=Po(e);let u=0,d=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const g=o[u];if(!this.Le(this.Fe,g)||!this.Ue(this.Me[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Me.length||!this.Ue(this.Me[d++],g))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Ah{constructor(){this.qe=new pd}addToCollectionParentIndex(e,n){return this.qe.add(n),lt.resolve()}getCollectionParents(e,n){return lt.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return lt.resolve()}deleteFieldIndex(e,n){return lt.resolve()}getDocumentsMatchingTarget(e,n){return lt.resolve(null)}getIndexType(e,n){return lt.resolve(0)}getFieldIndexes(e,n){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,n){return lt.resolve(Ms.min())}updateCollectionGroup(e,n,o){return lt.resolve()}updateIndexEntries(e,n){return lt.resolve()}}class pd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Z(Zt.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Z(Zt.comparator)).toArray()}}const Sh=new Uint8Array(0);class Pp{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new pd,this.Ge=new qn(o=>Kt(o),(o,u)=>zn(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const d={collectionId:o,parent:Ls(u)};return Np(e).put(d)}return lt.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[M(n),""],!1,!0);return Np(e).qt(u).next(d=>{for(const g of d){if(g.collectionId!==n)break;o.push(Lo(g.parent))}return o})}addFieldIndex(e,n){const o=gd(e),u={indexId:(d=n).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,n){const o=gd(e),u=md(e),d=Tl(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Tl(e);let u=!0;const d=new Map;return lt.forEach(this.Qe(n),g=>this.je(e,g).next(b=>{u&&(u=!!b),d.set(g,b)})).next(()=>{if(u){let g=Or();const b=[];return lt.forEach(d,(L,H)=>{var pe;Vt("IndexedDbIndexManager",`Using index ${pe=L,`id=${pe.indexId}|cg=${pe.collectionGroup}|f=${pe.fields.map(_i=>`${_i.fieldPath}:${_i.kind}`).join(",")}`} to execute ${Kt(n)}`);const Re=function(_i,Ns){const es=Oo(Ns);if(void 0===es)return null;for(const Ai of zr(_i,es.fieldPath))switch(Ai.op){case"array-contains-any":return Ai.value.arrayValue.values||[];case"array-contains":return[Ai.value]}return null}(H,L),nt=function(_i,Ns){const es=new Map;for(const Ai of Po(Ns))for(const Vs of zr(_i,Ai.fieldPath))switch(Vs.op){case"==":case"in":es.set(Ai.fieldPath.canonicalString(),Vs.value);break;case"not-in":case"!=":return es.set(Ai.fieldPath.canonicalString(),Vs.value),Array.from(es.values())}return null}(H,L),Pt=function(_i,Ns){const es=[];let Ai=!0;for(const Vs of Po(Ns)){const jl=0===Vs.kind?Hs(_i,Vs.fieldPath,_i.startAt):Xs(_i,Vs.fieldPath,_i.startAt);es.push(jl.value),Ai&&(Ai=jl.inclusive)}return new xs(es,Ai)}(H,L),Ft=function(_i,Ns){const es=[];let Ai=!0;for(const Vs of Po(Ns)){const jl=0===Vs.kind?Xs(_i,Vs.fieldPath,_i.endAt):Hs(_i,Vs.fieldPath,_i.endAt);es.push(jl.value),Ai&&(Ai=jl.inclusive)}return new xs(es,Ai)}(H,L),mn=this.We(L,H,Pt),er=this.We(L,H,Ft),vi=this.ze(L,H,nt),Hi=this.He(L.indexId,Re,mn,Pt.inclusive,er,Ft.inclusive,vi);return lt.forEach(Hi,_i=>o.Gt(_i,n.limit).next(Ns=>{Ns.forEach(es=>{const Ai=Qt.fromSegments(es.documentKey);g.has(Ai)||(g=g.add(Ai),b.push(Ai))})}))}).next(()=>b)}return lt.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}He(e,n,o,u,d,g,b){const L=(null!=n?n.length:1)*Math.max(o.length,d.length),H=L/(null!=n?n.length:1),pe=[];for(let Re=0;Re<L;++Re){const nt=n?this.Je(n[Re/H]):Sh,Pt=this.Ye(e,nt,o[Re%H],u),Ft=this.Xe(e,nt,d[Re%H],g),mn=b.map(er=>this.Ye(e,nt,er,!0));pe.push(...this.createRange(Pt,Ft,mn))}return pe}Ye(e,n,o,u){const d=new ou(e,Qt.empty(),n,o);return u?d:d.ke()}Xe(e,n,o,u){const d=new ou(e,Qt.empty(),n,o);return u?d.ke():d}je(e,n){const o=new Op(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const b of d)o.$e(b)&&(!g||b.fields.length>g.fields.length)&&(g=b);return g})}getIndexType(e,n){let o=2;return lt.forEach(this.Qe(n),u=>this.je(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let b=new Z(Un.comparator),L=!1;for(const H of g.filters){const pe=H;pe.field.isKeyField()||("array-contains"===pe.op||"array-contains-any"===pe.op?L=!0:b=b.add(pe.field))}for(const H of g.orderBy)H.field.isKeyField()||(b=b.add(H.field));return b.size+(L?1:0)}(u)&&(o=1):o=0})).next(()=>o)}Ze(e,n){const o=new pc;for(const u of Po(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const g=o.Ne(u.kind);aa.fe.Zt(d,g)}return o.Se()}Je(e){const n=new pc;return aa.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new pc;return aa.fe.Zt(_s(this.databaseId,n),o.Ne(function(u){const d=Po(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}ze(e,n,o){if(null===o)return[];let u=[];u.push(new pc);let d=0;for(const g of Po(e)){const b=o[d++];for(const L of u)if(this.en(n,g.fieldPath)&&Qo(b))u=this.nn(u,g,b);else{const H=L.Ne(g.kind);aa.fe.Zt(b,H)}}return this.sn(u)}We(e,n,o){return this.ze(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const b of u){const L=new pc;L.seed(b.Se()),aa.fe.Zt(g,L.Ne(n.kind)),d.push(L)}return d}en(e,n){return!!e.filters.find(o=>o instanceof Rn&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=gd(e),u=md(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(d=>{const g=[];return lt.forEach(d,b=>u.get([b.indexId,this.uid]).next(L=>{g.push(function(H,pe){const Re=pe?new Jo(pe.sequenceNumber,new Ms(no(pe.readTime),new Qt(Lo(pe.documentKey)),pe.largestBatchId)):Jo.empty(),nt=H.fields.map(([Pt,Ft])=>new Ya(Un.fromServerFormat(Pt),Ft));return new Ia(H.indexId,H.collectionGroup,nt,Re)}(b,L))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:v(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=gd(e),d=md(e);return this.rn(e).next(g=>u.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(b=>lt.forEach(b,L=>{return d.put({indexId:L.indexId,uid:this.user.uid||"",sequenceNumber:g,readTime:iu((nt=o).readTime),documentKey:Ls(nt.documentKey.path),largestBatchId:nt.largestBatchId});var nt})))}updateIndexEntries(e,n){const o=new Map;return lt.forEach(n,(u,d)=>{const g=o.get(u.collectionGroup);return(g?lt.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(b=>(o.set(u.collectionGroup,b),lt.forEach(b,L=>this.on(e,u,L).next(H=>{const pe=this.un(d,L);return H.isEqual(pe)?lt.resolve():this.an(e,d,L,H,pe)}))))})}cn(e,n,o,u){return Tl(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,u){return Tl(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const u=Tl(e);let d=new Z(Uu);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(g,b)=>{d=d.add(new ou(o.indexId,n,b.arrayValue,b.directionalValue))}).next(()=>d)}un(e,n){let o=new Z(Uu);const u=this.Ze(n,e);if(null==u)return o;const d=Oo(n);if(null!=d){const g=e.data.field(d.fieldPath);if(Qo(g))for(const b of g.arrayValue.values||[])o=o.add(new ou(n.indexId,e.key,this.Je(b),u))}else o=o.add(new ou(n.indexId,e.key,Sh,u));return o}an(e,n,o,u,d){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(b,L,H,pe,Re){const nt=b.getIterator(),Pt=L.getIterator();let Ft=B(nt),mn=B(Pt);for(;Ft||mn;){let er=!1,vi=!1;if(Ft&&mn){const Hi=H(Ft,mn);Hi<0?vi=!0:Hi>0&&(er=!0)}else null!=Ft?vi=!0:er=!0;er?(pe(mn),mn=B(Pt)):vi?(Re(Ft),Ft=B(nt)):(Ft=B(nt),mn=B(Pt))}}(u,d,Uu,b=>{g.push(this.cn(e,n,o,b))},b=>{g.push(this.hn(e,n,o,b))}),lt.waitFor(g)}rn(e){let n=1;return md(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((g,b)=>Uu(g,b)).filter((g,b,L)=>!b||0!==Uu(g,L[b-1]));const u=[];u.push(e);for(const g of o){const b=Uu(g,e),L=Uu(g,n);if(0===b)u[0]=e.ke();else if(b>0&&L<0)u.push(g),u.push(g.ke());else if(L>0)break}u.push(n);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,Sh,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,Sh,[]]));return d}getMinOffset(e,n){let o;return lt.forEach(this.Qe(n),u=>this.je(e,u).next(d=>{d?(!o||Zl(d.indexState.offset,o)<0)&&(o=d.indexState.offset):o=Ms.min()})).next(()=>o)}}function Np(i){return hs(i,"collectionParents")}function Tl(i){return hs(i,"indexEntries")}function gd(i){return hs(i,"indexConfiguration")}function md(i){return hs(i,"indexState")}const Eo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new zs(e,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mh(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(n.batchId);let b=0;const L=o.Wt({range:g},(pe,Re,nt)=>(b++,nt.delete()));d.push(L.next(()=>{kn(1===b)}));const H=[];for(const pe of n.mutations){const Re=Ip(e,pe.key.path,n.batchId);d.push(u.delete(Re)),H.push(pe.key)}return lt.waitFor(d).next(()=>H)}function yd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw nn();e=i.noDocument}return JSON.stringify(e).length}zs.DEFAULT_COLLECTION_PERCENTILE=10,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zs.DEFAULT=new zs(41943040,zs.DEFAULT_COLLECTION_PERCENTILE,zs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zs.DISABLED=new zs(-1,0,0);class xh{constructor(e,n,o,u){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,n,o,u){kn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new xh(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return au(e).Wt({index:"userMutationsIndex",range:o},(u,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=Bu(e),g=au(e);return g.add({}).next(b=>{kn("number"==typeof b);const L=new wh(b,n,o,u),H=function(nt,Pt,Ft){const mn=Ft.baseMutations.map(vi=>El(nt.Jt,vi)),er=Ft.mutations.map(vi=>El(nt.Jt,vi));return{userId:Pt,batchId:Ft.batchId,localWriteTimeMs:Ft.localWriteTime.toMillis(),baseMutations:mn,mutations:er}}(this.M,this.userId,L),pe=[];let Re=new Z((nt,Pt)=>v(nt.canonicalString(),Pt.canonicalString()));for(const nt of u){const Pt=Ip(this.userId,nt.key.path,b);Re=Re.add(nt.key.path.popLast()),pe.push(g.put(H)),pe.push(d.put(Pt,Om))}return Re.forEach(nt=>{pe.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.ln[b]=L.keys()}),lt.waitFor(pe).next(()=>L)})}lookupMutationBatch(e,n){return au(e).get(n).next(o=>o?(kn(o.userId===this.userId),Vu(this.M,o)):null)}fn(e,n){return this.ln[n]?lt.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.ln[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return au(e).Wt({index:"userMutationsIndex",range:u},(g,b,L)=>{b.userId===this.userId&&(kn(b.batchId>=o),d=Vu(this.M,b)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return au(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return au(e).qt("userMutationsIndex",n).next(o=>o.map(u=>Vu(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=od(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return Bu(e).Wt({range:u},(g,b,L)=>{const[H,pe,Re]=g,nt=Lo(pe);if(H===this.userId&&n.path.isEqual(nt))return au(e).get(Re).next(Pt=>{if(!Pt)throw nn();kn(Pt.userId===this.userId),d.push(Vu(this.M,Pt))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Z(v);const u=[];return n.forEach(d=>{const g=od(this.userId,d.path),b=IDBKeyRange.lowerBound(g),L=Bu(e).Wt({range:b},(H,pe,Re)=>{const[nt,Pt,Ft]=H,mn=Lo(Pt);nt===this.userId&&d.path.isEqual(mn)?o=o.add(Ft):Re.done()});u.push(L)}),lt.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=od(this.userId,o),g=IDBKeyRange.lowerBound(d);let b=new Z(v);return Bu(e).Wt({range:g},(L,H,pe)=>{const[Re,nt,Pt]=L,Ft=Lo(nt);Re===this.userId&&o.isPrefixOf(Ft)?Ft.length===u&&(b=b.add(Pt)):pe.done()}).next(()=>this.dn(e,b))}dn(e,n){const o=[],u=[];return n.forEach(d=>{u.push(au(e).get(d).next(g=>{if(null===g)throw nn();kn(g.userId===this.userId),o.push(Vu(this.M,g))}))}),lt.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return Mh(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),lt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return lt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return Bu(e).Wt({range:o},(d,g,b)=>{if(d[0]===this.userId){const L=Lo(d[1]);u.push(L)}else b.done()}).next(()=>{kn(0===u.length)})})}containsKey(e,n){return kp(e,this.userId,n)}wn(e){return Fp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kp(i,e,n){const o=od(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return Bu(i).Wt({range:d,jt:!0},(b,L,H)=>{const[pe,Re,nt]=b;pe===e&&Re===u&&(g=!0),H.done()}).next(()=>g)}function au(i){return hs(i,"mutations")}function Bu(i){return hs(i,"documentMutations")}function Fp(i){return hs(i,"mutationQueues")}class ju{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new ju(0)}static yn(){return new ju(-1)}}class Um{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new ju(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>U.fromTimestamp(new P(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.In(e,u)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Kn(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(kn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return Kn(e).Wt((g,b)=>{const L=bl(b);L.sequenceNumber<=n&&null===o.get(L.targetId)&&(u++,d.push(this.removeTargetData(e,L)))}).next(()=>lt.waitFor(d)).next(()=>u)}forEachTarget(e,n){return Kn(e).Wt((o,u)=>{const d=bl(u);n(d)})}pn(e){return Rh(e).get("targetGlobalKey").next(n=>(kn(null!==n),n))}In(e,n){return Rh(e).put("targetGlobalKey",n)}Tn(e,n){return Kn(e).put(Ap(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Kt(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return Kn(e).Wt({range:u,index:"queryTargetsIndex"},(g,b,L)=>{const H=bl(b);zn(n,H.target)&&(d=H,L.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=xa(e);return n.forEach(g=>{const b=Ls(g.path);u.push(d.put({targetId:o,path:b})),u.push(this.referenceDelegate.addReference(e,o,g))}),lt.waitFor(u)}removeMatchingKeys(e,n,o){const u=xa(e);return lt.forEach(n,d=>{const g=Ls(d.path);return lt.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=xa(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=xa(e);let d=Or();return u.Wt({range:o,jt:!0},(g,b,L)=>{const H=Lo(g[1]),pe=new Qt(H);d=d.add(pe)}).next(()=>d)}containsKey(e,n){const o=Ls(n.path),u=IDBKeyRange.bound([o],[M(o)],!1,!0);let d=0;return xa(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([g,b],L,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}Et(e,n){return Kn(e).get(n).next(o=>o?bl(o):null)}}function Kn(i){return hs(i,"targets")}function Rh(i){return hs(i,"targetGlobal")}function xa(i){return hs(i,"targetDocuments")}function uu(i){return Al.apply(this,arguments)}function Al(){return Al=(0,f.Z)(function*(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==ad)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),Al.apply(this,arguments)}function Io([i,e],[n,o]){const u=v(i,n);return 0===u?v(e,o):u}class Lp{constructor(e){this.An=e,this.buffer=new Z(Io),this.Rn=0}bn(){return++this.Rn}Pn(e){const n=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();Io(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bm{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;Vt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,f.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(u){Fu(u)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield uu(u)}yield n.Sn(e)}))}}class Oh{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return lt.resolve(ui.A);const o=new Lp(n);return this.Dn.forEachTarget(e,u=>o.Pn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.Pn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(Eo)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Eo):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,u,d,g,b,L,H;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Re=>(Re>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Re}`),u=this.params.maximumSequenceNumbersToCollect):u=Re,g=Date.now(),this.nthSequenceNumber(e,u))).next(Re=>(o=Re,b=Date.now(),this.removeTargets(e,o,n))).next(Re=>(d=Re,L=Date.now(),this.removeOrphanedDocuments(e,o))).next(Re=>(H=Date.now(),To()<=ie.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-pe}ms\n\tDetermined least recently used ${u} in `+(b-g)+`ms\n\tRemoved ${d} targets in `+(L-b)+`ms\n\tRemoved ${Re} documents in `+(H-L)+`ms\nTotal Duration: ${H-pe}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Re})))}}class Ra{constructor(e,n){this.db=e,this.garbageCollector=new Oh(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,u)=>n(u))}addReference(e,n,o){return Sl(e,o)}removeReference(e,n,o){return Sl(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Sl(e,n)}On(e,n){return function(o,u){let d=!1;return Fp(o).zt(g=>kp(o,g,u).next(b=>(b&&(d=!0),lt.resolve(!b)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Mn(e,(g,b)=>{if(b<=n){const L=this.On(e,g).next(H=>{if(!H)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,U.min()),xa(e).delete([0,Ls(g.path)])))});u.push(L)}}).next(()=>lt.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Sl(e,n)}Mn(e,n){const o=xa(e);let u,d=ui.A;return o.Wt({index:"documentTargetsIndex"},([g,b],{path:L,sequenceNumber:H})=>{0===g?(d!==ui.A&&n(new Qt(Lo(u)),d),d=H,u=L):d=ui.A}).next(()=>{d!==ui.A&&n(new Qt(Lo(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Sl(i,e){return xa(i).put((o=i.currentSequenceNumber,{targetId:0,path:Ls(e.path),sequenceNumber:o}));var o}class Ph{constructor(){this.changes=new qn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?lt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Nh{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Ml(e).put(o)}removeEntry(e,n,o){return Ml(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],hc(d),g[g.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=pr.newInvalidDocument(n);return Ml(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lu(n))},(u,d)=>{o=this.$n(n,d)}).next(()=>o)}Bn(e,n){let o={size:0,document:pr.newInvalidDocument(n)};return Ml(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(lu(n))},(u,d)=>{o={document:this.$n(n,d),size:yd(d)}}).next(()=>o)}getEntries(e,n){let o=ri();return this.Ln(e,n,(u,d)=>{const g=this.$n(u,d);o=o.insert(u,g)}).next(()=>o)}Un(e,n){let o=ri(),u=new Ur(Qt.comparator);return this.Ln(e,n,(d,g)=>{const b=this.$n(d,g);o=o.insert(d,b),u=u.insert(d,yd(g))}).next(()=>({documents:o,qn:u}))}Ln(e,n,o){if(n.isEmpty())return lt.resolve();let u=new Z(vd);n.forEach(L=>u=u.add(L));const d=IDBKeyRange.bound(lu(u.first()),lu(u.last())),g=u.getIterator();let b=g.getNext();return Ml(e).Wt({index:"documentKeyIndex",range:d},(L,H,pe)=>{const Re=Qt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;b&&vd(b,Re)<0;)o(b,null),b=g.getNext();b&&b.isEqual(Re)&&(o(b,H),b=g.hasNext()?g.getNext():null),b?pe.Ut(lu(b)):pe.done()}).next(()=>{for(;b;)o(b,null),b=g.hasNext()?g.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),hc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ml(e).qt(IDBKeyRange.bound(u,d,!0)).next(g=>{let b=ri();for(const L of g){const H=this.$n(Qt.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);b=b.insert(H.key,H)}return b})}getAllFromCollectionGroup(e,n,o,u){let d=ri();const g=gc(n,o),b=gc(n,Ms.max());return Ml(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,b,!0)},(L,H,pe)=>{const Re=this.$n(Qt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(Re.key,Re),d.size===u&&pe.done()}).next(()=>d)}newChangeBuffer(e){return new $v(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kh(e).get("remoteDocumentGlobalKey").next(n=>(kn(!!n),n))}Fn(e,n){return kh(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function Vm(i,e){let n;if(e.document)n=rd(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Qt.fromSegments(e.noDocument.path),u=no(e.noDocument.readTime);n=pr.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=Qt.fromSegments(e.unknownDocument.path),u=no(e.unknownDocument.version);n=pr.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new P(o[0],o[1]);return U.fromTimestamp(u)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(U.min()))return o}return pr.newInvalidDocument(e)}}class $v extends Ph{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new qn(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new Z((d,g)=>v(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const b=this.Gn.get(d);if(n.push(this.Kn.removeEntry(e,d,b.readTime)),g.isValidDocument()){const L=Tp(this.Kn.M,g);u=u.add(d.path.popLast()),o+=yd(L)-b.size,n.push(this.Kn.addEntry(e,d,L))}else if(o-=b.size,this.trackRemovals){const L=Tp(this.Kn.M,g.convertToNoDocument(U.min()));n.push(this.Kn.addEntry(e,d,L))}}),u.forEach(d=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Kn.updateMetadata(e,o)),lt.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:u})=>(u.forEach((d,g)=>{this.Gn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function kh(i){return hs(i,"remoteDocumentGlobal")}function Ml(i){return hs(i,"remoteDocumentsV14")}function lu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function gc(i,e){const n=e.documentKey.path.toArray();return[i,hc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vd(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=v(n[d],o[d]),u)return u;return u=v(n.length,o.length),u||(u=v(n[n.length-2],o[o.length-2]),u||v(n[n.length-1],o[o.length-1]))}class Fh{constructor(e){this.M=e}kt(e,n,o,u){const d=new vh("createOrUpgrade",n);var b;o<1&&u>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ep,{unique:!0}),b.createObjectStore("documentMutations"),_d(e),function(b){b.createObjectStore("remoteDocuments")}(e));let g=lt.resolve();return o<3&&u>=3&&(0!==o&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),_d(e)),g=g.next(()=>function(b){const L=b.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:U.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",H)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(b,L){return L.store("mutations").qt().next(H=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ep,{unique:!0});const pe=L.store("mutations"),Re=H.map(nt=>pe.put(nt));return lt.waitFor(Re)})}(e,d))),g=g.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.Qn(d))),o<6&&u>=6&&(g=g.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&u>=7&&(g=g.next(()=>this.Wn(d))),o<8&&u>=8&&(g=g.next(()=>this.zn(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.Hn(d))),o<11&&u>=11&&(g=g.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(b){const L=b.createObjectStore("documentOverlays",{keyPath:ph});L.createIndex("collectionPathOverlayIndex",gh,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",Lm,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(b){const L=b.createObjectStore("remoteDocumentsV14",{keyPath:Pm});L.createIndex("documentKeyIndex",Nm),L.createIndex("collectionGroupIndex",km)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>{!function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:Bv}).createIndex("sequenceNumberIndex",wp,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:jv}).createIndex("documentKeyIndex",oa,{unique:!1})}(e)})),g}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,u)=>{n+=yd(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(u=>lt.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",g).next(b=>lt.forEach(b,L=>{kn(L.userId===d.userId);const H=Vu(this.M,L);return Mh(e,d.userId,H).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Wt((g,b)=>{const L=new Zt(g),H=[0,Ls(L)];d.push(n.get(H).next(pe=>pe?lt.resolve():n.put({targetId:0,path:Ls(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>lt.waitFor(d))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:Uv});const o=n.store("collectionParents"),u=new pd,d=g=>{if(u.add(g)){const b=g.lastSegment(),L=g.popLast();return o.put({collectionId:b,parent:Ls(L)})}};return n.store("remoteDocuments").Wt({jt:!0},(g,b)=>{const L=new Zt(g);return d(L.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([g,b,L],H)=>{const pe=Lo(b);return d(pe.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,u)=>{const d=bl(u),g=Ap(this.M,d);return n.put(g)})}Jn(e,n){const o=n.store("remoteDocuments"),u=[];return o.Wt((d,g)=>{const b=n.store("remoteDocumentsV14"),L=(H=g,H.document?new Qt(Zt.fromString(H.document.name).popFirst(5)):H.noDocument?Qt.fromSegments(H.noDocument.path):H.unknownDocument?Qt.fromSegments(H.unknownDocument.path):nn()).path.toArray();var H;const pe={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(b.put(pe))}).next(()=>lt.waitFor(u))}}function _d(i){i.createObjectStore("targetDocuments",{keyPath:wl}).createIndex("documentTargetsIndex",sa,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fm,{unique:!0}),i.createObjectStore("targetGlobal")}const Vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,n,o,u,d,g,b,L,H,pe,Re=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=d,this.window=g,this.document=b,this.Xn=H,this.Zn=pe,this.ts=Re,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=nt=>Promise.resolve(),!Lh.vt())throw new vt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ra(this,u),this.hs=n+"main",this.M=new cd(L),this.ls=new Rs(this.hs,this.ts,new Fh(this.M)),this.fs=new Um(this.referenceDelegate,this.M),this.ds=new Nh(this.M),this._s=new Sp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===pe&&ai("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,Vp);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ui(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,f.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,f.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ed(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.bs(e).next(()=>!0))).catch(e=>{if(Fu(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return mc(e).get("owner").next(n=>lt.resolve(this.Ps(n)))}Vs(e){return Ed(e).delete(this.clientId)}vs(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=hs(o,"clientMetadata");return u.qt().next(d=>{const g=e.Ds(d,18e5),b=d.filter(L=>-1===g.indexOf(L));return lt.forEach(b,L=>u.delete(L.clientId)).next(()=>b)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?lt.resolve(!0):mc(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.Ps(n)&&this.networkEnabled)return!0;if(!this.Ps(n)){if(!n.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,Vp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ed(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,b=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&b)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Vt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,f.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Cp(n,ui.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Ed(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return xh.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Pp(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return hd.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=14===(g=this.ts)?Dp:13===g?yh:12===g?cc:11===g?mh:void nn();var g;let b;return this.ls.runTransaction(e,u,d,L=>(b=new Cp(L,this.es?this.es.next():ui.A),"readwrite-primary"===n?this.Es(b).next(H=>!!H||this.As(b)).next(H=>{if(!H)throw ai(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new vt(st.FAILED_PRECONDITION,ad);return o(b)}).next(H=>this.bs(b).next(()=>H)):this.$s(b).next(()=>o(b)))).then(L=>(b.raiseOnCommittedEvent(),L))}$s(e){return mc(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.Ps(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new vt(st.FAILED_PRECONDITION,Vp)})}bs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mc(e).put("owner",n)}static vt(){return Rs.vt()}Rs(e){const n=mc(e);return n.get("owner").next(o=>this.Ps(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):lt.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(ai(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,V.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ai("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){ai("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mc(i){return hs(i,"owner")}function Ed(i){return hs(i,"clientMetadata")}function Vh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Up{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(u=>{for(const d of o)d.applyToLocalView(u);return u})}qs(e,n){e.forEach((o,u)=>{for(const d of n)d.applyToLocalView(u)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return Qt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,n.path):Fo(n)?this.Ws(e,n,o):this.zs(e,n,o);var u}js(e,n){return this.Ls(e,new Qt(n)).next(o=>{let u=na();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,n,o){const u=n.collectionGroup;let d=na();return this.indexManager.getCollectionParents(e,u).next(g=>lt.forEach(g,b=>{const L=(H=n,pe=b.child(u),new eo(pe,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,pe;return this.zs(e,L,o).next(H=>{H.forEach((pe,Re)=>{d=d.insert(pe,Re)})})}).next(()=>d))}zs(e,n,o){let u;return this.ds.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(d=>{for(const g of d)for(const b of g.mutations){const L=b.key;let H=u.get(L);null==H&&(H=pr.newInvalidDocument(L),u=u.insert(L,H)),ic(b,H,g.localWriteTime),H.isFoundDocument()||(u=u.remove(L))}}).next(()=>(u.forEach((d,g)=>{Xl(n,g)||(u=u.remove(d))}),u))}}class Bp{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=u}static Ys(e,n){let o=Or(),u=Or();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Bp(e,n.fromCache,o,u)}}class jp{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,o,u){return this.ti(e,n).next(d=>d||this.ei(e,n,u,o)).next(d=>d||this.ni(e,n))}ti(e,n){return lt.resolve(null)}ei(e,n,o,u){return function uh(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||u.isEqual(U.min())?this.ni(e,n):this.Zs.Ks(e,o).next(d=>{const g=this.si(n,d);return this.ii(n,g,o,u)?this.ni(e,n):(To()<=ie.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Jl(n)),this.ri(e,g,n,Kl(u,-1)))})}si(e,n){let o=new Z(xu(e));return n.forEach((u,d)=>{Xl(e,d)&&(o=o.add(d))}),o}ii(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}ni(e,n){return To()<=ie.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Jl(n)),this.Zs.Qs(e,n,Ms.min())}ri(e,n,o,u){return this.Zs.Qs(e,o,u).next(d=>(n.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Hv{constructor(e,n,o,u){this.persistence=e,this.oi=n,this.M=u,this.ui=new Ur(v),this.ai=new qn(d=>Kt(d),zn),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Up(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function Uh(i,e,n,o){return new Hv(i,e,n,o)}function Bh(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,f.Z)(function*(i,e){const n=Wt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.Bs.getAllMutationBatches(o).next(d=>(u=d,n.li(e),n.Bs.getAllMutationBatches(o))).next(d=>{const g=[],b=[];let L=Or();for(const H of u){g.push(H.batchId);for(const pe of H.mutations)L=L.add(pe.key)}for(const H of d){b.push(H.batchId);for(const pe of H.mutations)L=L.add(pe.key)}return n.fi.Ks(o,L).next(H=>({di:H,removedBatchIds:g,addedBatchIds:b}))})})}),jh.apply(this,arguments)}function $h(i,e){const n=Wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.hi.newChangeBuffer({trackRemovals:!0});return function(g,b,L,H){const pe=L.batch,Re=pe.keys();let nt=lt.resolve();return Re.forEach(Pt=>{nt=nt.next(()=>H.getEntry(b,Pt)).next(Ft=>{const mn=L.docVersions.get(Pt);kn(null!==mn),Ft.version.compareTo(mn)<0&&(pe.applyToRemoteDocument(Ft,L),Ft.isValidDocument()&&(Ft.setReadTime(L.commitVersion),H.addEntry(Ft)))})}),nt.next(()=>g.Bs.removeMutationBatch(b,pe))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.fi.Ks(o,u))})}function jm(i){const e=Wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Gv(i,e){const n=Wt(i),o=e.snapshotVersion;let u=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.hi.newChangeBuffer({trackRemovals:!0});u=n.ui;const b=[];e.targetChanges.forEach((H,pe)=>{const Re=u.get(pe);if(!Re)return;b.push(n.fs.removeMatchingKeys(d,H.removedDocuments,pe).next(()=>n.fs.addMatchingKeys(d,H.addedDocuments,pe)));let nt=Re.withSequenceNumber(d.currentSequenceNumber);var Pt,Ft,mn;e.targetMismatches.has(pe)?nt=nt.withResumeToken(Nr.EMPTY_BYTE_STRING,U.min()).withLastLimboFreeSnapshotVersion(U.min()):H.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(H.resumeToken,o)),u=u.insert(pe,nt),Ft=nt,mn=H,(0===(Pt=Re).resumeToken.approximateByteSize()||Ft.snapshotVersion.toMicroseconds()-Pt.snapshotVersion.toMicroseconds()>=3e8||mn.addedDocuments.size+mn.modifiedDocuments.size+mn.removedDocuments.size>0)&&b.push(n.fs.updateTargetData(d,nt))});let L=ri();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(d,H))}),b.push($m(d,g,e.documentUpdates).next(H=>{L=H})),!o.isEqual(U.min())){const H=n.fs.getLastRemoteSnapshotVersion(d).next(pe=>n.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));b.push(H)}return lt.waitFor(b).next(()=>g.apply(d)).next(()=>n.fi.Gs(d,L)).next(()=>L)}).then(d=>(n.ui=u,d))}function $m(i,e,n){let o=Or();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let d=ri();return n.forEach((g,b)=>{const L=u.get(g);b.isNoDocument()&&b.version.isEqual(U.min())?(e.removeEntry(g,b.readTime),d=d.insert(g,b)):!L.isValidDocument()||b.version.compareTo(L.version)>0||0===b.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(b),d=d.insert(g,b)):Vt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",L.version," Watch version:",b.version)}),d})}function zv(i,e){const n=Wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function yc(i,e){const n=Wt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.fs.getTargetData(o,e).next(d=>d?(u=d,lt.resolve(u)):n.fs.allocateTargetId(o).next(g=>(u=new Ma(e,g,0,o.currentSequenceNumber),n.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ui=n.ui.insert(o.targetId,o),n.ai.set(e,o.targetId)),o})}function vc(i,e,n){return $p.apply(this,arguments)}function $p(){return $p=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=o.ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Fu(g))throw g;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.ui=o.ui.remove(e),o.ai.delete(u.target)}),$p.apply(this,arguments)}function Hh(i,e,n){const o=Wt(i);let u=U.min(),d=Or();return o.persistence.runTransaction("Execute query","readonly",g=>function(b,L,H){const pe=Wt(b),Re=pe.ai.get(H);return void 0!==Re?lt.resolve(pe.ui.get(Re)):pe.fs.getTargetData(L,H)}(o,g,to(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(g,b.targetId).next(L=>{d=L})}).next(()=>o.oi.Qs(g,e,n?u:U.min(),n?d:Or())).next(b=>(Oa(o,Kc(e),b),{documents:b,_i:d})))}function Hm(i,e){const n=Wt(i),o=Wt(n.fs),u=n.ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(g=>g?g.target:null))}function Gm(i,e){const n=Wt(i),o=n.ci.get(e)||U.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.hi.getAllFromCollectionGroup(u,e,Kl(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Oa(n,e,u),u))}function Oa(i,e,n){let o=U.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.ci.set(e,o)}function zh(){return zh=(0,f.Z)(function*(i,e,n,o){const u=Wt(i);let d=Or(),g=ri();for(const H of n){const pe=e.wi(H.metadata.name);H.document&&(d=d.add(pe));const Re=e.mi(H);Re.setReadTime(e.gi(H.metadata.readTime)),g=g.insert(pe,Re)}const b=u.hi.newChangeBuffer({trackRemovals:!0}),L=yield yc(u,(H=o,to(ko(Zt.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>$m(H,b,g).next(pe=>(b.apply(H),pe)).next(pe=>u.fs.removeMatchingKeysForTargetId(H,L.targetId).next(()=>u.fs.addMatchingKeys(H,d,L.targetId)).next(()=>u.fi.Gs(H,pe)).next(()=>pe)))}),zh.apply(this,arguments)}function Hp(i,e){return _c.apply(this,arguments)}function _c(){return _c=(0,f.Z)(function*(i,e,n=Or()){const o=yield yc(i,to(Cl(e.bundledQuery))),u=Wt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=ds(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u._s.saveNamedQuery(d,e);const b=o.withResumeToken(Nr.EMPTY_BYTE_STRING,g);return u.ui=u.ui.insert(b.targetId,b),u.fs.updateTargetData(d,b).next(()=>u.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.fs.addMatchingKeys(d,n,o.targetId)).next(()=>u._s.saveNamedQuery(d,e))})}),_c.apply(this,arguments)}class Gp{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return lt.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var o;return this.yi.set(n.id,{id:(o=n).id,version:o.version,createTime:ds(o.createTime)}),lt.resolve()}getNamedQuery(e,n){return lt.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(o=n).name,query:Cl(o.bundledQuery),readTime:ds(o.readTime)}),lt.resolve();var o}}class Wh{constructor(){this.overlays=new Ur(Qt.comparator),this.Ii=new Map}getOverlay(e,n){return lt.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.Xt(e,n,d)}),lt.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.Ii.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.Ii.delete(o)),lt.resolve()}getOverlaysForCollection(e,n,o){const u=Nu(),d=n.length+1,g=new Qt(n.child("")),b=this.overlays.getIteratorFrom(g);for(;b.hasNext();){const L=b.getNext().value,H=L.getKey();if(!n.isPrefixOf(H.path))break;H.path.length===d&&L.largestBatchId>o&&u.set(L.getKey(),L)}return lt.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new Ur((H,pe)=>H-pe);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===n&&H.largestBatchId>o){let pe=d.get(H.largestBatchId);null===pe&&(pe=Nu(),d=d.insert(H.largestBatchId,pe)),pe.set(H.getKey(),H)}}const b=Nu(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,pe)=>b.set(H,pe)),!(b.size()>=u)););return lt.resolve(b)}Xt(e,n,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const g=this.Ii.get(u.largestBatchId).delete(o.key);this.Ii.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new dc(n,o));let d=this.Ii.get(n);void 0===d&&(d=Or(),this.Ii.set(n,d)),this.Ii.set(n,d.add(o.key))}}class Kh{constructor(){this.Ti=new Z(ii.Ei),this.Ai=new Z(ii.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const o=new ii(e,n);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Pi(new ii(e,n))}Vi(e,n){e.forEach(o=>this.removeReference(o,n))}vi(e){const n=new Qt(new Zt([])),o=new ii(n,e),u=new ii(n,e+1),d=[];return this.Ai.forEachInRange([o,u],g=>{this.Pi(g),d.push(g.key)}),d}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new Qt(new Zt([])),o=new ii(n,e),u=new ii(n,e+1);let d=Or();return this.Ai.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const n=new ii(e,0),o=this.Ti.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class ii{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return Qt.comparator(e.key,n.key)||v(e.Ci,n.Ci)}static Ri(e,n){return v(e.Ci,n.Ci)||Qt.comparator(e.key,n.key)}}class zp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Z(ii.Ei)}checkEmpty(e){return lt.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,u){const d=this.xi;this.xi++;const g=new wh(d,n,o,u);this.Bs.push(g);for(const b of u)this.Ni=this.Ni.add(new ii(b.key,d)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return lt.resolve(g)}lookupMutationBatch(e,n){return lt.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Mi(n+1),d=u<0?0:u;return lt.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return lt.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new ii(n,0),u=new ii(n,Number.POSITIVE_INFINITY),d=[];return this.Ni.forEachInRange([o,u],g=>{const b=this.ki(g.Ci);d.push(b)}),lt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Z(v);return n.forEach(u=>{const d=new ii(u,0),g=new ii(u,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([d,g],b=>{o=o.add(b.Ci)})}),lt.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;Qt.isDocumentKey(d)||(d=d.child(""));const g=new ii(new Qt(d),0);let b=new Z(v);return this.Ni.forEachWhile(L=>{const H=L.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(b=b.add(L.Ci)),!0)},g),lt.resolve(this.Oi(b))}Oi(e){const n=[];return e.forEach(o=>{const u=this.ki(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){kn(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let o=this.Ni;return lt.forEach(n.mutations,u=>{const d=new ii(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,n){const o=new ii(n,0),u=this.Ni.firstAfterOrEqual(o);return lt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return lt.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class zm{constructor(e){this.$i=e,this.docs=new Ur(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,g=this.$i(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return lt.resolve(o?o.document.mutableCopy():pr.newInvalidDocument(n))}getEntries(e,n){let o=ri();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():pr.newInvalidDocument(u))}),lt.resolve(o)}getAllFromCollection(e,n,o){let u=ri();const d=new Qt(n.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:b,value:{document:L}}=g.getNext();if(!n.isPrefixOf(b.path))break;b.path.length>n.length+1||Zl(dl(L),o)<=0||(u=u.insert(L.key,L.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(e,n,o,u){nn()}Bi(e,n){return lt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Zh(this)}getSize(e){return lt.resolve(this.size)}}class Zh extends Ph{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),lt.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Wm{constructor(e){this.persistence=e,this.Li=new qn(n=>Kt(n),zn),this.lastRemoteSnapshotVersion=U.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Kh,this.targetCount=0,this.Ki=ju.gn()}forEachTarget(e,n){return this.Li.forEach((o,u)=>n(u)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ui&&(this.Ui=n),lt.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new ju(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,lt.resolve()}updateTargetData(e,n){return this.Tn(n),lt.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Li.forEach((g,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Li.delete(g),d.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),lt.waitFor(d).next(()=>u)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Li.get(n)||null;return lt.resolve(o)}addMatchingKeys(e,n,o){return this.qi.bi(n,o),lt.resolve()}removeMatchingKeys(e,n,o){this.qi.Vi(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),lt.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),lt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qi.Di(n);return lt.resolve(o)}containsKey(e,n){return lt.resolve(this.qi.containsKey(n))}}class Wp{constructor(e,n){this.Gi={},this.overlays={},this.es=new ui(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Wm(this),this.indexManager=new Ah,this.ds=new zm(o=>this.referenceDelegate.Qi(o)),this.M=new cd(n),this._s=new Gp(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Gi[e.toKey()];return o||(o=new zp(n,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("MemoryPersistence","Starting transaction:",e);const u=new Km(this.es.next());return this.referenceDelegate.ji(),o(u).next(d=>this.referenceDelegate.Wi(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}zi(e,n){return lt.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,n)))}}class Km extends ud{constructor(e){super(),this.currentSequenceNumber=e}}class qh{constructor(e){this.persistence=e,this.Hi=new Kh,this.Ji=null}static Yi(e){return new qh(e)}get Xi(){if(this.Ji)return this.Ji;throw nn()}addReference(e,n,o){return this.Hi.addReference(o,n),this.Xi.delete(o.toString()),lt.resolve()}removeReference(e,n,o){return this.Hi.removeReference(o,n),this.Xi.add(o.toString()),lt.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),lt.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(u=>this.Xi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Xi.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Xi,o=>{const u=Qt.fromPath(o);return this.Zi(e,u).next(d=>{d||n.removeEntry(u,U.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(o=>{o?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return lt.or([()=>lt.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}function xl(i,e){return`firestore_clients_${i}_${e}`}function $u(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ec(i,e){return`firestore_targets_${i}_${e}`}class Pa{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static tr(e,n,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new vt(u.error.code,u.error.message))),g?new Pa(e,n,u.state,d):(ai("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Na{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static tr(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new vt(o.error.code,o.error.message))),d?new Na(e,o.state,u):(ai("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ka{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static tr(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=ku();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=Gl(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new ka(e,d):(ai("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Yh{constructor(e,n){this.clientId=e,this.onlineState=n}static tr(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Yh(n.clientId,n.onlineState):(ai("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Id{constructor(){this.activeTargetIds=ku()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class wd{constructor(e,n,o,u,d){this.window=e,this.Yn=n,this.persistenceKey=o,this.ir=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Ur(v),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.hr=xl(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new Id),this.dr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const n=yield e.syncEngine.Fs();for(const u of n){if(u===e.ir)continue;const d=e.getItem(xl(e.persistenceKey,u));if(d){const g=ka.tr(u,d);g&&(e.ar=e.ar.insert(g.clientId,g))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const u=e.pr(o);u&&e.Ir(u)}for(const u of e.cr)e.ur(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,n,o){this.Er(e,n,o),this.Ar(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ec(this.persistenceKey,e));if(o){const u=Na.tr(e,o);u&&(n=u.state)}}return this.Rr.nr(e),this.yr(),n}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ec(this.persistenceKey,e))}updateQueryState(e,n,o){this.br(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Ar(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Vt("SharedClientState","READ",e,n),n}setItem(e,n){Vt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void ai("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,f.Z)(function*(){if(n.started){if(null!==o.key)if(n.dr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Sr(u,null)}{const u=n.Dr(o.key,o.newValue);if(u)return n.Sr(u.clientId,u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Cr(o.key,o.newValue);if(u)return n.Nr(u)}}else if(n.wr.test(o.key)){if(null!==o.newValue){const u=n.kr(o.key,o.newValue);if(u)return n.Mr(u)}}else if(o.key===n.mr){if(null!==o.newValue){const u=n.pr(o.newValue);if(u)return n.Ir(u)}}else if(o.key===n.lr){const u=function(d){let g=ui.A;if(null!=d)try{const b=JSON.parse(d);kn("number"==typeof b),g=b}catch(b){ai("SharedClientState","Failed to read sequence number from WebStorage",b)}return g}(o.newValue);u!==ui.A&&n.sequenceNumberHandler(u)}else if(o.key===n.gr){const u=n.Or(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Fr(d)))}}else n.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,n,o){const u=new Pa(this.currentUser,e,n,o),d=$u(this.persistenceKey,this.currentUser,e);this.setItem(d,u.er())}Ar(e){const n=$u(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,n,o){const u=Ec(this.persistenceKey,e),d=new Na(e,n,o);this.setItem(u,d.er())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.gr,n)}vr(e){const n=this.dr.exec(e);return n?n[1]:null}Dr(e,n){const o=this.vr(e);return ka.tr(o,n)}Cr(e,n){const o=this._r.exec(e),u=Number(o[1]);return Pa.tr(new Gr(void 0!==o[2]?o[2]:null),u,n)}kr(e,n){const o=this.wr.exec(e),u=Number(o[1]);return Na.tr(u,n)}pr(e){return Yh.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var n=this;return(0,f.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.$r(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,n){const o=n?this.ar.insert(e,n):this.ar.remove(e),u=this.Tr(this.ar),d=this.Tr(o),g=[],b=[];return d.forEach(L=>{u.has(L)||g.push(L)}),u.forEach(L=>{d.has(L)||b.push(L)}),this.syncEngine.Lr(g,b).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let n=ku();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Dd{constructor(){this.Ur=new Id,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,o){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Id,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qh{Kr(e){}shutdown(){}}class Jh{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const bd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Zm{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Kp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,d){const g=this.ho(e,n);Vt("RestConnection","Sending: ",g,o);const b={};return this.lo(b,u,d),this.fo(e,g,b,o).then(L=>(Vt("RestConnection","Received: ",L),L),L=>{throw go("RestConnection",`${e} failed with error: `,L,"url: ",g,"request:",o),L})}_o(e,n,o,u,d){return this.co(e,n,o,u,d)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,n){return`${this.uo}/v1/${n}:${bd[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((d,g)=>{const b=new us;b.listenOnce(Co.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case as.NO_ERROR:const H=b.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(H)),d(H);break;case as.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),g(new vt(st.DEADLINE_EXCEEDED,"Request time out"));break;case as.HTTP_ERROR:const pe=b.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",b.getResponseText()),pe>0){const Re=b.getResponseJson().error;if(Re&&Re.status&&Re.message){const nt=function(Pt){const Ft=Pt.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Ft)>=0?Ft:st.UNKNOWN}(Re.status);g(new vt(nt,Re.message))}else g(new vt(st.UNKNOWN,"Server responded with status "+b.getStatus()))}else g(new vt(st.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);b.send(n,"POST",L,o,15)})}wo(e,n,o){const u=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=$l(),g=za(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new bu({})),this.lo(b.initMessageHeaders,n,o),(0,V.uI)()||(0,V.b$)()||(0,V.d)()||(0,V.w1)()||(0,V.Mn)()||(0,V.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");const L=u.join("");Vt("Connection","Creating WebChannel: "+L,b);const H=d.createWebChannel(L,b);let pe=!1,Re=!1;const nt=new Zm({Jr:Ft=>{Re?Vt("Connection","Not sending because WebChannel is closed:",Ft):(pe||(Vt("Connection","Opening WebChannel transport."),H.open(),pe=!0),Vt("Connection","WebChannel sending:",Ft),H.send(Ft))},Yr:()=>H.close()}),Pt=(Ft,mn,er)=>{Ft.listen(mn,vi=>{try{er(vi)}catch(Hi){setTimeout(()=>{throw Hi},0)}})};return Pt(H,Ko.EventType.OPEN,()=>{Re||Vt("Connection","WebChannel transport opened.")}),Pt(H,Ko.EventType.CLOSE,()=>{Re||(Re=!0,Vt("Connection","WebChannel transport closed"),nt.ro())}),Pt(H,Ko.EventType.ERROR,Ft=>{Re||(Re=!0,go("Connection","WebChannel transport errored:",Ft),nt.ro(new vt(st.UNAVAILABLE,"The operation could not be completed")))}),Pt(H,Ko.EventType.MESSAGE,Ft=>{var mn;if(!Re){const er=Ft.data[0];kn(!!er);const vi=er,Hi=vi.error||(null===(mn=vi[0])||void 0===mn?void 0:mn.error);if(Hi){Vt("Connection","WebChannel received error:",Hi);const _i=Hi.status;let Ns=function(Ai){const Vs=$e[Ai];if(void 0!==Vs)return On(Vs)}(_i),es=Hi.message;void 0===Ns&&(Ns=st.INTERNAL,es="Unknown error status: "+_i+" with message "+Hi.message),Re=!0,nt.ro(new vt(Ns,es)),H.close()}else Vt("Connection","WebChannel received:",er),nt.oo(er)}}),Pt(g,pa.STAT_EVENT,Ft=>{Ft.stat===bi.PROXY?Vt("Connection","Detected buffering proxy"):Ft.stat===bi.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.io()},0),nt}}function qm(){return"undefined"!=typeof window?window:null}function Ic(){return"undefined"!=typeof document?document:null}function Rl(i){return new Im(i,!0)}class Xh{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Yn=e,this.timerId=n,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&Vt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ef{constructor(e,n,o,u,d,g,b,L){this.Yn=e,this.Vo=o,this.vo=u,this.So=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=b,this.listener=L,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Xh(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,f.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,f.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(ai(n.toString()),ai("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===st.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new vt(st.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.No.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}jo(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ym extends ef{constructor(e,n,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.M=d}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Cm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:nn(),u=e.targetChange.targetIds||[],d=function(L,H){return L.N?(kn(void 0===H||"string"==typeof H),Nr.fromBase64String(H||"")):(kn(void 0===H||H instanceof Uint8Array),Nr.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,b=g&&function(L){const H=void 0===L.code?st.UNKNOWN:On(L.code);return new vt(H,L.message||"")}(g);n=new nu(o,u,d,b||null)}else if("documentChange"in e){const o=e.documentChange,u=ci(i,o.document.name),d=ds(o.document.updateTime),g=new cs({mapValue:{fields:o.document.fields}}),b=pr.newFoundDocument(u,d,g);n=new ia(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=ci(i,o.document),d=o.readTime?ds(o.readTime):U.min(),g=pr.newNoDocument(u,d);n=new ia([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=ci(i,o.document);n=new ia([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return nn();{const o=e.filter,d=new te(o.count||0);n=new td(o.targetId,d)}}var L;return n}(this.M,e),o=function(u){if(!("targetChange"in u))return U.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?U.min():d.readTime?ds(d.readTime):U.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=vl(this.M),n.addTarget=function(u,d){let g;const b=d.target;return g=Rr(b)?{documents:mp(u,b)}:{query:fh(u,b)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=fp(u,d.resumeToken):d.snapshotVersion.compareTo(U.min())>0&&(g.readTime=uc(u,d.snapshotVersion.toTimestamp())),g}(this.M,e);const o=function Tm(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=vl(this.M),n.removeTarget=e,this.Lo(n)}}class Qm extends ef{constructor(e,n,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.M=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(kn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function gp(i,e){return i&&i.length>0?(kn(void 0!==e),i.map(n=>function(o,u){let d=ds(o.updateTime?o.updateTime:u);return d.isEqual(U.min())&&(d=ds(u)),new lh(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ds(e.commitTime);return this.listener.tu(o,n)}return kn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=vl(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>El(this.M,o))};this.Lo(n)}}class ro extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.M=u,this.su=!1}iu(){if(this.su)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.co(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(st.UNKNOWN,u.toString())})}_o(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(st.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class Jm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(ai(n),this.uu=!1):Vt("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Xm{constructor(e,n,o,u,d){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.Kr(b=>{o.enqueueAndForget((0,f.Z)(function*(){var L;Fa(g)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(H){const pe=Wt(H);pe.wu.add(4),yield Hu(pe),pe.yu.set("Unknown"),pe.wu.delete(4),yield Cd(pe)}),function(H){return L.apply(this,arguments)})(g))}))}),this.yu=new Jm(o,u)}}function Cd(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,f.Z)(function*(i){if(Fa(i))for(const e of i.mu)yield e(!0)}),Zp.apply(this,arguments)}function Hu(i){return qp.apply(this,arguments)}function qp(){return qp=(0,f.Z)(function*(i){for(const e of i.mu)yield e(!1)}),qp.apply(this,arguments)}function Td(i,e){const n=Wt(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),nf(n)?tf(n):Cc(n).Mo()&&Ad(n,e))}function Gu(i,e){const n=Wt(i),o=Cc(n);n._u.delete(e),o.Mo()&&Yp(n,e),0===n._u.size&&(o.Mo()?o.$o():Fa(n)&&n.yu.set("Unknown"))}function Ad(i,e){i.pu.Z(e.targetId),Cc(i).Ho(e)}function Yp(i,e){i.pu.Z(e),Cc(i).Jo(e)}function tf(i){i.pu=new ji({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Cc(i).start(),i.yu.au()}function nf(i){return Fa(i)&&!Cc(i).ko()&&i._u.size>0}function Fa(i){return 0===Wt(i).wu.size}function Qp(i){i.pu=void 0}function Jp(i){return rf.apply(this,arguments)}function rf(){return rf=(0,f.Z)(function*(i){i._u.forEach((e,n)=>{Ad(i,e)})}),rf.apply(this,arguments)}function ey(i,e){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,f.Z)(function*(i,e){Qp(i),nf(i)?(i.yu.lu(e),tf(i)):i.yu.set("Unknown")}),Sd.apply(this,arguments)}function Xp(i,e,n){return sf.apply(this,arguments)}function sf(){return sf=(0,f.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof nu&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,d){const g=d.cause;for(const b of d.targetIds)u._u.has(b)&&(yield u.remoteSyncer.rejectListen(b,g),u._u.delete(b),u.pu.removeTarget(b))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield io(i,o)}else if(e instanceof ia?i.pu.ut(e):e instanceof td?i.pu._t(e):i.pu.ht(e),!n.isEqual(U.min()))try{const o=yield jm(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const g=u.pu.yt(d);return g.targetChanges.forEach((b,L)=>{if(b.resumeToken.approximateByteSize()>0){const H=u._u.get(L);H&&u._u.set(L,H.withResumeToken(b.resumeToken,d))}}),g.targetMismatches.forEach(b=>{const L=u._u.get(b);if(!L)return;u._u.set(b,L.withResumeToken(Nr.EMPTY_BYTE_STRING,L.snapshotVersion)),Yp(u,b);const H=new Ma(L.target,b,1,L.sequenceNumber);Ad(u,H)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield io(i,o)}var o}),sf.apply(this,arguments)}function io(i,e,n){return wc.apply(this,arguments)}function wc(){return wc=(0,f.Z)(function*(i,e,n){if(!Fu(e))throw e;i.wu.add(1),yield Hu(i),i.yu.set("Offline"),n||(n=()=>jm(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield Cd(i)}))}),wc.apply(this,arguments)}function eg(i,e){return e().catch(n=>io(i,n,e))}function Ol(i){return tg.apply(this,arguments)}function tg(){return tg=(0,f.Z)(function*(i){const e=Wt(i),n=cu(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;ng(e);)try{const u=yield zv(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,ty(e,u)}catch(u){yield io(e,u)}rg(e)&&ig(e)}),tg.apply(this,arguments)}function ng(i){return Fa(i)&&i.du.length<10}function ty(i,e){i.du.push(e);const n=cu(i);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function rg(i){return Fa(i)&&!cu(i).ko()&&i.du.length>0}function ig(i){cu(i).start()}function of(i){return af.apply(this,arguments)}function af(){return af=(0,f.Z)(function*(i){cu(i).nu()}),af.apply(this,arguments)}function ny(i){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,f.Z)(function*(i){const e=cu(i);for(const n of i.du)e.Zo(n.mutations)}),Pl.apply(this,arguments)}function uf(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,f.Z)(function*(i,e,n){const o=i.du.shift(),u=ld.from(o,e,n);yield eg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Ol(i)}),lf.apply(this,arguments)}function cf(i,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,f.Z)(function*(i,e){var n;e&&cu(i).Xo&&(yield(n=(0,f.Z)(function*(o,u){if(cn(d=u.code)&&d!==st.ABORTED){const g=o.du.shift();cu(o).Fo(),yield eg(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield Ol(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),rg(i)&&ig(i)}),Dc.apply(this,arguments)}function df(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,f.Z)(function*(i,e){const n=Wt(i);n.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Fa(n);n.wu.add(3),yield Hu(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Cd(n)}),sg.apply(this,arguments)}function og(i,e){return bc.apply(this,arguments)}function bc(){return bc=(0,f.Z)(function*(i,e){const n=Wt(i);e?(n.wu.delete(2),yield Cd(n)):e||(n.wu.add(2),yield Hu(n),n.yu.set("Unknown"))}),bc.apply(this,arguments)}function Cc(i){return i.Iu||(i.Iu=function(e,n,o){const u=Wt(e);return u.iu(),new Ym(n,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:Jp.bind(null,i),eo:ey.bind(null,i),zo:Xp.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Iu.Fo(),nf(i)?tf(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Qp(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function cu(i){return i.Tu||(i.Tu=function(e,n,o){const u=Wt(e);return u.iu(),new Qm(n,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:of.bind(null,i),eo:cf.bind(null,i),eu:ny.bind(null,i),tu:uf.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Tu.Fo(),yield Ol(i)):(yield i.Tu.stop(),i.du.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class Md{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,n,o,u,d){const g=Date.now()+o,b=new Md(e,n,g,u,d);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zu(i,e){if(ai("AsyncQueue",`${e}: ${i}`),Fu(i))return new vt(st.UNAVAILABLE,`${e}: ${i}`);throw i}class Wu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Qt.comparator(n.key,o.key):(n,o)=>Qt.comparator(n.key,o.key),this.keyedMap=na(),this.sortedSet=new Ur(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Wu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class hf{constructor(){this.Eu=new Ur(Qt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):nn():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Ku{constructor(e,n,o,u,d,g,b,L){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=b,this.excludesMetadataChanges=L}static fromInitialDocuments(e,n,o,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ku(e,n,Wu.emptySet(n),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class La{constructor(){this.Ru=void 0,this.listeners=[]}}class xd{constructor(){this.queries=new qn(e=>pl(e),Mu),this.onlineState="Unknown",this.bu=new Set}}function ff(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new La),u)try{d.Ru=yield n.onListen(o)}catch(g){const b=zu(g,`Initialization of query '${Jl(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,d),d.listeners.push(e),e.Pu(n.onlineState),d.Ru&&e.Vu(d.Ru)&&Zu(n)}),pf.apply(this,arguments)}function ag(i,e){return Tc.apply(this,arguments)}function Tc(){return Tc=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Tc.apply(this,arguments)}function ug(i,e){const n=Wt(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const b of g.listeners)b.Vu(u)&&(o=!0);g.Ru=u}}o&&Zu(n)}function gf(i,e,n){const o=Wt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Zu(i){i.bu.forEach(e=>{e.next()})}class mf{constructor(e,n,o){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ku(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class yf{constructor(e,n){this.payload=e,this.byteLength=n}Mu(){return"metadata"in this.payload}}class vf{constructor(e){this.M=e}wi(e){return ci(this.M,e)}mi(e){return e.metadata.exists?rd(this.M,e.document,!1):pr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return ds(e)}}class lg{constructor(e,n,o){this.Ou=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_f(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,o=new vf(this.M);for(const u of e)if(u.metadata.queries){const d=o.wi(u.metadata.name);for(const g of u.metadata.queries){const b=(n.get(g)||Or()).add(d);n.set(g,b)}}return n}complete(){var e=this;return(0,f.Z)(function*(){const n=yield function Gh(i,e,n,o){return zh.apply(this,arguments)}(e.localStore,new vf(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const u of e.queries)yield Hp(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function _f(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cg{constructor(e){this.key=e}}class Rd{constructor(e){this.key=e}}class dg{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Or(),this.mutatedKeys=Or(),this.Gu=xu(e),this.Qu=new Wu(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new hf,u=n?n.Qu:this.Qu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,b=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((pe,Re)=>{const nt=u.get(pe),Pt=Xl(this.query,Re)?Re:null,Ft=!!nt&&this.mutatedKeys.has(nt.key),mn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let er=!1;nt&&Pt?nt.data.isEqual(Pt.data)?Ft!==mn&&(o.track({type:3,doc:Pt}),er=!0):this.Hu(nt,Pt)||(o.track({type:2,doc:Pt}),er=!0,(L&&this.Gu(Pt,L)>0||H&&this.Gu(Pt,H)<0)&&(b=!0)):!nt&&Pt?(o.track({type:0,doc:Pt}),er=!0):nt&&!Pt&&(o.track({type:1,doc:nt}),er=!0,(L||H)&&(b=!0)),er&&(Pt?(g=g.add(Pt),d=mn?d.add(pe):d.delete(pe)):(g=g.delete(pe),d=d.delete(pe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const pe="F"===this.query.limitType?g.last():g.first();g=g.delete(pe.key),d=d.delete(pe.key),o.track({type:1,doc:pe})}return{Qu:g,zu:o,ii:b,mutatedKeys:d}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((H,pe)=>function(Re,nt){const Pt=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Pt(Re)-Pt(nt)}(H.type,pe.type)||this.Gu(H.doc,pe.doc)),this.Ju(o);const g=n?this.Yu():[],b=0===this.Ku.size&&this.current?1:0,L=b!==this.qu;return this.qu=b,0!==d.length||L?{snapshot:new Ku(this.query,e.Qu,u,d,e.mutatedKeys,0===b,L,!1),Xu:g}:{Xu:g}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hf,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Or(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Rd(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new cg(o))}),n}ta(e){this.Uu=e._i,this.Ku=Or();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Ku.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class ry{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hg{constructor(e){this.key=e,this.na=!1}}class Nl{constructor(e,n,o,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sa={},this.ia=new qn(b=>pl(b),Mu),this.ra=new Map,this.oa=new Set,this.ua=new Ur(Qt.comparator),this.aa=new Map,this.ca=new Kh,this.ha={},this.la=new Map,this.fa=ju.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function fg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,f.Z)(function*(i,e){const n=Rf(i);let o,u;const d=n.ia.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.ea();else{const g=yield yc(n.localStore,to(e));n.isPrimaryClient&&Td(n.remoteStore,g);const b=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield If(n,e,o,"current"===b)}return u}),Ef.apply(this,arguments)}function If(i,e,n,o){return du.apply(this,arguments)}function du(){return du=(0,f.Z)(function*(i,e,n,o){i._a=(pe,Re,nt)=>{return(Pt=(0,f.Z)(function*(Ft,mn,er,vi){let Hi=mn.view.Wu(er);Hi.ii&&(Hi=yield Hh(Ft.localStore,mn.query,!1).then(({documents:es})=>mn.view.Wu(es,Hi)));const _i=vi&&vi.targetChanges.get(mn.targetId),Ns=mn.view.applyChanges(Hi,Ft.isPrimaryClient,_i);return vg(Ft,mn.targetId,Ns.Xu),Ns.snapshot}),function(Ft,mn,er,vi){return Pt.apply(this,arguments)})(i,pe,Re,nt);var Pt};const u=yield Hh(i.localStore,e,!0),d=new dg(e,u._i),g=d.Wu(u.documents),b=ra.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),L=d.applyChanges(g,i.isPrimaryClient,b);vg(i,n,L.Xu);const H=new ry(e,n,d);return i.ia.set(e,H),i.ra.has(n)?i.ra.get(n).push(e):i.ra.set(n,[e]),L.snapshot}),du.apply(this,arguments)}function iy(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,f.Z)(function*(i,e){const n=Wt(i),o=n.ia.get(e),u=n.ra.get(o.targetId);if(u.length>1)return n.ra.set(o.targetId,u.filter(d=>!Mu(d,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield vc(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Gu(n.remoteStore,o.targetId),kl(n,o.targetId)}).catch(uu))):(kl(n,o.targetId),yield vc(n.localStore,o.targetId,!0))}),wf.apply(this,arguments)}function Df(){return Df=(0,f.Z)(function*(i,e,n){const o=Fl(i);try{const u=yield function(d,g){const b=Wt(d),L=P.now(),H=g.reduce((Re,nt)=>Re.add(nt.key),Or());let pe;return b.persistence.runTransaction("Locally write mutations","readwrite",Re=>b.fi.Ks(Re,H).next(nt=>{pe=nt;const Pt=[];for(const Ft of g){const mn=sc(Ft,pe.get(Ft.key));null!=mn&&Pt.push(new Aa(Ft.key,mn,qa(mn.value.mapValue),Ti.exists(!0)))}return b.Bs.addMutationBatch(Re,L,Pt,g)})).then(Re=>(Re.applyToLocalDocumentSet(pe),{batchId:Re.batchId,changes:pe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,b){let L=d.ha[d.currentUser.toKey()];L||(L=new Ur(v)),L=L.insert(g,b),d.ha[d.currentUser.toKey()]=L}(o,u.batchId,n),yield Va(o,u.changes),yield Ol(o.remoteStore)}catch(u){const d=zu(u,"Failed to persist write");n.reject(d)}}),Df.apply(this,arguments)}function Vo(i,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,f.Z)(function*(i,e){const n=Wt(i);try{const o=yield Gv(n.localStore,e);e.targetChanges.forEach((u,d)=>{const g=n.aa.get(d);g&&(kn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.na=!0:u.modifiedDocuments.size>0?kn(g.na):u.removedDocuments.size>0&&(kn(g.na),g.na=!1))}),yield Va(n,o,e)}catch(o){yield uu(o)}}),Ac.apply(this,arguments)}function bf(i,e,n){const o=Wt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ia.forEach((d,g)=>{const b=g.view.Pu(e);b.snapshot&&u.push(b.snapshot)}),function(d,g){const b=Wt(d);b.onlineState=g;let L=!1;b.queries.forEach((H,pe)=>{for(const Re of pe.listeners)Re.Pu(g)&&(L=!0)}),L&&Zu(b)}(o.eventManager,e),u.length&&o.sa.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function pg(i,e,n){return Od.apply(this,arguments)}function Od(){return Od=(0,f.Z)(function*(i,e,n){const o=Wt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.aa.get(e),d=u&&u.key;if(d){let g=new Ur(Qt.comparator);g=g.insert(d,pr.newNoDocument(d,U.min()));const b=Or().add(d),L=new tu(U.min(),new Map,new Z(v),g,b);yield Vo(o,L),o.ua=o.ua.remove(d),o.aa.delete(e),Sc(o)}else yield vc(o.localStore,e,!1).then(()=>kl(o,e,n)).catch(uu)}),Od.apply(this,arguments)}function gg(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.batch.batchId;try{const u=yield $h(n.localStore,e);Nd(n,o,null),mg(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield Va(n,u)}catch(u){yield uu(u)}}),Cf.apply(this,arguments)}function oy(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,f.Z)(function*(i,e,n){const o=Wt(i);try{const u=yield function(d,g){const b=Wt(d);return b.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return b.Bs.lookupMutationBatch(L,g).next(pe=>(kn(null!==pe),H=pe.keys(),b.Bs.removeMutationBatch(L,pe))).next(()=>b.Bs.performConsistencyCheck(L)).next(()=>b.fi.Ks(L,H))})}(o.localStore,e);Nd(o,e,n),mg(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield Va(o,u)}catch(u){yield uu(u)}}),Tf.apply(this,arguments)}function Pd(){return Pd=(0,f.Z)(function*(i,e){const n=Wt(i);Fa(n.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=Wt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>g.Bs.getHighestUnacknowledgedBatchId(b))}(n.localStore);if(-1===o)return void e.resolve();const u=n.la.get(o)||[];u.push(e),n.la.set(o,u)}catch(o){const u=zu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Pd.apply(this,arguments)}function mg(i,e){(i.la.get(e)||[]).forEach(n=>{n.resolve()}),i.la.delete(e)}function Nd(i,e,n){const o=Wt(i);let u=o.ha[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.ha[o.currentUser.toKey()]=u}}function kl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),n&&i.sa.wa(o,n);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||yg(i,o)})}function yg(i,e){i.oa.delete(e.path.canonicalString());const n=i.ua.get(e);null!==n&&(Gu(i.remoteStore,n),i.ua=i.ua.remove(e),i.aa.delete(n),Sc(i))}function vg(i,e,n){for(const o of n)o instanceof cg?(i.ca.addReference(o.key,e),Wv(i,o)):o instanceof Rd?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||yg(i,o.key)):nn()}function Wv(i,e){const n=e.key,o=n.path.canonicalString();i.ua.get(n)||i.oa.has(o)||(Vt("SyncEngine","New document in limbo: "+n),i.oa.add(o),Sc(i))}function Sc(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const n=new Qt(Zt.fromString(e)),o=i.fa.next();i.aa.set(o,new hg(n)),i.ua=i.ua.insert(n,o),Td(i.remoteStore,new Ma(to(ko(n.path)),o,2,ui.A))}}function Va(i,e,n){return kd.apply(this,arguments)}function kd(){return kd=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=[],d=[],g=[];var b;o.ia.isEmpty()||(o.ia.forEach((b,L)=>{g.push(o._a(L,e,n).then(H=>{if(H){o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,H.fromCache?"not-current":"current"),u.push(H);const pe=Bp.Ys(L.targetId,H);d.push(pe)}}))}),yield Promise.all(g),o.sa.zo(u),yield(b=(0,f.Z)(function*(L,H){const pe=Wt(L);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Re=>lt.forEach(H,nt=>lt.forEach(nt.Hs,Pt=>pe.persistence.referenceDelegate.addReference(Re,nt.targetId,Pt)).next(()=>lt.forEach(nt.Js,Pt=>pe.persistence.referenceDelegate.removeReference(Re,nt.targetId,Pt)))))}catch(Re){if(!Fu(Re))throw Re;Vt("LocalStore","Failed to update sequence numbers: "+Re)}for(const Re of H){const nt=Re.targetId;if(!Re.fromCache){const Pt=pe.ui.get(nt),mn=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);pe.ui=pe.ui.insert(nt,mn)}}}),function(L,H){return b.apply(this,arguments)})(o.localStore,d))}),kd.apply(this,arguments)}function _g(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,f.Z)(function*(i,e){const n=Wt(i);if(!n.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield Bh(n.localStore,e);n.currentUser=e,(u=n).la.forEach(g=>{g.forEach(b=>{b.reject(new vt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.la.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Va(n,o.di)}var u}),Eg.apply(this,arguments)}function Uo(i,e){const n=Wt(i),o=n.aa.get(e);if(o&&o.na)return Or().add(o.key);{let u=Or();const d=n.ra.get(e);if(!d)return u;for(const g of d){const b=n.ia.get(g);u=u.unionWith(b.view.ju)}return u}}function Kv(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,f.Z)(function*(i,e){const n=Wt(i),o=yield Hh(n.localStore,e.query,!0),u=e.view.ta(o);return n.isPrimaryClient&&vg(n,e.targetId,u.Xu),u}),Ig.apply(this,arguments)}function wg(i,e){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,f.Z)(function*(i,e){const n=Wt(i);return Gm(n.localStore,e).then(o=>Va(n,o))}),Fd.apply(this,arguments)}function Dg(i,e,n,o){return Af.apply(this,arguments)}function Af(){return Af=(0,f.Z)(function*(i,e,n,o){const u=Wt(i),d=yield function(g,b){const L=Wt(g),H=Wt(L.Bs);return L.persistence.runTransaction("Lookup mutation documents","readonly",pe=>H.fn(pe,b).next(Re=>Re?L.fi.Ks(pe,Re):lt.resolve(null)))}(u.localStore,e);var b;null!==d?("pending"===n?yield Ol(u.remoteStore):"acknowledged"===n||"rejected"===n?(Nd(u,e,o||null),mg(u,e),b=e,Wt(Wt(u.localStore).Bs)._n(b)):nn(),yield Va(u,d)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Af.apply(this,arguments)}function Ld(){return Ld=(0,f.Z)(function*(i,e){const n=Wt(i);if(Rf(n),Fl(n),!0===e&&!0!==n.da){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Vd(n,o.toArray());n.da=!0,yield og(n.remoteStore,!0);for(const d of u)Td(n.remoteStore,d)}else if(!1===e&&!1!==n.da){const o=[];let u=Promise.resolve();n.ra.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(kl(n,g),vc(n.localStore,g,!0))),Gu(n.remoteStore,g)}),yield u,yield Vd(n,o),function(d){const g=Wt(d);g.aa.forEach((b,L)=>{Gu(g.remoteStore,L)}),g.ca.Si(),g.aa=new Map,g.ua=new Ur(Qt.comparator)}(n),n.da=!1,yield og(n.remoteStore,!1)}}),Ld.apply(this,arguments)}function Vd(i,e,n){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=[],d=[];for(const g of e){let b;const L=o.ra.get(g);if(L&&0!==L.length){b=yield yc(o.localStore,to(L[0]));for(const H of L){const pe=o.ia.get(H),Re=yield Kv(o,pe);Re.snapshot&&d.push(Re.snapshot)}}else{const H=yield Hm(o.localStore,g);b=yield yc(o.localStore,H),yield If(o,Ud(H),g,!1)}u.push(b)}return o.sa.zo(d),u}),Sf.apply(this,arguments)}function Ud(i){return Ja(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function uy(i){const e=Wt(i);return Wt(Wt(e.localStore).persistence).Fs()}function ly(i,e,n,o){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,f.Z)(function*(i,e,n,o){const u=Wt(i);if(u.da)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ra.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const g=yield Gm(u.localStore,Kc(d[0])),b=tu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Va(u,g,b);break}case"rejected":yield vc(u.localStore,e,!0),kl(u,e,o);break;default:nn()}}),Mf.apply(this,arguments)}function cy(i,e,n){return xf.apply(this,arguments)}function xf(){return xf=(0,f.Z)(function*(i,e,n){const o=Rf(i);if(o.da){for(const u of e){if(o.ra.has(u)){Vt("SyncEngine","Adding an already active target "+u);continue}const d=yield Hm(o.localStore,u),g=yield yc(o.localStore,d);yield If(o,Ud(d),g.targetId,!1),Td(o.remoteStore,g)}for(const u of n)o.ra.has(u)&&(yield vc(o.localStore,u,!1).then(()=>{Gu(o.remoteStore,u),kl(o,u)}).catch(uu))}}),xf.apply(this,arguments)}function Rf(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vo.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uo.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pg.bind(null,e),e.sa.zo=ug.bind(null,e.eventManager),e.sa.wa=gf.bind(null,e.eventManager),e}function Fl(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,e),e}class bg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,f.Z)(function*(){n.M=Rl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return Uh(this.persistence,new jp,e.initialUser,this.M)}ya(e){return new Wp(qh.Yi,this.M)}ga(e){return new Dd}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Vl extends bg{constructor(e,n,o){super(),this.Ta=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield n().call(o,e),yield o.Ta.initialize(o,e),yield Fl(o.Ta.syncEngine),yield Ol(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Uh(this.persistence,new jp,e.initialUser,this.M)}pa(e){return new Bm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const n=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?zs.withCacheSize(this.cacheSizeBytes):zs.DEFAULT;return new Lh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,qm(),Ic(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Dd}}class dy extends Vl{constructor(e,n){super(e,n,!1),this.Ta=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield n().call(o,e);const u=o.Ta.syncEngine;o.sharedClientState instanceof wd&&(o.sharedClientState.syncEngine={$r:Dg.bind(null,u),Br:ly.bind(null,u),Lr:cy.bind(null,u),Fs:uy.bind(null,u),Fr:wg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,f.Z)(function*(g){yield function Zv(i,e){return Ld.apply(this,arguments)}(o.Ta.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):g||o.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}ga(e){const n=qm();if(!wd.vt(n))throw new vt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wd(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Of{initialize(e,n){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>bf(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=_g.bind(null,o.syncEngine),yield og(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xd}createDatastore(e){const n=Rl(e.databaseInfo.databaseId),o=new Kp(e.databaseInfo);return new ro(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=b=>bf(this.syncEngine,b,0),g=Jh.vt()?new Jh:new Qh,new Xm(n,o,u,d,g);var n,o,u,d,g}createSyncEngine(e,n){return function(o,u,d,g,b,L,H){const pe=new Nl(o,u,d,g,b,L);return H&&(pe.da=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,f.Z)(function*(n){const o=Wt(n);Vt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield Hu(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function Bd(i,e=10240){let n=0;return{read:()=>(0,f.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class so{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Mc{constructor(e,n){this.Ra=e,this.M=n,this.metadata=new yi,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,f.Z)(function*(){const n=yield e.Va();if(null===n)return null;const o=e.ba.decode(n),u=Number(o);isNaN(u)&&e.va(`length string (${o}) is not valid number`);const d=yield e.Sa(u);return new yf(JSON.parse(d),n.length+u)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,f.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const n=e.Da();n<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Sa(e){var n=this;return(0,f.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ca())&&n.va("Reached the end of bundle when more is expected.");const o=n.ba.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,f.Z)(function*(){const n=yield e.Ra.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class Os{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,f.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new vt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,f.Z)(function*(d,g){const b=Wt(d),L=vl(b.M)+"/documents",H={documents:g.map(Pt=>Sa(b.M,Pt))},pe=yield b._o("BatchGetDocuments",L,H),Re=new Map;pe.forEach(Pt=>{const Ft=function bm(i,e){return"found"in e?function(n,o){kn(!!o.found);const u=ci(n,o.found.name),d=ds(o.found.updateTime),g=new cs({mapValue:{fields:o.found.fields}});return pr.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(n,o){kn(!!o.missing),kn(!!o.readTime);const u=ci(n,o.missing),d=ds(o.readTime);return pr.newNoDocument(u,d)}(i,e):nn()}(b.M,Pt);Re.set(Ft.key.toString(),Ft)});const nt=[];return g.forEach(Pt=>{const Ft=Re.get(Pt.toString());kn(!!Ft),nt.push(Ft)}),nt}),function(d,g){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new w(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=Qt.fromPath(u);e.mutations.push(new j(d,e.precondition(d)))}),yield(o=(0,f.Z)(function*(u,d){const g=Wt(u),b=vl(g.M)+"/documents",L={writes:d.map(H=>El(g.M,H))};yield g.co("Commit",b,L)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw nn();n=U.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new vt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Ti.updateTime(n):Ti.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(U.min()))throw new vt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(n)}return Ti.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class qu{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.xa=o.maxAttempts,this.No=new Xh(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,f.Z)(function*(){const n=new Os(e.datastore),o=e.ka(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Ma(d)}))}).catch(u=>{e.Ma(u)})}))}ka(e){try{const n=this.updateFunction(e);return!Wa(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!cn(n)}return!1}}class jd{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=Gr.UNAUTHENTICATED,this.clientId=D.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,f.Z)(function*(b){Vt("FirestoreClient","Received user=",b.uid),yield d.authCredentialListener(b),d.user=b});return function(b){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Vt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=zu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function oo(i,e){return xc.apply(this,arguments)}function xc(){return xc=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(d){o.isEqual(d)||(yield Bh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),xc.apply(this,arguments)}function Yu(i,e){return hu.apply(this,arguments)}function hu(){return hu=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield fu(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>df(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>df(e.remoteStore,d)),i.onlineComponents=e}),hu.apply(this,arguments)}function fu(i){return pu.apply(this,arguments)}function pu(){return pu=(0,f.Z)(function*(i){return i.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield oo(i,new bg)),i.offlineComponents}),pu.apply(this,arguments)}function Ua(i){return gu.apply(this,arguments)}function gu(){return gu=(0,f.Z)(function*(i){return i.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Yu(i,new Of)),i.onlineComponents}),gu.apply(this,arguments)}function Qu(i){return fu(i).then(e=>e.persistence)}function mu(i){return fu(i).then(e=>e.localStore)}function Ju(i){return Ua(i).then(e=>e.remoteStore)}function $d(i){return Ua(i).then(e=>e.syncEngine)}function Xu(i){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i){const e=yield Ua(i),n=e.eventManager;return n.onListen=fg.bind(null,e.syncEngine),n.onUnlisten=iy.bind(null,e.syncEngine),n}),Hd.apply(this,arguments)}function Pf(i,e,n={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,d,g,b,L){const H=new so({next:Re=>{d.enqueueAndForget(()=>ag(u,pe));const nt=Re.docs.has(g);!nt&&Re.fromCache?L.reject(new vt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&Re.fromCache&&b&&"server"===b.source?L.reject(new vt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Re)},error:Re=>L.reject(Re)}),pe=new mf(ko(g.path),H,{includeMetadataChanges:!0,ku:!0});return ff(u,pe)}(yield Xu(i),i.asyncQueue,e,n,o)})),o.promise}function Nf(i,e,n={}){const o=new yi;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,d,g,b,L){const H=new so({next:Re=>{d.enqueueAndForget(()=>ag(u,pe)),Re.fromCache&&"server"===b.source?L.reject(new vt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Re)},error:Re=>L.reject(Re)}),pe=new mf(g,H,{includeMetadataChanges:!0,ku:!0});return ff(u,pe)}(yield Xu(i),i.asyncQueue,e,n,o)})),o.promise}const kf=new Map;function Ff(i,e,n){if(!n)throw new vt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xg(i,e,n,o){if(!0===e&&!0===o)throw new vt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lf(i){if(!Qt.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rg(i){if(Qt.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Rc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":nn()}function Ar(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new vt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rc(i);throw new vt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Og(i,e){if(e<=0)throw new vt(st.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gy{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gy({}),this._settingsFrozen=!1,e instanceof Qs?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new vt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qs(u.options.projectId)}(e))}get app(){if(!this._app)throw new vt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gy(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ya;switch(n.type){case"gapi":const o=n.client;return kn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new So(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new vt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kf.get(e);n&&(Vt("ComponentProvider","Removing Datastore"),kf.delete(e),n.terminate())}(this),Promise.resolve()}}function Vf(i,e,n,o={}){var u;const d=(i=Ar(i,Oc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&go("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let g,b;if("string"==typeof o.mockUserToken)g=o.mockUserToken,b=Gr.MOCK_USER;else{g=(0,V.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new vt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Gr(L)}i._authCredentials=new Ao(new js(g,b))}}class di{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ba(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new di(this.firestore,e,this._key)}}class Ps{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Ps(this.firestore,e,this._query)}}class Ba extends Ps{constructor(e,n,o){super(e,n,ko(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new di(this.firestore,null,new Qt(e))}withConverter(e){return new Ba(this.firestore,e,this._path)}}function qv(i,e,...n){if(i=(0,V.m9)(i),Ff("collection","path",e),i instanceof Oc){const o=Zt.fromString(e,...n);return Rg(o),new Ba(i,null,o)}{if(!(i instanceof di||i instanceof Ba))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zt.fromString(e,...n));return Rg(o),new Ba(i.firestore,null,o)}}function Yv(i,e){if(i=Ar(i,Oc),Ff("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ps(i,null,(n=e,new eo(Zt.emptyPath(),n)));var n}function Pg(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=D.R()),Ff("doc","path",e),i instanceof Oc){const o=Zt.fromString(e,...n);return Lf(o),new di(i,null,new Qt(o))}{if(!(i instanceof di||i instanceof Ba))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zt.fromString(e,...n));return Lf(o),new di(i.firestore,i instanceof Ba?i.converter:null,new Qt(o))}}function Ng(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof di||i instanceof Ba)&&(e instanceof di||e instanceof Ba)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function my(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof Ps&&e instanceof Ps&&i.firestore===e.firestore&&Mu(i._query,e._query)&&i.converter===e.converter}class yy{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Xh(this,"async_queue_retry"),this.Qa=()=>{const n=Ic();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=Ic();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=Ic();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new yi;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,f.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Fu(n))throw n;Vt("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,ai("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=n,n}enqueueAfterDelay(e,n,o){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const u=Md.createAndSchedule(this,e,n,o,d=>this.Ha(d));return this.La.push(u),u}ja(){this.Ua&&nn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,f.Z)(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function yu(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class vy{constructor(){this._progressObserver={},this._taskCompletionResolver=new yi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const kg=-1;class hi extends Oc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new yy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Uf(this),this._firestoreClient.terminate()}}function Gd(i=(0,E.getApp)()){return(0,E._getProvider)(i,"firestore").getImmediate()}function $i(i){return i._firestoreClient||Uf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Uf(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new va(i._databaseId,d,i._persistenceKey,(b=n).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var d,b;i._firestoreClient=new jd(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ey(i,e){Ty(i=Ar(i,hi));const n=$i(i),o=i._freezeSettings(),u=new Of;return Fg(n,u,new Vl(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Iy(i){Ty(i=Ar(i,hi));const e=$i(i),n=i._freezeSettings(),o=new Of;return Fg(e,o,new dy(o,n.cacheSizeBytes))}function Fg(i,e,n){const o=new yi;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield oo(i,n),yield Yu(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===st.FAILED_PRECONDITION||d.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function wy(i){if(i._initialized&&!i._terminated)throw new vt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(n=(0,f.Z)(function*(o){if(!Rs.vt())return Promise.resolve();const u=o+"main";yield Rs.delete(u)}),function(o){return n.apply(this,arguments)})(Vh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Dy(i){return function(e){const n=new yi;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function ay(i,e){return Pd.apply(this,arguments)}(yield $d(e),n)})),n.promise}($i(i=Ar(i,hi)))}function Lg(i){return function Cg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Qu(i),n=yield Ju(i);return e.setNetworkEnabled(!0),function(o){const u=Wt(o);return u.wu.delete(0),Cd(u)}(n)}))}($i(i=Ar(i,hi)))}function by(i){return function Tg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Qu(i),n=yield Ju(i);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(u){const d=Wt(u);d.wu.add(0),yield Hu(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}($i(i=Ar(i,hi)))}function Vg(i,e){const n=$i(i=Ar(i,hi)),o=new vy;return function fy(i,e,n,o){const u=function(d,g){let b;return b="string"==typeof d?(new TextEncoder).encode(d):d,L=function(L,H){if(L instanceof Uint8Array)return Bd(L,H);if(L instanceof ArrayBuffer)return Bd(new Uint8Array(L),H);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new Mc(L,g);var L}(n,Rl(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Ll(i,e,n){const o=Wt(i);var u;(u=(0,f.Z)(function*(d,g,b){try{const L=yield g.getMetadata();if(yield function(nt,Pt){const Ft=Wt(nt),mn=ds(Pt.createTime);return Ft.persistence.runTransaction("hasNewerBundle","readonly",er=>Ft._s.getBundleMetadata(er,Pt.id)).then(er=>!!er&&er.createTime.compareTo(mn)>=0)}(d.localStore,L))return yield g.close(),b._completeWith({taskState:"Success",documentsLoaded:(nt=L).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);b._updateProgress(_f(L));const H=new lg(L,d.localStore,g.M);let pe=yield g.ma();for(;pe;){const nt=yield H.Fu(pe);nt&&b._updateProgress(nt),pe=yield g.ma()}const Re=yield H.complete();return yield Va(d,Re.Lu,void 0),yield function(nt,Pt){const Ft=Wt(nt);return Ft.persistence.runTransaction("Save bundle","readwrite",mn=>Ft._s.saveBundleMetadata(mn,Pt))}(d.localStore,L),b._completeWith(Re.progress),Promise.resolve(Re.Bu)}catch(L){return go("SyncEngine",`Loading bundle failed with ${L}`),b._failWith(L),Promise.resolve(new Set)}var nt}),function(d,g,b){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield $d(i),u,o)}))}(n,i._databaseId,e,o),o}function Bf(i,e){return function py(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(n,o){const u=Wt(n);return u.persistence.runTransaction("Get named query","readonly",d=>u._s.getNamedQuery(d,o))}(yield mu(i),e)}))}($i(i=Ar(i,hi)),e).then(n=>n?new Ps(i,null,n.query):null)}function Ty(i){if(i._initialized||i._terminated)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ua{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new vt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(Nr.fromBase64String(e))}catch(n){throw new vt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new el(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bo{constructor(e){this._methodName=e}}class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new vt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new vt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return v(this._lat,e._lat)||v(this._long,e._long)}}const jf=/^__.*__$/;class $f{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pu(e,this.data,n,this.fieldTransforms)}}class Ug{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Aa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Nc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class tl{constructor(e,n,o,u,d,g){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=u,void 0===d&&this.tc(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new tl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.nc({path:o,ic:!1});return u.rc(e),u}oc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.nc({path:o,ic:!1});return u.tc(),u}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Qd(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Nc(this.ec)&&jf.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Hf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Rl(e)}lc(e,n,o,u=!1){return new tl({ec:e,methodName:n,hc:o,path:Un.emptyPath(),ic:!1,cc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Ul(i){const e=i._freezeSettings(),n=Rl(i._databaseId);return new Hf(i._databaseId,!!e.ignoreUndefinedProperties,n)}function zd(i,e,n,o,u,d={}){const g=i.lc(d.merge||d.mergeFields?2:0,e,n,u);Fc("Data must be an object, but it was:",g,o);const b=Wf(o,g);let L,H;if(d.merge)L=new fr(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const pe=[];for(const Re of d.mergeFields){const nt=qd(e,Re,n);if(!g.contains(nt))throw new vt(st.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Jd(pe,nt)||pe.push(nt)}L=new fr(pe),H=g.fieldTransforms.filter(Re=>L.covers(Re.field))}else L=null,H=g.fieldTransforms;return new $f(new cs(b),L,H)}class nl extends Bo{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nl}}function Wd(i,e,n){return new tl({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class Kd extends Bo{_toFieldTransform(e){return new Gs(e.path,new ba)}isEqual(e){return e instanceof Kd}}class Bg extends Bo{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Wd(this,e,!0),o=this.fc.map(d=>rl(d,n)),u=new ta(o);return new Gs(e.path,u)}isEqual(e){return this===e}}class Gf extends Bo{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Wd(this,e,!0),o=this.fc.map(d=>rl(d,n)),u=new Ca(o);return new Gs(e.path,u)}isEqual(e){return this===e}}class jg extends Bo{constructor(e,n){super(e),this.dc=n}_toFieldTransform(e){const n=new eu(e.M,qc(e.M,this.dc));return new Gs(e.path,n)}isEqual(e){return this===e}}function Zd(i,e,n,o){const u=i.lc(1,e,n);Fc("Data must be an object, but it was:",u,o);const d=[],g=cs.empty();Ce(o,(L,H)=>{const pe=Yd(e,L,n);H=(0,V.m9)(H);const Re=u.oc(pe);if(H instanceof nl)d.push(pe);else{const nt=rl(H,Re);null!=nt&&(d.push(pe),g.set(pe,nt))}});const b=new fr(d);return new Ug(g,b,u.fieldTransforms)}function kc(i,e,n,o,u,d){const g=i.lc(1,e,n),b=[qd(e,o,n)],L=[u];if(d.length%2!=0)throw new vt(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<d.length;nt+=2)b.push(qd(e,d[nt])),L.push(d[nt+1]);const H=[],pe=cs.empty();for(let nt=b.length-1;nt>=0;--nt)if(!Jd(H,b[nt])){const Pt=b[nt];let Ft=L[nt];Ft=(0,V.m9)(Ft);const mn=g.oc(Pt);if(Ft instanceof nl)H.push(Pt);else{const er=rl(Ft,mn);null!=er&&(H.push(Pt),pe.set(Pt,er))}}const Re=new fr(H);return new Ug(pe,Re,g.fieldTransforms)}function zf(i,e,n,o=!1){return rl(n,i.lc(o?4:3,e))}function rl(i,e){if(Kf(i=(0,V.m9)(i)))return Fc("Unsupported field value:",e,i),Wf(i,e);if(i instanceof Bo)return function(n,o){if(!Nc(o.ec))throw o.ac(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const g of n){let b=rl(g,o.uc(d));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,V.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return qc(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=P.fromDate(n);return{timestampValue:uc(o.M,u)}}if(n instanceof P){const u=new P(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:uc(o.M,u)}}if(n instanceof Pc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof el)return{bytesValue:fp(o.M,n._byteString)};if(n instanceof di){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.ac(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ac(`Unsupported field value: ${Rc(n)}`)}(i,e)}function Wf(i,e){const n={};return dt(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ce(i,(o,u)=>{const d=rl(u,e.sc(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Kf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof P||i instanceof Pc||i instanceof el||i instanceof di||i instanceof Bo)}function Fc(i,e,n){if(!Kf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Rc(n);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function qd(i,e,n){if((e=(0,V.m9)(e))instanceof ua)return e._internalPath;if("string"==typeof e)return Yd(i,e);throw Qd("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ay=new RegExp("[~\\*/\\[\\]]");function Yd(i,e,n){if(e.search(Ay)>=0)throw Qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new ua(...e.split("."))._internalPath}catch(o){throw Qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Qd(i,e,n,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let L="";return(d||g)&&(L+=" (found",d&&(L+=` in field ${o}`),g&&(L+=` in document ${u}`),L+=")"),new vt(st.INVALID_ARGUMENT,b+i+L)}function Jd(i,e){return i.some(n=>n.isEqual(e))}class il{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $g(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Lc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class $g extends il{data(){return super.data()}}function Lc(i,e){return"string"==typeof e?Yd(i,e):e instanceof ua?e._internalPath:e._delegate._internalPath}class vu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _u extends il{constructor(e,n,o,u,d,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Lc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Bl extends _u{data(e={}){return super.data(e)}}class Eu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new vu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Bl(this._firestore,this._userDataWriter,o.key,o,new vu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Bl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const b=new Bl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new vu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,H=-1;return 0!==g.type&&(L=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),H=d.indexOf(g.doc.key)),{type:Hg(g.type),doc:b,oldIndex:L,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Hg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function Gg(i,e){return i instanceof _u&&e instanceof _u?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Eu&&e instanceof Eu&&i._firestore===e._firestore&&my(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Sy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new vt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vc{}function My(i,...e){for(const n of e)i=n._apply(i);return i}class zg extends Vc{constructor(e,n,o){super(),this._c=e,this.wc=n,this.mc=o,this.type="where"}_apply(e){const n=Ul(e.firestore),o=function(u,d,g,b,L,H,pe){let Re;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){qf(pe,H);const Pt=[];for(const Ft of pe)Pt.push(Jg(b,u,Ft));Re={arrayValue:{values:Pt}}}else Re=Jg(b,u,pe)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||qf(pe,H),Re=zf(g,"where",pe,"in"===H||"not-in"===H);const nt=Rn.create(L,H,Re);return function(Pt,Ft){if(Ft.S()){const er=ea(Pt);if(null!==er&&!er.isEqual(Ft.field))throw new vt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${er.toString()}' and '${Ft.field.toString()}'`);const vi=Ql(Pt);null!==vi&&Ny(0,Ft.field,vi)}const mn=function(er,vi){for(const Hi of er.filters)if(vi.indexOf(Hi.op)>=0)return Hi.op;return null}(Pt,function(er){switch(er){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ft.op));if(null!==mn)throw new vt(st.INVALID_ARGUMENT,mn===Ft.op?`Invalid query. You cannot use more than one '${Ft.op.toString()}' filter.`:`Invalid query. You cannot use '${Ft.op.toString()}' filters with '${mn.toString()}' filters.`)}(u,nt),nt}(e._query,0,n,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ps(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new eo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function xy(i,e,n){const o=e,u=Lc("where",i);return new zg(u,o,n)}class Xi extends Vc{constructor(e,n){super(),this._c=e,this.gc=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new wa(u,d);return function(b,L){if(null===Ql(b)){const H=ea(b);null!==H&&Ny(0,H,L.field)}}(o,g),g}(e._query,this._c,this.gc);return new Ps(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new eo(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Wg(i,e="asc"){const n=e,o=Lc("orderBy",i);return new Xi(o,n)}class Kg extends Vc{constructor(e,n,o){super(),this.type=e,this.yc=n,this.Ic=o}_apply(e){return new Ps(e.firestore,e.converter,fl(e._query,this.yc,this.Ic))}}function Ry(i){return Og("limit",i),new Kg("limit",i,"F")}function Zg(i){return Og("limitToLast",i),new Kg("limitToLast",i,"L")}class qg extends Vc{constructor(e,n,o){super(),this.type=e,this.Tc=n,this.Ec=o}_apply(e){const n=Zf(e,this.type,this.Tc,this.Ec);return new Ps(e.firestore,e.converter,(u=n,new eo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Yg(...i){return new qg("startAt",i,!0)}function Qg(...i){return new qg("startAfter",i,!1)}class sl extends Vc{constructor(e,n,o){super(),this.type=e,this.Tc=n,this.Ec=o}_apply(e){const n=Zf(e,this.type,this.Tc,this.Ec);return new Ps(e.firestore,e.converter,(u=n,new eo((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Oy(...i){return new sl("endBefore",i,!1)}function Py(...i){return new sl("endAt",i,!0)}function Zf(i,e,n,o){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof il)return function(u,d,g,b,L){if(!b)throw new vt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const pe of Xa(u))if(pe.field.isKeyField())H.push(_s(d,b.key));else{const Re=b.data.field(pe.field);if($s(Re))throw new vt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Re){const nt=pe.field.canonicalString();throw new vt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}H.push(Re)}return new xs(H,L)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=Ul(i.firestore);return function(d,g,b,L,H,pe){const Re=d.explicitOrderBy;if(H.length>Re.length)throw new vt(st.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let Pt=0;Pt<H.length;Pt++){const Ft=H[Pt];if(Re[Pt].field.isKeyField()){if("string"!=typeof Ft)throw new vt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Ft}`);if(!Fo(d)&&-1!==Ft.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Ft}' contains a slash.`);const mn=d.path.child(Zt.fromString(Ft));if(!Qt.isDocumentKey(mn))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${mn}' is not because it contains an odd number of segments.`);const er=new Qt(mn);nt.push(_s(g,er))}else{const mn=zf(b,L,Ft);nt.push(mn)}}return new xs(nt,pe)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Jg(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new vt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fo(e)&&-1!==n.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Zt.fromString(n));if(!Qt.isDocumentKey(o))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return _s(i,new Qt(o))}if(n instanceof di)return _s(i,n._key);throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rc(n)}.`)}function qf(i,e){if(!Array.isArray(i)||0===i.length)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Ny(i,e,n){if(!n.isEqual(e))throw new vt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const Xg={maxAttempts:5};class Uc{convertValue(e,n="none"){switch(_a(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw nn()}}convertObject(e,n){const o={};return Ce(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new Pc(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=ll(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(qo(e));default:return null}}convertTimestamp(e){const n=ms(e);return new P(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Zt.fromString(e);kn(vp(o));const u=new Qs(o.get(1),o.get(3)),d=new Qt(o.popFirst(5));return u.isEqual(n)||ai(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function ao(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class ky extends Uc{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,n)}}class em{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ul(e)}set(e,n,o){this._verifyNotCommitted();const u=Is(e,this._firestore),d=ao(u.converter,n,o),g=zd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,Ti.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=Is(e,this._firestore);let g;return g="string"==typeof(n=(0,V.m9)(n))||n instanceof ua?kc(this._dataReader,"WriteBatch.update",d._key,n,o,u):Zd(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,Ti.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Is(e,this._firestore);return this._mutations=this._mutations.concat(new w(n._key,Ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Is(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new vt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function jo(i){i=Ar(i,di);const e=Ar(i.firestore,hi);return Pf($i(e),i._key).then(n=>Xd(e,i,n))}class ws extends Uc{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new di(this.firestore,null,n)}}function tm(i){i=Ar(i,di);const e=Ar(i.firestore,hi),n=$i(e),o=new ws(e);return function Ag(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,d,g){try{const b=yield function(L,H){const pe=Wt(L);return pe.persistence.runTransaction("read document","readonly",Re=>pe.fi.Ls(Re,H))}(u,d);b.isFoundDocument()?g.resolve(b):b.isNoDocument()?g.resolve(null):g.reject(new vt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const L=zu(b,`Failed to get document '${d} from cache`);g.reject(L)}}),function(u,d,g){return o.apply(this,arguments)})(yield mu(i),e,n);var o})),n.promise}(n,i._key).then(u=>new _u(e,o,i._key,u,new vu(null!==u&&u.hasLocalMutations,!0),i.converter))}function nm(i){i=Ar(i,di);const e=Ar(i.firestore,hi);return Pf($i(e),i._key,{source:"server"}).then(n=>Xd(e,i,n))}function Fy(i){i=Ar(i,Ps);const e=Ar(i.firestore,hi),n=$i(e),o=new ws(e);return Sy(i._query),Nf(n,i._query).then(u=>new Eu(e,o,i,u))}function Ly(i){i=Ar(i,Ps);const e=Ar(i.firestore,hi),n=$i(e),o=new ws(e);return function Sg(i,e){const n=new yi;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,d,g){try{const b=yield Hh(u,d,!0),L=new dg(d,b._i),H=L.Wu(b.documents),pe=L.applyChanges(H,!1);g.resolve(pe.snapshot)}catch(b){const L=zu(b,`Failed to execute query '${d} against cache`);g.reject(L)}}),function(u,d,g){return o.apply(this,arguments)})(yield mu(i),e,n);var o})),n.promise}(n,i._query).then(u=>new Eu(e,o,i,u))}function Vy(i){i=Ar(i,Ps);const e=Ar(i.firestore,hi),n=$i(e),o=new ws(e);return Nf(n,i._query,{source:"server"}).then(u=>new Eu(e,o,i,u))}function Uy(i,e,n){i=Ar(i,di);const o=Ar(i.firestore,hi),u=ao(i.converter,e,n);return ol(o,[zd(Ul(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Ti.none())])}function Yf(i,e,n,...o){i=Ar(i,di);const u=Ar(i.firestore,hi),d=Ul(u);let g;return g="string"==typeof(e=(0,V.m9)(e))||e instanceof ua?kc(d,"updateDoc",i._key,e,n,o):Zd(d,"updateDoc",i._key,e),ol(u,[g.toMutation(i._key,Ti.exists(!0))])}function Bc(i){return ol(Ar(i.firestore,hi),[new w(i._key,Ti.none())])}function By(i,e){const n=Ar(i.firestore,hi),o=Pg(i),u=ao(i.converter,e);return ol(n,[zd(Ul(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Ti.exists(!1))]).then(()=>o)}function rm(i,...e){var n,o,u;i=(0,V.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||yu(e[g])||(d=e[g],g++);const b={includeMetadataChanges:d.includeMetadataChanges};if(yu(e[g])){const Re=e[g];e[g]=null===(n=Re.next)||void 0===n?void 0:n.bind(Re),e[g+1]=null===(o=Re.error)||void 0===o?void 0:o.bind(Re),e[g+2]=null===(u=Re.complete)||void 0===u?void 0:u.bind(Re)}let L,H,pe;if(i instanceof di)H=Ar(i.firestore,hi),pe=ko(i._key.path),L={next:Re=>{e[g]&&e[g](Xd(H,i,Re))},error:e[g+1],complete:e[g+2]};else{const Re=Ar(i,Ps);H=Ar(Re.firestore,hi),pe=Re._query;const nt=new ws(H);L={next:Pt=>{e[g]&&e[g](new Eu(H,nt,Re,Pt))},error:e[g+1],complete:e[g+2]},Sy(i._query)}return function(Re,nt,Pt,Ft){const mn=new so(Ft),er=new mf(nt,mn,Pt);return Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return ff(yield Xu(Re),er)})),()=>{mn.Aa(),Re.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return ag(yield Xu(Re),er)}))}}($i(H),pe,b,L)}function jy(i,e){return function hy(i,e){const n=new so(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Xu(i),u=n,Wt(o).bu.add(u),void u.next();var o,u})),()=>{n.Aa(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield Xu(i),u=n,void Wt(o).bu.delete(u);var o,u}))}}($i(i=Ar(i,hi)),yu(e)?e:{next:e})}function ol(i,e){return function(n,o){const u=new yi;return n.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function sy(i,e,n){return Df.apply(this,arguments)}(yield $d(n),o,u)})),u.promise}($i(i),e)}function Xd(i,e,n){const o=n.docs.get(e._key),u=new ws(i);return new _u(i,u,e._key,o,new vu(n.hasPendingWrites,n.fromCache),e.converter)}class eh extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Ul(e)}get(e){const n=Is(e,this._firestore),o=new ky(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return nn();const d=u[0];if(d.isFoundDocument())return new il(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new il(this._firestore,o,n._key,null,n.converter);throw nn()})}set(e,n,o){const u=Is(e,this._firestore),d=ao(u.converter,n,o),g=zd(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,n,o,...u){const d=Is(e,this._firestore);let g;return g="string"==typeof(n=(0,V.m9)(n))||n instanceof ua?kc(this._dataReader,"Transaction.update",d._key,n,o,u):Zd(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(e){const n=Is(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Is(e,this._firestore),o=new ws(this._firestore);return super.get(e).then(u=>new _u(this._firestore,o,n._key,u._document,new vu(!1,!1),n.converter))}}function $y(i,e,n){i=Ar(i,hi);const o=Object.assign(Object.assign({},Xg),n);return function(u){if(u.maxAttempts<1)throw new vt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Mg(i,e,n){const o=new yi;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const u=yield(d=i,Ua(d).then(g=>g.datastore));var d;new qu(i.asyncQueue,u,n,e,o).run()})),o.promise}($i(i),u=>e(new eh(i,u)),o)}function im(){return new nl("deleteField")}function sm(){return new Kd("serverTimestamp")}function Qf(...i){return new Bg("arrayUnion",i)}function th(...i){return new Gf("arrayRemove",i)}function om(i){return new jg("increment",i)}!function(i,e=!0){Fs=E.SDK_VERSION,(0,E._registerComponent)(new z.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),d=new hi(u,new Hl(n.getProvider("auth-internal")),new Mo(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,E.registerVersion)(As,"3.4.9",i),(0,E.registerVersion)(As,"3.4.9","esm2017")}()},2090:(kt,Ue,S)=>{S.d(Ue,{$s:()=>sn,BH:()=>Qe,G6:()=>ue,L:()=>ne,LL:()=>Le,Mn:()=>Ze,Sg:()=>He,UG:()=>le,US:()=>Ie,ZB:()=>ae,ZR:()=>Ge,b$:()=>At,d:()=>Ke,eu:()=>je,hl:()=>xe,jU:()=>Xe,m9:()=>dn,ne:()=>Zn,pd:()=>Jn,r3:()=>on,ru:()=>Ct,tV:()=>Ee,uI:()=>pt,vZ:()=>Fn,w1:()=>Fe,xO:()=>Ln,xb:()=>pn,z$:()=>tt,zI:()=>ce,zd:()=>Yn});const ie=function(se){const me=[];let J=0;for(let k=0;k<se.length;k++){let N=se.charCodeAt(k);N<128?me[J++]=N:N<2048?(me[J++]=N>>6|192,me[J++]=63&N|128):55296==(64512&N)&&k+1<se.length&&56320==(64512&se.charCodeAt(k+1))?(N=65536+((1023&N)<<10)+(1023&se.charCodeAt(++k)),me[J++]=N>>18|240,me[J++]=N>>12&63|128,me[J++]=N>>6&63|128,me[J++]=63&N|128):(me[J++]=N>>12|224,me[J++]=N>>6&63|128,me[J++]=63&N|128)}return me},Ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,me){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let N=0;N<se.length;N+=3){const X=se[N],ee=N+1<se.length,Ae=ee?se[N+1]:0,Ye=N+2<se.length,ct=Ye?se[N+2]:0;let Lt=(15&Ae)<<2|ct>>6,ke=63&ct;Ye||(ke=64,ee||(Lt=64)),k.push(J[X>>2],J[(3&X)<<4|Ae>>4],J[Lt],J[ke])}return k.join("")},encodeString(se,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(se):this.encodeByteArray(ie(se),me)},decodeString(se,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(se):function(se){const me=[];let J=0,k=0;for(;J<se.length;){const N=se[J++];if(N<128)me[k++]=String.fromCharCode(N);else if(N>191&&N<224){const X=se[J++];me[k++]=String.fromCharCode((31&N)<<6|63&X)}else if(N>239&&N<365){const Ye=((7&N)<<18|(63&se[J++])<<12|(63&se[J++])<<6|63&se[J++])-65536;me[k++]=String.fromCharCode(55296+(Ye>>10)),me[k++]=String.fromCharCode(56320+(1023&Ye))}else{const X=se[J++],ee=se[J++];me[k++]=String.fromCharCode((15&N)<<12|(63&X)<<6|63&ee)}}return me.join("")}(this.decodeStringToByteArray(se,me))},decodeStringToByteArray(se,me){this.init_();const J=me?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let N=0;N<se.length;){const X=J[se.charAt(N++)],Ae=N<se.length?J[se.charAt(N)]:0;++N;const ct=N<se.length?J[se.charAt(N)]:64;++N;const ht=N<se.length?J[se.charAt(N)]:64;if(++N,null==X||null==Ae||null==ct||null==ht)throw Error();k.push(X<<2|Ae>>4),64!==ct&&(k.push(Ae<<4&240|ct>>2),64!==ht&&k.push(ct<<6&192|ht))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},ne=function(se){return function(se){const me=ie(se);return Ie.encodeByteArray(me,!0)}(se).replace(/\./g,"")},Ee=function(se){try{return Ie.decodeString(se,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function ae(se,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return me}for(const J in me)!me.hasOwnProperty(J)||!Me(J)||(se[J]=ae(se[J],me[J]));return se}function Me(se){return"__proto__"!==se}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,J)=>{this.resolve=me,this.reject=J})}wrapCallback(me){return(J,k)=>{J?this.reject(J):this.resolve(k),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(J):me(J,k))}}}function He(se,me){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=me||"demo-project",N=se.iat||0,X=se.sub||se.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:N,exp:N+3600,auth_time:N,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},se);return[ne(JSON.stringify({alg:"none",type:"JWT"})),ne(JSON.stringify(ee)),""].join(".")}function tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function Xe(){return"object"==typeof self&&self.self===self}function Ct(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ke(){return tt().indexOf("Electron/")>=0}function Fe(){const se=tt();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function Ze(){return tt().indexOf("MSAppHost/")>=0}function ue(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){return"object"==typeof indexedDB}function je(){return new Promise((se,me)=>{try{let J=!0;const k="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(k);N.onsuccess=()=>{N.result.close(),J||self.indexedDB.deleteDatabase(k),se(!0)},N.onupgradeneeded=()=>{J=!1},N.onerror=()=>{var X;me((null===(X=N.error)||void 0===X?void 0:X.message)||"")}}catch(J){me(J)}})}function ce(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ge extends Error{constructor(me,J,k){super(J),this.code=me,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(me,J,k){this.service=me,this.serviceName=J,this.errors=k}create(me,...J){const k=J[0]||{},N=`${this.service}/${me}`,X=this.errors[me],ee=X?function gt(se,me){return se.replace(Nt,(J,k)=>{const N=me[k];return null!=N?String(N):`<${k}?>`})}(X,k):"Error";return new Ge(N,`${this.serviceName}: ${ee} (${N}).`,k)}}const Nt=/\{\$([^}]+)}/g;function on(se,me){return Object.prototype.hasOwnProperty.call(se,me)}function pn(se){for(const me in se)if(Object.prototype.hasOwnProperty.call(se,me))return!1;return!0}function Fn(se,me){if(se===me)return!0;const J=Object.keys(se),k=Object.keys(me);for(const N of J){if(!k.includes(N))return!1;const X=se[N],ee=me[N];if(vn(X)&&vn(ee)){if(!Fn(X,ee))return!1}else if(X!==ee)return!1}for(const N of k)if(!J.includes(N))return!1;return!0}function vn(se){return null!==se&&"object"==typeof se}function Ln(se){const me=[];for(const[J,k]of Object.entries(se))Array.isArray(k)?k.forEach(N=>{me.push(encodeURIComponent(J)+"="+encodeURIComponent(N))}):me.push(encodeURIComponent(J)+"="+encodeURIComponent(k));return me.length?"&"+me.join("&"):""}function Yn(se){const me={};return se.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[N,X]=k.split("=");me[decodeURIComponent(N)]=decodeURIComponent(X)}}),me}function Jn(se){const me=se.indexOf("?");if(!me)return"";const J=se.indexOf("#",me);return se.substring(me,J>0?J:void 0)}function Zn(se,me){const J=new Gt(se,me);return J.subscribe.bind(J)}class Gt{constructor(me,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{me(this)}).catch(k=>{this.error(k)})}next(me){this.forEachObserver(J=>{J.next(me)})}error(me){this.forEachObserver(J=>{J.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,J,k){let N;if(void 0===me&&void 0===J&&void 0===k)throw new Error("Missing Observer.");N=function Cn(se,me){if("object"!=typeof se||null===se)return!1;for(const J of me)if(J in se&&"function"==typeof se[J])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:J,complete:k},void 0===N.next&&(N.next=an),void 0===N.error&&(N.error=an),void 0===N.complete&&(N.complete=an);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(ee){}}),this.observers.push(N),X}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,me)}sendOne(me,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{J(this.observers[me])}catch(k){"undefined"!=typeof console&&console.error&&console.error(k)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function sn(se,me=1e3,J=2){const k=me*Math.pow(J,se),N=Math.round(.5*k*(Math.random()-.5)*2);return Math.min(144e5,k+N)}function dn(se){return se&&se._delegate?se._delegate:se}},5107:(kt,Ue,S)=>{S.d(Ue,{a:()=>ie});var f=S(5e3),E=S(6893),z=S(4410);let ie=(()=>{class V{constructor(ge,ne){this.auth=ge,this.route=ne,this.estaLoggeado=!1,this.authServiceSubscription=this.auth.currentUser.subscribe(Ee=>{this.estaLoggeado=Ee.isLogged})}canActivate(ge,ne){return 1==this.estaLoggeado||(this.route.navigateByUrl("login"),!1)}}return V.\u0275fac=function(ge){return new(ge||V)(f.LFG(E.e),f.LFG(z.F0))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6189:(kt,Ue,S)=>{S.d(Ue,{s:()=>bt});var f=S(4410),E=S(5107),z=S(5861),ie=S(2382),V=S(5e3),Ie=S(8145),ge=S(7798),ne=S(9808);const Ee=function(ue){return[ue]};function Q(ue,xe){if(1&ue){const je=V.EpF();V.TgZ(0,"ul",3)(1,"li",4),V.NdJ("click",function(){const Be=V.CHM(je).$implicit;return V.oxw().getPaisSeleccionado(Be)}),V.TgZ(2,"div")(3,"h6",5),V._uU(4),V.qZA(),V.TgZ(5,"small",6),V._uU(6),V.qZA()(),V.TgZ(7,"span",6),V._UZ(8,"img",7),V.qZA()()()}if(2&ue){const je=xe.$implicit;V.xp6(4),V.Oqu(null==je.translations?null:je.translations.spa.common),V.xp6(2),V.Oqu(je.capital),V.xp6(2),V.Q6J("src",V.VKq(3,Ee,je.flags.png),V.LSH)}}let ae=(()=>{class ue{constructor(je){this.http=je,this.paisSeleccionado=new V.vpe,je.getArrayPaisesEurope().subscribe(ce=>{this.paises=ce}),je.getArrayPaisesAfrica().subscribe(ce=>{ce.map(Oe=>{this.paises&&this.paises.push(Oe)})})}ngOnInit(){}getPaisSeleccionado(je){this.paisSeleccionado.emit(je)}}return ue.\u0275fac=function(je){return new(je||ue)(V.Y36(ge.O))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-paises-listado"]],outputs:{paisSeleccionado:"paisSeleccionado"},decls:3,vars:1,consts:[[1,"container"],[1,"col","listaPaises"],["class","list-group mb-3",4,"ngFor","ngForOf"],[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed","paisContainer",3,"click"],[1,"my-0"],[1,"text-muted"],["alt","","width","84px","height","56px",1,"float-right",3,"src"]],template:function(je,ce){1&je&&(V.TgZ(0,"div",0)(1,"div",1),V.YNc(2,Q,9,5,"ul",2),V.qZA()()),2&je&&(V.xp6(2),V.Q6J("ngForOf",ce.paises))},directives:[ne.sg],styles:[".container[_ngcontent-%COMP%]{height:65vh;width:120%;margin-left:-50px}.listaPaises[_ngcontent-%COMP%]{height:75%;overflow-y:scroll}.paisContainer[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}"]}),ue})();function Me(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"El DNI es requerido"),V.qZA())}function Qe(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"El DNI no puede ser mayor a 50 millones."),V.qZA())}function He(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"El nombre es requerido"),V.qZA())}function tt(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"La edad es requerida"),V.qZA())}function pt(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"Tiene que ser mayor de 18"),V.qZA())}function le(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"La capacidad es requerida"),V.qZA())}function Xe(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"La capacidad no puede ser menor a 1"),V.qZA())}function Ct(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"Debe seleccionar una nacionalidad."),V.qZA())}function At(ue,xe){if(1&ue&&V._UZ(0,"img",40),2&ue){const je=V.oxw();V.Q6J("src",je.bandera,V.LSH)}}function Ke(ue,xe){1&ue&&(V.TgZ(0,"small"),V._uU(1,"La unidad es requerida."),V.qZA())}const Ze=[{path:"",component:(()=>{class ue{constructor(je,ce){this.fb=je,this.db=ce,this.bandera="",this.repartidorGroup=this.fb.group({dni:["",[ie.kI.required,ie.kI.max(5e7)]],nombre:["",[ie.kI.required]],edad:["",[ie.kI.required,ie.kI.min(18)]],capacidadTransporte:["",[ie.kI.required,ie.kI.min(1)]],nacionalidad:["",[ie.kI.required]],unidadPropia:["",[ie.kI.required]]})}ngOnInit(){}obtenerNacionalidadRepartidor(je){this.nacionalidad=je,this.repartidorGroup.controls.nacionalidad.setValue(je.translations.spa.common),this.bandera=this.nacionalidad.flags.png}altaRepartidor(){var je=this;return(0,z.Z)(function*(){let ce=je.repartidorGroup.value;console.log(ce),ce.nacionalidad=je.nacionalidad,(yield je.db.alta(ce,"repartidor"))?(je.repartidorGroup.reset(),alert("Se dio de alta el repartidor.")):alert("No se dio de alta el repartidor.")})()}}return ue.\u0275fac=function(je){return new(je||ue)(V.Y36(ie.qu),V.Y36(Ie.T))},ue.\u0275cmp=V.Xpm({type:ue,selectors:[["app-alta-repartidor-pizza"]],decls:75,vars:12,consts:[[1,"container"],[1,"py-5","text-center"],["src","../../../assets/repartidor-pizzas.jpg","alt","","width","72","height","57",1,"d-block","mx-auto","mb-4"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"paisSeleccionado"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","submit"],[1,"row","g-3"],[1,"col-sm-6"],["for","dni",1,"form-label"],["type","number","id","dni","placeholder","","formControlName","dni",1,"form-control"],[4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","","formControlName","nombre",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","","formControlName","edad",1,"form-control"],["for","capacidadTransporte",1,"form-label"],["type","number","id","capacidadTransporte","placeholder","","formControlName","capacidadTransporte",1,"form-control"],[1,"col-sm-9"],["for","nacionalidad"],["type","text","id","nacionalidad","placeholder","Ingrese una nacionalidad","formControlName","nacionalidad","required","","readonly","",1,"form-control"],[1,"col-sm-3"],["alt","",3,"src",4,"ngIf"],[1,"col-md-12"],["for","unidadPropia",1,"form-label"],["id","unidadPropia","formControlName","unidadPropia",1,"form-select"],["value","","disabled",""],["value","true"],["value","false"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],["alt","",3,"src"]],template:function(je,ce){1&je&&(V.TgZ(0,"div",0)(1,"main")(2,"div",1),V._UZ(3,"img",2),V.TgZ(4,"h2"),V._uU(5,"Alta Repartidor"),V.qZA()(),V.TgZ(6,"div",3)(7,"div",4)(8,"h4",5)(9,"span",6),V._uU(10,"Lista paises"),V.qZA()(),V.TgZ(11,"div")(12,"app-paises-listado",7),V.NdJ("paisSeleccionado",function(Be){return ce.obtenerNacionalidadRepartidor(Be)}),V.qZA()()(),V.TgZ(13,"div",8)(14,"h4",9),V._uU(15,"Ingreso del repartidot"),V.qZA(),V.TgZ(16,"form",10),V.NdJ("submit",function(){return ce.altaRepartidor()}),V.TgZ(17,"div",11)(18,"div",12)(19,"label",13),V._uU(20,"DNI"),V.qZA(),V._UZ(21,"input",14),V.YNc(22,Me,2,0,"small",15),V.YNc(23,Qe,2,0,"small",15),V.qZA(),V.TgZ(24,"div",12)(25,"label",16),V._uU(26,"Nombre"),V.qZA(),V._UZ(27,"input",17),V.YNc(28,He,2,0,"small",15),V.qZA(),V.TgZ(29,"div",12)(30,"label",18),V._uU(31,"Edad"),V.qZA(),V._UZ(32,"input",19),V.YNc(33,tt,2,0,"small",15),V.YNc(34,pt,2,0,"small",15),V.qZA(),V.TgZ(35,"div",12)(36,"label",20),V._uU(37,"Capacidad de transporte"),V.qZA(),V._UZ(38,"input",21),V.YNc(39,le,2,0,"small",15),V.YNc(40,Xe,2,0,"small",15),V.qZA(),V.TgZ(41,"div",22)(42,"label",23),V._uU(43,"Nacionalidad"),V.qZA(),V._UZ(44,"input",24),V.YNc(45,Ct,2,0,"small",15),V.qZA(),V.TgZ(46,"div",25),V.YNc(47,At,1,1,"img",26),V.qZA(),V.TgZ(48,"div",27)(49,"label",28),V._uU(50,"Unidad propia"),V.qZA(),V.TgZ(51,"select",29)(52,"option",30),V._uU(53,"Choose..."),V.qZA(),V.TgZ(54,"option",31),V._uU(55,"Si"),V.qZA(),V.TgZ(56,"option",32),V._uU(57,"No"),V.qZA()(),V.YNc(58,Ke,2,0,"small",15),V.qZA()(),V._UZ(59,"hr",33),V.TgZ(60,"button",34),V._uU(61,"ALTA"),V.qZA()()()()(),V.TgZ(62,"footer",35)(63,"p",36),V._uU(64,"\xa9 Alejandro Javier Begue"),V.qZA(),V.TgZ(65,"ul",37)(66,"li",38)(67,"a",39),V._uU(68,"Privacy"),V.qZA()(),V.TgZ(69,"li",38)(70,"a",39),V._uU(71,"Terms"),V.qZA()(),V.TgZ(72,"li",38)(73,"a",39),V._uU(74,"Support"),V.qZA()()()()()),2&je&&(V.xp6(16),V.Q6J("formGroup",ce.repartidorGroup),V.xp6(6),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.dni.errors?null:ce.repartidorGroup.controls.dni.errors.required)&&ce.repartidorGroup.controls.dni.touched),V.xp6(1),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.dni.errors?null:ce.repartidorGroup.controls.dni.errors.max)&&ce.repartidorGroup.controls.dni.touched),V.xp6(5),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.nombre.errors?null:ce.repartidorGroup.controls.nombre.errors.required)&&ce.repartidorGroup.controls.nombre.touched),V.xp6(5),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.edad.errors?null:ce.repartidorGroup.controls.edad.errors.required)&&ce.repartidorGroup.controls.edad.touched),V.xp6(1),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.edad.errors?null:ce.repartidorGroup.controls.edad.errors.min)&&ce.repartidorGroup.controls.edad.touched),V.xp6(5),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.capacidadTransporte.errors?null:ce.repartidorGroup.controls.capacidadTransporte.errors.required)&&ce.repartidorGroup.controls.capacidadTransporte.touched),V.xp6(1),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.capacidadTransporte.errors?null:ce.repartidorGroup.controls.capacidadTransporte.errors.min)&&ce.repartidorGroup.controls.capacidadTransporte.touched),V.xp6(5),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.nacionalidad.errors?null:ce.repartidorGroup.controls.nacionalidad.errors.required)&&ce.repartidorGroup.controls.nacionalidad.touched),V.xp6(2),V.Q6J("ngIf",ce.bandera),V.xp6(11),V.Q6J("ngIf",(null==ce.repartidorGroup.controls.unidadPropia.errors?null:ce.repartidorGroup.controls.unidadPropia.errors.required)&&ce.repartidorGroup.controls.unidadPropia.touched),V.xp6(2),V.Q6J("disabled",!ce.repartidorGroup.valid))},directives:[ae,ie._Y,ie.JL,ie.sg,ie.wV,ie.Fj,ie.JJ,ie.u,ne.O5,ie.Q7,ie.EJ,ie.YN,ie.Kr],styles:[".container[_ngcontent-%COMP%]{max-width:960px}img[_ngcontent-%COMP%]{height:6rem;width:7rem;margin-left:2rem}small[_ngcontent-%COMP%]{color:red}"]}),ue})(),canActivate:[E.a]}];let bt=(()=>{class ue{}return ue.\u0275fac=function(je){return new(je||ue)},ue.\u0275mod=V.oAB({type:ue}),ue.\u0275inj=V.cJS({imports:[[f.Bz.forChild(Ze)],f.Bz]}),ue})()},6893:(kt,Ue,S)=>{S.d(Ue,{e:()=>z});var f=S(1135),E=S(5e3);let z=(()=>{class ie{constructor(){this.isLogged=!1,this.perfil="",this.currentUserSubject=new f.X({}),this.currentUser=this.currentUserSubject.asObservable()}setCurrentUser(Ie){this.currentUserSubject.next(Ie)}}return ie.\u0275fac=function(Ie){return new(Ie||ie)},ie.\u0275prov=E.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},8145:(kt,Ue,S)=>{S.d(Ue,{T:()=>ie});var f=S(5861),E=S(5e3),z=S(3290);let ie=(()=>{class V{constructor(ge){this.db=ge}alta(ge,ne){var Ee=this;return(0,f.Z)(function*(){try{return yield Ee.db.collection(ne).add(ge)}catch(Q){return console.log("Error al realizar alta a Firebase: ",Q),Q}})()}delete(ge,ne){var Ee=this;return(0,f.Z)(function*(){try{return yield Ee.db.collection(ge).doc(ne).delete()}catch(Q){console.log("Error al realizar el delete: ",Q)}})()}getCollection(ge){var ne=this;return(0,f.Z)(function*(){try{return yield ne.db.collection(ge).snapshotChanges()}catch(Ee){return console.log("Error al obtener los objetos de Firebase: ",Ee),Ee}})()}getCollectionByField(ge,ne,Ee,Q){var ae=this;return(0,f.Z)(function*(){try{return yield ae.db.collection(ge,Me=>Me.where(Ee,ne,Q)).valueChanges()}catch(Me){return Me}})()}getDocById(ge,ne){var Ee=this;return(0,f.Z)(function*(){try{return yield Ee.db.collection(ge).doc(ne).get()}catch(Q){return console.log("Error al obtener el documento por el id: ",Q),Q}})()}update(ge,ne,Ee){var Q=this;return(0,f.Z)(function*(){try{return yield Q.db.collection(ge).doc(ne).set(Ee)}catch(ae){console.log("Error al realizar el update: ",ae)}})()}}return V.\u0275fac=function(ge){return new(ge||V)(E.LFG(z.ST))},V.\u0275prov=E.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},7798:(kt,Ue,S)=>{S.d(Ue,{O:()=>z});var f=S(5e3),E=S(520);let z=(()=>{class ie{constructor(Ie){this.httpClient=Ie,this.url="https://api.github.com/users/ale0410",this.url2="https://restcountries.com/v3.1/region/europe",this.url3="https://restcountries.com/v3.1/region/Africa"}getDatosGit(){return this.httpClient.get(this.url)}getArrayPaisesEurope(){return this.httpClient.get(this.url2)}getArrayPaisesAfrica(){return this.httpClient.get(this.url3)}}return ie.\u0275fac=function(Ie){return new(Ie||ie)(f.LFG(E.eN))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},3803:(kt,Ue,S)=>{var f=S(9808),E=S(5e3);class z extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends z{static makeCurrent(){(0,f.HT)(new ie)}onAndCancel(re,B,Ne){return re.addEventListener(B,Ne,!1),()=>{re.removeEventListener(B,Ne,!1)}}dispatchEvent(re,B){re.dispatchEvent(B)}remove(re){re.parentNode&&re.parentNode.removeChild(re)}createElement(re,B){return(B=B||this.getDefaultDocument()).createElement(re)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(re){return re.nodeType===Node.ELEMENT_NODE}isShadowRoot(re){return re instanceof DocumentFragment}getGlobalEventTarget(re,B){return"window"===B?window:"document"===B?re:"body"===B?re.body:null}getBaseHref(re){const B=function Ie(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==B?null:function ne(Z){ge=ge||document.createElement("a"),ge.setAttribute("href",Z);const re=ge.pathname;return"/"===re.charAt(0)?re:`/${re}`}(B)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(re){return(0,f.Mx)(document.cookie,re)}}let ge,V=null;const Ee=new E.OlP("TRANSITION_ID"),ae=[{provide:E.ip1,useFactory:function Q(Z,re,B){return()=>{B.get(E.CZH).donePromise.then(()=>{const Ne=(0,f.q)(),et=re.querySelectorAll(`style[ng-transition="${Z}"]`);for(let Kt=0;Kt<et.length;Kt++)Ne.remove(et[Kt])})}},deps:[Ee,f.K0,E.zs3],multi:!0}];class Me{static init(){(0,E.VLi)(new Me)}addToWindow(re){E.dqk.getAngularTestability=(Ne,et=!0)=>{const Kt=re.findTestabilityInTree(Ne,et);if(null==Kt)throw new Error("Could not find testability for element.");return Kt},E.dqk.getAllAngularTestabilities=()=>re.getAllTestabilities(),E.dqk.getAllAngularRootElements=()=>re.getAllRootElements(),E.dqk.frameworkStabilizers||(E.dqk.frameworkStabilizers=[]),E.dqk.frameworkStabilizers.push(Ne=>{const et=E.dqk.getAllAngularTestabilities();let Kt=et.length,xn=!1;const zn=function(Rr){xn=xn||Rr,Kt--,0==Kt&&Ne(xn)};et.forEach(function(Rr){Rr.whenStable(zn)})})}findTestabilityInTree(re,B,Ne){if(null==B)return null;const et=re.getTestability(B);return null!=et?et:Ne?(0,f.q)().isShadowRoot(B)?this.findTestabilityInTree(re,B.host,!0):this.findTestabilityInTree(re,B.parentElement,!0):null}}let Qe=(()=>{class Z{build(){return new XMLHttpRequest}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const He=new E.OlP("EventManagerPlugins");let tt=(()=>{class Z{constructor(B,Ne){this._zone=Ne,this._eventNameToPlugin=new Map,B.forEach(et=>et.manager=this),this._plugins=B.slice().reverse()}addEventListener(B,Ne,et){return this._findPluginFor(Ne).addEventListener(B,Ne,et)}addGlobalEventListener(B,Ne,et){return this._findPluginFor(Ne).addGlobalEventListener(B,Ne,et)}getZone(){return this._zone}_findPluginFor(B){const Ne=this._eventNameToPlugin.get(B);if(Ne)return Ne;const et=this._plugins;for(let Kt=0;Kt<et.length;Kt++){const xn=et[Kt];if(xn.supports(B))return this._eventNameToPlugin.set(B,xn),xn}throw new Error(`No event manager plugin found for event ${B}`)}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(He),E.LFG(E.R0b))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class pt{constructor(re){this._doc=re}addGlobalEventListener(re,B,Ne){const et=(0,f.q)().getGlobalEventTarget(this._doc,re);if(!et)throw new Error(`Unsupported event target ${et} for event ${B}`);return this.addEventListener(et,B,Ne)}}let le=(()=>{class Z{constructor(){this._stylesSet=new Set}addStyles(B){const Ne=new Set;B.forEach(et=>{this._stylesSet.has(et)||(this._stylesSet.add(et),Ne.add(et))}),this.onStylesAdded(Ne)}onStylesAdded(B){}getAllStyles(){return Array.from(this._stylesSet)}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),Xe=(()=>{class Z extends le{constructor(B){super(),this._doc=B,this._hostNodes=new Map,this._hostNodes.set(B.head,[])}_addStylesToHost(B,Ne,et){B.forEach(Kt=>{const xn=this._doc.createElement("style");xn.textContent=Kt,et.push(Ne.appendChild(xn))})}addHost(B){const Ne=[];this._addStylesToHost(this._stylesSet,B,Ne),this._hostNodes.set(B,Ne)}removeHost(B){const Ne=this._hostNodes.get(B);Ne&&Ne.forEach(Ct),this._hostNodes.delete(B)}onStylesAdded(B){this._hostNodes.forEach((Ne,et)=>{this._addStylesToHost(B,et,Ne)})}ngOnDestroy(){this._hostNodes.forEach(B=>B.forEach(Ct))}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(f.K0))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();function Ct(Z){(0,f.q)().remove(Z)}const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g;function ce(Z,re,B){for(let Ne=0;Ne<re.length;Ne++){let et=re[Ne];Array.isArray(et)?ce(Z,et,B):(et=et.replace(Ke,Z),B.push(et))}return B}function Oe(Z){return re=>{if("__ngUnwrap__"===re)return Z;!1===Z(re)&&(re.preventDefault(),re.returnValue=!1)}}let Ge=(()=>{class Z{constructor(B,Ne,et){this.eventManager=B,this.sharedStylesHost=Ne,this.appId=et,this.rendererByCompId=new Map,this.defaultRenderer=new Le(B)}createRenderer(B,Ne){if(!B||!Ne)return this.defaultRenderer;switch(Ne.encapsulation){case E.ifc.Emulated:{let et=this.rendererByCompId.get(Ne.id);return et||(et=new Bt(this.eventManager,this.sharedStylesHost,Ne,this.appId),this.rendererByCompId.set(Ne.id,et)),et.applyToHost(B),et}case 1:case E.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,B,Ne);default:if(!this.rendererByCompId.has(Ne.id)){const et=ce(Ne.id,Ne.styles,[]);this.sharedStylesHost.addStyles(et),this.rendererByCompId.set(Ne.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(tt),E.LFG(Xe),E.LFG(E.AFp))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();class Le{constructor(re){this.eventManager=re,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(re,B){return B?document.createElementNS(At[B]||B,re):document.createElement(re)}createComment(re){return document.createComment(re)}createText(re){return document.createTextNode(re)}appendChild(re,B){re.appendChild(B)}insertBefore(re,B,Ne){re&&re.insertBefore(B,Ne)}removeChild(re,B){re&&re.removeChild(B)}selectRootElement(re,B){let Ne="string"==typeof re?document.querySelector(re):re;if(!Ne)throw new Error(`The selector "${re}" did not match any elements`);return B||(Ne.textContent=""),Ne}parentNode(re){return re.parentNode}nextSibling(re){return re.nextSibling}setAttribute(re,B,Ne,et){if(et){B=et+":"+B;const Kt=At[et];Kt?re.setAttributeNS(Kt,B,Ne):re.setAttribute(B,Ne)}else re.setAttribute(B,Ne)}removeAttribute(re,B,Ne){if(Ne){const et=At[Ne];et?re.removeAttributeNS(et,B):re.removeAttribute(`${Ne}:${B}`)}else re.removeAttribute(B)}addClass(re,B){re.classList.add(B)}removeClass(re,B){re.classList.remove(B)}setStyle(re,B,Ne,et){et&(E.JOm.DashCase|E.JOm.Important)?re.style.setProperty(B,Ne,et&E.JOm.Important?"important":""):re.style[B]=Ne}removeStyle(re,B,Ne){Ne&E.JOm.DashCase?re.style.removeProperty(B):re.style[B]=""}setProperty(re,B,Ne){re[B]=Ne}setValue(re,B){re.nodeValue=B}listen(re,B,Ne){return"string"==typeof re?this.eventManager.addGlobalEventListener(re,B,Oe(Ne)):this.eventManager.addEventListener(re,B,Oe(Ne))}}class Bt extends Le{constructor(re,B,Ne,et){super(re),this.component=Ne;const Kt=ce(et+"-"+Ne.id,Ne.styles,[]);B.addStyles(Kt),this.contentAttr=function xe(Z){return"_ngcontent-%COMP%".replace(Ke,Z)}(et+"-"+Ne.id),this.hostAttr=function je(Z){return"_nghost-%COMP%".replace(Ke,Z)}(et+"-"+Ne.id)}applyToHost(re){super.setAttribute(re,this.hostAttr,"")}createElement(re,B){const Ne=super.createElement(re,B);return super.setAttribute(Ne,this.contentAttr,""),Ne}}class Ut extends Le{constructor(re,B,Ne,et){super(re),this.sharedStylesHost=B,this.hostEl=Ne,this.shadowRoot=Ne.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Kt=ce(et.id,et.styles,[]);for(let xn=0;xn<Kt.length;xn++){const zn=document.createElement("style");zn.textContent=Kt[xn],this.shadowRoot.appendChild(zn)}}nodeOrShadowRoot(re){return re===this.hostEl?this.shadowRoot:re}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(re,B){return super.appendChild(this.nodeOrShadowRoot(re),B)}insertBefore(re,B,Ne){return super.insertBefore(this.nodeOrShadowRoot(re),B,Ne)}removeChild(re,B){return super.removeChild(this.nodeOrShadowRoot(re),B)}parentNode(re){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(re)))}}let Tt=(()=>{class Z extends pt{constructor(B){super(B)}supports(B){return!0}addEventListener(B,Ne,et){return B.addEventListener(Ne,et,!1),()=>this.removeEventListener(B,Ne,et)}removeEventListener(B,Ne,et){return B.removeEventListener(Ne,et)}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(f.K0))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const _n=["alt","control","meta","shift"],Tn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},on={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let Yt=(()=>{class Z extends pt{constructor(B){super(B)}supports(B){return null!=Z.parseEventName(B)}addEventListener(B,Ne,et){const Kt=Z.parseEventName(Ne),xn=Z.eventCallback(Kt.fullKey,et,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(B,Kt.domEventName,xn))}static parseEventName(B){const Ne=B.toLowerCase().split("."),et=Ne.shift();if(0===Ne.length||"keydown"!==et&&"keyup"!==et)return null;const Kt=Z._normalizeKey(Ne.pop());let xn="";if(_n.forEach(Rr=>{const zr=Ne.indexOf(Rr);zr>-1&&(Ne.splice(zr,1),xn+=Rr+".")}),xn+=Kt,0!=Ne.length||0===Kt.length)return null;const zn={};return zn.domEventName=et,zn.fullKey=xn,zn}static getEventFullKey(B){let Ne="",et=function pn(Z){let re=Z.key;if(null==re){if(re=Z.keyIdentifier,null==re)return"Unidentified";re.startsWith("U+")&&(re=String.fromCharCode(parseInt(re.substring(2),16)),3===Z.location&&qt.hasOwnProperty(re)&&(re=qt[re]))}return Tn[re]||re}(B);return et=et.toLowerCase()," "===et?et="space":"."===et&&(et="dot"),_n.forEach(Kt=>{Kt!=et&&on[Kt](B)&&(Ne+=Kt+".")}),Ne+=et,Ne}static eventCallback(B,Ne,et){return Kt=>{Z.getEventFullKey(Kt)===B&&et.runGuarded(()=>Ne(Kt))}}static _normalizeKey(B){return"esc"===B?"escape":B}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(f.K0))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})();const Yn=(0,E.eFA)(E._c5,"browser",[{provide:E.Lbi,useValue:f.bD},{provide:E.g9A,useValue:function bn(){ie.makeCurrent(),Me.init()},multi:!0},{provide:f.K0,useFactory:function vn(){return(0,E.RDi)(document),document},deps:[]}]),Jn=[{provide:E.zSh,useValue:"root"},{provide:E.qLn,useFactory:function Fn(){return new E.qLn},deps:[]},{provide:He,useClass:Tt,multi:!0,deps:[f.K0,E.R0b,E.Lbi]},{provide:He,useClass:Yt,multi:!0,deps:[f.K0]},{provide:Ge,useClass:Ge,deps:[tt,Xe,E.AFp]},{provide:E.FYo,useExisting:Ge},{provide:le,useExisting:Xe},{provide:Xe,useClass:Xe,deps:[f.K0]},{provide:E.dDg,useClass:E.dDg,deps:[E.R0b]},{provide:tt,useClass:tt,deps:[He,E.R0b]},{provide:f.JF,useClass:Qe,deps:[]}];let tn=(()=>{class Z{constructor(B){if(B)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(B){return{ngModule:Z,providers:[{provide:E.AFp,useValue:B.appId},{provide:Ee,useExisting:E.AFp},ae]}}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(Z,12))},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({providers:Jn,imports:[f.ez,E.hGG]}),Z})(),an=(()=>{class Z{constructor(B){this._doc=B}getTitle(){return this._doc.title}setTitle(B){this._doc.title=B||""}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(f.K0))},Z.\u0275prov=E.Yz7({token:Z,factory:function(B){let Ne=null;return Ne=B?new B:function Cn(){return new an((0,E.LFG)(f.K0))}(),Ne},providedIn:"root"}),Z})();"undefined"!=typeof window&&window;var fe=S(2382),rt=S(520),at=S(2011),$t=S(655),ln=S(9646),Dn=S(515),wn=S(5363),rr=S(3900),sr=S(4004),Pn=S(3151),An=S(880),wr=S(7982),Gn=S(4410),Kr=S(3385),Mr=S(127),xt=S(9300),_e=S(8306),qe=S(8421),Et=S(7579),Xt=S(4482),Sn=S(5403);var Mn=S(5577),ur=S(1884),xr=S(8675),fn=S(1520),Dr=S(3692),fi=S(5867);const Ds="firebase_screen_id",qr="outlet",ts="screen_class",Fi="screen_name";let rs=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Mi={},pi=Z=>{const re=[Z[ts],Z[qr]].join("#");if(Mi.hasOwnProperty(re))return Mi[re];{const B=rs++;return Mi[re]=B,B}},Ki=new E.OlP("angularfire2.analytics.analyticsCollectionEnabled"),oi=new E.OlP("angularfire2.analytics.appVersion"),Ii=new E.OlP("angularfire2.analytics.appName"),Hr=new E.OlP("angularfire2.analytics.debugMode"),lr=new E.OlP("angularfire2.analytics.config"),ps="dataLayer";let wi=(()=>{class Z{constructor(B,Ne,et,Kt,xn,zn,Rr,zr,Hs){if(this.analyticsInitialized=new Promise(()=>{}),(0,f.NF)(Rr)){window[ps]=window[ps]||[];const Rn=(...Wr)=>"config"===Wr[0]&&"firebase"===Wr[2].origin&&(this.measurementId=Wr[1],!0),ti=Wr=>{window.gtag=(...jr)=>{Wr&&Wr(...jr),"event"===jr[0]&&jr[2].send_to===this.measurementId&&(Kt&&(jr[2].app_name=Kt),et&&(jr[2].app_version=et)),xn&&"undefined"!=typeof console&&console.info(...jr),function(...No){window[ps].push(arguments)}(...jr)}};window[ps].some(Rn)?(this.analyticsInitialized=Promise.resolve(),ti()):this.analyticsInitialized=new Promise(Wr=>{ti((...jr)=>{Rn(...jr)&&Wr()})}),zn&&this.updateConfig(zn),xn&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Xs=(0,ln.of)(void 0).pipe((0,wn.Q)(Hs.outsideAngular),(0,rr.w)(wr.Gb),(0,rr.w)(Rn=>Rn?zr.runOutsideAngular(()=>S.e(643).then(S.bind(S,8643))):Dn.E),(0,sr.U)(()=>(0,at.cc)("analytics","AngularFireAnalytics",B.name,()=>{const Rn=B.analytics();return!1===Ne&&Rn.setAnalyticsCollectionEnabled(!1),Rn},[B,Ne,zn,xn])),(0,Pn.d)({bufferSize:1,refCount:!1}));return(0,at.pX)(this,Xs,zr)}updateConfig(B){return(0,$t.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},B),{update:!0}))})}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(at.Ot),E.LFG(Ki,8),E.LFG(oi,8),E.LFG(Ii,8),E.LFG(Hr,8),E.LFG(lr,8),E.LFG(E.Lbi),E.LFG(E.R0b),E.LFG(An.HU))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"any"}),Z})(),ss=(()=>{class Z{constructor(B,Ne,et,Kt){if(this.disposables=[],Mr.Z.registerVersion("angularfire",An.q4.full,"compat-user-tracking"),(0,f.PM)(Ne))this.initialized=Promise.resolve();else{let xn;this.initialized=Kt.runOutsideAngular(()=>new Promise(zn=>xn=zn)),this.disposables=[et.authState.subscribe(zn=>{B.setUserId(null==zn?void 0:zn.uid),xn()}),et.credential.subscribe(zn=>{if(zn){const Rr=zn.user.isAnonymous?"anonymous":zn.additionalUserInfo.providerId;zn.additionalUserInfo.isNewUser&&B.logEvent("sign_up",{method:Rr}),B.logEvent("login",{method:Rr})}})]}}ngOnDestroy(){this.disposables.forEach(B=>B.unsubscribe())}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(wi),E.LFG(E.Lbi),E.LFG(Kr.zQ),E.LFG(E.R0b))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),xi=(()=>{class Z{constructor(B,Ne,et,Kt,xn,zn){if(Mr.Z.registerVersion("angularfire",An.q4.full,"compat-screen-tracking"),!Ne||!B)return this;xn.runOutsideAngular(()=>{this.disposable=((Z,re,B)=>Z.events.pipe((0,xt.h)(et=>et instanceof Gn.jw)).pipe((0,rr.w)(et=>{var Kt;const zn=(null===(Kt=Z.parseUrl(Z.url.replace(/(?:\().+(?:\))/g,ti=>ti.replace("://",":///"))).root.children[et.snapshot.outlet])||void 0===Kt?void 0:Kt.toString())||"",Rr=Z.routerState.root.children.map(ti=>ti).find(ti=>ti.outlet===et.snapshot.outlet);if(!Rr)return(0,ln.of)(null);let zr=Rr;for(;zr.firstChild;)zr=zr.firstChild;const Hs=zr.pathFromRoot.map(ti=>{var Pi;return null===(Pi=ti.routeConfig)||void 0===Pi?void 0:Pi.path}).filter(ti=>ti).join("/")||"/",Xs={[Fi]:Hs,page_path:`/${zn}`,firebase_event_origin:"auto",firebase_screen:Hs,[qr]:et.snapshot.outlet};re&&(Xs.page_title=re.getTitle());let Rn=Rr.component;if(Rn){if(Rn===Gn.fw){let ti=et.snapshot;for(;ti.firstChild;)ti=ti.firstChild;Rn=ti.component}}else Rn=et.snapshot.component;if("string"==typeof Rn)return(0,ln.of)(Object.assign(Object.assign({},Xs),{[ts]:Rn}));if(Rn){const ti=B.resolveComponentFactory(Rn);return(0,ln.of)(Object.assign(Object.assign({},Xs),{[ts]:ti.selector}))}return(0,ln.of)(null)}),(0,xt.h)(et=>!!et),(0,sr.U)(et=>Object.assign({firebase_screen_class:et[ts],[Ds]:pi(et)},et)),function $n(Z,re,B,Ne){return(0,Xt.e)((et,Kt)=>{let xn;re&&"function"!=typeof re?({duration:B,element:xn,connector:Ne}=re):xn=re;const zn=new Map,Rr=Pi=>{zn.forEach(Pi),Pi(Kt)},zr=Pi=>Rr(Wr=>Wr.error(Pi));let Hs=0,Xs=!1;const Rn=new Sn.Q(Kt,Pi=>{try{const Wr=Z(Pi);let jr=zn.get(Wr);if(!jr){zn.set(Wr,jr=Ne?Ne():new Et.x);const No=function ti(Pi,Wr){const jr=new _e.y(No=>{Hs++;const vo=Wr.subscribe(No);return()=>{vo.unsubscribe(),0==--Hs&&Xs&&Rn.unsubscribe()}});return jr.key=Pi,jr}(Wr,jr);if(Kt.next(No),B){const vo=(0,Sn.x)(jr,()=>{jr.complete(),null==vo||vo.unsubscribe()},void 0,void 0,()=>zn.delete(Wr));Rn.add((0,qe.Xf)(B(No)).subscribe(vo))}}jr.next(xn?xn(Pi):Pi)}catch(Wr){zr(Wr)}},()=>Rr(Pi=>Pi.complete()),zr,()=>zn.clear(),()=>(Xs=!0,0===Hs));et.subscribe(Rn)})}(et=>et[qr]),(0,Mn.z)(et=>et.pipe((0,ur.x)((Kt,xn)=>JSON.stringify(Kt)===JSON.stringify(xn)),(0,xr.O)(void 0),(0,fn.G)(),(0,sr.U)(([Kt,xn])=>Kt?Object.assign({firebase_previous_class:Kt[ts],firebase_previous_screen:Kt[Fi],firebase_previous_id:Kt[Ds]},xn):xn)))))(Ne,et,Kt).pipe((0,rr.w)(Rr=>(0,$t.mG)(this,void 0,void 0,function*(){return zn&&(yield zn.initialized),yield B.logEvent("screen_view",Rr)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(wi),E.LFG(Gn.F0,8),E.LFG(an,8),E.LFG(E._Vd),E.LFG(E.R0b),E.LFG(ss,8))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac}),Z})(),qi=(()=>{class Z{constructor(B,Ne,et){Mr.Z.registerVersion("angularfire",An.q4.full,"analytics-compat"),B.app.then(()=>{})}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(wi),E.LFG(xi,8),E.LFG(ss,8))},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({providers:[wi]}),Z})();var ir=S(3290),R=S(6893);let $=(()=>{class Z{constructor(B,Ne){this.auth=B,this.route=Ne,this.estaLoggeado=!1,this.authServiceSubscription=this.auth.currentUser.subscribe(et=>{this.estaLoggeado=et.isLogged})}canActivate(B,Ne){return!this.estaLoggeado||(this.route.navigateByUrl("altaRepartidor"),!1)}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(R.e),E.LFG(Gn.F0))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})(),x=(()=>{class Z{constructor(B,Ne){this.auth=B,this.route=Ne,this.perfil="",this.authServiceSubscription=this.auth.currentUser.subscribe(et=>{this.perfil=et.perfil})}canActivate(B,Ne){return"admin"==this.perfil||(this.route.navigateByUrl(""),!1)}}return Z.\u0275fac=function(B){return new(B||Z)(E.LFG(R.e),E.LFG(Gn.F0))},Z.\u0275prov=E.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})();var K=S(5107),Te=S(7798);const it=function(){return["/login"]};function wt(Z,re){if(1&Z&&(E.TgZ(0,"div",2),E._UZ(1,"img",3),E.TgZ(2,"h1",4),E._uU(3),E.qZA(),E.TgZ(4,"h4",5),E._uU(5),E.qZA(),E.TgZ(6,"div",6)(7,"p",7),E._uU(8),E.qZA(),E.TgZ(9,"div",8)(10,"button",9),E._uU(11,"LOGIN"),E.qZA()()()()),2&Z){const B=E.oxw();E.xp6(1),E.s9C("src",B.datosGit.avatar_url,E.LSH),E.xp6(2),E.Oqu(B.datosGit.name),E.xp6(2),E.Oqu(B.datosGit.login),E.xp6(3),E.Oqu(B.datosGit.bio),E.xp6(2),E.Q6J("routerLink",E.DdM(5,it))}}let un=(()=>{class Z{constructor(B){this.http=B}ngOnInit(){this.http.getDatosGit().subscribe(B=>{this.datosGit=B})}}return Z.\u0275fac=function(B){return new(B||Z)(E.Y36(Te.O))},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-bienvenida"]],decls:4,vars:1,consts:[["class","px-4 py-5 my-5 text-center",4,"ngIf"],[1,"b-example-divider"],[1,"px-4","py-5","my-5","text-center"],["alt","avatar",1,"d-block","mx-auto","mb-4","avatar",3,"src"],[1,"display-5","fw-bold"],[1,"display-5"],[1,"col-lg-6","mx-auto"],[1,"lead","mb-4"],[1,"d-grid","gap-2","d-sm-flex","justify-content-sm-center"],["type","button",1,"btn","btn-primary","btn-lg","px-4","gap-3",3,"routerLink"]],template:function(B,Ne){1&B&&(E.TgZ(0,"body")(1,"main"),E.YNc(2,wt,12,6,"div",0),E._UZ(3,"div",1),E.qZA()()),2&B&&(E.xp6(2),E.Q6J("ngIf",Ne.datosGit))},directives:[f.O5,Gn.rH],styles:[".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}.avatar[_ngcontent-%COMP%]{border-radius:100%;width:20%}"]}),Z})();var cr=S(8145);function or(Z,re){if(1&Z){const B=E.EpF();E.TgZ(0,"tr")(1,"td"),E._uU(2),E.qZA(),E.TgZ(3,"td"),E._uU(4),E.qZA(),E.TgZ(5,"td")(6,"button",4),E.NdJ("click",function(){const Kt=E.CHM(B).$implicit;return E.oxw().getRepartidorSeleccionado(Kt)}),E._uU(7,"VER DETALLE"),E.qZA()()()}if(2&Z){const B=re.$implicit;E.xp6(2),E.Oqu(B.dni),E.xp6(2),E.Oqu(B.nombre)}}let q=(()=>{class Z{constructor(B){this.db=B,this.listadoRepartidor=[],this.repartidorSeleccionado=new E.vpe}ngOnInit(){this.db.getCollection("repartidor").then(B=>B.subscribe(Ne=>{Ne.forEach(et=>{this.listadoRepartidor.push(et.payload.doc.data())})}))}getRepartidorSeleccionado(B){this.repartidorSeleccionado.emit(B)}}return Z.\u0275fac=function(B){return new(B||Z)(E.Y36(cr.T))},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-listado-repartidor"]],outputs:{repartidorSeleccionado:"repartidorSeleccionado"},decls:13,vars:1,consts:[[1,"display-5","fw-bold"],[1,"table","table-striped","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(B,Ne){1&B&&(E.TgZ(0,"h1",0),E._uU(1,"Listado productos"),E.qZA(),E.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),E._uU(6,"DNI"),E.qZA(),E.TgZ(7,"th",2),E._uU(8,"Nombre"),E.qZA(),E.TgZ(9,"th",2),E._uU(10,"Detalle"),E.qZA()()(),E.TgZ(11,"tbody"),E.YNc(12,or,8,2,"tr",3),E.qZA()()),2&B&&(E.xp6(12),E.Q6J("ngForOf",Ne.listadoRepartidor))},directives:[f.sg],styles:[""]}),Z})(),Y=(()=>{class Z{transform(B,...Ne){return"true"===B?"Si":"No"}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275pipe=E.Yjl({name:"transformBoolean",type:Z,pure:!0}),Z})();function be(Z,re){if(1&Z&&(E.TgZ(0,"div",1)(1,"h4",2)(2,"b"),E._uU(3),E.qZA()(),E.TgZ(4,"h6",3)(5,"span"),E._uU(6,"DNI: "),E.qZA(),E._uU(7),E.qZA(),E.TgZ(8,"p",4)(9,"span"),E._uU(10,"Edad: "),E.qZA(),E._uU(11),E.qZA(),E.TgZ(12,"p",4)(13,"span"),E._uU(14,"Transporte: "),E.qZA(),E._uU(15),E.qZA(),E.TgZ(16,"p",4)(17,"span"),E._uU(18,"Unidad propia: "),E.qZA(),E.TgZ(19,"b"),E._uU(20),E.ALo(21,"transformBoolean"),E.qZA()()()),2&Z){const B=E.oxw();E.xp6(3),E.Oqu(B.inputRepartidor.nombre),E.xp6(4),E.Oqu(B.inputRepartidor.dni),E.xp6(4),E.Oqu(B.inputRepartidor.edad),E.xp6(4),E.Oqu(B.inputRepartidor.capacidadTransporte),E.xp6(5),E.Oqu(E.lcZ(21,5,B.inputRepartidor.unidadPropia))}}let ze=(()=>{class Z{constructor(){}ngOnInit(){}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-detalle"]],inputs:{inputRepartidor:"inputRepartidor"},decls:3,vars:1,consts:[["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-4","text-muted"],[1,"card-text"]],template:function(B,Ne){1&B&&(E.TgZ(0,"h2"),E._uU(1,"Detalle repartidor"),E.qZA(),E.YNc(2,be,22,7,"div",0)),2&B&&(E.xp6(2),E.Q6J("ngIf",Ne.inputRepartidor))},directives:[f.O5],pipes:[Y],styles:[""]}),Z})();function It(Z,re){if(1&Z&&(E.TgZ(0,"ul",1)(1,"li",2)(2,"b"),E._uU(3),E.qZA(),E.TgZ(4,"span"),E._UZ(5,"img",3),E.qZA()(),E.TgZ(6,"li",4)(7,"div",5)(8,"div",6)(9,"p",7),E._uU(10,"Capital:"),E.qZA()(),E.TgZ(11,"div",8)(12,"p",9),E._uU(13),E.qZA()()()(),E.TgZ(14,"li",4)(15,"div",5)(16,"div",6)(17,"p",7),E._uU(18,"Continente:"),E.qZA()(),E.TgZ(19,"div",8)(20,"p",9),E._uU(21),E.qZA()()()(),E.TgZ(22,"li",4)(23,"div",5)(24,"div",6)(25,"p",7),E._uU(26,"Cantidad de poblaci\xf3n:"),E.qZA()(),E.TgZ(27,"div",8)(28,"p",9),E._uU(29),E.qZA()()()()()),2&Z){const B=E.oxw();E.xp6(3),E.Oqu(B.inputPaises.nacionalidad.translations.spa.common),E.xp6(2),E.Q6J("src",B.inputPaises.nacionalidad.flags.png,E.LSH),E.xp6(8),E.Oqu(B.inputPaises.nacionalidad.capital),E.xp6(8),E.Oqu(B.inputPaises.nacionalidad.continents[0]),E.xp6(8),E.Oqu(B.inputPaises.nacionalidad.population)}}let jt=(()=>{class Z{constructor(){}ngOnInit(){}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-detalle-pais"]],inputs:{inputPaises:"inputPaises"},decls:1,vars:1,consts:[["class","list-group",4,"ngIf"],[1,"list-group"],[1,"list-group-item","list-group-item-primary","d-flex"],["alt","",3,"src"],[1,"list-group-item"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"]],template:function(B,Ne){1&B&&E.YNc(0,It,30,5,"ul",0),2&B&&E.Q6J("ngIf",Ne.inputPaises)},directives:[f.O5],styles:["img[_ngcontent-%COMP%]{width:30%;margin-left:70%}b[_ngcontent-%COMP%]{font-size:25px}"]}),Z})();const hr=[{path:"bienvenida",component:un,canActivate:[$]},{path:"login",component:(()=>{class Z{constructor(B,Ne,et){this.fb=B,this.route=Ne,this.auth=et,this.loginGroup=B.group({email:"",password:""}),this.listadoUsuarios=[{email:"rosasanchez@gmail.com",password:"123456ad",perfil:"admin"},{email:"juanperez@gmail.com",password:"lalalaemp",perfil:"empleado"}]}ngOnInit(){}cargarEmpleado(){this.loginGroup.controls.email.setValue(this.listadoUsuarios[1].email),this.loginGroup.controls.password.setValue(this.listadoUsuarios[1].password)}cargarAdmin(){this.loginGroup.controls.email.setValue(this.listadoUsuarios[0].email),this.loginGroup.controls.password.setValue(this.listadoUsuarios[0].password)}login(){"rosasanchez@gmail.com"===this.loginGroup.value.email&&"123456ad"===this.loginGroup.value.password?(this.auth.setCurrentUser({perfil:"admin",isLogged:!0}),this.route.navigate(["altaRepartidor"])):"juanperez@gmail.com"===this.loginGroup.value.password||"lalalaemp"===this.loginGroup.value.password?(this.auth.setCurrentUser({perfil:"empleado",isLogged:!0}),this.route.navigate(["altaRepartidor"])):alert("No es un usuario v\xe1lido")}}return Z.\u0275fac=function(B){return new(B||Z)(E.Y36(fe.qu),E.Y36(Gn.F0),E.Y36(R.e))},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-login"]],decls:22,vars:1,consts:[[1,"container","col-xl-10","col-xxl-8","px-4","py-5"],[1,"row","align-items-center","g-lg-5","py-5"],[1,"col-lg-7","text-center","text-lg-start"],[1,"display-4","fw-bold","lh-1","mb-3"],[1,"col-md-10","mx-auto","col-lg-5"],[1,"p-4","p-md-5","border","rounded-3","bg-light",3,"formGroup","submit"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"],[1,"d-flex","justify-content-between","mt-3"],["type","button",1,"w-50","btn","btn-secondary","btn-lg","mr-1",3,"click"],["type","button",1,"w-50","btn","btn-warning","btn-lg",3,"click"]],template:function(B,Ne){1&B&&(E.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),E._uU(4,"Login"),E.qZA()(),E.TgZ(5,"div",4)(6,"form",5),E.NdJ("submit",function(){return Ne.login()}),E.TgZ(7,"div",6),E._UZ(8,"input",7),E.TgZ(9,"label",8),E._uU(10,"Email"),E.qZA()(),E.TgZ(11,"div",6),E._UZ(12,"input",9),E.TgZ(13,"label",10),E._uU(14,"Password"),E.qZA()(),E.TgZ(15,"button",11),E._uU(16,"Ingresar"),E.qZA(),E.TgZ(17,"div",12)(18,"button",13),E.NdJ("click",function(){return Ne.cargarAdmin()}),E._uU(19,"Admin"),E.qZA(),E.TgZ(20,"button",14),E.NdJ("click",function(){return Ne.cargarEmpleado()}),E._uU(21,"Empleado"),E.qZA()()()()()()),2&B&&(E.xp6(6),E.Q6J("formGroup",Ne.loginGroup))},directives:[fe._Y,fe.JL,fe.sg,fe.Fj,fe.JJ,fe.u],styles:[".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}"]}),Z})(),canActivate:[$]},{path:"detalle",component:(()=>{class Z{constructor(){}ngOnInit(){}tomarRepartidorParaMostrar(B){this.repartidorSeleccionado=B}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-detalle-repartidor"]],decls:20,vars:2,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],["src","../../../assets/repartidor-pizzas.jpg","alt","repartidor",1,"logo"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[3,"repartidorSeleccionado"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[3,"inputRepartidor"],[1,"h-100","p-5","bg-light","border","rounded-3"],[3,"inputPaises"],[1,"pt-3","mt-4","text-muted","border-top"]],template:function(B,Ne){1&B&&(E.TgZ(0,"div",0)(1,"header",1)(2,"a",2),E._UZ(3,"img",3),E.TgZ(4,"span",4),E._uU(5,"Repartidor detalle"),E.qZA()()(),E.TgZ(6,"div",5)(7,"div",6)(8,"app-listado-repartidor",7),E.NdJ("repartidorSeleccionado",function(Kt){return Ne.tomarRepartidorParaMostrar(Kt)}),E.qZA()()(),E.TgZ(9,"div",8)(10,"div",9)(11,"div",10),E._UZ(12,"app-detalle",11),E.qZA()(),E.TgZ(13,"div",9)(14,"div",12)(15,"h2"),E._uU(16,"Detalle pa\xeds"),E.qZA(),E._UZ(17,"app-detalle-pais",13),E.qZA()()(),E.TgZ(18,"footer",14),E._uU(19," \xa9 2021 "),E.qZA()()),2&B&&(E.xp6(12),E.Q6J("inputRepartidor",Ne.repartidorSeleccionado),E.xp6(5),E.Q6J("inputPaises",Ne.repartidorSeleccionado))},directives:[q,ze,jt],styles:[".logo[_ngcontent-%COMP%]{width:4rem;margin-right:1rem}"]}),Z})(),canActivate:[K.a]},{path:"altaRepartidorPizza",loadChildren:()=>S.e(232).then(S.bind(S,4232)).then(Z=>Z.AltaRepartidorPizzaModule),canActivate:[K.a]},{path:"pizzas",loadChildren:()=>S.e(2).then(S.bind(S,7002)).then(Z=>Z.SalenPizzasModule),canActivate:[K.a,x]},{path:"",redirectTo:"bienvenida",pathMatch:"full"}];let mr=(()=>{class Z{}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({imports:[[Gn.Bz.forRoot(hr)],Gn.Bz]}),Z})();const yr=function(){return["pizzas"]};function Vn(Z,re){1&Z&&(E.TgZ(0,"a",9),E._uU(1,"Pizzas"),E.qZA()),2&Z&&E.Q6J("routerLink",E.DdM(1,yr))}const O=function(){return[""]},A=function(){return["altaRepartidorPizza"]},T=function(){return["detalle"]};function W(Z,re){if(1&Z){const B=E.EpF();E.TgZ(0,"nav",1)(1,"a",2),E._UZ(2,"img",3),E.qZA(),E.TgZ(3,"button",4),E._UZ(4,"span",5),E.qZA(),E.TgZ(5,"div",6)(6,"ul",7)(7,"li",8)(8,"a",9),E._uU(9,"Alta repartidor"),E.qZA()(),E.TgZ(10,"li",8)(11,"a",9),E._uU(12,"Detalle repartidor"),E.qZA()(),E.TgZ(13,"li",8),E.YNc(14,Vn,2,2,"a",10),E.qZA()()(),E.TgZ(15,"div")(16,"button",11),E.NdJ("click",function(){return E.CHM(B),E.oxw().logOut()}),E._UZ(17,"i",12),E._uU(18," Sign Out"),E.qZA()()()}if(2&Z){const B=E.oxw();E.xp6(1),E.Q6J("routerLink",E.DdM(4,O)),E.xp6(7),E.Q6J("routerLink",E.DdM(5,A)),E.xp6(3),E.Q6J("routerLink",E.DdM(6,T)),E.xp6(3),E.Q6J("ngIf","admin"==B.perfil)}}let de=(()=>{class Z{constructor(B,Ne){this.auth=B,this.route=Ne,this.estaLoggeado=!1,this.perfil="",this.authServiceSubscription=this.auth.currentUser.subscribe(et=>{this.estaLoggeado=et.isLogged,this.perfil=et.perfil})}ngOnInit(){}logOut(){this.auth.setCurrentUser({perfil:"",isLogged:!1}),this.route.navigateByUrl("login")}}return Z.\u0275fac=function(B){return new(B||Z)(E.Y36(R.e),E.Y36(Gn.F0))},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-dark bg-dark px-5",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","px-5"],[1,"navbar-brand",3,"routerLink"],["src","../../../assets/caja-de-pizza.jpg","alt","PizzaHOME"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["class","nav-link","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-left"]],template:function(B,Ne){1&B&&E.YNc(0,W,19,7,"nav",0),2&B&&E.Q6J("ngIf",Ne.estaLoggeado)},directives:[f.O5,Gn.yS,Gn.Od],styles:["img[_ngcontent-%COMP%]{width:80%}.navbar-brand[_ngcontent-%COMP%]{width:5%}.active[_ngcontent-%COMP%]{color:#fdfd5b!important}"]}),Z})();function St(Z,re){if(1&Z&&(E.TgZ(0,"li",1),E._uU(1),E.qZA()),2&Z){const B=re.$implicit;E.xp6(1),E.hij(" ",B.name," ")}}let Xn=(()=>{class Z{constructor(B){this.title="begue-alejandro-PPLaboIV",this.items=B.collection("items").valueChanges()}}return Z.\u0275fac=function(B){return new(B||Z)(E.Y36(ir.ST))},Z.\u0275cmp=E.Xpm({type:Z,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(B,Ne){1&B&&(E.TgZ(0,"ul"),E.YNc(1,St,2,1,"li",0),E.ALo(2,"async"),E.qZA(),E._UZ(3,"app-navbar")(4,"router-outlet")),2&B&&(E.xp6(1),E.Q6J("ngForOf",E.lcZ(2,1,Ne.items)))},directives:[f.sg,de,Gn.lC],pipes:[f.Ov],styles:[""]}),Z})();const Qn_firebase={projectId:"begue-alejandro-pplaboiv",appId:"1:448800622917:web:afb16d34f441b03b3a562c",storageBucket:"begue-alejandro-pplaboiv.appspot.com",apiKey:"AIzaSyD-3iOKw4oE74b_FmOtJW4e4P4aTKHSf4A",authDomain:"begue-alejandro-pplaboiv.firebaseapp.com",messagingSenderId:"448800622917"};var Ri=S(7128),Vi=S(198);S(2090),S(9681),S(1877),S(4859);class os{constructor(re){return re}}class co{constructor(){return(0,An.vb)("auth")}}const Yi=new E.OlP("angularfire2.auth-instances");function Ks(Z){return(re,B)=>{const Ne=re.runOutsideAngular(()=>Z(B));return new os(Ne)}}const Ui={provide:co,deps:[[new E.FiY,Yi]]},Ho={provide:os,useFactory:function Bs(Z,re){const B=(0,An.JM)("auth",Z,re);return B&&new os(B)},deps:[[new E.FiY,Yi],Dr.Ot]};let wo=(()=>{class Z{constructor(){(0,fi.KN)("angularfire",An.q4.full,"auth")}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({providers:[Ho,Ui]}),Z})();function ca(Z,...re){return{ngModule:wo,providers:[{provide:Yi,useFactory:Ks(Z),multi:!0,deps:[E.R0b,E.zs3,An.HU,Dr.z6,[new E.FiY,Ri.nm],...re]}]}}const ha=(0,An.u3)(Vi.n,!0);var So=S(5525);class Zo{constructor(re){return re}}const Mo="firestore",Ys=new E.OlP("angularfire2.firestore-instances");function v(Z){return(re,B)=>{const Ne=re.runOutsideAngular(()=>Z(B));return new Zo(Ne)}}const y={provide:class mo{constructor(){return(0,An.vb)(Mo)}},deps:[[new E.FiY,Ys]]},M={provide:Zo,useFactory:function D(Z,re){const B=(0,An.JM)(Mo,Z,re);return B&&new Zo(B)},deps:[[new E.FiY,Ys],Dr.Ot]};let P=(()=>{class Z{constructor(){(0,fi.KN)("angularfire",An.q4.full,"fst")}}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=E.oAB({type:Z}),Z.\u0275inj=E.cJS({providers:[M,y]}),Z})();function U(Z,...re){return{ngModule:P,providers:[{provide:Ys,useFactory:v(Z),multi:!0,deps:[E.R0b,E.zs3,An.HU,Dr.z6,[new E.FiY,co],[new E.FiY,Ri.nm],...re]}]}}const _s=(0,An.u3)(So.ad,!0);var Xo=S(6189);let li=(()=>{class Z{}return Z.\u0275fac=function(B){return new(B||Z)},Z.\u0275mod=E.oAB({type:Z,bootstrap:[Xn]}),Z.\u0275inj=E.cJS({providers:[],imports:[[tn,mr,fe.u5,fe.UX,rt.JF,at.hO.initializeApp(Qn_firebase),qi,ir.yb,Xo.s,(0,Dr.hX)(()=>(0,Dr.ZF)(Qn_firebase)),ca(()=>ha()),U(()=>_s())]]}),Z})();(0,E.G48)(),Yn().bootstrapModule(li).catch(Z=>console.error(Z))},7982:(kt,Ue,S)=>{S.d(Ue,{Gb:()=>f.Gb});var f=S(579)},5867:(kt,Ue,S)=>{S.d(Ue,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=S(9681);(0,f.registerVersion)("firebase","9.8.1","app")},127:(kt,Ue,S)=>{S.d(Ue,{Z:()=>f.Z});var f=S(3942);f.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(kt,Ue,S)=>{S.r(Ue);var f=S(5861),E=S(3942),z=S(198),ie=S(2090),ge=(S(9681),S(1877),S(4859));function ne(){return window}function ae(){return(ae=(0,f.Z)(function*(ke,ve,fe){var rt;const{BuildInfo:at}=ne();(0,z.aq)(ve.sessionId,"AuthEvent did not contain a session ID");const $t=yield Xe(ve.sessionId),ln={};return(0,z.ar)()?ln.ibi=at.packageName:(0,z.as)()?ln.apn=at.packageName:(0,z.at)(ke,"operation-not-supported-in-this-environment"),at.displayName&&(ln.appDisplayName=at.displayName),ln.sessionId=$t,(0,z.au)(ke,fe,ve.type,void 0,null!==(rt=ve.eventId)&&void 0!==rt?rt:void 0,ln)})).apply(this,arguments)}function Qe(){return(Qe=(0,f.Z)(function*(ke){const{BuildInfo:ve}=ne(),fe={};(0,z.ar)()?fe.iosBundleId=ve.packageName:(0,z.as)()?fe.androidPackageName=ve.packageName:(0,z.at)(ke,"operation-not-supported-in-this-environment"),yield(0,z.av)(ke,fe)})).apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(ke,ve,fe){const{cordova:rt}=ne();let at=()=>{};try{yield new Promise(($t,ln)=>{let Dn=null;function wn(){var Pn;$t();const An=null===(Pn=rt.plugins.browsertab)||void 0===Pn?void 0:Pn.close;"function"==typeof An&&An(),"function"==typeof(null==fe?void 0:fe.close)&&fe.close()}function rr(){Dn||(Dn=window.setTimeout(()=>{ln((0,z.aw)(ke,"redirect-cancelled-by-user"))},2e3))}function sr(){"visible"===(null==document?void 0:document.visibilityState)&&rr()}ve.addPassiveListener(wn),document.addEventListener("resume",rr,!1),(0,z.as)()&&document.addEventListener("visibilitychange",sr,!1),at=()=>{ve.removePassiveListener(wn),document.removeEventListener("resume",rr,!1),document.removeEventListener("visibilitychange",sr,!1),Dn&&window.clearTimeout(Dn)}})}finally{at()}})).apply(this,arguments)}function Xe(ke){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(ke){const ve=At(ke),fe=yield crypto.subtle.digest("SHA-256",ve);return Array.from(new Uint8Array(fe)).map(at=>at.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function At(ke){if((0,z.aq)(/[0-9a-zA-Z]+/.test(ke),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ke);const ve=new ArrayBuffer(ke.length),fe=new Uint8Array(ve);for(let rt=0;rt<ke.length;rt++)fe[rt]=ke.charCodeAt(rt);return fe}class Fe extends z.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(ve=>{this.resolveInialized=ve})}addPassiveListener(ve){this.passiveListeners.add(ve)}removePassiveListener(ve){this.passiveListeners.delete(ve)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(ve){return this.resolveInialized(),this.passiveListeners.forEach(fe=>fe(ve)),super.onEvent(ve)}initialized(){var ve=this;return(0,f.Z)(function*(){yield ve.initPromise})()}}function ue(ke){return xe.apply(this,arguments)}function xe(){return(xe=(0,f.Z)(function*(ke){const ve=yield Oe()._get(Be(ke));return ve&&(yield Oe()._remove(Be(ke))),ve})).apply(this,arguments)}function ce(){const ke=[],ve="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let fe=0;fe<20;fe++){const rt=Math.floor(Math.random()*ve.length);ke.push(ve.charAt(rt))}return ke.join("")}function Oe(){return(0,z.ay)(z.b)}function Be(ke){return(0,z.az)("authEvent",ke.config.apiKey,ke.name)}function gt(ke){if(!(null==ke?void 0:ke.includes("?")))return{};const[ve,...fe]=ke.split("?");return(0,ie.zd)(fe.join("?"))}function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,z.aw)("no-auth-event")}}function on(){var ke;return(null===(ke=null==self?void 0:self.location)||void 0===ke?void 0:ke.protocol)||null}function pn(ke=(0,ie.z$)()){return!("file:"!==on()&&"ionic:"!==on()||!ke.toLowerCase().match(/iphone|ipad|ipod|android/))}function Yn(){try{const ke=self.localStorage,ve=z.aI();if(ke)return ke.setItem(ve,"1"),ke.removeItem(ve),!function Ln(ke=(0,ie.z$)()){return function Fn(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function vn(ke=(0,ie.z$)()){return/Edge\/\d+/.test(ke)}(ke)}()||(0,ie.hl)()}catch(ke){return Jn()&&(0,ie.hl)()}return!1}function Jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tn(){return(function Yt(){return"http:"===on()||"https:"===on()}()||(0,ie.ru)()||pn())&&!function bn(){return(0,ie.b$)()||(0,ie.UG)()}()&&Yn()&&!Jn()}function Zn(){return pn()&&"undefined"!=typeof document}function Ir(){return(Ir=(0,f.Z)(function*(){return!!Zn()&&new Promise(ke=>{const ve=setTimeout(()=>{ke(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(ve),ke(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},nr=z.ax,gr="persistence";function ye(ke){return De.apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(ke){yield ke._initializationPromise;const ve=Ve(),fe=z.az(gr,ke.config.apiKey,ke.name);ve&&ve.setItem(fe,ke._getPersistence())})).apply(this,arguments)}function Ve(){var ke;try{return(null===(ke=function Cn(){return"undefined"!=typeof window?window:null}())||void 0===ke?void 0:ke.sessionStorage)||null}catch(ve){return null}}const _t=z.ax;class yt{constructor(){this.browserResolver=z.ay(z.k),this.cordovaResolver=z.ay(class Bt{constructor(){this._redirectPersistence=z.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=z.aB,this._overrideRedirectResult=z.aC}_initialize(ve){var fe=this;return(0,f.Z)(function*(){const rt=ve._key();let at=fe.eventManagers.get(rt);return at||(at=new Fe(ve),fe.eventManagers.set(rt,at),fe.attachCallbackListeners(ve,at)),at})()}_openPopup(ve){(0,z.at)(ve,"operation-not-supported-in-this-environment")}_openRedirect(ve,fe,rt,at){var $t=this;return(0,f.Z)(function*(){!function le(ke){var ve,fe,rt,at,$t,ln,Dn,wn,rr,sr;const Pn=ne();(0,z.ax)("function"==typeof(null===(ve=null==Pn?void 0:Pn.universalLinks)||void 0===ve?void 0:ve.subscribe),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,z.ax)(void 0!==(null===(fe=null==Pn?void 0:Pn.BuildInfo)||void 0===fe?void 0:fe.packageName),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,z.ax)("function"==typeof(null===($t=null===(at=null===(rt=null==Pn?void 0:Pn.cordova)||void 0===rt?void 0:rt.plugins)||void 0===at?void 0:at.browsertab)||void 0===$t?void 0:$t.openUrl),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.ax)("function"==typeof(null===(wn=null===(Dn=null===(ln=null==Pn?void 0:Pn.cordova)||void 0===ln?void 0:ln.plugins)||void 0===Dn?void 0:Dn.browsertab)||void 0===wn?void 0:wn.isAvailable),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,z.ax)("function"==typeof(null===(sr=null===(rr=null==Pn?void 0:Pn.cordova)||void 0===rr?void 0:rr.InAppBrowser)||void 0===sr?void 0:sr.open),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(ve);const ln=yield $t._initialize(ve);yield ln.initialized(),ln.resetRedirect(),(0,z.aD)(),yield $t._originValidation(ve);const Dn=function Ze(ke,ve,fe=null){return{type:ve,eventId:fe,urlResponse:null,sessionId:ce(),postBody:null,tenantId:ke.tenantId,error:(0,z.aw)(ke,"no-auth-event")}}(ve,rt,at);yield function bt(ke,ve){return Oe()._set(Be(ke),ve)}(ve,Dn);const wn=yield function Q(ke,ve,fe){return ae.apply(this,arguments)}(ve,Dn,fe),rr=yield function He(ke){const{cordova:ve}=ne();return new Promise(fe=>{ve.plugins.browsertab.isAvailable(rt=>{let at=null;rt?ve.plugins.browsertab.openUrl(ke):at=ve.InAppBrowser.open(ke,(0,z.ap)()?"_blank":"_system","location=yes"),fe(at)})})}(wn);return function tt(ke,ve,fe){return pt.apply(this,arguments)}(ve,ln,rr)})()}_isIframeWebStorageSupported(ve,fe){throw new Error("Method not implemented.")}_originValidation(ve){const fe=ve._key();return this.originValidationPromises[fe]||(this.originValidationPromises[fe]=function Me(ke){return Qe.apply(this,arguments)}(ve)),this.originValidationPromises[fe]}attachCallbackListeners(ve,fe){const{universalLinks:rt,handleOpenURL:at,BuildInfo:$t}=ne(),ln=setTimeout((0,f.Z)(function*(){yield ue(ve),fe.onEvent(Tt())}),500),Dn=function(){var sr=(0,f.Z)(function*(Pn){clearTimeout(ln);const An=yield ue(ve);let wr=null;An&&(null==Pn?void 0:Pn.url)&&(wr=function je(ke,ve){var fe,rt;const at=function Le(ke){const ve=gt(ke),fe=ve.link?decodeURIComponent(ve.link):void 0,rt=gt(fe).link,at=ve.deep_link_id?decodeURIComponent(ve.deep_link_id):void 0;return gt(at).link||at||rt||fe||ke}(ve);if(at.includes("/__/auth/callback")){const $t=gt(at),ln=$t.firebaseError?function Ge(ke){try{return JSON.parse(ke)}catch(ve){return null}}(decodeURIComponent($t.firebaseError)):null,Dn=null===(rt=null===(fe=null==ln?void 0:ln.code)||void 0===fe?void 0:fe.split("auth/"))||void 0===rt?void 0:rt[1],wn=Dn?(0,z.aw)(Dn):null;return wn?{type:ke.type,eventId:ke.eventId,tenantId:ke.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:ke.type,eventId:ke.eventId,tenantId:ke.tenantId,sessionId:ke.sessionId,urlResponse:at,postBody:null}}return null}(An,Pn.url)),fe.onEvent(wr||Tt())});return function(An){return sr.apply(this,arguments)}}();void 0!==rt&&"function"==typeof rt.subscribe&&rt.subscribe(null,Dn);const wn=at,rr=`${$t.packageName.toLowerCase()}://`;ne().handleOpenURL=function(){var sr=(0,f.Z)(function*(Pn){if(Pn.toLowerCase().startsWith(rr)&&Dn({url:Pn}),"function"==typeof wn)try{wn(Pn)}catch(An){console.error(An)}});return function(Pn){return sr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=z.a,this._completeRedirectFn=z.aB,this._overrideRedirectResult=z.aC}_initialize(ve){var fe=this;return(0,f.Z)(function*(){return yield fe.selectUnderlyingResolver(),fe.assertedUnderlyingResolver._initialize(ve)})()}_openPopup(ve,fe,rt,at){var $t=this;return(0,f.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openPopup(ve,fe,rt,at)})()}_openRedirect(ve,fe,rt,at){var $t=this;return(0,f.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openRedirect(ve,fe,rt,at)})()}_isIframeWebStorageSupported(ve,fe){this.assertedUnderlyingResolver._isIframeWebStorageSupported(ve,fe)}_originValidation(ve){return this.assertedUnderlyingResolver._originValidation(ve)}get _shouldInitProactively(){return Zn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var ve=this;return(0,f.Z)(function*(){if(ve.underlyingResolver)return;const fe=yield function Gt(){return Ir.apply(this,arguments)}();ve.underlyingResolver=fe?ve.cordovaResolver:ve.browserResolver})()}}function gn(ke){return ke.unwrap()}function sn(ke){return jn(ke)}function jn(ke){const{_tokenResponse:ve}=ke instanceof ie.ZR?ke.customData:ke;if(!ve)return null;if(!(ke instanceof ie.ZR)&&"temporaryProof"in ve&&"phoneNumber"in ve)return z.P.credentialFromResult(ke);const fe=ve.providerId;if(!fe||fe===z.o.PASSWORD)return null;let rt;switch(fe){case z.o.GOOGLE:rt=z.Q;break;case z.o.FACEBOOK:rt=z.N;break;case z.o.GITHUB:rt=z.T;break;case z.o.TWITTER:rt=z.W;break;default:const{oauthIdToken:at,oauthAccessToken:$t,oauthTokenSecret:ln,pendingToken:Dn,nonce:wn}=ve;return $t||ln||at||Dn?Dn?fe.startsWith("saml.")?z.aL._create(fe,Dn):z.J._fromParams({providerId:fe,signInMethod:fe,pendingToken:Dn,idToken:at,accessToken:$t}):new z.U(fe).credential({idToken:at,accessToken:$t,rawNonce:wn}):null}return ke instanceof ie.ZR?rt.credentialFromError(ke):rt.credentialFromResult(ke)}function dn(ke,ve){return ve.catch(fe=>{throw fe instanceof ie.ZR&&function ar(ke,ve){var fe;const rt=null===(fe=ve.customData)||void 0===fe?void 0:fe._tokenResponse;if("auth/multi-factor-auth-required"===ve.code)ve.resolver=new J(ke,z.an(ke,ve));else if(rt){const at=jn(ve),$t=ve;at&&($t.credential=at,$t.tenantId=rt.tenantId||void 0,$t.email=rt.email||void 0,$t.phoneNumber=rt.phoneNumber||void 0)}}(ke,fe),fe}).then(fe=>{const at=fe.user;return{operationType:fe.operationType,credential:sn(fe),additionalUserInfo:z.al(fe),user:k.getOrCreate(at)}})}function se(ke,ve){return me.apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(ke,ve){const fe=yield ve;return{verificationId:fe.verificationId,confirm:rt=>dn(ke,fe.confirm(rt))}})).apply(this,arguments)}class J{constructor(ve,fe){this.resolver=fe,this.auth=function hn(ke){return ke.wrapped()}(ve)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(ve){return dn(gn(this.auth),this.resolver.resolveSignIn(ve))}}class k{constructor(ve){this._delegate=ve,this.multiFactor=z.ao(ve)}static getOrCreate(ve){return k.USER_MAP.has(ve)||k.USER_MAP.set(ve,new k(ve)),k.USER_MAP.get(ve)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(ve){return this._delegate.getIdTokenResult(ve)}getIdToken(ve){return this._delegate.getIdToken(ve)}linkAndRetrieveDataWithCredential(ve){return this.linkWithCredential(ve)}linkWithCredential(ve){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,z.Z(fe._delegate,ve))})()}linkWithPhoneNumber(ve,fe){var rt=this;return(0,f.Z)(function*(){return se(rt.auth,z.l(rt._delegate,ve,fe))})()}linkWithPopup(ve){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,z.d(fe._delegate,ve,yt))})()}linkWithRedirect(ve){var fe=this;return(0,f.Z)(function*(){return yield ye(z.aE(fe.auth)),z.g(fe._delegate,ve,yt)})()}reauthenticateAndRetrieveDataWithCredential(ve){return this.reauthenticateWithCredential(ve)}reauthenticateWithCredential(ve){var fe=this;return(0,f.Z)(function*(){return dn(fe.auth,z._(fe._delegate,ve))})()}reauthenticateWithPhoneNumber(ve,fe){return se(this.auth,z.r(this._delegate,ve,fe))}reauthenticateWithPopup(ve){return dn(this.auth,z.e(this._delegate,ve,yt))}reauthenticateWithRedirect(ve){var fe=this;return(0,f.Z)(function*(){return yield ye(z.aE(fe.auth)),z.h(fe._delegate,ve,yt)})()}sendEmailVerification(ve){return z.ab(this._delegate,ve)}unlink(ve){var fe=this;return(0,f.Z)(function*(){return yield z.ak(fe._delegate,ve),fe})()}updateEmail(ve){return z.ag(this._delegate,ve)}updatePassword(ve){return z.ah(this._delegate,ve)}updatePhoneNumber(ve){return z.u(this._delegate,ve)}updateProfile(ve){return z.af(this._delegate,ve)}verifyBeforeUpdateEmail(ve,fe){return z.ac(this._delegate,ve,fe)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}k.USER_MAP=new WeakMap;const N=z.ax;let X=(()=>{class ke{constructor(fe,rt){if(this.app=fe,rt.isInitialized())return this._delegate=rt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:at}=fe.options;N(at,"invalid-api-key",{appName:fe.name}),N(at,"invalid-api-key",{appName:fe.name});const $t="undefined"!=typeof window?yt:void 0;this._delegate=rt.initialize({options:{persistence:Ae(at,fe.name),popupRedirectResolver:$t}}),this._delegate._updateErrorMap(z.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?k.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(fe){this._delegate.languageCode=fe}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(fe){this._delegate.tenantId=fe}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(fe,rt){z.G(this._delegate,fe,rt)}applyActionCode(fe){return z.a2(this._delegate,fe)}checkActionCode(fe){return z.a3(this._delegate,fe)}confirmPasswordReset(fe,rt){return z.a1(this._delegate,fe,rt)}createUserWithEmailAndPassword(fe,rt){var at=this;return(0,f.Z)(function*(){return dn(at._delegate,z.a5(at._delegate,fe,rt))})()}fetchProvidersForEmail(fe){return this.fetchSignInMethodsForEmail(fe)}fetchSignInMethodsForEmail(fe){return z.aa(this._delegate,fe)}isSignInWithEmailLink(fe){return z.a8(this._delegate,fe)}getRedirectResult(){var fe=this;return(0,f.Z)(function*(){N(tn(),fe._delegate,"operation-not-supported-in-this-environment");const rt=yield z.j(fe._delegate,yt);return rt?dn(fe._delegate,Promise.resolve(rt)):{credential:null,user:null}})()}addFrameworkForLogging(fe){!function _n(ke,ve){(0,z.aE)(ke)._logFramework(ve)}(this._delegate,fe)}onAuthStateChanged(fe,rt,at){const{next:$t,error:ln,complete:Dn}=ee(fe,rt,at);return this._delegate.onAuthStateChanged($t,ln,Dn)}onIdTokenChanged(fe,rt,at){const{next:$t,error:ln,complete:Dn}=ee(fe,rt,at);return this._delegate.onIdTokenChanged($t,ln,Dn)}sendSignInLinkToEmail(fe,rt){return z.a7(this._delegate,fe,rt)}sendPasswordResetEmail(fe,rt){return z.a0(this._delegate,fe,rt||void 0)}setPersistence(fe){var rt=this;return(0,f.Z)(function*(){let at;switch(function ut(ke,ve){nr(Object.values(an).includes(ve),ke,"invalid-persistence-type"),(0,ie.b$)()?nr(ve!==an.SESSION,ke,"unsupported-persistence-type"):(0,ie.UG)()?nr(ve===an.NONE,ke,"unsupported-persistence-type"):Jn()?nr(ve===an.NONE||ve===an.LOCAL&&(0,ie.hl)(),ke,"unsupported-persistence-type"):nr(ve===an.NONE||Yn(),ke,"unsupported-persistence-type")}(rt._delegate,fe),fe){case an.SESSION:at=z.a;break;case an.LOCAL:at=(yield z.ay(z.i)._isAvailable())?z.i:z.b;break;case an.NONE:at=z.L;break;default:return z.at("argument-error",{appName:rt._delegate.name})}return rt._delegate.setPersistence(at)})()}signInAndRetrieveDataWithCredential(fe){return this.signInWithCredential(fe)}signInAnonymously(){return dn(this._delegate,z.X(this._delegate))}signInWithCredential(fe){return dn(this._delegate,z.Y(this._delegate,fe))}signInWithCustomToken(fe){return dn(this._delegate,z.$(this._delegate,fe))}signInWithEmailAndPassword(fe,rt){return dn(this._delegate,z.a6(this._delegate,fe,rt))}signInWithEmailLink(fe,rt){return dn(this._delegate,z.a9(this._delegate,fe,rt))}signInWithPhoneNumber(fe,rt){return se(this._delegate,z.s(this._delegate,fe,rt))}signInWithPopup(fe){var rt=this;return(0,f.Z)(function*(){return N(tn(),rt._delegate,"operation-not-supported-in-this-environment"),dn(rt._delegate,z.c(rt._delegate,fe,yt))})()}signInWithRedirect(fe){var rt=this;return(0,f.Z)(function*(){return N(tn(),rt._delegate,"operation-not-supported-in-this-environment"),yield ye(rt._delegate),z.f(rt._delegate,fe,yt)})()}updateCurrentUser(fe){return this._delegate.updateCurrentUser(fe)}verifyPasswordResetCode(fe){return z.a4(this._delegate,fe)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ke.Persistence=an,ke})();function ee(ke,ve,fe){let rt=ke;"function"!=typeof ke&&({next:rt,error:ve,complete:fe}=ke);const at=rt;return{next:ln=>at(ln&&k.getOrCreate(ln)),error:ve,complete:fe}}function Ae(ke,ve){const fe=function mt(ke,ve){const fe=Ve();if(!fe)return[];const rt=z.az(gr,ke,ve);switch(fe.getItem(rt)){case an.NONE:return[z.L];case an.LOCAL:return[z.i,z.a];case an.SESSION:return[z.a];default:return[]}}(ke,ve);if("undefined"!=typeof self&&!fe.includes(z.i)&&fe.push(z.i),"undefined"!=typeof window)for(const rt of[z.b,z.a])fe.includes(rt)||fe.push(rt);return fe.includes(z.L)||fe.push(z.L),fe}class Ye{constructor(){this.providerId="phone",this._delegate=new z.P(gn(E.Z.auth()))}static credential(ve,fe){return z.P.credential(ve,fe)}verifyPhoneNumber(ve,fe){return this._delegate.verifyPhoneNumber(ve,fe)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=z.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=z.P.PROVIDER_ID;const ct=z.ax;class Mt{constructor(ve,fe,rt=E.Z.app()){var at;ct(null===(at=rt.options)||void 0===at?void 0:at.apiKey,"invalid-api-key",{appName:rt.name}),this._delegate=new z.R(ve,fe,rt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lt(ke){ke.INTERNAL.registerComponent(new ge.wA("auth-compat",ve=>{const fe=ve.getProvider("app-compat").getImmediate(),rt=ve.getProvider("auth");return new X(fe,rt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:z.A.EMAIL_SIGNIN,PASSWORD_RESET:z.A.PASSWORD_RESET,RECOVER_EMAIL:z.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:z.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:z.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:z.A.VERIFY_EMAIL}},EmailAuthProvider:z.M,FacebookAuthProvider:z.N,GithubAuthProvider:z.T,GoogleAuthProvider:z.Q,OAuthProvider:z.U,SAMLAuthProvider:z.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:z.m,RecaptchaVerifier:Mt,TwitterAuthProvider:z.W,Auth:X,AuthCredential:z.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ke.registerVersion("@firebase/auth-compat","0.2.14")}(E.Z)},1135:(kt,Ue,S)=>{S.d(Ue,{X:()=>E});var f=S(7579);class E extends f.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const V=super._subscribe(ie);return!V.closed&&ie.next(this._value),V}getValue(){const{hasError:ie,thrownError:V,_value:Ie}=this;if(ie)throw V;return this._throwIfClosed(),Ie}next(ie){super.next(this._value=ie)}}},8306:(kt,Ue,S)=>{S.d(Ue,{y:()=>Q});var f=S(2961),E=S(727),z=S(8822),ie=S(4671);var ge=S(2416),ne=S(576),Ee=S(2806);let Q=(()=>{class He{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const le=new He;return le.source=this,le.operator=pt,le}subscribe(pt,le,Xe){const Ct=function Qe(He){return He&&He instanceof f.Lv||function Me(He){return He&&(0,ne.m)(He.next)&&(0,ne.m)(He.error)&&(0,ne.m)(He.complete)}(He)&&(0,E.Nn)(He)}(pt)?pt:new f.Hp(pt,le,Xe);return(0,Ee.x)(()=>{const{operator:At,source:Ke}=this;Ct.add(At?At.call(Ct,Ke):Ke?this._subscribe(Ct):this._trySubscribe(Ct))}),Ct}_trySubscribe(pt){try{return this._subscribe(pt)}catch(le){pt.error(le)}}forEach(pt,le){return new(le=ae(le))((Xe,Ct)=>{const At=new f.Hp({next:Ke=>{try{pt(Ke)}catch(Fe){Ct(Fe),At.unsubscribe()}},error:Ct,complete:Xe});this.subscribe(At)})}_subscribe(pt){var le;return null===(le=this.source)||void 0===le?void 0:le.subscribe(pt)}[z.L](){return this}pipe(...pt){return function Ie(He){return 0===He.length?ie.y:1===He.length?He[0]:function(pt){return He.reduce((le,Xe)=>Xe(le),pt)}}(pt)(this)}toPromise(pt){return new(pt=ae(pt))((le,Xe)=>{let Ct;this.subscribe(At=>Ct=At,At=>Xe(At),()=>le(Ct))})}}return He.create=tt=>new He(tt),He})();function ae(He){var tt;return null!==(tt=null!=He?He:ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(kt,Ue,S)=>{S.d(Ue,{x:()=>ge});var f=S(8306),E=S(727);const ie=(0,S(3888).d)(Ee=>function(){Ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=S(8737),Ie=S(2806);let ge=(()=>{class Ee extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const Me=new ne(this,this);return Me.operator=ae,Me}_throwIfClosed(){if(this.closed)throw new ie}next(ae){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(ae)}})}error(ae){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:Me}=this;for(;Me.length;)Me.shift().error(ae)}})}complete(){(0,Ie.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:Me,isStopped:Qe,observers:He}=this;return Me||Qe?E.Lc:(this.currentObservers=null,He.push(ae),new E.w0(()=>{this.currentObservers=null,(0,V.P)(He,ae)}))}_checkFinalizedStatuses(ae){const{hasError:Me,thrownError:Qe,isStopped:He}=this;Me?ae.error(Qe):He&&ae.complete()}asObservable(){const ae=new f.y;return ae.source=this,ae}}return Ee.create=(Q,ae)=>new ne(Q,ae),Ee})();class ne extends ge{constructor(Q,ae){super(),this.destination=Q,this.source=ae}next(Q){var ae,Me;null===(Me=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===Me||Me.call(ae,Q)}error(Q){var ae,Me;null===(Me=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===Me||Me.call(ae,Q)}complete(){var Q,ae;null===(ae=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ae||ae.call(Q)}_subscribe(Q){var ae,Me;return null!==(Me=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(Q))&&void 0!==Me?Me:E.Lc}}},2961:(kt,Ue,S)=>{S.d(Ue,{Hp:()=>pt,Lv:()=>Me});var f=S(576),E=S(727),z=S(2416),ie=S(7849);function V(){}const Ie=Ee("C",void 0,void 0);function Ee(Ke,Fe,Ze){return{kind:Ke,value:Fe,error:Ze}}var Q=S(3410),ae=S(2806);class Me extends E.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,E.Nn)(Fe)&&Fe.add(this)):this.destination=At}static create(Fe,Ze,bt){return new pt(Fe,Ze,bt)}next(Fe){this.isStopped?Ct(function ne(Ke){return Ee("N",Ke,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Ct(function ge(Ke){return Ee("E",void 0,Ke)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Ct(Ie,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function He(Ke,Fe){return Qe.call(Ke,Fe)}class tt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:Ze}=this;if(Ze.next)try{Ze.next(Fe)}catch(bt){le(bt)}}error(Fe){const{partialObserver:Ze}=this;if(Ze.error)try{Ze.error(Fe)}catch(bt){le(bt)}else le(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(Ze){le(Ze)}}}class pt extends Me{constructor(Fe,Ze,bt){let ue;if(super(),(0,f.m)(Fe)||!Fe)ue={next:null!=Fe?Fe:void 0,error:null!=Ze?Ze:void 0,complete:null!=bt?bt:void 0};else{let xe;this&&z.v.useDeprecatedNextContext?(xe=Object.create(Fe),xe.unsubscribe=()=>this.unsubscribe(),ue={next:Fe.next&&He(Fe.next,xe),error:Fe.error&&He(Fe.error,xe),complete:Fe.complete&&He(Fe.complete,xe)}):ue=Fe}this.destination=new tt(ue)}}function le(Ke){z.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Ke):(0,ie.h)(Ke)}function Ct(Ke,Fe){const{onStoppedNotification:Ze}=z.v;Ze&&Q.z.setTimeout(()=>Ze(Ke,Fe))}const At={closed:!0,next:V,error:function Xe(Ke){throw Ke},complete:V}},727:(kt,Ue,S)=>{S.d(Ue,{Lc:()=>Ie,w0:()=>V,Nn:()=>ge});var f=S(576);const z=(0,S(3888).d)(Ee=>function(ae){Ee(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Me,Qe)=>`${Qe+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ie=S(8737);class V{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const He of ae)He.remove(this);else ae.remove(this);const{initialTeardown:Me}=this;if((0,f.m)(Me))try{Me()}catch(He){Q=He instanceof z?He.errors:[He]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const He of Qe)try{ne(He)}catch(tt){Q=null!=Q?Q:[],tt instanceof z?Q=[...Q,...tt.errors]:Q.push(tt)}}if(Q)throw new z(Q)}}add(Q){var ae;if(Q&&Q!==this)if(this.closed)ne(Q);else{if(Q instanceof V){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(Q)}}_hasParent(Q){const{_parentage:ae}=this;return ae===Q||Array.isArray(ae)&&ae.includes(Q)}_addParent(Q){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(Q),ae):ae?[ae,Q]:Q}_removeParent(Q){const{_parentage:ae}=this;ae===Q?this._parentage=null:Array.isArray(ae)&&(0,ie.P)(ae,Q)}remove(Q){const{_finalizers:ae}=this;ae&&(0,ie.P)(ae,Q),Q instanceof V&&Q._removeParent(this)}}V.EMPTY=(()=>{const Ee=new V;return Ee.closed=!0,Ee})();const Ie=V.EMPTY;function ge(Ee){return Ee instanceof V||Ee&&"closed"in Ee&&(0,f.m)(Ee.remove)&&(0,f.m)(Ee.add)&&(0,f.m)(Ee.unsubscribe)}function ne(Ee){(0,f.m)(Ee)?Ee():Ee.unsubscribe()}},2416:(kt,Ue,S)=>{S.d(Ue,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(kt,Ue,S)=>{S.d(Ue,{z:()=>V});var f=S(8189),z=S(7669),ie=S(8996);function V(...Ie){return function E(){return(0,f.J)(1)}()((0,ie.D)(Ie,(0,z.yG)(Ie)))}},515:(kt,Ue,S)=>{S.d(Ue,{E:()=>E});const E=new(S(8306).y)(V=>V.complete())},8996:(kt,Ue,S)=>{S.d(Ue,{D:()=>Fe});var f=S(8421),E=S(5363),z=S(9468),Ie=S(8306),ne=S(2202),Ee=S(576),Q=S(9672);function Me(Ze,bt){if(!Ze)throw new Error("Iterable cannot be null");return new Ie.y(ue=>{(0,Q.f)(ue,bt,()=>{const xe=Ze[Symbol.asyncIterator]();(0,Q.f)(ue,bt,()=>{xe.next().then(je=>{je.done?ue.complete():ue.next(je.value)})},0,!0)})})}var Qe=S(3670),He=S(8239),tt=S(1144),pt=S(6495),le=S(2206),Xe=S(4532),Ct=S(3260);function Fe(Ze,bt){return bt?function Ke(Ze,bt){if(null!=Ze){if((0,Qe.c)(Ze))return function ie(Ze,bt){return(0,f.Xf)(Ze).pipe((0,z.R)(bt),(0,E.Q)(bt))}(Ze,bt);if((0,tt.z)(Ze))return function ge(Ze,bt){return new Ie.y(ue=>{let xe=0;return bt.schedule(function(){xe===Ze.length?ue.complete():(ue.next(Ze[xe++]),ue.closed||this.schedule())})})}(Ze,bt);if((0,He.t)(Ze))return function V(Ze,bt){return(0,f.Xf)(Ze).pipe((0,z.R)(bt),(0,E.Q)(bt))}(Ze,bt);if((0,le.D)(Ze))return Me(Ze,bt);if((0,pt.T)(Ze))return function ae(Ze,bt){return new Ie.y(ue=>{let xe;return(0,Q.f)(ue,bt,()=>{xe=Ze[ne.h](),(0,Q.f)(ue,bt,()=>{let je,ce;try{({value:je,done:ce}=xe.next())}catch(Oe){return void ue.error(Oe)}ce?ue.complete():ue.next(je)},0,!0)}),()=>(0,Ee.m)(null==xe?void 0:xe.return)&&xe.return()})}(Ze,bt);if((0,Ct.L)(Ze))return function At(Ze,bt){return Me((0,Ct.Q)(Ze),bt)}(Ze,bt)}throw(0,Xe.z)(Ze)}(Ze,bt):(0,f.Xf)(Ze)}},8421:(kt,Ue,S)=>{S.d(Ue,{Xf:()=>Qe});var f=S(655),E=S(1144),z=S(8239),ie=S(8306),V=S(3670),Ie=S(2206),ge=S(4532),ne=S(6495),Ee=S(3260),Q=S(576),ae=S(7849),Me=S(8822);function Qe(Ke){if(Ke instanceof ie.y)return Ke;if(null!=Ke){if((0,V.c)(Ke))return function He(Ke){return new ie.y(Fe=>{const Ze=Ke[Me.L]();if((0,Q.m)(Ze.subscribe))return Ze.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,E.z)(Ke))return function tt(Ke){return new ie.y(Fe=>{for(let Ze=0;Ze<Ke.length&&!Fe.closed;Ze++)Fe.next(Ke[Ze]);Fe.complete()})}(Ke);if((0,z.t)(Ke))return function pt(Ke){return new ie.y(Fe=>{Ke.then(Ze=>{Fe.closed||(Fe.next(Ze),Fe.complete())},Ze=>Fe.error(Ze)).then(null,ae.h)})}(Ke);if((0,Ie.D)(Ke))return Xe(Ke);if((0,ne.T)(Ke))return function le(Ke){return new ie.y(Fe=>{for(const Ze of Ke)if(Fe.next(Ze),Fe.closed)return;Fe.complete()})}(Ke);if((0,Ee.L)(Ke))return function Ct(Ke){return Xe((0,Ee.Q)(Ke))}(Ke)}throw(0,ge.z)(Ke)}function Xe(Ke){return new ie.y(Fe=>{(function At(Ke,Fe){var Ze,bt,ue,xe;return(0,f.mG)(this,void 0,void 0,function*(){try{for(Ze=(0,f.KL)(Ke);!(bt=yield Ze.next()).done;)if(Fe.next(bt.value),Fe.closed)return}catch(je){ue={error:je}}finally{try{bt&&!bt.done&&(xe=Ze.return)&&(yield xe.call(Ze))}finally{if(ue)throw ue.error}}Fe.complete()})})(Ke,Fe).catch(Ze=>Fe.error(Ze))})}},6451:(kt,Ue,S)=>{S.d(Ue,{T:()=>Ie});var f=S(8189),E=S(8421),z=S(515),ie=S(7669),V=S(8996);function Ie(...ge){const ne=(0,ie.yG)(ge),Ee=(0,ie._6)(ge,1/0),Q=ge;return Q.length?1===Q.length?(0,E.Xf)(Q[0]):(0,f.J)(Ee)((0,V.D)(Q,ne)):z.E}},9646:(kt,Ue,S)=>{S.d(Ue,{of:()=>z});var f=S(7669),E=S(8996);function z(...ie){const V=(0,f.yG)(ie);return(0,E.D)(ie,V)}},5403:(kt,Ue,S)=>{S.d(Ue,{Q:()=>z,x:()=>E});var f=S(2961);function E(ie,V,Ie,ge,ne){return new z(ie,V,Ie,ge,ne)}class z extends f.Lv{constructor(V,Ie,ge,ne,Ee,Q){super(V),this.onFinalize=Ee,this.shouldUnsubscribe=Q,this._next=Ie?function(ae){try{Ie(ae)}catch(Me){V.error(Me)}}:super._next,this._error=ne?function(ae){try{ne(ae)}catch(Me){V.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ae){V.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ie}=this;super.unsubscribe(),!Ie&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},4351:(kt,Ue,S)=>{S.d(Ue,{b:()=>z});var f=S(5577),E=S(576);function z(ie,V){return(0,E.m)(V)?(0,f.z)(ie,V,1):(0,f.z)(ie,1)}},6590:(kt,Ue,S)=>{S.d(Ue,{d:()=>z});var f=S(4482),E=S(5403);function z(ie){return(0,f.e)((V,Ie)=>{let ge=!1;V.subscribe((0,E.x)(Ie,ne=>{ge=!0,Ie.next(ne)},()=>{ge||Ie.next(ie),Ie.complete()}))})}},1884:(kt,Ue,S)=>{S.d(Ue,{x:()=>ie});var f=S(4671),E=S(4482),z=S(5403);function ie(Ie,ge=f.y){return Ie=null!=Ie?Ie:V,(0,E.e)((ne,Ee)=>{let Q,ae=!0;ne.subscribe((0,z.x)(Ee,Me=>{const Qe=ge(Me);(ae||!Ie(Q,Qe))&&(ae=!1,Q=Qe,Ee.next(Me))}))})}function V(Ie,ge){return Ie===ge}},9300:(kt,Ue,S)=>{S.d(Ue,{h:()=>z});var f=S(4482),E=S(5403);function z(ie,V){return(0,f.e)((Ie,ge)=>{let ne=0;Ie.subscribe((0,E.x)(ge,Ee=>ie.call(V,Ee,ne++)&&ge.next(Ee)))})}},590:(kt,Ue,S)=>{S.d(Ue,{P:()=>ge});var f=S(6805),E=S(9300),z=S(5698),ie=S(6590),V=S(8068),Ie=S(4671);function ge(ne,Ee){const Q=arguments.length>=2;return ae=>ae.pipe(ne?(0,E.h)((Me,Qe)=>ne(Me,Qe,ae)):Ie.y,(0,z.q)(1),Q?(0,ie.d)(Ee):(0,V.T)(()=>new f.K))}},4004:(kt,Ue,S)=>{S.d(Ue,{U:()=>z});var f=S(4482),E=S(5403);function z(ie,V){return(0,f.e)((Ie,ge)=>{let ne=0;Ie.subscribe((0,E.x)(ge,Ee=>{ge.next(ie.call(V,Ee,ne++))}))})}},8189:(kt,Ue,S)=>{S.d(Ue,{J:()=>z});var f=S(5577),E=S(4671);function z(ie=1/0){return(0,f.z)(E.y,ie)}},5577:(kt,Ue,S)=>{S.d(Ue,{z:()=>ne});var f=S(4004),E=S(8421),z=S(4482),ie=S(9672),V=S(5403),ge=S(576);function ne(Ee,Q,ae=1/0){return(0,ge.m)(Q)?ne((Me,Qe)=>(0,f.U)((He,tt)=>Q(Me,He,Qe,tt))((0,E.Xf)(Ee(Me,Qe))),ae):("number"==typeof Q&&(ae=Q),(0,z.e)((Me,Qe)=>function Ie(Ee,Q,ae,Me,Qe,He,tt,pt){const le=[];let Xe=0,Ct=0,At=!1;const Ke=()=>{At&&!le.length&&!Xe&&Q.complete()},Fe=bt=>Xe<Me?Ze(bt):le.push(bt),Ze=bt=>{He&&Q.next(bt),Xe++;let ue=!1;(0,E.Xf)(ae(bt,Ct++)).subscribe((0,V.x)(Q,xe=>{null==Qe||Qe(xe),He?Fe(xe):Q.next(xe)},()=>{ue=!0},void 0,()=>{if(ue)try{for(Xe--;le.length&&Xe<Me;){const xe=le.shift();tt?(0,ie.f)(Q,tt,()=>Ze(xe)):Ze(xe)}Ke()}catch(xe){Q.error(xe)}}))};return Ee.subscribe((0,V.x)(Q,Fe,()=>{At=!0,Ke()})),()=>{null==pt||pt()}}(Me,Qe,Ee,ae)))}},5363:(kt,Ue,S)=>{S.d(Ue,{Q:()=>ie});var f=S(9672),E=S(4482),z=S(5403);function ie(V,Ie=0){return(0,E.e)((ge,ne)=>{ge.subscribe((0,z.x)(ne,Ee=>(0,f.f)(ne,V,()=>ne.next(Ee),Ie),()=>(0,f.f)(ne,V,()=>ne.complete(),Ie),Ee=>(0,f.f)(ne,V,()=>ne.error(Ee),Ie)))})}},1520:(kt,Ue,S)=>{S.d(Ue,{G:()=>z});var f=S(4482),E=S(5403);function z(){return(0,f.e)((ie,V)=>{let Ie,ge=!1;ie.subscribe((0,E.x)(V,ne=>{const Ee=Ie;Ie=ne,ge&&V.next([Ee,ne]),ge=!0}))})}},5026:(kt,Ue,S)=>{S.d(Ue,{R:()=>ie});var f=S(4482),E=S(5403);function z(V,Ie,ge,ne,Ee){return(Q,ae)=>{let Me=ge,Qe=Ie,He=0;Q.subscribe((0,E.x)(ae,tt=>{const pt=He++;Qe=Me?V(Qe,tt,pt):(Me=!0,tt),ne&&ae.next(Qe)},Ee&&(()=>{Me&&ae.next(Qe),ae.complete()})))}}function ie(V,Ie){return(0,f.e)(z(V,Ie,arguments.length>=2,!0))}},3099:(kt,Ue,S)=>{S.d(Ue,{B:()=>Ie});var f=S(8996),E=S(5698),z=S(7579),ie=S(2961),V=S(4482);function Ie(ne={}){const{connector:Ee=(()=>new z.x),resetOnError:Q=!0,resetOnComplete:ae=!0,resetOnRefCountZero:Me=!0}=ne;return Qe=>{let He=null,tt=null,pt=null,le=0,Xe=!1,Ct=!1;const At=()=>{null==tt||tt.unsubscribe(),tt=null},Ke=()=>{At(),He=pt=null,Xe=Ct=!1},Fe=()=>{const Ze=He;Ke(),null==Ze||Ze.unsubscribe()};return(0,V.e)((Ze,bt)=>{le++,!Ct&&!Xe&&At();const ue=pt=null!=pt?pt:Ee();bt.add(()=>{le--,0===le&&!Ct&&!Xe&&(tt=ge(Fe,Me))}),ue.subscribe(bt),He||(He=new ie.Hp({next:xe=>ue.next(xe),error:xe=>{Ct=!0,At(),tt=ge(Ke,Q,xe),ue.error(xe)},complete:()=>{Xe=!0,At(),tt=ge(Ke,ae),ue.complete()}}),(0,f.D)(Ze).subscribe(He))})(Qe)}}function ge(ne,Ee,...Q){return!0===Ee?(ne(),null):!1===Ee?null:Ee(...Q).pipe((0,E.q)(1)).subscribe(()=>ne())}},3151:(kt,Ue,S)=>{S.d(Ue,{d:()=>V});var f=S(7579),E=S(6063);class z extends f.x{constructor(ge=1/0,ne=1/0,Ee=E.l){super(),this._bufferSize=ge,this._windowTime=ne,this._timestampProvider=Ee,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ne===1/0,this._bufferSize=Math.max(1,ge),this._windowTime=Math.max(1,ne)}next(ge){const{isStopped:ne,_buffer:Ee,_infiniteTimeWindow:Q,_timestampProvider:ae,_windowTime:Me}=this;ne||(Ee.push(ge),!Q&&Ee.push(ae.now()+Me)),this._trimBuffer(),super.next(ge)}_subscribe(ge){this._throwIfClosed(),this._trimBuffer();const ne=this._innerSubscribe(ge),{_infiniteTimeWindow:Ee,_buffer:Q}=this,ae=Q.slice();for(let Me=0;Me<ae.length&&!ge.closed;Me+=Ee?1:2)ge.next(ae[Me]);return this._checkFinalizedStatuses(ge),ne}_trimBuffer(){const{_bufferSize:ge,_timestampProvider:ne,_buffer:Ee,_infiniteTimeWindow:Q}=this,ae=(Q?1:2)*ge;if(ge<1/0&&ae<Ee.length&&Ee.splice(0,Ee.length-ae),!Q){const Me=ne.now();let Qe=0;for(let He=1;He<Ee.length&&Ee[He]<=Me;He+=2)Qe=He;Qe&&Ee.splice(0,Qe+1)}}}var ie=S(3099);function V(Ie,ge,ne){let Ee,Q=!1;return Ie&&"object"==typeof Ie?({bufferSize:Ee=1/0,windowTime:ge=1/0,refCount:Q=!1,scheduler:ne}=Ie):Ee=null!=Ie?Ie:1/0,(0,ie.B)({connector:()=>new z(Ee,ge,ne),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Q})}},8675:(kt,Ue,S)=>{S.d(Ue,{O:()=>ie});var f=S(7272),E=S(7669),z=S(4482);function ie(...V){const Ie=(0,E.yG)(V);return(0,z.e)((ge,ne)=>{(Ie?(0,f.z)(V,ge,Ie):(0,f.z)(V,ge)).subscribe(ne)})}},9468:(kt,Ue,S)=>{S.d(Ue,{R:()=>E});var f=S(4482);function E(z,ie=0){return(0,f.e)((V,Ie)=>{Ie.add(z.schedule(()=>V.subscribe(Ie),ie))})}},3900:(kt,Ue,S)=>{S.d(Ue,{w:()=>ie});var f=S(8421),E=S(4482),z=S(5403);function ie(V,Ie){return(0,E.e)((ge,ne)=>{let Ee=null,Q=0,ae=!1;const Me=()=>ae&&!Ee&&ne.complete();ge.subscribe((0,z.x)(ne,Qe=>{null==Ee||Ee.unsubscribe();let He=0;const tt=Q++;(0,f.Xf)(V(Qe,tt)).subscribe(Ee=(0,z.x)(ne,pt=>ne.next(Ie?Ie(Qe,pt,tt,He++):pt),()=>{Ee=null,Me()}))},()=>{ae=!0,Me()}))})}},5698:(kt,Ue,S)=>{S.d(Ue,{q:()=>ie});var f=S(515),E=S(4482),z=S(5403);function ie(V){return V<=0?()=>f.E:(0,E.e)((Ie,ge)=>{let ne=0;Ie.subscribe((0,z.x)(ge,Ee=>{++ne<=V&&(ge.next(Ee),V<=ne&&ge.complete())}))})}},8505:(kt,Ue,S)=>{S.d(Ue,{b:()=>V});var f=S(576),E=S(4482),z=S(5403),ie=S(4671);function V(Ie,ge,ne){const Ee=(0,f.m)(Ie)||ge||ne?{next:Ie,error:ge,complete:ne}:Ie;return Ee?(0,E.e)((Q,ae)=>{var Me;null===(Me=Ee.subscribe)||void 0===Me||Me.call(Ee);let Qe=!0;Q.subscribe((0,z.x)(ae,He=>{var tt;null===(tt=Ee.next)||void 0===tt||tt.call(Ee,He),ae.next(He)},()=>{var He;Qe=!1,null===(He=Ee.complete)||void 0===He||He.call(Ee),ae.complete()},He=>{var tt;Qe=!1,null===(tt=Ee.error)||void 0===tt||tt.call(Ee,He),ae.error(He)},()=>{var He,tt;Qe&&(null===(He=Ee.unsubscribe)||void 0===He||He.call(Ee)),null===(tt=Ee.finalize)||void 0===tt||tt.call(Ee)}))}):ie.y}},8068:(kt,Ue,S)=>{S.d(Ue,{T:()=>ie});var f=S(6805),E=S(4482),z=S(5403);function ie(Ie=V){return(0,E.e)((ge,ne)=>{let Ee=!1;ge.subscribe((0,z.x)(ne,Q=>{Ee=!0,ne.next(Q)},()=>Ee?ne.complete():ne.error(Ie())))})}function V(){return new f.K}},4408:(kt,Ue,S)=>{S.d(Ue,{o:()=>V});var f=S(727);class E extends f.w0{constructor(ge,ne){super()}schedule(ge,ne=0){return this}}const z={setInterval(Ie,ge,...ne){const{delegate:Ee}=z;return(null==Ee?void 0:Ee.setInterval)?Ee.setInterval(Ie,ge,...ne):setInterval(Ie,ge,...ne)},clearInterval(Ie){const{delegate:ge}=z;return((null==ge?void 0:ge.clearInterval)||clearInterval)(Ie)},delegate:void 0};var ie=S(8737);class V extends E{constructor(ge,ne){super(ge,ne),this.scheduler=ge,this.work=ne,this.pending=!1}schedule(ge,ne=0){if(this.closed)return this;this.state=ge;const Ee=this.id,Q=this.scheduler;return null!=Ee&&(this.id=this.recycleAsyncId(Q,Ee,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(Q,this.id,ne),this}requestAsyncId(ge,ne,Ee=0){return z.setInterval(ge.flush.bind(ge,this),Ee)}recycleAsyncId(ge,ne,Ee=0){if(null!=Ee&&this.delay===Ee&&!1===this.pending)return ne;z.clearInterval(ne)}execute(ge,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ee=this._execute(ge,ne);if(Ee)return Ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,ne){let Q,Ee=!1;try{this.work(ge)}catch(ae){Ee=!0,Q=ae||new Error("Scheduled action threw falsy error")}if(Ee)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ge,scheduler:ne}=this,{actions:Ee}=ne;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Ee,this),null!=ge&&(this.id=this.recycleAsyncId(ne,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,Ue,S)=>{S.d(Ue,{v:()=>z});var f=S(6063);class E{constructor(V,Ie=E.now){this.schedulerActionCtor=V,this.now=Ie}schedule(V,Ie=0,ge){return new this.schedulerActionCtor(this,V).schedule(ge,Ie)}}E.now=f.l.now;class z extends E{constructor(V,Ie=E.now){super(V,Ie),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:Ie}=this;if(this._active)return void Ie.push(V);let ge;this._active=!0;do{if(ge=V.execute(V.state,V.delay))break}while(V=Ie.shift());if(this._active=!1,ge){for(;V=Ie.shift();)V.unsubscribe();throw ge}}}},4986:(kt,Ue,S)=>{S.d(Ue,{z:()=>z});var f=S(4408);const z=new(S(7565).v)(f.o)},6063:(kt,Ue,S)=>{S.d(Ue,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(kt,Ue,S)=>{S.d(Ue,{z:()=>f});const f={setTimeout(E,z,...ie){const{delegate:V}=f;return(null==V?void 0:V.setTimeout)?V.setTimeout(E,z,...ie):setTimeout(E,z,...ie)},clearTimeout(E){const{delegate:z}=f;return((null==z?void 0:z.clearTimeout)||clearTimeout)(E)},delegate:void 0}},2202:(kt,Ue,S)=>{S.d(Ue,{h:()=>E});const E=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,Ue,S)=>{S.d(Ue,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(kt,Ue,S)=>{S.d(Ue,{K:()=>E});const E=(0,S(3888).d)(z=>function(){z(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(kt,Ue,S)=>{S.d(Ue,{_6:()=>Ie,jO:()=>ie,yG:()=>V});var f=S(576);function z(ge){return ge[ge.length-1]}function ie(ge){return(0,f.m)(z(ge))?ge.pop():void 0}function V(ge){return function E(ge){return ge&&(0,f.m)(ge.schedule)}(z(ge))?ge.pop():void 0}function Ie(ge,ne){return"number"==typeof z(ge)?ge.pop():ne}},4742:(kt,Ue,S)=>{S.d(Ue,{D:()=>V});const{isArray:f}=Array,{getPrototypeOf:E,prototype:z,keys:ie}=Object;function V(ge){if(1===ge.length){const ne=ge[0];if(f(ne))return{args:ne,keys:null};if(function Ie(ge){return ge&&"object"==typeof ge&&E(ge)===z}(ne)){const Ee=ie(ne);return{args:Ee.map(Q=>ne[Q]),keys:Ee}}}return{args:ge,keys:null}}},8737:(kt,Ue,S)=>{function f(E,z){if(E){const ie=E.indexOf(z);0<=ie&&E.splice(ie,1)}}S.d(Ue,{P:()=>f})},3888:(kt,Ue,S)=>{function f(E){const ie=E(V=>{Error.call(V),V.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}S.d(Ue,{d:()=>f})},1810:(kt,Ue,S)=>{function f(E,z){return E.reduce((ie,V,Ie)=>(ie[V]=z[Ie],ie),{})}S.d(Ue,{n:()=>f})},2806:(kt,Ue,S)=>{S.d(Ue,{O:()=>ie,x:()=>z});var f=S(2416);let E=null;function z(V){if(f.v.useDeprecatedSynchronousErrorHandling){const Ie=!E;if(Ie&&(E={errorThrown:!1,error:null}),V(),Ie){const{errorThrown:ge,error:ne}=E;if(E=null,ge)throw ne}}else V()}function ie(V){f.v.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=V)}},9672:(kt,Ue,S)=>{function f(E,z,ie,V=0,Ie=!1){const ge=z.schedule(function(){ie(),Ie?E.add(this.schedule(null,V)):this.unsubscribe()},V);if(E.add(ge),!Ie)return ge}S.d(Ue,{f:()=>f})},4671:(kt,Ue,S)=>{function f(E){return E}S.d(Ue,{y:()=>f})},1144:(kt,Ue,S)=>{S.d(Ue,{z:()=>f});const f=E=>E&&"number"==typeof E.length&&"function"!=typeof E},2206:(kt,Ue,S)=>{S.d(Ue,{D:()=>E});var f=S(576);function E(z){return Symbol.asyncIterator&&(0,f.m)(null==z?void 0:z[Symbol.asyncIterator])}},576:(kt,Ue,S)=>{function f(E){return"function"==typeof E}S.d(Ue,{m:()=>f})},3670:(kt,Ue,S)=>{S.d(Ue,{c:()=>z});var f=S(8822),E=S(576);function z(ie){return(0,E.m)(ie[f.L])}},6495:(kt,Ue,S)=>{S.d(Ue,{T:()=>z});var f=S(2202),E=S(576);function z(ie){return(0,E.m)(null==ie?void 0:ie[f.h])}},8239:(kt,Ue,S)=>{S.d(Ue,{t:()=>E});var f=S(576);function E(z){return(0,f.m)(null==z?void 0:z.then)}},3260:(kt,Ue,S)=>{S.d(Ue,{L:()=>ie,Q:()=>z});var f=S(655),E=S(576);function z(V){return(0,f.FC)(this,arguments,function*(){const ge=V.getReader();try{for(;;){const{value:ne,done:Ee}=yield(0,f.qq)(ge.read());if(Ee)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ne)}}finally{ge.releaseLock()}})}function ie(V){return(0,E.m)(null==V?void 0:V.getReader)}},4482:(kt,Ue,S)=>{S.d(Ue,{A:()=>E,e:()=>z});var f=S(576);function E(ie){return(0,f.m)(null==ie?void 0:ie.lift)}function z(ie){return V=>{if(E(V))return V.lift(function(Ie){try{return ie(Ie,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,Ue,S)=>{S.d(Ue,{Z:()=>ie});var f=S(4004);const{isArray:E}=Array;function ie(V){return(0,f.U)(Ie=>function z(V,Ie){return E(Ie)?V(...Ie):V(Ie)}(V,Ie))}},7849:(kt,Ue,S)=>{S.d(Ue,{h:()=>z});var f=S(2416),E=S(3410);function z(ie){E.z.setTimeout(()=>{const{onUnhandledError:V}=f.v;if(!V)throw ie;V(ie)})}},4532:(kt,Ue,S)=>{function f(E){return new TypeError(`You provided ${null!==E&&"object"==typeof E?"an invalid object":`'${E}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(Ue,{z:()=>f})},655:(kt,Ue,S)=>{function ie(ce,Oe){var Be={};for(var Ge in ce)Object.prototype.hasOwnProperty.call(ce,Ge)&&Oe.indexOf(Ge)<0&&(Be[Ge]=ce[Ge]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(Ge=Object.getOwnPropertySymbols(ce);Le<Ge.length;Le++)Oe.indexOf(Ge[Le])<0&&Object.prototype.propertyIsEnumerable.call(ce,Ge[Le])&&(Be[Ge[Le]]=ce[Ge[Le]])}return Be}function ne(ce,Oe,Be,Ge){return new(Be||(Be=Promise))(function(gt,Nt){function Bt(_n){try{Tt(Ge.next(_n))}catch(Nn){Nt(Nn)}}function Ut(_n){try{Tt(Ge.throw(_n))}catch(Nn){Nt(Nn)}}function Tt(_n){_n.done?gt(_n.value):function Le(gt){return gt instanceof Be?gt:new Be(function(Nt){Nt(gt)})}(_n.value).then(Bt,Ut)}Tt((Ge=Ge.apply(ce,Oe||[])).next())})}function le(ce){return this instanceof le?(this.v=ce,this):new le(ce)}function Xe(ce,Oe,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,Ge=Be.apply(ce,Oe||[]),gt=[];return Le={},Nt("next"),Nt("throw"),Nt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Nt(Tn){Ge[Tn]&&(Le[Tn]=function(qt){return new Promise(function(on,Yt){gt.push([Tn,qt,on,Yt])>1||Bt(Tn,qt)})})}function Bt(Tn,qt){try{!function Ut(Tn){Tn.value instanceof le?Promise.resolve(Tn.value.v).then(Tt,_n):Nn(gt[0][2],Tn)}(Ge[Tn](qt))}catch(on){Nn(gt[0][3],on)}}function Tt(Tn){Bt("next",Tn)}function _n(Tn){Bt("throw",Tn)}function Nn(Tn,qt){Tn(qt),gt.shift(),gt.length&&Bt(gt[0][0],gt[0][1])}}function At(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Oe=ce[Symbol.asyncIterator];return Oe?Oe.call(ce):(ce=function Me(ce){var Oe="function"==typeof Symbol&&Symbol.iterator,Be=Oe&&ce[Oe],Ge=0;if(Be)return Be.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&Ge>=ce.length&&(ce=void 0),{value:ce&&ce[Ge++],done:!ce}}};throw new TypeError(Oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Be={},Ge("next"),Ge("throw"),Ge("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function Ge(gt){Be[gt]=ce[gt]&&function(Nt){return new Promise(function(Bt,Ut){!function Le(gt,Nt,Bt,Ut){Promise.resolve(Ut).then(function(Tt){gt({value:Tt,done:Bt})},Nt)}(Bt,Ut,(Nt=ce[gt](Nt)).done,Nt.value)})}}}S.d(Ue,{FC:()=>Xe,KL:()=>At,_T:()=>ie,mG:()=>ne,qq:()=>le})},9808:(kt,Ue,S)=>{S.d(Ue,{Do:()=>Ke,EM:()=>wi,H9:()=>Wi,HT:()=>V,JF:()=>ir,K0:()=>ge,Mx:()=>Dr,NF:()=>Br,O5:()=>Pe,Ov:()=>Ei,PM:()=>Tr,S$:()=>le,V_:()=>Q,Ye:()=>Fe,b0:()=>At,bD:()=>Hr,ez:()=>Ii,lw:()=>ne,mr:()=>Ct,q:()=>z,sg:()=>vr,w_:()=>Ie});var f=S(5e3);let E=null;function z(){return E}function V(R){E||(E=R)}class Ie{}const ge=new f.OlP("DocumentToken");let ne=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Ee(){return(0,f.LFG)(ae)}()},providedIn:"platform"}),R})();const Q=new f.OlP("Location Initialized");let ae=(()=>{class R extends ne{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return z().getBaseHref(this._doc)}onPopState(x){const K=z().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",x,!1),()=>K.removeEventListener("popstate",x)}onHashChange(x){const K=z().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",x,!1),()=>K.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,K,Te){Me()?this._history.pushState(x,K,Te):this.location.hash=Te}replaceState(x,K,Te){Me()?this._history.replaceState(x,K,Te):this.location.hash=Te}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(ge))},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Qe(){return new ae((0,f.LFG)(ge))}()},providedIn:"platform"}),R})();function Me(){return!!window.history.pushState}function He(R,$){if(0==R.length)return $;if(0==$.length)return R;let x=0;return R.endsWith("/")&&x++,$.startsWith("/")&&x++,2==x?R+$.substring(1):1==x?R+$:R+"/"+$}function tt(R){const $=R.match(/#|\?|$/),x=$&&$.index||R.length;return R.slice(0,x-("/"===R[x-1]?1:0))+R.slice(x)}function pt(R){return R&&"?"!==R[0]?"?"+R:R}let le=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Xe(R){const $=(0,f.LFG)(ge).location;return new At((0,f.LFG)(ne),$&&$.origin||"")}()},providedIn:"root"}),R})();const Ct=new f.OlP("appBaseHref");let At=(()=>{class R extends le{constructor(x,K){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return He(this._baseHref,x)}path(x=!1){const K=this._platformLocation.pathname+pt(this._platformLocation.search),Te=this._platformLocation.hash;return Te&&x?`${K}${Te}`:K}pushState(x,K,Te,it){const wt=this.prepareExternalUrl(Te+pt(it));this._platformLocation.pushState(x,K,wt)}replaceState(x,K,Te,it){const wt=this.prepareExternalUrl(Te+pt(it));this._platformLocation.replaceState(x,K,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var K,Te;null===(Te=(K=this._platformLocation).historyGo)||void 0===Te||Te.call(K,x)}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(ne),f.LFG(Ct,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),Ke=(()=>{class R extends le{constructor(x,K){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(x){const K=He(this._baseHref,x);return K.length>0?"#"+K:K}pushState(x,K,Te,it){let wt=this.prepareExternalUrl(Te+pt(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(x,K,wt)}replaceState(x,K,Te,it){let wt=this.prepareExternalUrl(Te+pt(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(x,K,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var K,Te;null===(Te=(K=this._platformLocation).historyGo)||void 0===Te||Te.call(K,x)}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(ne),f.LFG(Ct,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),Fe=(()=>{class R{constructor(x,K){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const Te=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=tt(ue(Te)),this._platformStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,K=""){return this.path()==this.normalize(x+pt(K))}normalize(x){return R.stripTrailingSlash(function bt(R,$){return R&&$.startsWith(R)?$.substring(R.length):$}(this._baseHref,ue(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,K="",Te=null){this._platformStrategy.pushState(Te,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+pt(K)),Te)}replaceState(x,K="",Te=null){this._platformStrategy.replaceState(Te,"",x,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+pt(K)),Te)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var K,Te;null===(Te=(K=this._platformStrategy).historyGo)||void 0===Te||Te.call(K,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(x="",K){this._urlChangeListeners.forEach(Te=>Te(x,K))}subscribe(x,K,Te){return this._subject.subscribe({next:x,error:K,complete:Te})}}return R.normalizeQueryParams=pt,R.joinWithSlash=He,R.stripTrailingSlash=tt,R.\u0275fac=function(x){return new(x||R)(f.LFG(le),f.LFG(ne))},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Ze(){return new Fe((0,f.LFG)(le),(0,f.LFG)(ne))}()},providedIn:"root"}),R})();function ue(R){return R.replace(/\/index.html$/,"")}const xe={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Percent=1]="Percent",je[je.Currency=2]="Currency",je[je.Scientific=3]="Scientific",je))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function pn(R,$){const x=(0,f.cg1)(R),K=x[f.wAp.NumberSymbols][$];if(void 0===K){if($===Le.CurrencyDecimal)return x[f.wAp.NumberSymbols][Le.Decimal];if($===Le.CurrencyGroup)return x[f.wAp.NumberSymbols][Le.Group]}return K}const ln=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Mr(R,$,x,K,Te){const wt=function qe(R,$="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=R.split(";"),Te=K[0],it=K[1],wt=-1!==Te.indexOf(".")?Te.split("."):[Te.substring(0,Te.lastIndexOf("0")+1),Te.substring(Te.lastIndexOf("0")+1)],un=wt[0],cr=wt[1]||"";x.posPre=un.substr(0,un.indexOf("#"));for(let q=0;q<cr.length;q++){const Y=cr.charAt(q);"0"===Y?x.minFrac=x.maxFrac=q+1:"#"===Y?x.maxFrac=q+1:x.posSuf+=Y}const or=un.split(",");if(x.gSize=or[1]?or[1].length:0,x.lgSize=or[2]||or[1]?(or[2]||or[1]).length:0,it){const q=Te.length-x.posPre.length-x.posSuf.length,Y=it.indexOf("#");x.negPre=it.substr(0,Y).replace(/'/g,""),x.negSuf=it.substr(Y+q).replace(/'/g,"")}else x.negPre=$+x.posPre,x.negSuf=x.posSuf;return x}(function bn(R,$){return(0,f.cg1)(R)[f.wAp.NumberFormats][$]}($,je.Currency),pn($,Le.MinusSign));return wt.minFrac=function ut(R){let $;const x=xe[R];return x&&($=x[2]),"number"==typeof $?$:2}(K),wt.maxFrac=wt.minFrac,function Kr(R,$,x,K,Te,it,wt=!1){let un="",cr=!1;if(isFinite(R)){let or=function Xt(R){let K,Te,it,wt,un,$=Math.abs(R)+"",x=0;for((Te=$.indexOf("."))>-1&&($=$.replace(".","")),(it=$.search(/e/i))>0?(Te<0&&(Te=it),Te+=+$.slice(it+1),$=$.substring(0,it)):Te<0&&(Te=$.length),it=0;"0"===$.charAt(it);it++);if(it===(un=$.length))K=[0],Te=1;else{for(un--;"0"===$.charAt(un);)un--;for(Te-=it,K=[],wt=0;it<=un;it++,wt++)K[wt]=Number($.charAt(it))}return Te>22&&(K=K.splice(0,21),x=Te-1,Te=1),{digits:K,exponent:x,integerLen:Te}}(R);wt&&(or=function Et(R){if(0===R.digits[0])return R;const $=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===$?R.digits.push(0,0):1===$&&R.digits.push(0),R.integerLen+=2),R}(or));let q=$.minInt,Y=$.minFrac,be=$.maxFrac;if(it){const hr=it.match(ln);if(null===hr)throw new Error(`${it} is not a valid digit info`);const mr=hr[1],yr=hr[3],Vn=hr[5];null!=mr&&(q=$n(mr)),null!=yr&&(Y=$n(yr)),null!=Vn?be=$n(Vn):null!=yr&&Y>be&&(be=Y)}!function Sn(R,$,x){if($>x)throw new Error(`The minimum number of digits after fraction (${$}) is higher than the maximum (${x}).`);let K=R.digits,Te=K.length-R.integerLen;const it=Math.min(Math.max($,Te),x);let wt=it+R.integerLen,un=K[wt];if(wt>0){K.splice(Math.max(R.integerLen,wt));for(let Y=wt;Y<K.length;Y++)K[Y]=0}else{Te=Math.max(0,Te),R.integerLen=1,K.length=Math.max(1,wt=it+1),K[0]=0;for(let Y=1;Y<wt;Y++)K[Y]=0}if(un>=5)if(wt-1<0){for(let Y=0;Y>wt;Y--)K.unshift(0),R.integerLen++;K.unshift(1),R.integerLen++}else K[wt-1]++;for(;Te<Math.max(0,it);Te++)K.push(0);let cr=0!==it;const or=$+R.integerLen,q=K.reduceRight(function(Y,be,ze,It){return It[ze]=(be+=Y)<10?be:be-10,cr&&(0===It[ze]&&ze>=or?It.pop():cr=!1),be>=10?1:0},0);q&&(K.unshift(q),R.integerLen++)}(or,Y,be);let ze=or.digits,It=or.integerLen;const jt=or.exponent;let yn=[];for(cr=ze.every(hr=>!hr);It<q;It++)ze.unshift(0);for(;It<0;It++)ze.unshift(0);It>0?yn=ze.splice(It,ze.length):(yn=ze,ze=[0]);const Jt=[];for(ze.length>=$.lgSize&&Jt.unshift(ze.splice(-$.lgSize,ze.length).join(""));ze.length>$.gSize;)Jt.unshift(ze.splice(-$.gSize,ze.length).join(""));ze.length&&Jt.unshift(ze.join("")),un=Jt.join(pn(x,K)),yn.length&&(un+=pn(x,Te)+yn.join("")),jt&&(un+=pn(x,Le.Exponential)+"+"+jt)}else un=pn(x,Le.Infinity);return un=R<0&&!cr?$.negPre+un+$.negSuf:$.posPre+un+$.posSuf,un}(R,wt,$,Le.CurrencyGroup,Le.CurrencyDecimal,Te).replace("\xa4",x).replace("\xa4","").trim()}function $n(R){const $=parseInt(R);if(isNaN($))throw new Error("Invalid integer literal when parsing "+R);return $}function Dr(R,$){$=encodeURIComponent($);for(const x of R.split(";")){const K=x.indexOf("="),[Te,it]=-1==K?[x,""]:[x.slice(0,K),x.slice(K+1)];if(Te.trim()===$)return decodeURIComponent(it)}return null}class si{constructor($,x,K,Te){this.$implicit=$,this.ngForOf=x,this.index=K,this.count=Te}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vr=(()=>{class R{constructor(x,K,Te){this._viewContainer=x,this._template=K,this._differs=Te,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const K=this._viewContainer;x.forEachOperation((Te,it,wt)=>{if(null==Te.previousIndex)K.createEmbeddedView(this._template,new si(Te.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)K.remove(null===it?void 0:it);else if(null!==it){const un=K.get(it);K.move(un,wt),Pr(un,Te)}});for(let Te=0,it=K.length;Te<it;Te++){const un=K.get(Te).context;un.index=Te,un.count=it,un.ngForOf=this._ngForOf}x.forEachIdentityChange(Te=>{Pr(K.get(Te.currentIndex),Te)})}static ngTemplateContextGuard(x,K){return!0}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Pr(R,$){R.context.$implicit=$.item}let Pe=(()=>{class R{constructor(x,K){this._viewContainer=x,this._context=new we,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Je("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Je("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,K){return!0}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.s_b),f.Y36(f.Rgc))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class we{constructor(){this.$implicit=null,this.ngIf=null}}function Je(R,$){if($&&!$.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,f.AaK)($)}'.`)}function Er(R,$){return new f.vHH(2100,"")}class Ds{createSubscription($,x){return $.subscribe({next:x,error:K=>{throw K}})}dispose($){$.unsubscribe()}onDestroy($){$.unsubscribe()}}class ks{createSubscription($,x){return $.then(x,K=>{throw K})}dispose($){}onDestroy($){}}const qr=new ks,ki=new Ds;let Ei=(()=>{class R{constructor(x){this._ref=x,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,K=>this._updateLatestValue(x,K))}_selectStrategy(x){if((0,f.QGY)(x))return qr;if((0,f.F4k)(x))return ki;throw Er()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,K){x===this._obj&&(this._latestValue=K,this._ref.markForCheck())}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.sBO,16))},R.\u0275pipe=f.Yjl({name:"async",type:R,pure:!1}),R})(),Wi=(()=>{class R{constructor(x,K="USD"){this._locale=x,this._defaultCurrencyCode=K}transform(x,K=this._defaultCurrencyCode,Te="symbol",it,wt){if(!function gi(R){return!(null==R||""===R||R!=R)}(x))return null;wt=wt||this._locale,"boolean"==typeof Te&&(Te=Te?"symbol":"code");let un=K||this._defaultCurrencyCode;"code"!==Te&&(un="symbol"===Te||"symbol-narrow"===Te?function nr(R,$,x="en"){const K=function Yn(R){return(0,f.cg1)(R)[f.wAp.Currencies]}(x)[R]||xe[R]||[],Te=K[1];return"narrow"===$&&"string"==typeof Te?Te:K[0]||R}(un,"symbol"===Te?"wide":"narrow",wt):Te);try{return Mr(function Xr(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(x),wt,un,K,it)}catch(cr){throw Er()}}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},R.\u0275pipe=f.Yjl({name:"currency",type:R,pure:!0}),R})();let Ii=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({}),R})();const Hr="browser";function Br(R){return R===Hr}function Tr(R){return"server"===R}let wi=(()=>{class R{}return R.\u0275prov=(0,f.Yz7)({token:R,providedIn:"root",factory:()=>new ss((0,f.LFG)(ge),window)}),R})();class ss{constructor($,x){this.document=$,this.window=x,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition($){this.supportsScrolling()&&this.window.scrollTo($[0],$[1])}scrollToAnchor($){if(!this.supportsScrolling())return;const x=function xi(R,$){const x=R.getElementById($)||R.getElementsByName($)[0];if(x)return x;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const K=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Te=K.currentNode;for(;Te;){const it=Te.shadowRoot;if(it){const wt=it.getElementById($)||it.querySelector(`[name="${$}"]`);if(wt)return wt}Te=K.nextNode()}}return null}(this.document,$);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration($){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=$)}}scrollToElement($){const x=$.getBoundingClientRect(),K=x.left+this.window.pageXOffset,Te=x.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(K-it[0],Te-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const $=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!$||!$.writable&&!$.set)}catch($){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch($){return!1}}}function mi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class ir{}},520:(kt,Ue,S)=>{S.d(Ue,{JF:()=>an,eN:()=>Le});var f=S(9808),E=S(5e3),z=S(9646),ie=S(8306),V=S(4351),Ie=S(9300),ge=S(4004);class ne{}class Ee{}class Q{constructor(ye){this.normalizedNames=new Map,this.lazyUpdate=null,ye?this.lazyInit="string"==typeof ye?()=>{this.headers=new Map,ye.split("\n").forEach(De=>{const mt=De.indexOf(":");if(mt>0){const Ve=De.slice(0,mt),_t=Ve.toLowerCase(),yt=De.slice(mt+1).trim();this.maybeSetNormalizedName(Ve,_t),this.headers.has(_t)?this.headers.get(_t).push(yt):this.headers.set(_t,[yt])}})}:()=>{this.headers=new Map,Object.keys(ye).forEach(De=>{let mt=ye[De];const Ve=De.toLowerCase();"string"==typeof mt&&(mt=[mt]),mt.length>0&&(this.headers.set(Ve,mt),this.maybeSetNormalizedName(De,Ve))})}:this.headers=new Map}has(ye){return this.init(),this.headers.has(ye.toLowerCase())}get(ye){this.init();const De=this.headers.get(ye.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ye){return this.init(),this.headers.get(ye.toLowerCase())||null}append(ye,De){return this.clone({name:ye,value:De,op:"a"})}set(ye,De){return this.clone({name:ye,value:De,op:"s"})}delete(ye,De){return this.clone({name:ye,value:De,op:"d"})}maybeSetNormalizedName(ye,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,ye)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ye=>this.applyUpdate(ye)),this.lazyUpdate=null))}copyFrom(ye){ye.init(),Array.from(ye.headers.keys()).forEach(De=>{this.headers.set(De,ye.headers.get(De)),this.normalizedNames.set(De,ye.normalizedNames.get(De))})}clone(ye){const De=new Q;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([ye]),De}applyUpdate(ye){const De=ye.name.toLowerCase();switch(ye.op){case"a":case"s":let mt=ye.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(ye.name,De);const Ve=("a"===ye.op?this.headers.get(De):void 0)||[];Ve.push(...mt),this.headers.set(De,Ve);break;case"d":const _t=ye.value;if(_t){let yt=this.headers.get(De);if(!yt)return;yt=yt.filter(gn=>-1===_t.indexOf(gn)),0===yt.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,yt)}else this.headers.delete(De),this.normalizedNames.delete(De)}}forEach(ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>ye(this.normalizedNames.get(De),this.headers.get(De)))}}class ae{encodeKey(ye){return tt(ye)}encodeValue(ye){return tt(ye)}decodeKey(ye){return decodeURIComponent(ye)}decodeValue(ye){return decodeURIComponent(ye)}}const Qe=/%(\d[a-f0-9])/gi,He={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tt(ut){return encodeURIComponent(ut).replace(Qe,(ye,De)=>{var mt;return null!==(mt=He[De])&&void 0!==mt?mt:ye})}function pt(ut){return`${ut}`}class le{constructor(ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ye.encoder||new ae,ye.fromString){if(ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Me(ut,ye){const De=new Map;return ut.length>0&&ut.replace(/^\?/,"").split("&").forEach(Ve=>{const _t=Ve.indexOf("="),[yt,gn]=-1==_t?[ye.decodeKey(Ve),""]:[ye.decodeKey(Ve.slice(0,_t)),ye.decodeValue(Ve.slice(_t+1))],hn=De.get(yt)||[];hn.push(gn),De.set(yt,hn)}),De}(ye.fromString,this.encoder)}else ye.fromObject?(this.map=new Map,Object.keys(ye.fromObject).forEach(De=>{const mt=ye.fromObject[De];this.map.set(De,Array.isArray(mt)?mt:[mt])})):this.map=null}has(ye){return this.init(),this.map.has(ye)}get(ye){this.init();const De=this.map.get(ye);return De?De[0]:null}getAll(ye){return this.init(),this.map.get(ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ye,De){return this.clone({param:ye,value:De,op:"a"})}appendAll(ye){const De=[];return Object.keys(ye).forEach(mt=>{const Ve=ye[mt];Array.isArray(Ve)?Ve.forEach(_t=>{De.push({param:mt,value:_t,op:"a"})}):De.push({param:mt,value:Ve,op:"a"})}),this.clone(De)}set(ye,De){return this.clone({param:ye,value:De,op:"s"})}delete(ye,De){return this.clone({param:ye,value:De,op:"d"})}toString(){return this.init(),this.keys().map(ye=>{const De=this.encoder.encodeKey(ye);return this.map.get(ye).map(mt=>De+"="+this.encoder.encodeValue(mt)).join("&")}).filter(ye=>""!==ye).join("&")}clone(ye){const De=new le({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(ye),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ye=>this.map.set(ye,this.cloneFrom.map.get(ye))),this.updates.forEach(ye=>{switch(ye.op){case"a":case"s":const De=("a"===ye.op?this.map.get(ye.param):void 0)||[];De.push(pt(ye.value)),this.map.set(ye.param,De);break;case"d":if(void 0===ye.value){this.map.delete(ye.param);break}{let mt=this.map.get(ye.param)||[];const Ve=mt.indexOf(pt(ye.value));-1!==Ve&&mt.splice(Ve,1),mt.length>0?this.map.set(ye.param,mt):this.map.delete(ye.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(ye,De){return this.map.set(ye,De),this}get(ye){return this.map.has(ye)||this.map.set(ye,ye.defaultValue()),this.map.get(ye)}delete(ye){return this.map.delete(ye),this}has(ye){return this.map.has(ye)}keys(){return this.map.keys()}}function Ke(ut){return"undefined"!=typeof ArrayBuffer&&ut instanceof ArrayBuffer}function Fe(ut){return"undefined"!=typeof Blob&&ut instanceof Blob}function Ze(ut){return"undefined"!=typeof FormData&&ut instanceof FormData}class ue{constructor(ye,De,mt,Ve){let _t;if(this.url=De,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ye.toUpperCase(),function At(ut){switch(ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ve?(this.body=void 0!==mt?mt:null,_t=Ve):_t=mt,_t&&(this.reportProgress=!!_t.reportProgress,this.withCredentials=!!_t.withCredentials,_t.responseType&&(this.responseType=_t.responseType),_t.headers&&(this.headers=_t.headers),_t.context&&(this.context=_t.context),_t.params&&(this.params=_t.params)),this.headers||(this.headers=new Q),this.context||(this.context=new Ct),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=De;else{const gn=De.indexOf("?");this.urlWithParams=De+(-1===gn?"?":gn<De.length-1?"&":"")+yt}}else this.params=new le,this.urlWithParams=De}serializeBody(){return null===this.body?null:Ke(this.body)||Fe(this.body)||Ze(this.body)||function bt(ut){return"undefined"!=typeof URLSearchParams&&ut instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof le?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ze(this.body)?null:Fe(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof le?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ye={}){var De;const mt=ye.method||this.method,Ve=ye.url||this.url,_t=ye.responseType||this.responseType,yt=void 0!==ye.body?ye.body:this.body,gn=void 0!==ye.withCredentials?ye.withCredentials:this.withCredentials,hn=void 0!==ye.reportProgress?ye.reportProgress:this.reportProgress;let sn=ye.headers||this.headers,ar=ye.params||this.params;const jn=null!==(De=ye.context)&&void 0!==De?De:this.context;return void 0!==ye.setHeaders&&(sn=Object.keys(ye.setHeaders).reduce((dn,se)=>dn.set(se,ye.setHeaders[se]),sn)),ye.setParams&&(ar=Object.keys(ye.setParams).reduce((dn,se)=>dn.set(se,ye.setParams[se]),ar)),new ue(mt,Ve,yt,{params:ar,headers:sn,context:jn,reportProgress:hn,responseType:_t,withCredentials:gn})}}var xe=(()=>((xe=xe||{})[xe.Sent=0]="Sent",xe[xe.UploadProgress=1]="UploadProgress",xe[xe.ResponseHeader=2]="ResponseHeader",xe[xe.DownloadProgress=3]="DownloadProgress",xe[xe.Response=4]="Response",xe[xe.User=5]="User",xe))();class je{constructor(ye,De=200,mt="OK"){this.headers=ye.headers||new Q,this.status=void 0!==ye.status?ye.status:De,this.statusText=ye.statusText||mt,this.url=ye.url||null,this.ok=this.status>=200&&this.status<300}}class ce extends je{constructor(ye={}){super(ye),this.type=xe.ResponseHeader}clone(ye={}){return new ce({headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Oe extends je{constructor(ye={}){super(ye),this.type=xe.Response,this.body=void 0!==ye.body?ye.body:null}clone(ye={}){return new Oe({body:void 0!==ye.body?ye.body:this.body,headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Be extends je{constructor(ye){super(ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ye.url||"(unknown url)"}`:`Http failure response for ${ye.url||"(unknown url)"}: ${ye.status} ${ye.statusText}`,this.error=ye.error||null}}function Ge(ut,ye){return{body:ye,headers:ut.headers,context:ut.context,observe:ut.observe,params:ut.params,reportProgress:ut.reportProgress,responseType:ut.responseType,withCredentials:ut.withCredentials}}let Le=(()=>{class ut{constructor(De){this.handler=De}request(De,mt,Ve={}){let _t;if(De instanceof ue)_t=De;else{let hn,sn;hn=Ve.headers instanceof Q?Ve.headers:new Q(Ve.headers),Ve.params&&(sn=Ve.params instanceof le?Ve.params:new le({fromObject:Ve.params})),_t=new ue(De,mt,void 0!==Ve.body?Ve.body:null,{headers:hn,context:Ve.context,params:sn,reportProgress:Ve.reportProgress,responseType:Ve.responseType||"json",withCredentials:Ve.withCredentials})}const yt=(0,z.of)(_t).pipe((0,V.b)(hn=>this.handler.handle(hn)));if(De instanceof ue||"events"===Ve.observe)return yt;const gn=yt.pipe((0,Ie.h)(hn=>hn instanceof Oe));switch(Ve.observe||"body"){case"body":switch(_t.responseType){case"arraybuffer":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return gn.pipe((0,ge.U)(hn=>hn.body))}case"response":return gn;default:throw new Error(`Unreachable: unhandled observe type ${Ve.observe}}`)}}delete(De,mt={}){return this.request("DELETE",De,mt)}get(De,mt={}){return this.request("GET",De,mt)}head(De,mt={}){return this.request("HEAD",De,mt)}jsonp(De,mt){return this.request("JSONP",De,{params:(new le).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,mt={}){return this.request("OPTIONS",De,mt)}patch(De,mt,Ve={}){return this.request("PATCH",De,Ge(Ve,mt))}post(De,mt,Ve={}){return this.request("POST",De,Ge(Ve,mt))}put(De,mt,Ve={}){return this.request("PUT",De,Ge(Ve,mt))}}return ut.\u0275fac=function(De){return new(De||ut)(E.LFG(ne))},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class gt{constructor(ye,De){this.next=ye,this.interceptor=De}handle(ye){return this.interceptor.intercept(ye,this.next)}}const Nt=new E.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class ut{intercept(De,mt){return mt.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const pn=/^\)\]\}',?\n/;let Fn=(()=>{class ut{constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie.y(mt=>{const Ve=this.xhrFactory.build();if(Ve.open(De.method,De.urlWithParams),De.withCredentials&&(Ve.withCredentials=!0),De.headers.forEach((se,me)=>Ve.setRequestHeader(se,me.join(","))),De.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!De.headers.has("Content-Type")){const se=De.detectContentTypeHeader();null!==se&&Ve.setRequestHeader("Content-Type",se)}if(De.responseType){const se=De.responseType.toLowerCase();Ve.responseType="json"!==se?se:"text"}const _t=De.serializeBody();let yt=null;const gn=()=>{if(null!==yt)return yt;const se=Ve.statusText||"OK",me=new Q(Ve.getAllResponseHeaders()),J=function bn(ut){return"responseURL"in ut&&ut.responseURL?ut.responseURL:/^X-Request-URL:/m.test(ut.getAllResponseHeaders())?ut.getResponseHeader("X-Request-URL"):null}(Ve)||De.url;return yt=new ce({headers:me,status:Ve.status,statusText:se,url:J}),yt},hn=()=>{let{headers:se,status:me,statusText:J,url:k}=gn(),N=null;204!==me&&(N=void 0===Ve.response?Ve.responseText:Ve.response),0===me&&(me=N?200:0);let X=me>=200&&me<300;if("json"===De.responseType&&"string"==typeof N){const ee=N;N=N.replace(pn,"");try{N=""!==N?JSON.parse(N):null}catch(Ae){N=ee,X&&(X=!1,N={error:Ae,text:N})}}X?(mt.next(new Oe({body:N,headers:se,status:me,statusText:J,url:k||void 0})),mt.complete()):mt.error(new Be({error:N,headers:se,status:me,statusText:J,url:k||void 0}))},sn=se=>{const{url:me}=gn(),J=new Be({error:se,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:me||void 0});mt.error(J)};let ar=!1;const jn=se=>{ar||(mt.next(gn()),ar=!0);let me={type:xe.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(me.total=se.total),"text"===De.responseType&&!!Ve.responseText&&(me.partialText=Ve.responseText),mt.next(me)},dn=se=>{let me={type:xe.UploadProgress,loaded:se.loaded};se.lengthComputable&&(me.total=se.total),mt.next(me)};return Ve.addEventListener("load",hn),Ve.addEventListener("error",sn),Ve.addEventListener("timeout",sn),Ve.addEventListener("abort",sn),De.reportProgress&&(Ve.addEventListener("progress",jn),null!==_t&&Ve.upload&&Ve.upload.addEventListener("progress",dn)),Ve.send(_t),mt.next({type:xe.Sent}),()=>{Ve.removeEventListener("error",sn),Ve.removeEventListener("abort",sn),Ve.removeEventListener("load",hn),Ve.removeEventListener("timeout",sn),De.reportProgress&&(Ve.removeEventListener("progress",jn),null!==_t&&Ve.upload&&Ve.upload.removeEventListener("progress",dn)),Ve.readyState!==Ve.DONE&&Ve.abort()}})}}return ut.\u0275fac=function(De){return new(De||ut)(E.LFG(f.JF))},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const vn=new E.OlP("XSRF_COOKIE_NAME"),Ln=new E.OlP("XSRF_HEADER_NAME");class Yn{}let Jn=(()=>{class ut{constructor(De,mt,Ve){this.doc=De,this.platform=mt,this.cookieName=Ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(De,this.cookieName),this.lastCookieString=De),this.lastToken}}return ut.\u0275fac=function(De){return new(De||ut)(E.LFG(f.K0),E.LFG(E.Lbi),E.LFG(vn))},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),tn=(()=>{class ut{constructor(De,mt){this.tokenService=De,this.headerName=mt}intercept(De,mt){const Ve=De.url.toLowerCase();if("GET"===De.method||"HEAD"===De.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return mt.handle(De);const _t=this.tokenService.getToken();return null!==_t&&!De.headers.has(this.headerName)&&(De=De.clone({headers:De.headers.set(this.headerName,_t)})),mt.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)(E.LFG(Yn),E.LFG(Ln))},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),Zn=(()=>{class ut{constructor(De,mt){this.backend=De,this.injector=mt,this.chain=null}handle(De){if(null===this.chain){const mt=this.injector.get(Nt,[]);this.chain=mt.reduceRight((Ve,_t)=>new gt(Ve,_t),this.backend)}return this.chain.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)(E.LFG(Ee),E.LFG(E.zs3))},ut.\u0275prov=E.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),Cn=(()=>{class ut{static disable(){return{ngModule:ut,providers:[{provide:tn,useClass:Bt}]}}static withOptions(De={}){return{ngModule:ut,providers:[De.cookieName?{provide:vn,useValue:De.cookieName}:[],De.headerName?{provide:Ln,useValue:De.headerName}:[]]}}}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=E.oAB({type:ut}),ut.\u0275inj=E.cJS({providers:[tn,{provide:Nt,useExisting:tn,multi:!0},{provide:Yn,useClass:Jn},{provide:vn,useValue:"XSRF-TOKEN"},{provide:Ln,useValue:"X-XSRF-TOKEN"}]}),ut})(),an=(()=>{class ut{}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=E.oAB({type:ut}),ut.\u0275inj=E.cJS({providers:[Le,{provide:ne,useClass:Zn},Fn,{provide:Ee,useExisting:Fn}],imports:[[Cn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ut})()},5e3:(kt,Ue,S)=>{S.d(Ue,{$8M:()=>ms,$Z:()=>Pc,AFp:()=>M0,ALo:()=>J_,AaK:()=>ne,CHM:()=>Xn,CRH:()=>u0,CZH:()=>pv,CqO:()=>Zd,DdM:()=>z_,EJc:()=>gw,EpF:()=>Bg,F4k:()=>jg,FYo:()=>F_,FiY:()=>xs,G48:()=>Vw,GfV:()=>L_,Gpc:()=>ae,JOm:()=>oa,LFG:()=>Rn,LSH:()=>ch,Lbi:()=>hw,NdJ:()=>kc,OlP:()=>Lr,Oqu:()=>Qf,PXZ:()=>xw,Q6J:()=>jf,QGY:()=>Gf,Qsj:()=>lI,R0b:()=>ja,RDi:()=>mi,Rgc:()=>ap,SBq:()=>rp,Sil:()=>yw,Suo:()=>a0,TTD:()=>gi,TgZ:()=>Nc,VKq:()=>W_,VLi:()=>Aw,X6Q:()=>Lw,XFs:()=>Gt,Xpm:()=>Ye,Y36:()=>Bo,YKP:()=>j_,YNc:()=>Mg,Yjl:()=>at,Yz7:()=>qt,ZZ4:()=>Sv,_Bn:()=>P_,_UZ:()=>Hf,_Vd:()=>hm,_c5:()=>eD,_uU:()=>sm,aQg:()=>Mv,c2e:()=>fw,cJS:()=>Yt,cg1:()=>zy,dDg:()=>k0,deG:()=>Gl,dqk:()=>sn,eFA:()=>V0,ekj:()=>Uc,g9A:()=>R0,h0i:()=>sh,hGG:()=>tD,hij:()=>th,iGM:()=>o0,ifc:()=>Ve,ip1:()=>S0,kL8:()=>o_,lG2:()=>rt,lcZ:()=>X_,n5z:()=>Nr,oAB:()=>ke,oxw:()=>qd,q4F:()=>V_,qLn:()=>sd,qOj:()=>Vd,qZA:()=>tl,s9C:()=>Jd,sBO:()=>Uw,sIi:()=>Vl,s_b:()=>gm,soG:()=>mv,tBr:()=>Su,tb:()=>O0,tp0:()=>Qa,uIk:()=>xc,vHH:()=>tt,vpe:()=>Iu,wAp:()=>Wn,xp6:()=>Rh,z2F:()=>wv,zSh:()=>gf,zs3:()=>Vo});var f=S(7579),E=S(727),z=S(8306),ie=S(6451),V=S(3099);function Ie(t){for(let r in t)if(t[r]===Ie)return r;throw Error("Could not find renamed property on target object.")}function ge(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ee(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Q=Ie({__forward_ref__:Ie});function ae(t){return t.__forward_ref__=ae,t.toString=function(){return ne(this())},t}function Me(t){return Qe(t)?t():t}function Qe(t){return"function"==typeof t&&t.hasOwnProperty(Q)&&t.__forward_ref__===ae}class tt extends Error{constructor(r,s){super(function pt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function le(t){return"string"==typeof t?t:null==t?"":String(t)}function Xe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():le(t)}function Fe(t,r){const s=r?` in ${r}`:"";throw new tt(-201,`No provider for ${Xe(t)} found${s}`)}function Ut(t,r){null==t&&function Tt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function qt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pn(t){return bn(t,Yn)||bn(t,tn)}function bn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ln(t){return t&&(t.hasOwnProperty(Jn)||t.hasOwnProperty(Zn))?t[Jn]:null}const Yn=Ie({\u0275prov:Ie}),Jn=Ie({\u0275inj:Ie}),tn=Ie({ngInjectableDef:Ie}),Zn=Ie({ngInjectorDef:Ie});var Gt=(()=>((Gt=Gt||{})[Gt.Default=0]="Default",Gt[Gt.Host=1]="Host",Gt[Gt.Self=2]="Self",Gt[Gt.SkipSelf=4]="SkipSelf",Gt[Gt.Optional=8]="Optional",Gt))();let Ir;function an(t){const r=Ir;return Ir=t,r}function nr(t,r,s){const a=pn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Gt.Optional?null:void 0!==r?r:void Fe(ne(t),"Injector")}function ut(t){return{toString:t}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Ve=(()=>{return(t=Ve||(Ve={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ve;var t})();const _t="undefined"!=typeof globalThis&&globalThis,yt="undefined"!=typeof window&&window,gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=_t||"undefined"!=typeof global&&global||yt||gn,dn={},se=[],me=Ie({\u0275cmp:Ie}),J=Ie({\u0275dir:Ie}),k=Ie({\u0275pipe:Ie}),N=Ie({\u0275mod:Ie}),X=Ie({\u0275fac:Ie}),ee=Ie({__NG_ELEMENT_ID__:Ie});let Ae=0;function Ye(t){return ut(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||se,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ve.Emulated,id:"c",styles:t.styles||se,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,m=t.pipes;return a.id+=Ae++,a.inputs=fe(t.inputs,s),a.outputs=fe(t.outputs),c&&c.forEach(I=>I(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Mt):null,a.pipeDefs=m?()=>("function"==typeof m?m():m).map(ht):null,a})}function Mt(t){return $t(t)||function ln(t){return t[J]||null}(t)}function ht(t){return function Dn(t){return t[k]||null}(t)}const Lt={};function ke(t){return ut(()=>{const r={type:t.type,bootstrap:t.bootstrap||se,declarations:t.declarations||se,imports:t.imports||se,exports:t.exports||se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Lt[t.id]=t.type),r})}function fe(t,r){if(null==t)return dn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,r&&(r[l]=c)}return s}const rt=Ye;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function $t(t){return t[me]||null}function wn(t,r){const s=t[N]||null;if(!s&&!0===r)throw new Error(`Type ${ne(t)} does not have '\u0275mod' property.`);return s}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function zt(t){return Array.isArray(t)&&!0===t[1]}function tr(t){return 0!=(8&t.flags)}function _r(t){return 2==(2&t.flags)}function Hn(t){return 1==(1&t.flags)}function Cr(t){return null!==t.template}function Ni(t){return 0!=(512&t[2])}function Jr(t,r){return t.hasOwnProperty(X)?t[X]:null}class Wi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function gi(){return Xr}function Xr(t){return t.type.prototype.ngOnChanges&&(t.setInput=oi),Ki}function Ki(){const t=Hr(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===dn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function oi(t,r,s,a){const l=Hr(t)||function lr(t,r){return t[Ii]=r}(t,{previous:dn,current:null}),c=l.current||(l.current={}),m=l.previous,I=this.declaredInputs[s],C=m[I];c[I]=new Wi(C&&C.currentValue,r,m===dn),t[a]=r}gi.ngInherit=!0;const Ii="__ngSimpleChanges__";function Hr(t){return t[Ii]||null}let ss;function mi(t){ss=t}function ir(t){return!!t.listen}const R={createRenderer:(t,r)=>function xi(){return void 0!==ss?ss:"undefined"!=typeof document?document:void 0}()};function x(t){for(;Array.isArray(t);)t=t[0];return t}function it(t,r){return x(r[t])}function wt(t,r){return x(r[t.index])}function cr(t,r){return t.data[r]}function q(t,r){const s=r[t];return Rt(s)?s:s[0]}function Y(t){return 4==(4&t[2])}function be(t){return 128==(128&t[2])}function It(t,r){return null==r?null:t[r]}function jt(t){t[18]=0}function yn(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Jt={lFrame:bo(null),bindingsEnabled:!0};function A(){return Jt.bindingsEnabled}function de(){return Jt.lFrame.lView}function St(){return Jt.lFrame.tView}function Xn(t){return Jt.lFrame.contextLView=t,t[8]}function Qn(){let t=Ri();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ri(){return Jt.lFrame.currentTNode}function Oi(t,r){const s=Jt.lFrame;s.currentTNode=t,s.isParent=r}function gs(){return Jt.lFrame.isParent}function Di(){const t=Jt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function Ks(){return Jt.lFrame.bindingIndex++}function ca(t,r){const s=Jt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Ha(r)}function Ha(t){Jt.lFrame.currentDirectiveIndex=t}function Go(){return Jt.lFrame.currentQueryIndex}function zo(t){Jt.lFrame.currentQueryIndex=t}function da(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function fo(t,r,s){if(s&Gt.SkipSelf){let l=r,c=t;for(;!(l=l.parent,null!==l||s&Gt.Host||(l=da(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;r=l,t=c}const a=Jt.lFrame=Zs();return a.currentTNode=r,a.lView=t,!0}function po(t){const r=Zs(),s=t[1];Jt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Zs(){const t=Jt.lFrame,r=null===t?null:t.child;return null===r?bo(t):r}function bo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Ga(){const t=Jt.lFrame;return Jt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ha=Ga;function Ts(){const t=Ga();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Bi(){return Jt.lFrame.selectedIndex}function qs(t){Jt.lFrame.selectedIndex=t}function Fr(){const t=Jt.lFrame;return cr(t.tView,t.selectedIndex)}function as(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:F,ngOnDestroy:G}=c;m&&(t.contentHooks||(t.contentHooks=[])).push(-s,m),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),C&&(t.viewHooks||(t.viewHooks=[])).push(-s,C),F&&((t.viewHooks||(t.viewHooks=[])).push(s,F),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,F)),null!=G&&(t.destroyHooks||(t.destroyHooks=[])).push(s,G)}}function Co(t,r,s){bu(t,r,3,s)}function pa(t,r,s,a){(3&t[2])===s&&bu(t,r,s,a)}function bi(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function bu(t,r,s,a){const c=null!=a?a:-1,m=r.length-1;let I=0;for(let C=void 0!==a?65535&t[18]:0;C<m;C++)if("number"==typeof r[C+1]){if(I=r[C],null!=a&&I>=a)break}else r[C]<0&&(t[18]+=65536),(I<c||-1==c)&&(Ko(t,s,r,C),t[18]=(4294901760&t[18])+C+2),C++}function Ko(t,r,s,a){const l=s[a]<0,c=s[a+1],I=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{c.call(I)}finally{}}}else try{c.call(I)}finally{}}class As{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ga(t,r,s){const a=ir(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const m=s[l++],I=s[l++],C=s[l++];a?t.setAttribute(r,I,C,m):r.setAttributeNS(m,I,C)}else{const m=c,I=s[++l];kn(m)?a&&t.setProperty(r,m,I):a?t.setAttribute(r,m,I):r.setAttribute(m,I),l++}}return l}function nn(t){return 3===t||4===t||6===t}function kn(t){return 64===t.charCodeAt(0)}function ma(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Wt(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Wt(t,r,s,a,l){let c=0,m=t.length;if(-1===r)m=-1;else for(;c<t.length;){const I=t[c++];if("number"==typeof I){if(I===r){m=-1;break}if(I>r){m=c-1;break}}}for(;c<t.length;){const I=t[c];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==m&&(t.splice(m,0,r),c=m+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function st(t){return-1!==t}function vt(t){return 32767&t}function js(t,r){let s=function yi(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let ya=!0;function Ao(t){const r=ya;return ya=t,r}let Zo=0;function mo(t,r){const s=Ys(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,ui(a.data,t),ui(r,null),ui(a.blueprint,null));const l=D(t,r),c=t.injectorIndex;if(st(l)){const m=vt(l),I=js(l,r),C=I[1].data;for(let F=0;F<8;F++)r[c+F]=I[m+F]|C[m+F]}return r[c+8]=l,c}function ui(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ys(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function D(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const c=l[1],m=c.type;if(a=2===m?c.declTNode:1===m?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function v(t,r,s){!function Mo(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ee)&&(a=s[ee]),null==a&&(a=s[ee]=Zo++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function M(t,r,s){if(s&Gt.Optional)return t;Fe(r,"NodeInjector")}function P(t,r,s,a){if(s&Gt.Optional&&void 0===a&&(a=null),0==(s&(Gt.Self|Gt.Host))){const l=t[9],c=an(void 0);try{return l?l.get(r,a,s&Gt.Optional):nr(r,a,s&Gt.Optional)}finally{an(c)}}return M(a,r,s)}function U(t,r,s,a=Gt.Default,l){if(null!==t){const c=function En(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ee)?t[ee]:void 0;return"number"==typeof r?r>=0?255&r:Ce:r}(s);if("function"==typeof c){if(!fo(r,t,a))return a&Gt.Host?M(l,s,a):P(r,s,a,l);try{const m=c(a);if(null!=m||a&Gt.Optional)return m;Fe(s)}finally{ha()}}else if("number"==typeof c){let m=null,I=Ys(t,r),C=-1,F=a&Gt.Host?r[16][6]:null;for((-1===I||a&Gt.SkipSelf)&&(C=-1===I?D(t,r):r[I+8],-1!==C&&fr(a,!1)?(m=r[1],I=vt(C),r=js(C,r)):I=-1);-1!==I;){const G=r[1];if(Un(c,I,G.data)){const oe=dt(I,r,s,m,a,F);if(oe!==he)return oe}C=r[I+8],-1!==C&&fr(a,r[1].data[I+8]===F)&&Un(c,I,r)?(m=G,I=vt(C),r=js(C,r)):I=-1}}}return P(r,s,a,l)}const he={};function Ce(){return new Ci(Qn(),de())}function dt(t,r,s,a,l,c){const m=r[1],I=m.data[t+8],G=en(I,m,s,null==a?_r(I)&&ya:a!=m&&0!=(3&I.type),l&Gt.Host&&c===I);return null!==G?Zt(r,m,G,I):he}function en(t,r,s,a,l){const c=t.providerIndexes,m=r.data,I=1048575&c,C=t.directiveStart,G=c>>20,Se=l?I+G:t.directiveEnd;for(let We=a?I:I+G;We<Se;We++){const Dt=m[We];if(We<C&&s===Dt||We>=C&&Dt.type===s)return We}if(l){const We=m[C];if(We&&Cr(We)&&We.type===s)return C}return null}function Zt(t,r,s,a){let l=t[s];const c=r.data;if(function Gr(t){return t instanceof As}(l)){const m=l;m.resolving&&function Ct(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new tt(-200,`Circular dependency in DI detected for ${t}${s}`)}(Xe(c[s]));const I=Ao(m.canSeeViewProviders);m.resolving=!0;const C=m.injectImpl?an(m.injectImpl):null;fo(t,a,Gt.Default);try{l=t[s]=m.factory(void 0,c,t,a),r.firstCreatePass&&s>=a.directiveStart&&function za(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=r.type.prototype;if(a){const m=Xr(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,m)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],r)}finally{null!==C&&an(C),Ao(I),m.resolving=!1,ha()}}return l}function Un(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function fr(t,r){return!(t&Gt.Self||t&Gt.Host&&r)}class Ci{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return U(this._tNode,this._lView,r,a,s)}}function Nr(t){return ut(()=>{const r=t.prototype.constructor,s=r[X]||xo(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[X]||xo(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function xo(t){return Qe(t)?()=>{const r=xo(Me(t));return r&&r()}:Jr(t)}function ms(t){return function y(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(nn(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===r)return s[l+1];l+=2}}}return null}(Qn(),t)}const ys="__parameters__";function va(t,r,s){return ut(()=>{const a=function qo(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...c){if(this instanceof l)return a.apply(this,c),this;const m=new l(...c);return I.annotation=m,I;function I(C,F,G){const oe=C.hasOwnProperty(ys)?C[ys]:Object.defineProperty(C,ys,{value:[]})[ys];for(;oe.length<=G;)oe.push(null);return(oe[G]=oe[G]||[]).push(m),C}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Lr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=qt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gl=new Lr("AnalyzeForEntryComponents");function Ji(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ji(a,r)):r!==t&&r.push(a)}return r}function Ss(t,r){t.forEach(s=>Array.isArray(s)?Ss(s,r):r(s))}function Za(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Js(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function pr(t,r,s){let a=Oo(t,r);return a>=0?t[1|a]=s:(a=~a,function Wl(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function Ia(t,r){const s=Oo(t,r);if(s>=0)return t[1|s]}function Oo(t,r){return function Ya(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),m=t[c<<s];if(r===m)return c<<s;m>r?l=c:a=c+1}return~(l<<s)}(t,r,1)}const re={},B="__NG_DI_FLAG__",Ne="ngTempTokenPath",Kt=/\n/gm,zn="__source",Rr=Ie({provide:String,useValue:Ie});let zr;function Hs(t){const r=zr;return zr=t,r}function Xs(t,r=Gt.Default){if(void 0===zr)throw new tt(203,"");return null===zr?nr(t,void 0,r):zr.get(t,r&Gt.Optional?null:void 0,r)}function Rn(t,r=Gt.Default){return(function Cn(){return Ir}()||Xs)(Me(t),r)}const Pi=Rn;function Wr(t){const r=[];for(let s=0;s<t.length;s++){const a=Me(t[s]);if(Array.isArray(a)){if(0===a.length)throw new tt(900,"");let l,c=Gt.Default;for(let m=0;m<a.length;m++){const I=a[m],C=No(I);"number"==typeof C?-1===C?l=I.token:c|=C:l=I}r.push(Rn(l,c))}else r.push(Rn(a))}return r}function jr(t,r){return t[B]=r,t.prototype[B]=r,t}function No(t){return t[B]}const Su=jr(va("Inject",t=>({token:t})),-1),xs=jr(va("Optional"),8),Qa=jr(va("SkipSelf"),4);class ml{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Gs(t){return t instanceof ml?t.changingThisBreaksApplicationSecurity:t}const Aa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var ji=(()=>((ji=ji||{})[ji.NONE=0]="NONE",ji[ji.HTML=1]="HTML",ji[ji.STYLE=2]="STYLE",ji[ji.SCRIPT=3]="SCRIPT",ji[ji.URL=4]="URL",ji[ji.RESOURCE_URL=5]="RESOURCE_URL",ji))();function ch(t){const r=function Sa(){const t=de();return t&&t[12]}();return r?r.sanitize(ji.URL,t)||"":function Ta(t,r){const s=function lh(t){return t instanceof ml&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?Gs(t):function p(t){return(t=String(t)).match(Aa)||t.match(h)?t:"unsafe:"+t}(le(t))}const vl="__ngContext__";function Es(t,r){t[vl]=r}function rd(t){const r=function _l(t){return t[vl]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function ru(t){return t.ngOriginalError}function Mm(t,...r){t.error(...r)}class sd{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Il(t){return t&&t.ngErrorLogger||Mm}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&ru(r);for(;s&&ru(s);)s=ru(s);return s||null}}const Pm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function sa(t){return t instanceof Function?t():t}var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();function gh(t,r){return undefined(t,r)}function cc(t){const r=t[3];return zt(r)?r[3]:r}function ad(t){return lt(t[13])}function ud(t){return lt(t[4])}function lt(t){for(;null!==t&&!zt(t);)t=t[4];return t}function Rs(t,r,s,a,l){if(null!=a){let c,m=!1;zt(a)?c=a:Rt(a)&&(m=!0,a=a[0]);const I=x(a);0===t&&null!==s?null==l?Vu(r,s,I):no(r,s,I,l||null,!0):1===t&&null!==s?no(r,s,I,l||null,!0):2===t?function xp(t,r,s){const a=Cl(t,r);a&&function Ap(t,r,s,a){ir(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,I,m):3===t&&r.destroyNode(I),null!=c&&function Uu(t,r,s,a,l){const c=s[7];c!==x(s)&&Rs(r,t,a,c,l);for(let I=10;I<s.length;I++){const C=s[I];fc(C[1],C,t,r,a,c)}}(r,t,c,s,l)}}function Eh(t,r,s){if(ir(t))return t.createElement(r,s);{const a=null!==s?function wi(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(r):t.createElementNS(a,r)}}function ld(t,r){const s=t[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,yn(l,-1)),s.splice(a,1)}function dc(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&ld(l,a),r>0&&(t[s-1][4]=a[4]);const c=Js(t,10+r);!function Lu(t,r){fc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const m=c[19];null!==m&&m.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Ma(t,r){if(!(256&r[2])){const s=r[11];ir(s)&&s.destroyNode&&fc(t,r,s,3,null,null),function Cp(t){let r=t[13];if(!r)return cd(t[1],t);for(;r;){let s=null;if(Rt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Rt(r)&&cd(r[1],r),r=r[3];null===r&&(r=t),Rt(r)&&cd(r[1],r),s=r&&r[4]}r=s}}(r)}}function cd(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Tp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof As)){const c=s[a+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const I=l[c[m]],C=c[m+1];try{C.call(I)}finally{}}else try{c.call(l)}finally{}}}}(t,r),function Vm(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const m=s[c+1],I="function"==typeof m?m(r):x(r[m]),C=a[l=s[c+2]],F=s[c+3];"boolean"==typeof F?I.removeEventListener(s[c],C,F):F>=0?a[l=F]():a[l=-F].unsubscribe(),c+=2}else{const m=a[l=s[c+1]];s[c].call(m)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();r[7]=null}}(t,r),1===r[1].type&&ir(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&zt(r[3])){s!==r[3]&&ld(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function hc(t,r,s){return function iu(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Ve.None||l===Ve.Emulated)return null}return wt(a,s)}(t,r.parent,s)}function no(t,r,s,a,l){ir(t)?t.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function Vu(t,r,s){ir(t)?t.appendChild(r,s):r.appendChild(s)}function bl(t,r,s,a,l){null!==a?no(t,r,s,a,l):Vu(t,r,s)}function Cl(t,r){return ir(t)?t.parentNode(r):r.parentNode}let Ch=function Sp(t,r,s){return 40&t.type?wt(t,s):null};function su(t,r,s,a){const l=hc(t,a,r),c=r[11],I=function bh(t,r,s){return Ch(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let C=0;C<s.length;C++)bl(c,l,s[C],I,!1);else bl(c,l,s,I,!1)}function aa(t,r){if(null!==r){const s=r.type;if(3&s)return wt(r,t);if(4&s)return fd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return aa(t,a);{const l=t[r.index];return zt(l)?fd(-1,l):x(l)}}if(32&s)return gh(r,t)()||x(t[r.index]);{const a=Mp(t,r);return null!==a?Array.isArray(a)?a[0]:aa(cc(t[16]),a):aa(t,r.next)}}return null}function Mp(t,r){return null!==r?t[16][6].projection[r.projection]:null}function fd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return aa(a,l)}return r[7]}function Th(t,r,s,a,l,c,m){for(;null!=s;){const I=a[s.index],C=s.type;if(m&&0===r&&(I&&Es(x(I),a),s.flags|=4),64!=(64&s.flags))if(8&C)Th(t,r,s.child,a,l,c,!1),Rs(r,t,l,I,c);else if(32&C){const F=gh(s,a);let G;for(;G=F();)Rs(r,t,l,G,c);Rs(r,t,l,I,c)}else 16&C?ou(t,r,a,s,l,c):Rs(r,t,l,I,c);s=m?s.projectionNext:s.next}}function fc(t,r,s,a,l,c){Th(s,a,t.firstChild,r,l,c,!1)}function ou(t,r,s,a,l,c){const m=s[16],C=m[6].projection[a.projection];if(Array.isArray(C))for(let F=0;F<C.length;F++)Rs(r,t,l,C[F],c);else Th(t,r,C,m[3],l,c,!0)}function Op(t,r,s){ir(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function Ah(t,r,s){ir(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function pd(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=r.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const Pp="ng-template";function Np(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==pd(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Tl(t){return 4===t.type&&t.value!==Pp}function gd(t,r,s){return r===(4!==t.type||s?t.value:Pp)}function md(t,r,s){let a=4;const l=t.attrs||[],c=function xh(t){for(let r=0;r<t.length;r++)if(nn(t[r]))return r;return t.length}(l);let m=!1;for(let I=0;I<r.length;I++){const C=r[I];if("number"!=typeof C){if(!m)if(4&a){if(a=2|1&a,""!==C&&!gd(t,C,s)||""===C&&1===r.length){if(Eo(a))return!1;m=!0}}else{const F=8&a?C:r[++I];if(8&a&&null!==t.attrs){if(!Np(t.attrs,F,s)){if(Eo(a))return!1;m=!0}continue}const oe=zs(8&a?"class":C,l,Tl(t),s);if(-1===oe){if(Eo(a))return!1;m=!0;continue}if(""!==F){let Se;Se=oe>c?"":l[oe+1].toLowerCase();const We=8&a?Se:null;if(We&&-1!==pd(We,F,0)||2&a&&F!==Se){if(Eo(a))return!1;m=!0}}}}else{if(!m&&!Eo(a)&&!Eo(C))return!1;if(m&&Eo(C))continue;m=!1,a=C|1&a}}return Eo(a)||m}function Eo(t){return 0==(1&t)}function zs(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let c=!1;for(;l<r.length;){const m=r[l];if(m===t)return l;if(3===m||6===m)c=!0;else{if(1===m||2===m){let I=r[++l];for(;"string"==typeof I;)I=r[++l];continue}if(4===m)break;if(0===m){l+=4;continue}}l+=c?1:2}return-1}return function kp(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Mh(t,r,s=!1){for(let a=0;a<r.length;a++)if(md(t,r[a],s))return!0;return!1}function Bu(t,r){return t?":not("+r.trim()+")":r}function Fp(t){let r=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let m=t[s];if("string"==typeof m)if(2&a){const I=t[++s];l+="["+m+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?l+="."+m:4&a&&(l+=" "+m);else""!==l&&!Eo(m)&&(r+=Bu(c,l),l=""),a=m,c=c||!Eo(a);s++}return""!==l&&(r+=Bu(c,l)),r}const Kn={};function Rh(t){xa(St(),de(),Bi()+t,!1)}function xa(t,r,s,a){if(!a)if(3==(3&r[2])){const c=t.preOrderCheckHooks;null!==c&&Co(r,c,s)}else{const c=t.preOrderHooks;null!==c&&pa(r,c,0,s)}qs(s)}function Al(t,r){return t<<17|r<<2}function Io(t){return t>>17&32767}function Oh(t){return 2|t}function Ra(t){return(131068&t)>>2}function Sl(t,r){return-131069&t|r<<2}function Nh(t){return 1|t}function Wp(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const m=t.data[c];zo(l),m.contentQueries(2,r[c],c)}}}function xl(t,r,s,a,l,c,m,I,C,F){const G=r.blueprint.slice();return G[0]=l,G[2]=140|a,jt(G),G[3]=G[15]=t,G[8]=s,G[10]=m||t&&t[10],G[11]=I||t&&t[11],G[12]=C||t&&t[12]||null,G[9]=F||t&&t[9]||null,G[6]=c,G[16]=2==r.type?t[16]:G,G}function $u(t,r,s,a,l){let c=t.data[r];if(null===c)c=function Ec(t,r,s,a,l){const c=Ri(),m=gs(),C=t.data[r]=function Xh(t,r,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=C),null!==c&&(m?null==c.child&&null!==C.parent&&(c.child=C):null===c.next&&(c.next=C)),C}(t,r,s,a,l),function Ho(){return Jt.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const m=function Vi(){const t=Jt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return Oi(c,!0),c}function Pa(t,r,s,a){if(0===s)return-1;const l=r.length;for(let c=0;c<s;c++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function Na(t,r,s){po(r);try{const a=t.viewQuery;null!==a&&bc(1,a,s);const l=t.template;null!==l&&Id(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wp(t,r),t.staticViewQueries&&bc(2,t.viewQuery,s);const c=t.components;null!==c&&function qh(t,r){for(let s=0;s<r.length;s++)af(t,r[s])}(r,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Ts()}}function ka(t,r,s,a){const l=r[2];if(256!=(256&l)){po(r);try{jt(r),function Bs(t){return Jt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Id(t,r,s,2,a);const m=3==(3&l);if(m){const F=t.preOrderCheckHooks;null!==F&&Co(r,F,null)}else{const F=t.preOrderHooks;null!==F&&pa(r,F,0,null),bi(r,0)}if(function rg(t){for(let r=ad(t);null!==r;r=ud(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&yn(c,1),l[2]|=1024}}}(r),function ty(t){for(let r=ad(t);null!==r;r=ud(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];be(a)&&ka(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Wp(t,r),m){const F=t.contentCheckHooks;null!==F&&Co(r,F)}else{const F=t.contentHooks;null!==F&&pa(r,F,1),bi(r,1)}!function Wm(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)qs(~l);else{const c=l,m=s[++a],I=s[++a];ca(m,c),I(2,r[c])}}}finally{qs(-1)}}(t,r);const I=t.components;null!==I&&function Km(t,r){for(let s=0;s<r.length;s++)ig(t,r[s])}(r,I);const C=t.viewQuery;if(null!==C&&bc(2,C,a),m){const F=t.viewCheckHooks;null!==F&&Co(r,F)}else{const F=t.viewHooks;null!==F&&pa(r,F,2),bi(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,yn(r[3],-1))}finally{Ts()}}}function Yh(t,r,s,a){const l=r[10],m=Y(r);try{!m&&l.begin&&l.begin(),m&&Na(t,r,a),ka(t,r,s,a)}finally{!m&&l.end&&l.end()}}function Id(t,r,s,a,l){const c=Bi(),m=2&a;try{qs(-1),m&&r.length>20&&xa(t,r,20,!1),s(a,l)}finally{qs(c)}}function Dd(t,r,s){!A()||(function tf(t,r,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||mo(s,r),Es(a,r);const m=s.initialInputs;for(let I=l;I<c;I++){const C=t.data[I],F=Cr(C);F&&sf(r,s,C);const G=Zt(r,t,I,s);Es(G,r),null!==m&&eg(0,I-l,G,C,0,m),F&&(q(s.index,r)[8]=G)}}(t,r,s,wt(s,r)),128==(128&s.flags)&&function nf(t,r,s){const a=s.directiveStart,l=s.directiveEnd,m=s.index,I=function Do(){return Jt.lFrame.currentDirectiveIndex}();try{qs(m);for(let C=a;C<l;C++){const F=t.data[C],G=r[C];Ha(C),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Fa(F,G)}}finally{qs(-1),Ha(I)}}(t,r,s))}function Qh(t,r,s=wt){const a=r.localNames;if(null!==a){let l=r.index+1;for(let c=0;c<a.length;c+=2){const m=a[c+1],I=-1===m?s(r,t):t[m];t[l++]=I}}}function Jh(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=bd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function bd(t,r,s,a,l,c,m,I,C,F){const G=20+a,oe=G+l,Se=function Zm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:Kn);return s}(G,oe),We="function"==typeof F?F():F;return Se[1]={type:t,blueprint:Se,template:s,queries:null,viewQuery:I,declTNode:r,data:Se.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:C,consts:We,incompleteFirstPass:!1}}function Rl(t,r,s,a){const l=Md(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&zu(t).push(a,l.length-1))}function ef(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function ro(t,r,s,a,l,c,m,I){const C=wt(r,s);let G,F=r.inputs;!I&&null!=F&&(G=F[a])?(Ku(t,s,G,a,l),_r(r)&&function Jm(t,r){const s=q(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Qm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=m?m(l,r.value||"",a):l,ir(c)?c.setProperty(C,a,l):kn(a)||(C.setProperty?C.setProperty(a,l):C[a]=l))}function Gu(t,r,s,a){let l=!1;if(A()){const c=function Qp(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const m=a[c];Mh(s,m.selectors,!1)&&(l||(l=[]),v(mo(s,r),t,m.type),Cr(m)?(Jp(t,s),l.unshift(m)):l.push(m))}return l}(t,r,s),m=null===a?null:{"":-1};if(null!==c){l=!0,Sd(s,t.data.length,c.length);for(let G=0;G<c.length;G++){const oe=c[G];oe.providersResolver&&oe.providersResolver(oe)}let I=!1,C=!1,F=Pa(t,r,c.length,null);for(let G=0;G<c.length;G++){const oe=c[G];s.mergedAttrs=ma(s.mergedAttrs,oe.hostAttrs),Xp(t,s,r,F,oe),ey(F,oe,m),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const Se=oe.type.prototype;!I&&(Se.ngOnChanges||Se.ngOnInit||Se.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!C&&(Se.ngOnChanges||Se.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),C=!0),F++}!function Ym(t,r){const a=r.directiveEnd,l=t.data,c=r.attrs,m=[];let I=null,C=null;for(let F=r.directiveStart;F<a;F++){const G=l[F],oe=G.inputs,Se=null===c||Tl(r)?null:Ol(oe,c);m.push(Se),I=ef(oe,F,I),C=ef(G.outputs,F,C)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=m,r.inputs=I,r.outputs=C}(t,s)}m&&function rf(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const c=s[r[l+1]];if(null==c)throw new tt(-301,!1);a.push(r[l],c)}}}(s,a,m)}return s.mergedAttrs=ma(s.mergedAttrs,s.attrs),l}function Ad(t,r,s,a,l,c){const m=c.hostBindings;if(m){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const C=~r.index;(function Yp(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=C&&I.push(C),I.push(a,l,m)}}function Fa(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Jp(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function ey(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Cr(r)&&(s[""]=t)}}function Sd(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Xp(t,r,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=Jr(l.type)),m=new As(c,Cr(l),null);t.blueprint[a]=m,s[a]=m,Ad(t,r,0,a,Pa(t,s,l.hostVars,Kn),l)}function sf(t,r,s){const a=wt(r,t),l=Jh(s),c=t[10],m=Pl(t,xl(t,l,null,s.onPush?64:16,a,r,c,c.createRenderer(a,s),null,null));t[r.index]=m}function io(t,r,s,a,l,c){const m=wt(t,r);!function wc(t,r,s,a,l,c,m){if(null==c)ir(t)?t.removeAttribute(r,l,s):r.removeAttribute(l);else{const I=null==m?le(c):m(c,a||"",l);ir(t)?t.setAttribute(r,l,I,s):s?r.setAttributeNS(s,l,I):r.setAttribute(l,I)}}(r[11],m,c,t.value,s,a,l)}function eg(t,r,s,a,l,c){const m=c[r];if(null!==m){const I=a.setInput;for(let C=0;C<m.length;){const F=m[C++],G=m[C++],oe=m[C++];null!==I?a.setInput(s,oe,F,G):s[G]=oe}}}function Ol(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ng(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function ig(t,r){const s=q(r,t);if(be(s)){const a=s[1];80&s[2]?ka(a,s,a.template,s[8]):s[5]>0&&of(s)}}function of(t){for(let a=ad(t);null!==a;a=ud(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const m=c[1];ka(m,c,m.template,c[8])}else c[5]>0&&of(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=q(s[a],t);be(l)&&l[5]>0&&of(l)}}function af(t,r){const s=q(r,t),a=s[1];(function ny(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Na(a,s,s[8])}function Pl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function uf(t){for(;t;){t[2]|=64;const r=cc(t);if(Ni(t)&&!r)return t;t=r}return null}function df(t){!function cf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=rd(s),l=a[1];Yh(l,a,l.template,s)}}(t[8])}function bc(t,r,s){zo(0),r(t,s)}const cu=(()=>Promise.resolve(null))();function Md(t){return t[7]||(t[7]=[])}function zu(t){return t.cleanup||(t.cleanup=[])}function hf(t,r){const s=t[9],a=s?s.get(sd,null):null;a&&a.handleError(r)}function Ku(t,r,s,a,l){for(let c=0;c<s.length;){const m=s[c++],I=s[c++],C=r[m],F=t.data[m];null!==F.setInput?F.setInput(C,l,a,I):C[I]=l}}function La(t,r,s){const a=it(r,t);!function Dl(t,r,s){ir(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function xd(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==r)for(let m=0;m<r.length;m++){const I=r[m];"number"==typeof I?c=I:1==c?l=Ee(l,I):2==c&&(a=Ee(a,I+": "+r[++m]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Tc=new Lr("INJECTOR",-1);class ug{get(r,s=re){if(s===re){const a=new Error(`NullInjectorError: No provider for ${ne(r)}!`);throw a.name="NullInjectorError",a}return s}}const gf=new Lr("Set Injector scope."),Zu={},mf={};let yf;function vf(){return void 0===yf&&(yf=new ug),yf}function lg(t,r=null,s=null,a){const l=_f(t,r,s,a);return l._resolveInjectorDefTypes(),l}function _f(t,r=null,s=null,a){return new cg(t,s,r||vf(),a)}class cg{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Ss(s,I=>this.processProvider(I,r,s)),Ss([r],I=>this.processInjectorType(I,[],c)),this.records.set(Tc,Nl(void 0,this));const m=this.records.get(gf);this.scope=null!=m?m.value:null,this.source=l||("object"==typeof r?null:ne(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=re,a=Gt.Default){this.assertNotDestroyed();const l=Hs(this),c=an(void 0);try{if(!(a&Gt.SkipSelf)){let I=this.records.get(r);if(void 0===I){const C=function Df(t){return"function"==typeof t||"object"==typeof t&&t instanceof Lr}(r)&&pn(r);I=C&&this.injectableDefInScope(C)?Nl(Rd(r),Zu):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&Gt.Self?vf():this.parent).get(r,s=a&Gt.Optional&&s===re?null:s)}catch(m){if("NullInjectorError"===m.name){if((m[Ne]=m[Ne]||[]).unshift(ne(r)),l)throw m;return function vo(t,r,s,a){const l=t[Ne];throw r[zn]&&l.unshift(r[zn]),t.message=function ql(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=ne(r);if(Array.isArray(r))l=r.map(ne).join(" -> ");else if("object"==typeof r){let c=[];for(let m in r)if(r.hasOwnProperty(m)){let I=r[m];c.push(m+":"+("string"==typeof I?JSON.stringify(I):ne(I)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Kt,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Ne]=null,t}(m,r,"R3InjectorError",this.source)}throw m}finally{an(c),Hs(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(ne(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processInjectorType(r,s,a){if(!(r=Me(r)))return!1;let l=Ln(r);const c=null==l&&r.ngModule||void 0,m=void 0===c?r:c,I=-1!==a.indexOf(m);if(void 0!==c&&(l=Ln(c)),null==l)return!1;if(null!=l.imports&&!I){let G;a.push(m);try{Ss(l.imports,oe=>{this.processInjectorType(oe,s,a)&&(void 0===G&&(G=[]),G.push(oe))})}finally{}if(void 0!==G)for(let oe=0;oe<G.length;oe++){const{ngModule:Se,providers:We}=G[oe];Ss(We,Dt=>this.processProvider(Dt,Se,We||se))}}this.injectorDefTypes.add(m);const C=Jr(m)||(()=>new m);this.records.set(m,Nl(C,Zu));const F=l.providers;if(null!=F&&!I){const G=r;Ss(F,oe=>this.processProvider(oe,G,F))}return void 0!==c&&void 0!==r.providers}processProvider(r,s,a){let l=du(r=Me(r))?r:Me(r&&r.provide);const c=function ry(t,r,s){return fg(t)?Nl(void 0,t.useValue):Nl(hg(t),Zu)}(r);if(du(r)||!0!==r.multi)this.records.get(l);else{let m=this.records.get(l);m||(m=Nl(void 0,Zu,!0),m.factory=()=>Wr(m.multi),this.records.set(l,m)),l=r,m.multi.push(r)}this.records.set(l,c)}hydrate(r,s){return s.value===Zu&&(s.value=mf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function sy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Me(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Rd(t){const r=pn(t),s=null!==r?r.factory:Jr(t);if(null!==s)return s;if(t instanceof Lr)throw new tt(204,!1);if(t instanceof Function)return function dg(t){const r=t.length;if(r>0)throw function Ea(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new tt(204,!1);const s=function Fn(t){const r=t&&(t[Yn]||t[tn]);if(r){const s=function vn(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new tt(204,!1)}function hg(t,r,s){let a;if(du(t)){const l=Me(t);return Jr(l)||Rd(l)}if(fg(t))a=()=>Me(t.useValue);else if(function If(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Wr(t.deps||[]));else if(function Ef(t){return!(!t||!t.useExisting)}(t))a=()=>Rn(Me(t.useExisting));else{const l=Me(t&&(t.useClass||t.provide));if(!function wf(t){return!!t.deps}(t))return Jr(l)||Rd(l);a=()=>new l(...Wr(t.deps))}return a}function Nl(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function fg(t){return null!==t&&"object"==typeof t&&Rr in t}function du(t){return"function"==typeof t}let Vo=(()=>{class t{static create(s,a){var l;if(Array.isArray(s))return lg({name:""},a,s,"");{const c=null!==(l=s.name)&&void 0!==l?l:"";return lg({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=re,t.NULL=new ug,t.\u0275prov=qt({token:t,providedIn:"any",factory:()=>Rn(Tc)}),t.__NG_ELEMENT_ID__=-1,t})();function Af(t,r){as(rd(t)[1],Qn())}function Vd(t){let r=function Ld(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(Cr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const m=t;m.inputs=Ud(t.inputs),m.declaredInputs=Ud(t.declaredInputs),m.outputs=Ud(t.outputs);const I=l.hostBindings;I&&Mf(t,I);const C=l.viewQuery,F=l.contentQueries;if(C&&uy(t,C),F&&ly(t,F),ge(t.inputs,l.inputs),ge(t.declaredInputs,l.declaredInputs),ge(t.outputs,l.outputs),Cr(l)&&l.data.animation){const G=t.data;G.animation=(G.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let m=0;m<c.length;m++){const I=c[m];I&&I.ngInherit&&I(t),I===Vd&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sf(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=ma(l.hostAttrs,s=ma(s,l.hostAttrs))}}(a)}function Ud(t){return t===dn?{}:t===se?[]:t}function uy(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function ly(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{r(a,l,c),s(a,l,c)}:r}function Mf(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Fl=null;function Ll(){if(!Fl){const t=sn.Symbol;if(t&&t.iterator)Fl=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Fl=a)}}}return Fl}function Vl(t){return!!Bd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ll()in t)}function Bd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function so(t,r,s){return t[r]=s}function Os(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function xc(t,r,s,a){const l=de();return Os(l,Ks(),r)&&(St(),io(Fr(),l,t,r,s,a)),xc}function hu(t,r,s,a){return Os(t,Ks(),s)?r+le(s)+a:Kn}function Mg(t,r,s,a,l,c,m,I){const C=de(),F=St(),G=t+20,oe=F.firstCreatePass?function hy(t,r,s,a,l,c,m,I,C){const F=r.consts,G=$u(r,t,4,m||null,It(F,I));Gu(r,s,G,It(F,C)),as(r,G);const oe=G.tViews=bd(2,G,a,l,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F);return null!==r.queries&&(r.queries.template(r,G),oe.queries=r.queries.embeddedTView(G)),G}(G,F,C,r,s,a,l,c,m):F.data[G];Oi(oe,!1);const Se=C[11].createComment("");su(F,C,Se,oe),Es(Se,C),Pl(C,C[G]=ng(Se,C,Se,oe)),Hn(oe)&&Dd(F,C,oe),null!=m&&Qh(C,oe,I)}function Bo(t,r=Gt.Default){const s=de();return null===s?Rn(t,r):U(Qn(),s,Me(t),r)}function Pc(){throw new Error("invalid")}function jf(t,r,s){const a=de();return Os(a,Ks(),r)&&ro(St(),Fr(),a,t,r,a[11],s,!1),jf}function $f(t,r,s,a,l){const m=l?"class":"style";Ku(t,s,r.inputs[m],m,a)}function Nc(t,r,s,a){const l=de(),c=St(),m=20+t,I=l[11],C=l[m]=Eh(I,r,function $l(){return Jt.lFrame.currentNamespace}()),F=c.firstCreatePass?function Ug(t,r,s,a,l,c,m){const I=r.consts,F=$u(r,t,2,l,It(I,c));return Gu(r,s,F,It(I,m)),null!==F.attrs&&xd(F,F.attrs,!1),null!==F.mergedAttrs&&xd(F,F.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,F),F}(m,c,l,0,r,s,a):c.data[m];Oi(F,!0);const G=F.mergedAttrs;null!==G&&ga(I,C,G);const oe=F.classes;null!==oe&&Ah(I,C,oe);const Se=F.styles;return null!==Se&&Op(I,C,Se),64!=(64&F.flags)&&su(c,l,C,F),0===function yr(){return Jt.lFrame.elementDepthCount}()&&Es(C,l),function Vn(){Jt.lFrame.elementDepthCount++}(),Hn(F)&&(Dd(c,l,F),function wd(t,r,s){if(tr(r)){const l=r.directiveEnd;for(let c=r.directiveStart;c<l;c++){const m=t.data[c];m.contentQueries&&m.contentQueries(1,s[c],c)}}}(c,F,l)),null!==a&&Qh(l,F),Nc}function tl(){let t=Qn();gs()?function Ws(){Jt.lFrame.isParent=!1}():(t=t.parent,Oi(t,!1));const r=t;!function O(){Jt.lFrame.elementDepthCount--}();const s=St();return s.firstCreatePass&&(as(s,t),tr(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ul(t){return 0!=(16&t.flags)}(r)&&$f(s,r,de(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vt(t){return 0!=(32&t.flags)}(r)&&$f(s,r,de(),r.stylesWithoutHost,!1),tl}function Hf(t,r,s,a){return Nc(t,r,s,a),tl(),Hf}function Bg(){return de()}function Gf(t){return!!t&&"function"==typeof t.then}function jg(t){return!!t&&"function"==typeof t.subscribe}const Zd=jg;function kc(t,r,s,a){const l=de(),c=St(),m=Qn();return function Wf(t,r,s,a,l,c,m,I){const C=Hn(a),G=t.firstCreatePass&&zu(t),oe=r[8],Se=Md(r);let We=!0;if(3&a.type||I){const rn=wt(a,r),In=I?I(rn):rn,Ot=Se.length,Bn=I?Sr=>I(x(Sr[a.index])):a.index;if(ir(s)){let Sr=null;if(!I&&C&&(Sr=function rl(t,r,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const m=l[c];if(m===s&&l[c+1]===a){const I=r[7],C=l[c+2];return I.length>C?I[C]:null}"string"==typeof m&&(c+=2)}return null}(t,r,l,a.index)),null!==Sr)(Sr.__ngLastListenerFn__||Sr).__ngNextListenerFn__=c,Sr.__ngLastListenerFn__=c,We=!1;else{c=Fc(a,r,oe,c,!1);const $r=s.listen(In,l,c);Se.push(c,$r),G&&G.push(l,Bn,Ot,Ot+1)}}else c=Fc(a,r,oe,c,!0),In.addEventListener(l,c,m),Se.push(c),G&&G.push(l,Bn,Ot,m)}else c=Fc(a,r,oe,c,!1);const Dt=a.outputs;let Ht;if(We&&null!==Dt&&(Ht=Dt[l])){const rn=Ht.length;if(rn)for(let In=0;In<rn;In+=2){const $o=r[Ht[In]][Ht[In+1]].subscribe(c),Gc=Se.length;Se.push(c,$o),G&&G.push(l,a.index,Gc,-(Gc+1))}}}(c,l,l[11],m,t,r,!!s,a),kc}function Kf(t,r,s,a){try{return!1!==s(a)}catch(l){return hf(t,l),!1}}function Fc(t,r,s,a,l){return function c(m){if(m===Function)return a;const I=2&t.flags?q(t.index,r):r;0==(32&r[2])&&uf(I);let C=Kf(r,0,a,m),F=c.__ngNextListenerFn__;for(;F;)C=Kf(r,0,F,m)&&C,F=F.__ngNextListenerFn__;return l&&!1===C&&(m.preventDefault(),m.returnValue=!1),C}}function qd(t=1){return function wu(t){return(Jt.lFrame.contextLView=function fa(t,r){for(;t>0;)r=r[15],t--;return r}(t,Jt.lFrame.contextLView))[8]}(t)}function Jd(t,r,s){return il(t,"",r,"",s),Jd}function il(t,r,s,a,l){const c=de(),m=hu(c,r,s,a);return m!==Kn&&ro(St(),Fr(),c,t,m,c[11],l,!1),il}function zg(t,r,s,a,l){const c=t[s+1],m=null===r;let I=a?Io(c):Ra(c),C=!1;for(;0!==I&&(!1===C||m);){const G=t[I+1];xy(t[I],r)&&(C=!0,t[I+1]=a?Nh(G):Oh(G)),I=a?Io(G):Ra(G)}C&&(t[s+1]=a?Oh(c):Nh(c))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Oo(t,r)>=0}function Uc(t,r){return function jo(t,r,s,a){const l=de(),c=St(),m=function Ui(t){const r=Jt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}(2);c.firstUpdatePass&&function nm(t,r,s,a){const l=t.data;if(null===l[s+1]){const c=l[Bi()],m=function tm(t,r){return r>=t.expandoStartIndex}(t,s);(function im(t,r){return 0!=(t.flags&(r?16:32))})(c,a)&&null===r&&!m&&(r=!1),r=function Fy(t,r,s,a){const l=function ho(t){const r=Jt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let c=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Bc(s=Yf(null,t,r,s,a),r.attrs,a),c=null);else{const m=r.directiveStylingLast;if(-1===m||t[m]!==l)if(s=Yf(l,t,r,s,a),null===c){let C=function Ly(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Ra(a))return t[Io(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=Yf(null,t,r,C[1],a),C=Bc(C,r.attrs,a),function Vy(t,r,s,a){t[Io(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else c=function Uy(t,r,s){let a;const l=r.directiveEnd;for(let c=1+r.directiveStylingLast;c<l;c++)a=Bc(a,t[c].hostAttrs,s);return Bc(a,r.attrs,s)}(t,r,a)}return void 0!==c&&(a?r.residualClasses=c:r.residualStyles=c),s}(l,c,r,a),function Vc(t,r,s,a,l,c){let m=c?r.classBindings:r.styleBindings,I=Io(m),C=Ra(m);t[a]=s;let G,F=!1;if(Array.isArray(s)){const oe=s;G=oe[1],(null===G||Oo(oe,G)>0)&&(F=!0)}else G=s;if(l)if(0!==C){const Se=Io(t[I+1]);t[a+1]=Al(Se,I),0!==Se&&(t[Se+1]=Sl(t[Se+1],a)),t[I+1]=function Bm(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=Al(I,0),0!==I&&(t[I+1]=Sl(t[I+1],a)),I=a;else t[a+1]=Al(C,0),0===I?I=a:t[C+1]=Sl(t[C+1],a),C=a;F&&(t[a+1]=Oh(t[a+1])),zg(t,G,a,!0),zg(t,G,a,!1),function My(t,r,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof r&&Oo(c,r)>=0&&(s[a+1]=Nh(s[a+1]))}(r,G,t,a,c),m=Al(I,C),c?r.classBindings=m:r.styleBindings=m}(l,c,r,s,m,a)}}(c,t,m,a),r!==Kn&&Os(l,m,r)&&function ol(t,r,s,a,l,c,m,I){if(!(3&r.type))return;const C=t.data,F=C[I+1];eh(function Ph(t){return 1==(1&t)}(F)?Xd(C,r,s,l,Ra(F),m):void 0)||(eh(c)||function Lp(t){return 2==(2&t)}(F)&&(c=Xd(C,null,s,l,I,m)),function Rp(t,r,s,a,l){const c=ir(t);if(r)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let m=-1===a.indexOf("-")?void 0:oa.DashCase;if(null==l)c?t.removeStyle(s,a,m):s.style.removeProperty(a);else{const I="string"==typeof l&&l.endsWith("!important");I&&(l=l.slice(0,-10),m|=oa.Important),c?t.setStyle(s,a,l,m):s.style.setProperty(a,l,I?"important":"")}}}(a,m,it(Bi(),s),l,c))}(c,c.data[Bi()],l,l[11],t,l[m+1]=function $y(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=ne(Gs(t)))),t}(r,s),a,m)}(t,r,null,!0),Uc}function Yf(t,r,s,a,l){let c=null;const m=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<m&&(c=r[I],a=Bc(a,c.hostAttrs,l),c!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function Bc(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let c=0;c<r.length;c++){const m=r[c];"number"==typeof m?l=m:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),pr(t,m,!!s||r[++c]))}return void 0===t?null:t}function Xd(t,r,s,a,l,c){const m=null===r;let I;for(;l>0;){const C=t[l],F=Array.isArray(C),G=F?C[1]:C,oe=null===G;let Se=s[l+1];Se===Kn&&(Se=oe?se:void 0);let We=oe?Ia(Se,a):G===a?Se:void 0;if(F&&!eh(We)&&(We=Ia(C,a)),eh(We)&&(I=We,m))return I;const Dt=t[l+1];l=m?Io(Dt):Ra(Dt)}if(null!==r){let C=c?r.residualClasses:r.residualStyles;null!=C&&(I=Ia(C,a))}return I}function eh(t){return void 0!==t}function sm(t,r=""){const s=de(),a=St(),l=t+20,c=a.firstCreatePass?$u(a,l,1,r,null):a.data[l],m=s[l]=function _h(t,r){return ir(t)?t.createText(r):t.createTextNode(r)}(s[11],r);su(a,s,m,c),Oi(c,!1)}function Qf(t){return th("",t,""),Qf}function th(t,r,s){const a=de(),l=hu(a,t,r,s);return l!==Kn&&La(a,Bi(),l),th}const jc=void 0;var iE=["en",[["a","p"],["AM","PM"],jc],[["AM","PM"],jc,jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jc,"{1} 'at' {0}",jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let nh={};function zy(t){const r=function sE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=a_(r);if(s)return s;const a=r.split("-")[0];if(s=a_(a),s)return s;if("en"===a)return iE;throw new Error(`Missing locale data for the locale "${t}".`)}function o_(t){return zy(t)[Wn.PluralCase]}function a_(t){return t in nh||(nh[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),nh[t]}var Wn=(()=>((Wn=Wn||{})[Wn.LocaleId=0]="LocaleId",Wn[Wn.DayPeriodsFormat=1]="DayPeriodsFormat",Wn[Wn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Wn[Wn.DaysFormat=3]="DaysFormat",Wn[Wn.DaysStandalone=4]="DaysStandalone",Wn[Wn.MonthsFormat=5]="MonthsFormat",Wn[Wn.MonthsStandalone=6]="MonthsStandalone",Wn[Wn.Eras=7]="Eras",Wn[Wn.FirstDayOfWeek=8]="FirstDayOfWeek",Wn[Wn.WeekendRange=9]="WeekendRange",Wn[Wn.DateFormat=10]="DateFormat",Wn[Wn.TimeFormat=11]="TimeFormat",Wn[Wn.DateTimeFormat=12]="DateTimeFormat",Wn[Wn.NumberSymbols=13]="NumberSymbols",Wn[Wn.NumberFormats=14]="NumberFormats",Wn[Wn.CurrencyCode=15]="CurrencyCode",Wn[Wn.CurrencySymbol=16]="CurrencySymbol",Wn[Wn.CurrencyName=17]="CurrencyName",Wn[Wn.Currencies=18]="Currencies",Wn[Wn.Directionality=19]="Directionality",Wn[Wn.PluralCase=20]="PluralCase",Wn[Wn.ExtraData=21]="ExtraData",Wn))();const am="en-US";let u_=am;function Zy(t,r,s,a,l){if(t=Me(t),Array.isArray(t))for(let c=0;c<t.length;c++)Zy(t[c],r,s,a,l);else{const c=St(),m=de();let I=du(t)?t:Me(t.provide),C=hg(t);const F=Qn(),G=1048575&F.providerIndexes,oe=F.directiveStart,Se=F.providerIndexes>>20;if(du(t)||!t.multi){const We=new As(C,l,Bo),Dt=Yy(I,r,l?G:G+Se,oe);-1===Dt?(v(mo(F,m),c,I),qy(c,t,r.length),r.push(I),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),s.push(We),m.push(We)):(s[Dt]=We,m[Dt]=We)}else{const We=Yy(I,r,G+Se,oe),Dt=Yy(I,r,G,G+Se),Ht=We>=0&&s[We],rn=Dt>=0&&s[Dt];if(l&&!rn||!l&&!Ht){v(mo(F,m),c,I);const In=function rI(t,r,s,a,l){const c=new As(t,s,Bo);return c.multi=[],c.index=r,c.componentProviders=0,O_(c,l,a&&!s),c}(l?nI:tI,s.length,l,a,C);!l&&rn&&(s[Dt].providerFactory=In),qy(c,t,r.length,0),r.push(I),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),s.push(In),m.push(In)}else qy(c,t,We>-1?We:Dt,O_(s[l?Dt:We],C,!l&&a));!l&&a&&rn&&s[Dt].componentProviders++}}}function qy(t,r,s,a){const l=du(r),c=function iy(t){return!!t.useClass}(r);if(l||c){const C=(c?Me(r.useClass):r).prototype.ngOnDestroy;if(C){const F=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const G=F.indexOf(s);-1===G?F.push(s,[a,C]):F[G+1].push(a,C)}else F.push(s,C)}}}function O_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Yy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function tI(t,r,s,a){return Qy(this.multi,[])}function nI(t,r,s,a){const l=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,I=Zt(s,s[1],this.providerFactory.index,a);c=I.slice(0,m),Qy(l,c);for(let C=m;C<I.length;C++)c.push(I[C])}else c=[],Qy(l,c);return c}function Qy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function P_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function eI(t,r,s){const a=St();if(a.firstCreatePass){const l=Cr(t);Zy(s,a.data,a.blueprint,l,!0),Zy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class N_{}class oI{resolveComponentFactory(r){throw function sI(t){const r=Error(`No component factory found for ${ne(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let hm=(()=>{class t{}return t.NULL=new oI,t})();function aI(){return ih(Qn(),de())}function ih(t,r){return new rp(wt(t,r))}let rp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=aI,t})();function uI(t){return t instanceof rp?t.nativeElement:t}class F_{}let lI=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function dI(){const t=de(),s=q(Qn().index,t);return function cI(t){return t[11]}(Rt(s)?s:t)}(),t})(),hI=(()=>{class t{}return t.\u0275prov=qt({token:t,providedIn:"root",factory:()=>null}),t})();class L_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const V_=new L_("13.3.9"),Jy={};function fm(t,r,s,a,l=!1){for(;null!==s;){const c=r[s.index];if(null!==c&&a.push(x(c)),zt(c))for(let I=10;I<c.length;I++){const C=c[I],F=C[1].firstChild;null!==F&&fm(C[1],C,F,a)}const m=s.type;if(8&m)fm(t,r,s.child,a);else if(32&m){const I=gh(s,r);let C;for(;C=I();)a.push(C)}else if(16&m){const I=Mp(r,s);if(Array.isArray(I))a.push(...I);else{const C=cc(r[16]);fm(C[1],C,I,a,!0)}}s=l?s.projectionNext:s.next}return a}class ip{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return fm(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(zt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(dc(r,a),Js(s,a))}this._attachedToViewContainer=!1}Ma(this._lView[1],this._lView)}onDestroy(r){Rl(this._lView[1],this._lView,null,r)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Dc(t,r,s){const a=r[10];a.begin&&a.begin();try{ka(t,r,t.template,s)}catch(l){throw hf(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ih(t,r){fc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,"");this._appRef=r}}class fI extends ip{constructor(r){super(r),this._view=r}detectChanges(){df(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends hm{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=$t(r);return new Xy(s,this.ngModule)}}function B_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Xy extends N_{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function ju(t){return t.map(Fp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(r,s,a,l){const c=(l=l||this.ngModule)?function gI(t,r){return{get:(s,a,l)=>{const c=t.get(s,Jy,l);return c!==Jy||a===Jy?c:r.get(s,a,l)}}}(r,l.injector):r,m=c.get(F_,R),I=c.get(hI,null),C=m.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",G=a?function Ic(t,r,s){if(ir(t))return t.selectRootElement(r,s===Ve.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(C,a,this.componentDef.encapsulation):Eh(m.createRenderer(null,this.componentDef),F,function pI(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(F)),oe=this.componentDef.onPush?576:528,Se=function Dg(t,r){return{components:[],scheduler:t||Pm,clean:cu,playerHandler:r||null,flags:0}}(),We=bd(0,null,null,1,0,null,null,null,null,null),Dt=xl(null,We,Se,oe,null,null,m,C,I,c);let Ht,rn;po(Dt);try{const In=function wg(t,r,s,a,l,c){const m=s[1];s[20]=t;const C=$u(m,20,2,"#host",null),F=C.mergedAttrs=r.hostAttrs;null!==F&&(xd(C,F,!0),null!==t&&(ga(l,t,F),null!==C.classes&&Ah(l,t,C.classes),null!==C.styles&&Op(l,t,C.styles)));const G=a.createRenderer(t,r),oe=xl(s,Jh(r),null,r.onPush?64:16,s[20],C,a,G,c||null,null);return m.firstCreatePass&&(v(mo(C,s),m,r.type),Jp(m,C),Sd(C,s.length,1)),Pl(s,oe),s[20]=oe}(G,this.componentDef,Dt,m,C);if(G)if(a)ga(C,G,["ng-version",V_.full]);else{const{attrs:Ot,classes:Bn}=function Um(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&r.push(c,t[++a]):8===l&&s.push(c);else{if(!Eo(l))break;l=c}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ot&&ga(C,G,Ot),Bn&&Bn.length>0&&Ah(C,G,Bn.join(" "))}if(rn=cr(We,20),void 0!==s){const Ot=rn.projection=[];for(let Bn=0;Bn<this.ngContentSelectors.length;Bn++){const Sr=s[Bn];Ot.push(null!=Sr?Array.from(Sr):null)}}Ht=function Fd(t,r,s,a,l){const c=s[1],m=function Td(t,r,s){const a=Qn();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Xp(t,a,r,Pa(t,r,1,null),s));const l=Zt(r,t,a.directiveStart,a);Es(l,r);const c=wt(a,r);return c&&Es(c,r),l}(c,s,r);if(a.components.push(m),t[8]=m,l&&l.forEach(C=>C(m,r)),r.contentQueries){const C=Qn();r.contentQueries(1,m,C.directiveStart)}const I=Qn();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(qs(I.index),Ad(s[1],I,0,I.directiveStart,I.directiveEnd,r),Fa(r,m)),m}(In,this.componentDef,Dt,Se,[Af]),Na(We,Dt,null)}finally{Ts()}return new yI(this.componentType,Ht,ih(rn,Dt),Dt,rn)}}class yI extends class iI{}{constructor(r,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new fI(l),this.componentType=r}get injector(){return new Ci(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class sh{}class j_{}const oh=new Map;class G_ extends sh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const a=wn(r);this._bootstrapComponents=sa(a.bootstrap),this._r3Injector=_f(r,s,[{provide:sh,useValue:this},{provide:hm,useValue:this.componentFactoryResolver}],ne(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Vo.THROW_IF_NOT_FOUND,a=Gt.Default){return r===Vo||r===sh||r===Tc?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ev extends j_{constructor(r){super(),this.moduleType=r,null!==wn(r)&&function _I(t){const r=new Set;!function s(a){const l=wn(a,!0),c=l.id;null!==c&&(function $_(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${ne(r)} vs ${ne(r.name)}`)}(c,oh.get(c),a),oh.set(c,a));const m=sa(l.imports);for(const I of m)r.has(I)||(r.add(I),s(I))}(t)}(r)}create(r){return new G_(this.moduleType,r)}}function z_(t,r,s){const a=Di()+t,l=de();return l[a]===Kn?so(l,a,s?r.call(s):r()):function Mc(t,r){return t[r]}(l,a)}function W_(t,r,s,a){return K_(de(),Di(),t,r,s,a)}function K_(t,r,s,a,l,c){const m=r+s;return Os(t,m,l)?so(t,m+1,c?a.call(c,l):a(l)):function sp(t,r){const s=t[r];return s===Kn?void 0:s}(t,m+1)}function J_(t,r){const s=St();let a;const l=t+20;s.firstCreatePass?(a=function SI(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const c=a.factory||(a.factory=Jr(a.type)),m=an(Bo);try{const I=Ao(!1),C=c();return Ao(I),function fy(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,de(),l,C),C}finally{an(m)}}function X_(t,r,s){const a=t+20,l=de(),c=function or(t,r){return t[r]}(l,a);return function op(t,r){return t[1].data[r].pure}(l,a)?K_(l,Di(),r,c.transform,s,c):c.transform(s)}function tv(t){return r=>{setTimeout(t,void 0,r)}}const Iu=class PI extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,c,m;let I=r,C=s||(()=>null),F=a;if(r&&"object"==typeof r){const oe=r;I=null===(l=oe.next)||void 0===l?void 0:l.bind(oe),C=null===(c=oe.error)||void 0===c?void 0:c.bind(oe),F=null===(m=oe.complete)||void 0===m?void 0:m.bind(oe)}this.__isAsync&&(C=tv(C),I&&(I=tv(I)),F&&(F=tv(F)));const G=super.subscribe({next:I,error:C,complete:F});return r instanceof E.w0&&r.add(G),G}};function NI(){return this._results[Ll()]()}class nv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Ll(),a=nv.prototype;a[s]||(a[s]=NI)}get changes(){return this._changes||(this._changes=new Iu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ji(r);(this._changesDetected=!function Qo(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=r[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ap=(()=>{class t{}return t.__NG_ELEMENT_ID__=LI,t})();const kI=ap,FI=class extends kI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=xl(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),Na(s,a,r),new ip(a)}};function LI(){return pm(Qn(),de())}function pm(t,r){return 4&t.type?new FI(r,t,ih(t,r)):null}let gm=(()=>{class t{}return t.__NG_ELEMENT_ID__=VI,t})();function VI(){return n0(Qn(),de())}const UI=gm,e0=class extends UI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return ih(this._hostTNode,this._hostLView)}get injector(){return new Ci(this._hostTNode,this._hostLView)}get parentInjector(){const r=D(this._hostTNode,this._hostLView);if(st(r)){const s=js(r,this._hostLView),a=vt(r);return new Ci(s[1].data[a+8],s)}return new Ci(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=t0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,c){const m=r&&!function _s(t){return"function"==typeof t}(r);let I;if(m)I=s;else{const oe=s||{};I=oe.index,a=oe.injector,l=oe.projectableNodes,c=oe.ngModuleRef}const C=m?r:new Xy($t(r)),F=a||this.parentInjector;if(!c&&null==C.ngModule){const Se=(m?F:this.parentInjector).get(sh,null);Se&&(c=Se)}const G=C.create(F,l,void 0,c);return this.insert(G.hostView,I),G}insert(r,s){const a=r._lView,l=a[1];if(function ze(t){return zt(t[3])}(a)){const G=this.indexOf(r);if(-1!==G)this.detach(G);else{const oe=a[3],Se=new e0(oe,oe[6],oe[3]);Se.detach(Se.indexOf(r))}}const c=this._adjustIndex(s),m=this._lContainer;!function hs(t,r,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=r),a<c-10?(r[4]=s[l],Za(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const m=r[17];null!==m&&s!==m&&function wh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(m,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=128}(l,a,m,c);const I=fd(c,m),C=a[11],F=Cl(C,m[7]);return null!==F&&function bp(t,r,s,a,l,c){a[0]=l,a[6]=r,fc(t,a,s,1,l,c)}(l,m[6],C,a,F,I),r.attachToViewContainerRef(),Za(rv(m),c,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=t0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=dc(this._lContainer,s);a&&(Js(rv(this._lContainer),s),Ma(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=dc(this._lContainer,s);return a&&null!=Js(rv(this._lContainer),s)?new ip(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function t0(t){return t[8]}function rv(t){return t[8]||(t[8]=[])}function n0(t,r){let s;const a=r[t.index];if(zt(a))s=a;else{let l;if(8&t.type)l=x(a);else{const c=r[11];l=c.createComment("");const m=wt(t,r);no(c,Cl(c,m),l,function Dh(t,r){return ir(t)?t.nextSibling(r):r.nextSibling}(c,m),!1)}r[t.index]=s=ng(a,r,l,t),Pl(r,s)}return new e0(s,t,r)}class iv{constructor(r){this.queryList=r,this.matches=null}clone(){return new iv(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const m=s.getByIndex(c);l.push(this.queries[m.indexInDeclarationView].clone())}return new sv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==d0(r,s).matches&&this.queries[s].setDirty()}}class r0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class ov{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(r,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new ov(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class av{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new av(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(r,s,$I(s,c)),this.matchTNodeWithReadOption(r,s,en(s,r,c,!1,!1))}else a===ap?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,en(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===rp||l===gm||l===ap&&4&s.type)this.addMatch(s.index,-2);else{const c=en(s,r,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $I(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function GI(t,r,s,a){return-1===s?function HI(t,r){return 11&t.type?ih(t,r):4&t.type?pm(t,r):null}(r,t):-2===s?function zI(t,r,s){return s===rp?ih(r,t):s===ap?pm(r,t):s===gm?n0(r,t):void 0}(t,r,a):Zt(t,t[1],s,r)}function s0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const c=t.data,m=s.matches,I=[];for(let C=0;C<m.length;C+=2){const F=m[C];I.push(F<0?null:GI(r,c[F],m[C+1],s.metadata.read))}l.matches=I}return l.matches}function uv(t,r,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const m=s0(t,r,l,s);for(let I=0;I<c.length;I+=2){const C=c[I];if(C>0)a.push(m[I/2]);else{const F=c[I+1],G=r[-C];for(let oe=10;oe<G.length;oe++){const Se=G[oe];Se[17]===Se[3]&&uv(Se[1],Se,F,a)}if(null!==G[9]){const oe=G[9];for(let Se=0;Se<oe.length;Se++){const We=oe[Se];uv(We[1],We,F,a)}}}}}return a}function o0(t){const r=de(),s=St(),a=Go();zo(a+1);const l=d0(s,a);if(t.dirty&&Y(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?uv(s,r,a,[]):s0(s,r,l,a);t.reset(c,uI),t.notifyOnChanges()}return!0}return!1}function a0(t,r,s,a){const l=St();if(l.firstCreatePass){const c=Qn();(function c0(t,r,s){null===t.queries&&(t.queries=new ov),t.queries.track(new av(r,s))})(l,new r0(r,s,a),c.index),function ZI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function l0(t,r,s){const a=new nv(4==(4&s));Rl(t,r,a,a.destroy),null===r[19]&&(r[19]=new sv),r[19].queries.push(new iv(a))}(l,de(),s)}function u0(){return function KI(t,r){return t[19].queries[r].queryList}(de(),Go())}function d0(t,r){return t.queries.getByIndex(r)}function vm(...t){}const S0=new Lr("Application Initializer");let pv=(()=>{class t{constructor(s){this.appInits=s,this.resolve=vm,this.reject=vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(Gf(c))s.push(c);else if(Zd(c)){const m=new Promise((I,C)=>{c.subscribe({complete:I,error:C})});s.push(m)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Rn(S0,8))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const M0=new Lr("AppId",{providedIn:"root",factory:function x0(){return`${gv()}${gv()}${gv()}`}});function gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R0=new Lr("Platform Initializer"),hw=new Lr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O0=new Lr("appBootstrapListener");let fw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const mv=new Lr("LocaleId",{providedIn:"root",factory:()=>Pi(mv,Gt.Optional|Gt.SkipSelf)||function pw(){return"undefined"!=typeof $localize&&$localize.locale||am}()}),gw=new Lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let yw=(()=>{class t{compileModuleSync(s){return new ev(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),c=sa(wn(s).declarations).reduce((m,I)=>{const C=$t(I);return C&&m.push(new Xy(C)),m},[]);return new mw(a,c)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _w=(()=>Promise.resolve(0))();function yv(t){"undefined"==typeof Zone?_w.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class ja{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Iu(!1),this.onMicrotaskEmpty=new Iu(!1),this.onStable=new Iu(!1),this.onError=new Iu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Ew(){let t=sn.requestAnimationFrame,r=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function Dw(t){const r=()=>{!function ww(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_v(t),t.isCheckStableRunning=!0,vv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_v(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,m,I)=>{try{return P0(t),s.invokeTask(l,c,m,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&r(),N0(t)}},onInvoke:(s,a,l,c,m,I,C)=>{try{return P0(t),s.invoke(l,c,m,I,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),N0(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,_v(t),vv(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ja.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ja.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+l,r,Iw,vm,vm);try{return c.runTask(m,s,a)}finally{c.cancelTask(m)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Iw={};function vv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _v(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function P0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function N0(t){t._nesting--,vv(t)}class bw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Iu,this.onMicrotaskEmpty=new Iu,this.onStable=new Iu,this.onError=new Iu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let k0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ja.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)(Rn(ja))},t.\u0275prov=qt({token:t,factory:t.\u0275fac}),t})(),Cw=(()=>{class t{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ev.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Tw{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Aw(t){Ev=t}let Ev=new Tw,$c=null;const F0=new Lr("AllowMultipleToken"),L0=new Lr("PlatformOnDestroy");class xw{constructor(r,s){this.name=r,this.token=s}}function V0(t,r,s=[]){const a=`Platform: ${r}`,l=new Lr(a);return(c=[])=>{let m=Iv();if(!m||m.injector.get(F0,!1)){const I=[...s,...c,{provide:l,useValue:!0}];t?t(I):function Rw(t){if($c&&!$c.get(F0,!1))throw new tt(400,"");$c=t;const r=t.get(U0),s=t.get(R0,null);s&&s.forEach(a=>a())}(function Pw(t=[],r){return Vo.create({name:r,providers:[{provide:gf,useValue:"platform"},{provide:L0,useValue:()=>$c=null},...t]})}(I,a))}return function Ow(t){const r=Iv();if(!r)throw new tt(401,"");return r}()}}function Iv(){var t;return null!==(t=null==$c?void 0:$c.get(U0))&&void 0!==t?t:null}let U0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const I=function Nw(t,r){let s;return s="noop"===t?new bw:("zone.js"===t?void 0:t)||new ja({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:ja,useValue:I}];return I.run(()=>{const F=Vo.create({providers:C,parent:this.injector,name:s.moduleType.name}),G=s.create(F),oe=G.injector.get(sd,null);if(!oe)throw new tt(402,"");return I.runOutsideAngular(()=>{const Se=I.onError.subscribe({next:We=>{oe.handleError(We)}});G.onDestroy(()=>{Dv(this._modules,G),Se.unsubscribe()})}),function kw(t,r,s){try{const a=s();return Gf(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(oe,I,()=>{const Se=G.injector.get(pv);return Se.runInitializers(),Se.donePromise.then(()=>(function lE(t){Ut(t,"Expected localeId to be defined"),"string"==typeof t&&(u_=t.toLowerCase().replace(/_/g,"-"))}(G.injector.get(mv,am)||am),this._moduleDoBootstrap(G),G))})})}bootstrapModule(s,a=[]){const l=B0({},a);return function Sw(t,r,s){const a=new ev(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get(wv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new tt(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(L0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Rn(Vo))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function B0(t,r){return Array.isArray(r)?r.reduce(B0,t):Object.assign(Object.assign({},t),r)}let wv=(()=>{class t{constructor(s,a,l,c){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new z.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),I=new z.y(C=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{ja.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{ja.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{F.unsubscribe(),G.unsubscribe()}});this.isStable=(0,ie.T)(m,I.pipe((0,V.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new tt(405,"");let l;l=s instanceof N_?s:this._injector.get(hm).resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function Mw(t){return t.isBoundToModule}(l)?void 0:this._injector.get(sh),I=l.create(Vo.NULL,[],a||l.selector,c),C=I.location.nativeElement,F=I.injector.get(k0,null),G=F&&I.injector.get(Cw);return F&&G&&G.registerApplication(C,F),I.onDestroy(()=>{this.detachView(I.hostView),Dv(this.components,I),G&&G.unregisterApplication(C)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new tt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Dv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(O0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)(Rn(ja),Rn(Vo),Rn(sd),Rn(pv))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Dv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let $0=!0,H0=!1;function Lw(){return H0=!0,$0}function Vw(){if(H0)throw new Error("Cannot enable prod mode after platform setup.");$0=!1}let Uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bw,t})();function Bw(t){return function jw(t,r,s){if(_r(t)&&!s){const a=q(t.index,r);return new ip(a,a)}return 47&t.type?new ip(r[16],r):null}(Qn(),de(),16==(16&t))}class K0{constructor(){}supports(r){return Vl(r)}create(r){return new Kw(r)}}const Ww=(t,r)=>r;class Kw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Ww}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const m=!a||s&&s.currentIndex<q0(a,l,c)?s:a,I=q0(m,l,c),C=m.currentIndex;if(m===a)l--,a=a._nextRemoved;else if(s=s._next,null==m.previousIndex)l++;else{c||(c=[]);const F=I-l,G=C-l;if(F!=G){for(let Se=0;Se<F;Se++){const We=Se<c.length?c[Se]:c[Se]=0,Dt=We+Se;G<=Dt&&Dt<F&&(c[Se]=We+1)}c[m.previousIndex]=G-F}}I!==C&&r(m,I,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Vl(r))throw new tt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,c,m,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)c=r[I],m=this._trackByFn(I,c),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,c,m,I)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,m,I),a=!0),s=s._next}else l=0,function Of(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Ll()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{m=this._trackByFn(l,I),null!==s&&Object.is(s.trackById,m)?(a&&(s=this._verifyReinsertion(s,I,m,l)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,m,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,c,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,c,l)):r=this._addAfter(new Zw(s,a),c,l),r}_verifyReinsertion(r,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?r=this._reinsertAfter(c,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,c=r._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new Z0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Z0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class Zw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class Z0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new qw,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function q0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class Y0{constructor(){}supports(r){return r instanceof Map||Bd(r)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Bd(r)))throw new tt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const c=l._prev,m=l._next;return c&&(c._next=m),m&&(m._prev=c),l._next=null,l._prev=null,l}const a=new Qw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Qw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q0(){return new Sv([new K0])}let Sv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Q0()),deps:[[t,new Qa,new xs]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new tt(901,"")}}return t.\u0275prov=qt({token:t,providedIn:"root",factory:Q0}),t})();function J0(){return new Mv([new Y0])}let Mv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||J0()),deps:[[t,new Qa,new xs]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new tt(901,"")}}return t.\u0275prov=qt({token:t,providedIn:"root",factory:J0}),t})();const eD=V0(null,"core",[]);let tD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Rn(wv))},t.\u0275mod=ke({type:t}),t.\u0275inj=Yt({}),t})()},2382:(kt,Ue,S)=>{S.d(Ue,{Wl:()=>le,Fj:()=>Ke,qu:()=>yr,u:()=>Xr,sg:()=>Yr,u5:()=>Jt,JJ:()=>ye,JL:()=>De,YN:()=>lr,wV:()=>ki,UX:()=>hr,Q7:()=>K,EJ:()=>Hr,kI:()=>je,_Y:()=>ks,Kr:()=>ps});var f=S(5e3),E=S(9808),z=S(8306),ie=S(4742),V=S(8421),Ie=S(7669),ge=S(5403),ne=S(3268),Ee=S(1810),ae=S(8996),Me=S(4004);let Qe=(()=>{class O{constructor(T,W){this._renderer=T,this._elementRef=W,this.onChange=de=>{},this.onTouched=()=>{}}setProperty(T,W){this._renderer.setProperty(this._elementRef.nativeElement,T,W)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.Qsj),f.Y36(f.SBq))},O.\u0275dir=f.lG2({type:O}),O})(),He=(()=>{class O extends Qe{}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,features:[f.qOj]}),O})();const tt=new f.OlP("NgValueAccessor"),pt={provide:tt,useExisting:(0,f.Gpc)(()=>le),multi:!0};let le=(()=>{class O extends He{writeValue(T){this.setProperty("checked",T)}}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,W){1&T&&f.NdJ("change",function(St){return W.onChange(St.target.checked)})("blur",function(){return W.onTouched()})},features:[f._Bn([pt]),f.qOj]}),O})();const Xe={provide:tt,useExisting:(0,f.Gpc)(()=>Ke),multi:!0},At=new f.OlP("CompositionEventMode");let Ke=(()=>{class O extends Qe{constructor(T,W,de){super(T,W),this._compositionMode=de,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ct(){const O=(0,E.q)()?(0,E.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(At,8))},O.\u0275dir=f.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,W){1&T&&f.NdJ("input",function(St){return W._handleInput(St.target.value)})("blur",function(){return W.onTouched()})("compositionstart",function(){return W._compositionStart()})("compositionend",function(St){return W._compositionEnd(St.target.value)})},features:[f._Bn([Xe]),f.qOj]}),O})();function Fe(O){return null==O||0===O.length}function Ze(O){return null!=O&&"number"==typeof O.length}const bt=new f.OlP("NgValidators"),ue=new f.OlP("NgAsyncValidators"),xe=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(A){return function ce(O){return A=>{if(Fe(A.value)||Fe(O))return null;const T=parseFloat(A.value);return!isNaN(T)&&T<O?{min:{min:O,actual:A.value}}:null}}(A)}static max(A){return function Oe(O){return A=>{if(Fe(A.value)||Fe(O))return null;const T=parseFloat(A.value);return!isNaN(T)&&T>O?{max:{max:O,actual:A.value}}:null}}(A)}static required(A){return Be(A)}static requiredTrue(A){return function Ge(O){return!0===O.value?null:{required:!0}}(A)}static email(A){return function Le(O){return Fe(O.value)||xe.test(O.value)?null:{email:!0}}(A)}static minLength(A){return function gt(O){return A=>Fe(A.value)||!Ze(A.value)?null:A.value.length<O?{minlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function Nt(O){return A=>Ze(A.value)&&A.value.length>O?{maxlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static pattern(A){return function Bt(O){if(!O)return Ut;let A,T;return"string"==typeof O?(T="","^"!==O.charAt(0)&&(T+="^"),T+=O,"$"!==O.charAt(O.length-1)&&(T+="$"),A=new RegExp(T)):(T=O.toString(),A=O),W=>{if(Fe(W.value))return null;const de=W.value;return A.test(de)?null:{pattern:{requiredPattern:T,actualValue:de}}}}(A)}static nullValidator(A){return null}static compose(A){return Yt(A)}static composeAsync(A){return bn(A)}}function Be(O){return Fe(O.value)?{required:!0}:null}function Ut(O){return null}function Tt(O){return null!=O}function _n(O){const A=(0,f.QGY)(O)?(0,ae.D)(O):O;return(0,f.CqO)(A),A}function Nn(O){let A={};return O.forEach(T=>{A=null!=T?Object.assign(Object.assign({},A),T):A}),0===Object.keys(A).length?null:A}function Tn(O,A){return A.map(T=>T(O))}function on(O){return O.map(A=>function qt(O){return!O.validate}(A)?A:T=>A.validate(T))}function Yt(O){if(!O)return null;const A=O.filter(Tt);return 0==A.length?null:function(T){return Nn(Tn(T,A))}}function pn(O){return null!=O?Yt(on(O)):null}function bn(O){if(!O)return null;const A=O.filter(Tt);return 0==A.length?null:function(T){return function Q(...O){const A=(0,Ie.jO)(O),{args:T,keys:W}=(0,ie.D)(O),de=new z.y(St=>{const{length:Xn}=T;if(!Xn)return void St.complete();const Qn=new Array(Xn);let Ri=Xn,Vi=Xn;for(let Oi=0;Oi<Xn;Oi++){let gs=!1;(0,V.Xf)(T[Oi]).subscribe((0,ge.x)(St,Ws=>{gs||(gs=!0,Vi--),Qn[Oi]=Ws},()=>Ri--,void 0,()=>{(!Ri||!gs)&&(Vi||St.next(W?(0,Ee.n)(W,Qn):Qn),St.complete())}))}});return A?de.pipe((0,ne.Z)(A)):de}(Tn(T,A).map(_n)).pipe((0,Me.U)(Nn))}}function Fn(O){return null!=O?bn(on(O)):null}function vn(O,A){return null===O?[A]:Array.isArray(O)?[...O,A]:[O,A]}function Ln(O){return O._rawValidators}function Yn(O){return O._rawAsyncValidators}function Jn(O){return O?Array.isArray(O)?O:[O]:[]}function tn(O,A){return Array.isArray(O)?O.includes(A):O===A}function Zn(O,A){const T=Jn(A);return Jn(O).forEach(de=>{tn(T,de)||T.push(de)}),T}function Gt(O,A){return Jn(A).filter(T=>!tn(O,T))}class Ir{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=Fn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,T){return!!this.control&&this.control.hasError(A,T)}getError(A,T){return this.control?this.control.getError(A,T):null}}class Cn extends Ir{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends Ir{get formDirective(){return null}get path(){return null}}class nr{constructor(A){this._cd=A}is(A){var T,W,de;return"submitted"===A?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(de=null===(W=this._cd)||void 0===W?void 0:W.control)||void 0===de?void 0:de[A])}}let ye=(()=>{class O extends nr{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(Cn,2))},O.\u0275dir=f.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,W){2&T&&f.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))},features:[f.qOj]}),O})(),De=(()=>{class O extends nr{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(an,10))},O.\u0275dir=f.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,W){2&T&&f.ekj("ng-untouched",W.is("untouched"))("ng-touched",W.is("touched"))("ng-pristine",W.is("pristine"))("ng-dirty",W.is("dirty"))("ng-valid",W.is("valid"))("ng-invalid",W.is("invalid"))("ng-pending",W.is("pending"))("ng-submitted",W.is("submitted"))},features:[f.qOj]}),O})();function Ae(O,A){ht(O,A),A.valueAccessor.writeValue(O.value),function ke(O,A){A.valueAccessor.registerOnChange(T=>{O._pendingValue=T,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&fe(O,A)})}(O,A),function rt(O,A){const T=(W,de)=>{A.valueAccessor.writeValue(W),de&&A.viewToModelUpdate(W)};O.registerOnChange(T),A._registerOnDestroy(()=>{O._unregisterOnChange(T)})}(O,A),function ve(O,A){A.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&fe(O,A),"submit"!==O.updateOn&&O.markAsTouched()})}(O,A),function Mt(O,A){if(A.valueAccessor.setDisabledState){const T=W=>{A.valueAccessor.setDisabledState(W)};O.registerOnDisabledChange(T),A._registerOnDestroy(()=>{O._unregisterOnDisabledChange(T)})}}(O,A)}function Ye(O,A,T=!0){const W=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(W),A.valueAccessor.registerOnTouched(W)),Lt(O,A),O&&(A._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function ct(O,A){O.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(A)})}function ht(O,A){const T=Ln(O);null!==A.validator?O.setValidators(vn(T,A.validator)):"function"==typeof T&&O.setValidators([T]);const W=Yn(O);null!==A.asyncValidator?O.setAsyncValidators(vn(W,A.asyncValidator)):"function"==typeof W&&O.setAsyncValidators([W]);const de=()=>O.updateValueAndValidity();ct(A._rawValidators,de),ct(A._rawAsyncValidators,de)}function Lt(O,A){let T=!1;if(null!==O){if(null!==A.validator){const de=Ln(O);if(Array.isArray(de)&&de.length>0){const St=de.filter(Xn=>Xn!==A.validator);St.length!==de.length&&(T=!0,O.setValidators(St))}}if(null!==A.asyncValidator){const de=Yn(O);if(Array.isArray(de)&&de.length>0){const St=de.filter(Xn=>Xn!==A.asyncValidator);St.length!==de.length&&(T=!0,O.setAsyncValidators(St))}}}const W=()=>{};return ct(A._rawValidators,W),ct(A._rawAsyncValidators,W),T}function fe(O,A){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function Gn(O,A){const T=O.indexOf(A);T>-1&&O.splice(T,1)}const xt="VALID",_e="INVALID",qe="PENDING",Et="DISABLED";function Sn(O){return(xr(O)?O.validators:O)||null}function $n(O){return Array.isArray(O)?pn(O):O||null}function Mn(O,A){return(xr(A)?A.asyncValidators:O)||null}function ur(O){return Array.isArray(O)?Fn(O):O||null}function xr(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}const fn=O=>O instanceof dr,Dr=O=>O instanceof Pe,fi=O=>O instanceof we;function Zr(O){return fn(O)?O.value:O.getRawValue()}function si(O,A){const T=Dr(O),W=O.controls;if(!(T?Object.keys(W):W).length)throw new f.vHH(1e3,"");if(!W[A])throw new f.vHH(1001,"")}function vr(O,A){Dr(O),O._forEachChild((W,de)=>{if(void 0===A[de])throw new f.vHH(1002,"")})}class Pr{constructor(A,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=A,this._rawAsyncValidators=T,this._composedValidatorFn=$n(this._rawValidators),this._composedAsyncValidatorFn=ur(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===xt}get invalid(){return this.status===_e}get pending(){return this.status==qe}get disabled(){return this.status===Et}get enabled(){return this.status!==Et}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._rawValidators=A,this._composedValidatorFn=$n(A)}setAsyncValidators(A){this._rawAsyncValidators=A,this._composedAsyncValidatorFn=ur(A)}addValidators(A){this.setValidators(Zn(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(Zn(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(Gt(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(Gt(A,this._rawAsyncValidators))}hasValidator(A){return tn(this._rawValidators,A)}hasAsyncValidator(A){return tn(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=qe,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=Et,this.errors=null,this._forEachChild(W=>{W.disable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(W=>W(!0))}enable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=xt,this._forEachChild(W=>{W.enable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(W=>W(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xt||this.status===qe)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Et:xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=qe,this._hasOwnPendingAsyncValidator=!0;const T=_n(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(W=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(W,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,T={}){this.errors=A,this._updateControlsErrors(!1!==T.emitEvent)}get(A){return function Xt(O,A,T){if(null==A||(Array.isArray(A)||(A=A.split(T)),Array.isArray(A)&&0===A.length))return null;let W=O;return A.forEach(de=>{W=Dr(W)?W.controls.hasOwnProperty(de)?W.controls[de]:null:fi(W)&&W.at(de)||null}),W}(this,A,".")}getError(A,T){const W=T?this.get(T):this;return W&&W.errors?W.errors[A]:null}hasError(A,T){return!!this.getError(A,T)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Et:this.errors?_e:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qe)?qe:this._anyControlsHaveStatus(_e)?_e:xt}_anyControlsHaveStatus(A){return this._anyControls(T=>T.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_isBoxedValue(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){xr(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dr extends Pr{constructor(A=null,T,W){super(Sn(T),Mn(W,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xr(T)&&T.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(A)?A.value:A)}setValue(A,T={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(W=>W(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(A,T={}){this.setValue(A,T)}reset(A=this.defaultValue,T={}){this._applyFormState(A),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){Gn(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){Gn(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){this._isBoxedValue(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}}class Pe extends Pr{constructor(A,T,W){super(Sn(T),Mn(W,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,T){return this.controls[A]?this.controls[A]:(this.controls[A]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(A,T,W={}){this.registerControl(A,T),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}removeControl(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(A,T,W={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],T&&this.registerControl(A,T),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,T={}){vr(this,A),Object.keys(A).forEach(W=>{si(this,W),this.controls[W].setValue(A[W],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(Object.keys(A).forEach(W=>{this.controls[W]&&this.controls[W].patchValue(A[W],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A={},T={}){this._forEachChild((W,de)=>{W.reset(A[de],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(A,T,W)=>(A[W]=Zr(T),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(T,W)=>!!W._syncPendingControls()||T);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(T=>{const W=this.controls[T];W&&A(W,T)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const T of Object.keys(this.controls)){const W=this.controls[T];if(this.contains(T)&&A(W))return!0}return!1}_reduceValue(){return this._reduceChildren({},(A,T,W)=>((T.enabled||this.disabled)&&(A[W]=T.value),A))}_reduceChildren(A,T){let W=A;return this._forEachChild((de,St)=>{W=T(W,de,St)}),W}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class we extends Pr{constructor(A,T,W){super(Sn(T),Mn(W,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[A]}push(A,T={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(A,T,W={}){this.controls.splice(A,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:W.emitEvent})}removeAt(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(A,T,W={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),T&&(this.controls.splice(A,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:W.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,T={}){vr(this,A),A.forEach((W,de)=>{si(this,de),this.at(de).setValue(W,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(A.forEach((W,de)=>{this.at(de)&&this.at(de).patchValue(W,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A=[],T={}){this._forEachChild((W,de)=>{W.reset(A[de],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(A=>Zr(A))}clear(A={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_syncPendingControls(){let A=this.controls.reduce((T,W)=>!!W._syncPendingControls()||T,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){this.controls.forEach((T,W)=>{A(T,W)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(T=>T.enabled&&A(T))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}}let ks=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=f.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const qr={provide:tt,useExisting:(0,f.Gpc)(()=>ki),multi:!0};let ki=(()=>{class O extends He{writeValue(T){this.setProperty("value",null==T?"":T)}registerOnChange(T){this.onChange=W=>{T(""==W?null:parseFloat(W))}}}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,W){1&T&&f.NdJ("input",function(St){return W.onChange(St.target.value)})("blur",function(){return W.onTouched()})},features:[f._Bn([qr]),f.qOj]}),O})(),Fi=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({}),O})();const Mi=new f.OlP("NgModelWithFormControlWarning"),Cs={provide:an,useExisting:(0,f.Gpc)(()=>Yr)};let Yr=(()=>{class O extends an{constructor(T,W){super(),this.validators=T,this.asyncValidators=W,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(T),this._setAsyncValidators(W)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const W=this.form.get(T.path);return Ae(W,T),W.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),W}getControl(T){return this.form.get(T.path)}removeControl(T){Ye(T.control||null,T,!1),Gn(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,W){this.form.get(T.path).setValue(W)}onSubmit(T){return this.submitted=!0,function An(O,A){O._syncPendingControls(),A.forEach(T=>{const W=T.control;"submit"===W.updateOn&&W._pendingChange&&(T.viewToModelUpdate(W._pendingValue),W._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const W=T.control,de=this.form.get(T.path);W!==de&&(Ye(W||null,T),fn(de)&&(Ae(de,T),T.control=de))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const W=this.form.get(T.path);(function at(O,A){ht(O,A)})(W,T),W.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const W=this.form.get(T.path);W&&function $t(O,A){return Lt(O,A)}(W,T)&&W.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ht(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(bt,10),f.Y36(ue,10))},O.\u0275dir=f.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(T,W){1&T&&f.NdJ("submit",function(St){return W.onSubmit(St)})("reset",function(){return W.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Cs]),f.qOj,f.TTD]}),O})();const gi={provide:Cn,useExisting:(0,f.Gpc)(()=>Xr)};let Xr=(()=>{class O extends Cn{constructor(T,W,de,St,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(W),this._setAsyncValidators(de),this.valueAccessor=function wr(O,A){if(!A)return null;let T,W,de;return Array.isArray(A),A.forEach(St=>{St.constructor===Ke?T=St:function Pn(O){return Object.getPrototypeOf(O.constructor)===He}(St)?W=St:de=St}),de||W||T||null}(0,St)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),function sr(O,A){if(!O.hasOwnProperty("model"))return!1;const T=O.model;return!!T.isFirstChange()||!Object.is(A,T.currentValue)}(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return function ee(O,A){return[...A.path,O]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(T){return new(T||O)(f.Y36(an,13),f.Y36(bt,10),f.Y36(ue,10),f.Y36(tt,10),f.Y36(Mi,8))},O.\u0275dir=f.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([gi]),f.qOj,f.TTD]}),O})();const Ki={provide:tt,useExisting:(0,f.Gpc)(()=>Hr),multi:!0};function oi(O,A){return null==O?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${O}: ${A}`.slice(0,50))}let Hr=(()=>{class O extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const de=oi(this._getOptionId(T),T);this.setProperty("value",de)}registerOnChange(T){this.onChange=W=>{this.value=this._getOptionValue(W),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W),T))return W;return null}_getOptionValue(T){const W=function Ii(O){return O.split(":")[0]}(T);return this._optionMap.has(W)?this._optionMap.get(W):T}}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,W){1&T&&f.NdJ("change",function(St){return W.onChange(St.target.value)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Ki]),f.qOj]}),O})(),lr=(()=>{class O{constructor(T,W,de){this._element=T,this._renderer=W,this._select=de,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(oi(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Hr,9))},O.\u0275dir=f.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})();const Li={provide:tt,useExisting:(0,f.Gpc)(()=>ei),multi:!0};function fs(O,A){return null==O?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${O}: ${A}`.slice(0,50))}let ei=(()=>{class O extends He{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let W;if(this.value=T,Array.isArray(T)){const de=T.map(St=>this._getOptionId(St));W=(St,Xn)=>{St._setSelected(de.indexOf(Xn.toString())>-1)}}else W=(de,St)=>{de._setSelected(!1)};this._optionMap.forEach(W)}registerOnChange(T){this.onChange=W=>{const de=[],St=W.selectedOptions;if(void 0!==St){const Xn=St;for(let Qn=0;Qn<Xn.length;Qn++){const Vi=this._getOptionValue(Xn[Qn].value);de.push(Vi)}}else{const Xn=W.options;for(let Qn=0;Qn<Xn.length;Qn++){const Ri=Xn[Qn];if(Ri.selected){const Vi=this._getOptionValue(Ri.value);de.push(Vi)}}}this.value=de,T(de)}}_registerOption(T){const W=(this._idCounter++).toString();return this._optionMap.set(W,T),W}_getOptionId(T){for(const W of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(W)._value,T))return W;return null}_getOptionValue(T){const W=function Br(O){return O.split(":")[0]}(T);return this._optionMap.has(W)?this._optionMap.get(W)._value:T}}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,W){1&T&&f.NdJ("change",function(St){return W.onChange(St.target)})("blur",function(){return W.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Li]),f.qOj]}),O})(),ps=(()=>{class O{constructor(T,W,de){this._element=T,this._renderer=W,this._select=de,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(fs(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(fs(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ei,9))},O.\u0275dir=f.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})(),mi=(()=>{class O{constructor(){this._validator=Ut}ngOnChanges(T){if(this.inputName in T){const W=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(W),this._validator=this._enabled?this.createValidator(W):Ut,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=f.lG2({type:O,features:[f.TTD]}),O})();const $={provide:bt,useExisting:(0,f.Gpc)(()=>K),multi:!0};let K=(()=>{class O extends mi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=T=>function wi(O){return null!=O&&!1!==O&&"false"!=`${O}`}(T),this.createValidator=T=>Be}enabled(T){return T}}return O.\u0275fac=function(){let A;return function(W){return(A||(A=f.n5z(O)))(W||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,W){2&T&&f.uIk("required",W._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([$]),f.qOj]}),O})(),yn=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[[Fi]]}),O})(),Jt=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[yn]}),O})(),hr=(()=>{class O{static withConfig(T){return{ngModule:O,providers:[{provide:Mi,useValue:T.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[yn]}),O})(),yr=(()=>{class O{group(T,W=null){const de=this._reduceControls(T);let Qn,St=null,Xn=null;return null!=W&&(function mr(O){return void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn}(W)?(St=null!=W.validators?W.validators:null,Xn=null!=W.asyncValidators?W.asyncValidators:null,Qn=null!=W.updateOn?W.updateOn:void 0):(St=null!=W.validator?W.validator:null,Xn=null!=W.asyncValidator?W.asyncValidator:null)),new Pe(de,{asyncValidators:Xn,updateOn:Qn,validators:St})}control(T,W,de){return new dr(T,W,de)}array(T,W,de){const St=T.map(Xn=>this._createControl(Xn));return new we(St,W,de)}_reduceControls(T){const W={};return Object.keys(T).forEach(de=>{W[de]=this._createControl(T[de])}),W}_createControl(T){return fn(T)||Dr(T)||fi(T)?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:hr}),O})()},4410:(kt,Ue,S)=>{S.d(Ue,{jw:()=>De,F0:()=>bi,rH:()=>us,Od:()=>Fs,yS:()=>As,Bz:()=>st,lC:()=>wi,fw:()=>mi});var f=S(5e3),E=S(8306),z=S(4742),ie=S(8996),V=S(4671),Ie=S(3268),ge=S(7669),ne=S(1810),Ee=S(5403),Q=S(9672);function Qe(D,v,y){D?(0,Q.f)(y,D,v):v()}var He=S(576);function tt(D,v){const y=(0,He.m)(D)?D:()=>D,M=P=>P.error(y());return new E.y(v?P=>v.schedule(M,0,P):M)}var pt=S(8421);function le(D){return new E.y(v=>{(0,pt.Xf)(D()).subscribe(v)})}var Xe=S(727),Ct=S(4482);function At(){return(0,Ct.e)((D,v)=>{let y=null;D._refCount++;const M=(0,Ee.x)(v,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(y=null);const P=D._connection,U=y;y=null,P&&(!U||P===U)&&P.unsubscribe(),v.unsubscribe()});D.subscribe(M),M.closed||(y=D.connect())})}class Ke extends E.y{constructor(v,y){super(),this.source=v,this.subjectFactory=y,this._subject=null,this._refCount=0,this._connection=null,(0,Ct.A)(v)&&(this.lift=v.lift)}_subscribe(v){return this.getSubject().subscribe(v)}getSubject(){const v=this._subject;return(!v||v.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:v}=this;this._subject=this._connection=null,null==v||v.unsubscribe()}connect(){let v=this._connection;if(!v){v=this._connection=new Xe.w0;const y=this.getSubject();v.add(this.source.subscribe((0,Ee.x)(y,void 0,()=>{this._teardown(),y.complete()},M=>{this._teardown(),y.error(M)},()=>this._teardown()))),v.closed&&(this._connection=null,v=Xe.w0.EMPTY)}return v}refCount(){return At()(this)}}var Fe=S(9646),Ze=S(1135),bt=S(6805),ue=S(7272),xe=S(515),je=S(7579);function ce(D){return(0,Ct.e)((v,y)=>{let U,M=null,P=!1;M=v.subscribe((0,Ee.x)(y,void 0,void 0,he=>{U=(0,pt.Xf)(D(he,ce(D)(v))),M?(M.unsubscribe(),M=null,U.subscribe(y)):P=!0})),P&&(M.unsubscribe(),M=null,U.subscribe(y))})}var Oe=S(9300);function Be(D){return D<=0?()=>xe.E:(0,Ct.e)((v,y)=>{let M=[];v.subscribe((0,Ee.x)(y,P=>{M.push(P),D<M.length&&M.shift()},()=>{for(const P of M)y.next(P);y.complete()},void 0,()=>{M=null}))})}var Ge=S(8068),Le=S(6590),Bt=S(4004),Ut=S(3900),Tt=S(5698),_n=S(8675),Nn=S(5026),Tn=S(4351),qt=S(590),on=S(5577),Yt=S(8505),pn=S(8189),bn=S(9808);class Fn{constructor(v,y){this.id=v,this.url=y}}class vn extends Fn{constructor(v,y,M="imperative",P=null){super(v,y),this.navigationTrigger=M,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends Fn{constructor(v,y,M){super(v,y),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yn extends Fn{constructor(v,y,M){super(v,y),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jn extends Fn{constructor(v,y,M){super(v,y),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tn extends Fn{constructor(v,y,M,P){super(v,y),this.urlAfterRedirects=M,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zn extends Fn{constructor(v,y,M,P){super(v,y),this.urlAfterRedirects=M,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gt extends Fn{constructor(v,y,M,P,U){super(v,y),this.urlAfterRedirects=M,this.state=P,this.shouldActivate=U}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ir extends Fn{constructor(v,y,M,P){super(v,y),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends Fn{constructor(v,y,M,P){super(v,y),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an{constructor(v){this.route=v}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class nr{constructor(v){this.route=v}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gr{constructor(v){this.snapshot=v}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(v){this.snapshot=v}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ye{constructor(v){this.snapshot=v}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(v){this.snapshot=v}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(v,y,M){this.routerEvent=v,this.position=y,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class _t{constructor(v){this.params=v||{}}has(v){return Object.prototype.hasOwnProperty.call(this.params,v)}get(v){if(this.has(v)){const y=this.params[v];return Array.isArray(y)?y[0]:y}return null}getAll(v){if(this.has(v)){const y=this.params[v];return Array.isArray(y)?y:[y]}return[]}get keys(){return Object.keys(this.params)}}function yt(D){return new _t(D)}const gn="ngNavigationCancelingError";function hn(D){const v=Error("NavigationCancelingError: "+D);return v[gn]=!0,v}function ar(D,v,y){const M=y.path.split("/");if(M.length>D.length||"full"===y.pathMatch&&(v.hasChildren()||M.length<D.length))return null;const P={};for(let U=0;U<M.length;U++){const he=M[U],Ce=D[U];if(he.startsWith(":"))P[he.substring(1)]=Ce;else if(he!==Ce.path)return null}return{consumed:D.slice(0,M.length),posParams:P}}function dn(D,v){const y=D?Object.keys(D):void 0,M=v?Object.keys(v):void 0;if(!y||!M||y.length!=M.length)return!1;let P;for(let U=0;U<y.length;U++)if(P=y[U],!se(D[P],v[P]))return!1;return!0}function se(D,v){if(Array.isArray(D)&&Array.isArray(v)){if(D.length!==v.length)return!1;const y=[...D].sort(),M=[...v].sort();return y.every((P,U)=>M[U]===P)}return D===v}function me(D){return Array.prototype.concat.apply([],D)}function J(D){return D.length>0?D[D.length-1]:null}function N(D,v){for(const y in D)D.hasOwnProperty(y)&&v(D[y],y)}function X(D){return(0,f.CqO)(D)?D:(0,f.QGY)(D)?(0,ie.D)(Promise.resolve(D)):(0,Fe.of)(D)}const Ae={exact:function ht(D,v,y){if(!Dn(D.segments,v.segments)||!fe(D.segments,v.segments,y)||D.numberOfChildren!==v.numberOfChildren)return!1;for(const M in v.children)if(!D.children[M]||!ht(D.children[M],v.children[M],y))return!1;return!0},subset:ke},Ye={exact:function Mt(D,v){return dn(D,v)},subset:function Lt(D,v){return Object.keys(v).length<=Object.keys(D).length&&Object.keys(v).every(y=>se(D[y],v[y]))},ignored:()=>!0};function ct(D,v,y){return Ae[y.paths](D.root,v.root,y.matrixParams)&&Ye[y.queryParams](D.queryParams,v.queryParams)&&!("exact"===y.fragment&&D.fragment!==v.fragment)}function ke(D,v,y){return ve(D,v,v.segments,y)}function ve(D,v,y,M){if(D.segments.length>y.length){const P=D.segments.slice(0,y.length);return!(!Dn(P,y)||v.hasChildren()||!fe(P,y,M))}if(D.segments.length===y.length){if(!Dn(D.segments,y)||!fe(D.segments,y,M))return!1;for(const P in v.children)if(!D.children[P]||!ke(D.children[P],v.children[P],M))return!1;return!0}{const P=y.slice(0,D.segments.length),U=y.slice(D.segments.length);return!!(Dn(D.segments,P)&&fe(D.segments,P,M)&&D.children[Ve])&&ve(D.children[Ve],v,U,M)}}function fe(D,v,y){return v.every((M,P)=>Ye[y](D[P].parameters,M.parameters))}class rt{constructor(v,y,M){this.root=v,this.queryParams=y,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return Pn.serialize(this)}}class at{constructor(v,y){this.segments=v,this.children=y,this.parent=null,N(y,(M,P)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return An(this)}}class $t{constructor(v,y){this.path=v,this.parameters=y}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return Et(this)}}function Dn(D,v){return D.length===v.length&&D.every((y,M)=>y.path===v[M].path)}class rr{}class sr{parse(v){const y=new fi(v);return new rt(y.parseRootSegment(),y.parseQueryParams(),y.parseFragment())}serialize(v){const y=`/${wr(v.root,!0)}`,M=function Sn(D){const v=Object.keys(D).map(y=>{const M=D[y];return Array.isArray(M)?M.map(P=>`${Kr(y)}=${Kr(P)}`).join("&"):`${Kr(y)}=${Kr(M)}`}).filter(y=>!!y);return v.length?`?${v.join("&")}`:""}(v.queryParams);return`${y}${M}${"string"==typeof v.fragment?`#${function Mr(D){return encodeURI(D)}(v.fragment)}`:""}`}}const Pn=new sr;function An(D){return D.segments.map(v=>Et(v)).join("/")}function wr(D,v){if(!D.hasChildren())return An(D);if(v){const y=D.children[Ve]?wr(D.children[Ve],!1):"",M=[];return N(D.children,(P,U)=>{U!==Ve&&M.push(`${U}:${wr(P,!1)}`)}),M.length>0?`${y}(${M.join("//")})`:y}{const y=function wn(D,v){let y=[];return N(D.children,(M,P)=>{P===Ve&&(y=y.concat(v(M,P)))}),N(D.children,(M,P)=>{P!==Ve&&(y=y.concat(v(M,P)))}),y}(D,(M,P)=>P===Ve?[wr(D.children[Ve],!1)]:[`${P}:${wr(M,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Ve]?`${An(D)}/${y[0]}`:`${An(D)}/(${y.join("//")})`}}function Gn(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(D){return Gn(D).replace(/%3B/gi,";")}function xt(D){return Gn(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _e(D){return decodeURIComponent(D)}function qe(D){return _e(D.replace(/\+/g,"%20"))}function Et(D){return`${xt(D.path)}${function Xt(D){return Object.keys(D).map(v=>`;${xt(v)}=${xt(D[v])}`).join("")}(D.parameters)}`}const $n=/^[^\/()?;=#]+/;function Mn(D){const v=D.match($n);return v?v[0]:""}const ur=/^[^=?&#]+/,fn=/^[^&#]+/;class fi{constructor(v){this.url=v,this.remaining=v}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){const v={};if(this.consumeOptional("?"))do{this.parseQueryParam(v)}while(this.consumeOptional("&"));return v}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const v=[];for(this.peekStartsWith("(")||v.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),v.push(this.parseSegment());let y={};this.peekStartsWith("/(")&&(this.capture("/"),y=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(v.length>0||Object.keys(y).length>0)&&(M[Ve]=new at(v,y)),M}parseSegment(){const v=Mn(this.remaining);if(""===v&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(v),new $t(_e(v),this.parseMatrixParams())}parseMatrixParams(){const v={};for(;this.consumeOptional(";");)this.parseParam(v);return v}parseParam(v){const y=Mn(this.remaining);if(!y)return;this.capture(y);let M="";if(this.consumeOptional("=")){const P=Mn(this.remaining);P&&(M=P,this.capture(M))}v[_e(y)]=_e(M)}parseQueryParam(v){const y=function xr(D){const v=D.match(ur);return v?v[0]:""}(this.remaining);if(!y)return;this.capture(y);let M="";if(this.consumeOptional("=")){const he=function Dr(D){const v=D.match(fn);return v?v[0]:""}(this.remaining);he&&(M=he,this.capture(M))}const P=qe(y),U=qe(M);if(v.hasOwnProperty(P)){let he=v[P];Array.isArray(he)||(he=[he],v[P]=he),he.push(U)}else v[P]=U}parseParens(v){const y={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Mn(this.remaining),P=this.remaining[M.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let U;M.indexOf(":")>-1?(U=M.substr(0,M.indexOf(":")),this.capture(U),this.capture(":")):v&&(U=Ve);const he=this.parseChildren();y[U]=1===Object.keys(he).length?he[Ve]:new at([],he),this.consumeOptional("//")}return y}peekStartsWith(v){return this.remaining.startsWith(v)}consumeOptional(v){return!!this.peekStartsWith(v)&&(this.remaining=this.remaining.substring(v.length),!0)}capture(v){if(!this.consumeOptional(v))throw new Error(`Expected "${v}".`)}}class Zr{constructor(v){this._root=v}get root(){return this._root.value}parent(v){const y=this.pathFromRoot(v);return y.length>1?y[y.length-2]:null}children(v){const y=si(v,this._root);return y?y.children.map(M=>M.value):[]}firstChild(v){const y=si(v,this._root);return y&&y.children.length>0?y.children[0].value:null}siblings(v){const y=vr(v,this._root);return y.length<2?[]:y[y.length-2].children.map(P=>P.value).filter(P=>P!==v)}pathFromRoot(v){return vr(v,this._root).map(y=>y.value)}}function si(D,v){if(D===v.value)return v;for(const y of v.children){const M=si(D,y);if(M)return M}return null}function vr(D,v){if(D===v.value)return[v];for(const y of v.children){const M=vr(D,y);if(M.length)return M.unshift(v),M}return[]}class Pr{constructor(v,y){this.value=v,this.children=y}toString(){return`TreeNode(${this.value})`}}function dr(D){const v={};return D&&D.children.forEach(y=>v[y.value.outlet]=y),v}class Pe extends Zr{constructor(v,y){super(v),this.snapshot=y,Hn(this,v)}toString(){return this.snapshot.toString()}}function we(D,v){const y=function Je(D,v){const he=new tr([],{},{},"",{},Ve,v,null,D.root,-1,{});return new _r("",new Pr(he,[]))}(D,v),M=new Ze.X([new $t("",{})]),P=new Ze.X({}),U=new Ze.X({}),he=new Ze.X({}),Ce=new Ze.X(""),dt=new ft(M,P,he,Ce,U,Ve,v,y.root);return dt.snapshot=y.root,new Pe(new Pr(dt,[]),y)}class ft{constructor(v,y,M,P,U,he,Ce,dt){this.url=v,this.params=y,this.queryParams=M,this.fragment=P,this.data=U,this.outlet=he,this.component=Ce,this._futureSnapshot=dt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.U)(v=>yt(v)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.U)(v=>yt(v)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rt(D,v="emptyOnly"){const y=D.pathFromRoot;let M=0;if("always"!==v)for(M=y.length-1;M>=1;){const P=y[M],U=y[M-1];if(P.routeConfig&&""===P.routeConfig.path)M--;else{if(U.component)break;M--}}return function zt(D){return D.reduce((v,y)=>({params:Object.assign(Object.assign({},v.params),y.params),data:Object.assign(Object.assign({},v.data),y.data),resolve:Object.assign(Object.assign({},v.resolve),y._resolvedData)}),{params:{},data:{},resolve:{}})}(y.slice(M))}class tr{constructor(v,y,M,P,U,he,Ce,dt,en,Zt,En){this.url=v,this.params=y,this.queryParams=M,this.fragment=P,this.data=U,this.outlet=he,this.component=Ce,this.routeConfig=dt,this._urlSegment=en,this._lastPathIndex=Zt,this._resolve=En}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _r extends Zr{constructor(v,y){super(y),this.url=v,Hn(this,y)}toString(){return Cr(this._root)}}function Hn(D,v){v.value._routerState=D,v.children.forEach(y=>Hn(D,y))}function Cr(D){const v=D.children.length>0?` { ${D.children.map(Cr).join(", ")} } `:"";return`${D.value}${v}`}function Ni(D){if(D.snapshot){const v=D.snapshot,y=D._futureSnapshot;D.snapshot=y,dn(v.queryParams,y.queryParams)||D.queryParams.next(y.queryParams),v.fragment!==y.fragment&&D.fragment.next(y.fragment),dn(v.params,y.params)||D.params.next(y.params),function jn(D,v){if(D.length!==v.length)return!1;for(let y=0;y<D.length;++y)if(!dn(D[y],v[y]))return!1;return!0}(v.url,y.url)||D.url.next(y.url),dn(v.data,y.data)||D.data.next(y.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function kr(D,v){const y=dn(D.params,v.params)&&function ln(D,v){return Dn(D,v)&&D.every((y,M)=>dn(y.parameters,v[M].parameters))}(D.url,v.url);return y&&!(!D.parent!=!v.parent)&&(!D.parent||kr(D.parent,v.parent))}function Er(D,v,y){if(y&&D.shouldReuseRoute(v.value,y.value.snapshot)){const M=y.value;M._futureSnapshot=v.value;const P=function Ds(D,v,y){return v.children.map(M=>{for(const P of y.children)if(D.shouldReuseRoute(M.value,P.value.snapshot))return Er(D,M,P);return Er(D,M)})}(D,v,y);return new Pr(M,P)}{if(D.shouldAttach(v.value)){const U=D.retrieve(v.value);if(null!==U){const he=U.route;return he.value._futureSnapshot=v.value,he.children=v.children.map(Ce=>Er(D,Ce)),he}}const M=function ks(D){return new ft(new Ze.X(D.url),new Ze.X(D.params),new Ze.X(D.queryParams),new Ze.X(D.fragment),new Ze.X(D.data),D.outlet,D.component,D)}(v.value),P=v.children.map(U=>Er(D,U));return new Pr(M,P)}}function ki(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Ei(D){return"object"==typeof D&&null!=D&&D.outlets}function ts(D,v,y,M,P){let U={};if(M&&N(M,(Ce,dt)=>{U[dt]=Array.isArray(Ce)?Ce.map(en=>`${en}`):`${Ce}`}),D===v)return new rt(y,U,P);const he=Fi(D,v,y);return new rt(he,U,P)}function Fi(D,v,y){const M={};return N(D.children,(P,U)=>{M[U]=P===v?y:Fi(P,v,y)}),new at(D.segments,M)}class lo{constructor(v,y,M){if(this.isAbsolute=v,this.numberOfDoubleDots=y,this.commands=M,v&&M.length>0&&ki(M[0]))throw new Error("Root segment cannot have matrix parameters");const P=M.find(Ei);if(P&&P!==J(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Us{constructor(v,y,M){this.segmentGroup=v,this.processChildren=y,this.index=M}}function bs(D,v,y){if(D||(D=new at([],{})),0===D.segments.length&&D.hasChildren())return Cs(D,v,y);const M=function Yr(D,v,y){let M=0,P=v;const U={match:!1,pathIndex:0,commandIndex:0};for(;P<D.segments.length;){if(M>=y.length)return U;const he=D.segments[P],Ce=y[M];if(Ei(Ce))break;const dt=`${Ce}`,en=M<y.length-1?y[M+1]:null;if(P>0&&void 0===dt)break;if(dt&&en&&"object"==typeof en&&void 0===en.outlets){if(!Jr(dt,en,he))return U;M+=2}else{if(!Jr(dt,{},he))return U;M++}P++}return{match:!0,pathIndex:P,commandIndex:M}}(D,v,y),P=y.slice(M.commandIndex);if(M.match&&M.pathIndex<D.segments.length){const U=new at(D.segments.slice(0,M.pathIndex),{});return U.children[Ve]=new at(D.segments.slice(M.pathIndex),D.children),Cs(U,0,P)}return M.match&&0===P.length?new at(D.segments,{}):M.match&&!D.hasChildren()?is(D,v,y):M.match?Cs(D,0,P):is(D,v,y)}function Cs(D,v,y){if(0===y.length)return new at(D.segments,{});{const M=function pi(D){return Ei(D[0])?D[0].outlets:{[Ve]:D}}(y),P={};return N(M,(U,he)=>{"string"==typeof U&&(U=[U]),null!==U&&(P[he]=bs(D.children[he],v,U))}),N(D.children,(U,he)=>{void 0===M[he]&&(P[he]=U)}),new at(D.segments,P)}}function is(D,v,y){const M=D.segments.slice(0,v);let P=0;for(;P<y.length;){const U=y[P];if(Ei(U)){const dt=zi(U.outlets);return new at(M,dt)}if(0===P&&ki(y[0])){M.push(new $t(D.segments[v].path,Qr(y[0]))),P++;continue}const he=Ei(U)?U.outlets[Ve]:`${U}`,Ce=P<y.length-1?y[P+1]:null;he&&Ce&&ki(Ce)?(M.push(new $t(he,Qr(Ce))),P+=2):(M.push(new $t(he,{})),P++)}return new at(M,{})}function zi(D){const v={};return N(D,(y,M)=>{"string"==typeof y&&(y=[y]),null!==y&&(v[M]=is(new at([],{}),0,y))}),v}function Qr(D){const v={};return N(D,(y,M)=>v[M]=`${y}`),v}function Jr(D,v,y){return D==y.path&&dn(v,y.parameters)}class gi{constructor(v,y,M,P){this.routeReuseStrategy=v,this.futureState=y,this.currState=M,this.forwardEvent=P}activate(v){const y=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(y,M,v),Ni(this.futureState.root),this.activateChildRoutes(y,M,v)}deactivateChildRoutes(v,y,M){const P=dr(y);v.children.forEach(U=>{const he=U.value.outlet;this.deactivateRoutes(U,P[he],M),delete P[he]}),N(P,(U,he)=>{this.deactivateRouteAndItsChildren(U,M)})}deactivateRoutes(v,y,M){const P=v.value,U=y?y.value:null;if(P===U)if(P.component){const he=M.getContext(P.outlet);he&&this.deactivateChildRoutes(v,y,he.children)}else this.deactivateChildRoutes(v,y,M);else U&&this.deactivateRouteAndItsChildren(y,M)}deactivateRouteAndItsChildren(v,y){v.value.component&&this.routeReuseStrategy.shouldDetach(v.value.snapshot)?this.detachAndStoreRouteSubtree(v,y):this.deactivateRouteAndOutlet(v,y)}detachAndStoreRouteSubtree(v,y){const M=y.getContext(v.value.outlet),P=M&&v.value.component?M.children:y,U=dr(v);for(const he of Object.keys(U))this.deactivateRouteAndItsChildren(U[he],P);if(M&&M.outlet){const he=M.outlet.detach(),Ce=M.children.onOutletDeactivated();this.routeReuseStrategy.store(v.value.snapshot,{componentRef:he,route:v,contexts:Ce})}}deactivateRouteAndOutlet(v,y){const M=y.getContext(v.value.outlet),P=M&&v.value.component?M.children:y,U=dr(v);for(const he of Object.keys(U))this.deactivateRouteAndItsChildren(U[he],P);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(v,y,M){const P=dr(y);v.children.forEach(U=>{this.activateRoutes(U,P[U.value.outlet],M),this.forwardEvent(new De(U.value.snapshot))}),v.children.length&&this.forwardEvent(new ut(v.value.snapshot))}activateRoutes(v,y,M){const P=v.value,U=y?y.value:null;if(Ni(P),P===U)if(P.component){const he=M.getOrCreateContext(P.outlet);this.activateChildRoutes(v,y,he.children)}else this.activateChildRoutes(v,y,M);else if(P.component){const he=M.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Ce=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),he.children.onOutletReAttached(Ce.contexts),he.attachRef=Ce.componentRef,he.route=Ce.route.value,he.outlet&&he.outlet.attach(Ce.componentRef,Ce.route.value),Ni(Ce.route.value),this.activateChildRoutes(v,null,he.children)}else{const Ce=function Xr(D){for(let v=D.parent;v;v=v.parent){const y=v.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig;if(y&&y.component)return null}return null}(P.snapshot),dt=Ce?Ce.module.componentFactoryResolver:null;he.attachRef=null,he.route=P,he.resolver=dt,he.outlet&&he.outlet.activateWith(P,dt),this.activateChildRoutes(v,null,he.children)}}else this.activateChildRoutes(v,null,M)}}class Ki{constructor(v,y){this.routes=v,this.module=y}}function oi(D){return"function"==typeof D}function Hr(D){return D instanceof rt}const Tr=Symbol("INITIAL_VALUE");function ei(){return(0,Ut.w)(D=>function ae(...D){const v=(0,ge.yG)(D),y=(0,ge.jO)(D),{args:M,keys:P}=(0,z.D)(D);if(0===M.length)return(0,ie.D)([],v);const U=new E.y(function Me(D,v,y=V.y){return M=>{Qe(v,()=>{const{length:P}=D,U=new Array(P);let he=P,Ce=P;for(let dt=0;dt<P;dt++)Qe(v,()=>{const en=(0,ie.D)(D[dt],v);let Zt=!1;en.subscribe((0,Ee.x)(M,En=>{U[dt]=En,Zt||(Zt=!0,Ce--),Ce||M.next(y(U.slice()))},()=>{--he||M.complete()}))},M)},M)}}(M,v,P?he=>(0,ne.n)(P,he):V.y));return y?U.pipe((0,Ie.Z)(y)):U}(D.map(v=>v.pipe((0,Tt.q)(1),(0,_n.O)(Tr)))).pipe((0,Nn.R)((v,y)=>{let M=!1;return y.reduce((P,U,he)=>P!==Tr?P:(U===Tr&&(M=!0),M||!1!==U&&he!==y.length-1&&!Hr(U)?P:U),v)},Tr),(0,Oe.h)(v=>v!==Tr),(0,Bt.U)(v=>Hr(v)?v:!0===v),(0,Tt.q)(1)))}class ps{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Zi,this.attachRef=null}}class Zi{constructor(){this.contexts=new Map}onChildOutletCreated(v,y){const M=this.getOrCreateContext(v);M.outlet=y,this.contexts.set(v,M)}onChildOutletDestroyed(v){const y=this.getContext(v);y&&(y.outlet=null,y.attachRef=null)}onOutletDeactivated(){const v=this.contexts;return this.contexts=new Map,v}onOutletReAttached(v){this.contexts=v}getOrCreateContext(v){let y=this.getContext(v);return y||(y=new ps,this.contexts.set(v,y)),y}getContext(v){return this.contexts.get(v)||null}}let wi=(()=>{class D{constructor(y,M,P,U,he){this.parentContexts=y,this.location=M,this.resolver=P,this.changeDetector=he,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=U||Ve,y.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const y=this.parentContexts.getContext(this.name);y&&y.route&&(y.attachRef?this.attach(y.attachRef,y.route):this.activateWith(y.route,y.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const y=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(y.instance),y}attach(y,M){this.activated=y,this._activatedRoute=M,this.location.insert(y.hostView),this.attachEvents.emit(y.instance)}deactivate(){if(this.activated){const y=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(y)}}activateWith(y,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=y;const he=(M=M||this.resolver).resolveComponentFactory(y._futureSnapshot.routeConfig.component),Ce=this.parentContexts.getOrCreateContext(this.name).children,dt=new ss(y,Ce,this.location.injector);this.activated=this.location.createComponent(he,this.location.length,dt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(y){return new(y||D)(f.Y36(Zi),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},D.\u0275dir=f.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),D})();class ss{constructor(v,y,M){this.route=v,this.childContexts=y,this.parent=M}get(v,y){return v===ft?this.route:v===Zi?this.childContexts:this.parent.get(v,y)}}let mi=(()=>{class D{}return D.\u0275fac=function(y){return new(y||D)},D.\u0275cmp=f.Xpm({type:D,selectors:[["ng-component"]],decls:1,vars:0,template:function(y,M){1&y&&f._UZ(0,"router-outlet")},directives:[wi],encapsulation:2}),D})();function xi(D,v=""){for(let y=0;y<D.length;y++){const M=D[y];qi(M,ir(v,M))}}function qi(D,v){D.children&&xi(D.children,v)}function ir(D,v){return v?D||v.path?D&&!v.path?`${D}/`:!D&&v.path?v.path:`${D}/${v.path}`:"":D}function R(D){const v=D.children&&D.children.map(R),y=v?Object.assign(Object.assign({},D),{children:v}):Object.assign({},D);return!y.component&&(v||y.loadChildren)&&y.outlet&&y.outlet!==Ve&&(y.component=mi),y}function $(D){return D.outlet||Ve}function x(D,v){const y=D.filter(M=>$(M)===v);return y.push(...D.filter(M=>$(M)!==v)),y}const K={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Te(D,v,y){var M;if(""===v.path)return"full"===v.pathMatch&&(D.hasChildren()||y.length>0)?Object.assign({},K):{matched:!0,consumedSegments:[],remainingSegments:y,parameters:{},positionalParamSegments:{}};const U=(v.matcher||ar)(y,D,v);if(!U)return Object.assign({},K);const he={};N(U.posParams,(dt,en)=>{he[en]=dt.path});const Ce=U.consumed.length>0?Object.assign(Object.assign({},he),U.consumed[U.consumed.length-1].parameters):he;return{matched:!0,consumedSegments:U.consumed,remainingSegments:y.slice(U.consumed.length),parameters:Ce,positionalParamSegments:null!==(M=U.posParams)&&void 0!==M?M:{}}}function it(D,v,y,M,P="corrected"){if(y.length>0&&function cr(D,v,y){return y.some(M=>q(D,v,M)&&$(M)!==Ve)}(D,y,M)){const he=new at(v,function un(D,v,y,M){const P={};P[Ve]=M,M._sourceSegment=D,M._segmentIndexShift=v.length;for(const U of y)if(""===U.path&&$(U)!==Ve){const he=new at([],{});he._sourceSegment=D,he._segmentIndexShift=v.length,P[$(U)]=he}return P}(D,v,M,new at(y,D.children)));return he._sourceSegment=D,he._segmentIndexShift=v.length,{segmentGroup:he,slicedSegments:[]}}if(0===y.length&&function or(D,v,y){return y.some(M=>q(D,v,M))}(D,y,M)){const he=new at(D.segments,function wt(D,v,y,M,P,U){const he={};for(const Ce of M)if(q(D,y,Ce)&&!P[$(Ce)]){const dt=new at([],{});dt._sourceSegment=D,dt._segmentIndexShift="legacy"===U?D.segments.length:v.length,he[$(Ce)]=dt}return Object.assign(Object.assign({},P),he)}(D,v,y,M,D.children,P));return he._sourceSegment=D,he._segmentIndexShift=v.length,{segmentGroup:he,slicedSegments:y}}const U=new at(D.segments,D.children);return U._sourceSegment=D,U._segmentIndexShift=v.length,{segmentGroup:U,slicedSegments:y}}function q(D,v,y){return(!(D.hasChildren()||v.length>0)||"full"!==y.pathMatch)&&""===y.path}function Y(D,v,y,M){return!!($(D)===M||M!==Ve&&q(v,y,D))&&("**"===D.path||Te(v,D,y).matched)}function be(D,v,y){return 0===v.length&&!D.children[y]}class ze{constructor(v){this.segmentGroup=v||null}}class It{constructor(v){this.urlTree=v}}function jt(D){return tt(new ze(D))}function yn(D){return tt(new It(D))}class yr{constructor(v,y,M,P,U){this.configLoader=y,this.urlSerializer=M,this.urlTree=P,this.config=U,this.allowRedirects=!0,this.ngModule=v.get(f.h0i)}apply(){const v=it(this.urlTree.root,[],[],this.config).segmentGroup,y=new at(v.segments,v.children);return this.expandSegmentGroup(this.ngModule,this.config,y,Ve).pipe((0,Bt.U)(U=>this.createUrlTree(O(U),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ce(U=>{if(U instanceof It)return this.allowRedirects=!1,this.match(U.urlTree);throw U instanceof ze?this.noMatchError(U):U}))}match(v){return this.expandSegmentGroup(this.ngModule,this.config,v.root,Ve).pipe((0,Bt.U)(P=>this.createUrlTree(O(P),v.queryParams,v.fragment))).pipe(ce(P=>{throw P instanceof ze?this.noMatchError(P):P}))}noMatchError(v){return new Error(`Cannot match any routes. URL Segment: '${v.segmentGroup}'`)}createUrlTree(v,y,M){const P=v.segments.length>0?new at([],{[Ve]:v}):v;return new rt(P,y,M)}expandSegmentGroup(v,y,M,P){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(v,y,M).pipe((0,Bt.U)(U=>new at([],U))):this.expandSegment(v,M,y,M.segments,P,!0)}expandChildren(v,y,M){const P=[];for(const U of Object.keys(M.children))"primary"===U?P.unshift(U):P.push(U);return(0,ie.D)(P).pipe((0,Tn.b)(U=>{const he=M.children[U],Ce=x(y,U);return this.expandSegmentGroup(v,Ce,he,U).pipe((0,Bt.U)(dt=>({segment:dt,outlet:U})))}),(0,Nn.R)((U,he)=>(U[he.outlet]=he.segment,U),{}),function gt(D,v){const y=arguments.length>=2;return M=>M.pipe(D?(0,Oe.h)((P,U)=>D(P,U,M)):V.y,Be(1),y?(0,Le.d)(v):(0,Ge.T)(()=>new bt.K))}())}expandSegment(v,y,M,P,U,he){return(0,ie.D)(M).pipe((0,Tn.b)(Ce=>this.expandSegmentAgainstRoute(v,y,M,Ce,P,U,he).pipe(ce(en=>{if(en instanceof ze)return(0,Fe.of)(null);throw en}))),(0,qt.P)(Ce=>!!Ce),ce((Ce,dt)=>{if(Ce instanceof bt.K||"EmptyError"===Ce.name)return be(y,P,U)?(0,Fe.of)(new at([],{})):jt(y);throw Ce}))}expandSegmentAgainstRoute(v,y,M,P,U,he,Ce){return Y(P,y,U,he)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(v,y,P,U,he):Ce&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(v,y,M,P,U,he):jt(y):jt(y)}expandSegmentAgainstRouteUsingRedirect(v,y,M,P,U,he){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(v,M,P,he):this.expandRegularSegmentAgainstRouteUsingRedirect(v,y,M,P,U,he)}expandWildCardWithParamsAgainstRouteUsingRedirect(v,y,M,P){const U=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?yn(U):this.lineralizeSegments(M,U).pipe((0,on.z)(he=>{const Ce=new at(he,{});return this.expandSegment(v,Ce,y,he,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(v,y,M,P,U,he){const{matched:Ce,consumedSegments:dt,remainingSegments:en,positionalParamSegments:Zt}=Te(y,P,U);if(!Ce)return jt(y);const En=this.applyRedirectCommands(dt,P.redirectTo,Zt);return P.redirectTo.startsWith("/")?yn(En):this.lineralizeSegments(P,En).pipe((0,on.z)(Un=>this.expandSegment(v,y,M,Un.concat(en),he,!1)))}matchSegmentAgainstRoute(v,y,M,P,U){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,Fe.of)(M._loadedConfig):this.configLoader.load(v.injector,M)).pipe((0,Bt.U)(En=>(M._loadedConfig=En,new at(P,{})))):(0,Fe.of)(new at(P,{}));const{matched:he,consumedSegments:Ce,remainingSegments:dt}=Te(y,M,P);return he?this.getChildConfig(v,M,P).pipe((0,on.z)(Zt=>{const En=Zt.module,Un=Zt.routes,{segmentGroup:fr,slicedSegments:Ci}=it(y,Ce,dt,Un),Nr=new at(fr.segments,fr.children);if(0===Ci.length&&Nr.hasChildren())return this.expandChildren(En,Un,Nr).pipe((0,Bt.U)(ys=>new at(Ce,ys)));if(0===Un.length&&0===Ci.length)return(0,Fe.of)(new at(Ce,{}));const xo=$(M)===U;return this.expandSegment(En,Nr,Un,Ci,xo?Ve:U,!0).pipe((0,Bt.U)(br=>new at(Ce.concat(br.segments),br.children)))})):jt(y)}getChildConfig(v,y,M){return y.children?(0,Fe.of)(new Ki(y.children,v)):y.loadChildren?void 0!==y._loadedConfig?(0,Fe.of)(y._loadedConfig):this.runCanLoadGuards(v.injector,y,M).pipe((0,on.z)(P=>P?this.configLoader.load(v.injector,y).pipe((0,Bt.U)(U=>(y._loadedConfig=U,U))):function hr(D){return tt(hn(`Cannot load children because the guard of the route "path: '${D.path}'" returned false`))}(y))):(0,Fe.of)(new Ki([],v))}runCanLoadGuards(v,y,M){const P=y.canLoad;if(!P||0===P.length)return(0,Fe.of)(!0);const U=P.map(he=>{const Ce=v.get(he);let dt;if(function lr(D){return D&&oi(D.canLoad)}(Ce))dt=Ce.canLoad(y,M);else{if(!oi(Ce))throw new Error("Invalid CanLoad guard");dt=Ce(y,M)}return X(dt)});return(0,Fe.of)(U).pipe(ei(),(0,Yt.b)(he=>{if(!Hr(he))return;const Ce=hn(`Redirecting to "${this.urlSerializer.serialize(he)}"`);throw Ce.url=he,Ce}),(0,Bt.U)(he=>!0===he))}lineralizeSegments(v,y){let M=[],P=y.root;for(;;){if(M=M.concat(P.segments),0===P.numberOfChildren)return(0,Fe.of)(M);if(P.numberOfChildren>1||!P.children[Ve])return tt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${v.redirectTo}'`));P=P.children[Ve]}}applyRedirectCommands(v,y,M){return this.applyRedirectCreatreUrlTree(y,this.urlSerializer.parse(y),v,M)}applyRedirectCreatreUrlTree(v,y,M,P){const U=this.createSegmentGroup(v,y.root,M,P);return new rt(U,this.createQueryParams(y.queryParams,this.urlTree.queryParams),y.fragment)}createQueryParams(v,y){const M={};return N(v,(P,U)=>{if("string"==typeof P&&P.startsWith(":")){const Ce=P.substring(1);M[U]=y[Ce]}else M[U]=P}),M}createSegmentGroup(v,y,M,P){const U=this.createSegments(v,y.segments,M,P);let he={};return N(y.children,(Ce,dt)=>{he[dt]=this.createSegmentGroup(v,Ce,M,P)}),new at(U,he)}createSegments(v,y,M,P){return y.map(U=>U.path.startsWith(":")?this.findPosParam(v,U,P):this.findOrReturn(U,M))}findPosParam(v,y,M){const P=M[y.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${v}'. Cannot find '${y.path}'.`);return P}findOrReturn(v,y){let M=0;for(const P of y){if(P.path===v.path)return y.splice(M),P;M++}return v}}function O(D){const v={};for(const M of Object.keys(D.children)){const U=O(D.children[M]);(U.segments.length>0||U.hasChildren())&&(v[M]=U)}return function Vn(D){if(1===D.numberOfChildren&&D.children[Ve]){const v=D.children[Ve];return new at(D.segments.concat(v.segments),v.children)}return D}(new at(D.segments,v))}class T{constructor(v){this.path=v,this.route=this.path[this.path.length-1]}}class W{constructor(v,y){this.component=v,this.route=y}}function de(D,v,y){const M=D._root;return Ri(M,v?v._root:null,y,[M.value])}function Xn(D,v,y){const M=function Qn(D){if(!D)return null;for(let v=D.parent;v;v=v.parent){const y=v.routeConfig;if(y&&y._loadedConfig)return y._loadedConfig}return null}(v);return(M?M.module.injector:y).get(D)}function Ri(D,v,y,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const U=dr(v);return D.children.forEach(he=>{(function Vi(D,v,y,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const U=D.value,he=v?v.value:null,Ce=y?y.getContext(D.value.outlet):null;if(he&&U.routeConfig===he.routeConfig){const dt=function Oi(D,v,y){if("function"==typeof y)return y(D,v);switch(y){case"pathParamsChange":return!Dn(D.url,v.url);case"pathParamsOrQueryParamsChange":return!Dn(D.url,v.url)||!dn(D.queryParams,v.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kr(D,v)||!dn(D.queryParams,v.queryParams);default:return!kr(D,v)}}(he,U,U.routeConfig.runGuardsAndResolvers);dt?P.canActivateChecks.push(new T(M)):(U.data=he.data,U._resolvedData=he._resolvedData),Ri(D,v,U.component?Ce?Ce.children:null:y,M,P),dt&&Ce&&Ce.outlet&&Ce.outlet.isActivated&&P.canDeactivateChecks.push(new W(Ce.outlet.component,he))}else he&&gs(v,Ce,P),P.canActivateChecks.push(new T(M)),Ri(D,null,U.component?Ce?Ce.children:null:y,M,P)})(he,U[he.value.outlet],y,M.concat([he.value]),P),delete U[he.value.outlet]}),N(U,(he,Ce)=>gs(he,y.getContext(Ce),P)),P}function gs(D,v,y){const M=dr(D),P=D.value;N(M,(U,he)=>{gs(U,P.component?v?v.children.getContext(he):null:v,y)}),y.canDeactivateChecks.push(new W(P.component&&v&&v.outlet&&v.outlet.isActivated?v.outlet.component:null,P))}class Ks{}function Ui(D){return new E.y(v=>v.error(D))}class wo{constructor(v,y,M,P,U,he){this.rootComponentType=v,this.config=y,this.urlTree=M,this.url=P,this.paramsInheritanceStrategy=U,this.relativeLinkResolution=he}recognize(){const v=it(this.urlTree.root,[],[],this.config.filter(he=>void 0===he.redirectTo),this.relativeLinkResolution).segmentGroup,y=this.processSegmentGroup(this.config,v,Ve);if(null===y)return null;const M=new tr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Pr(M,y),U=new _r(this.url,P);return this.inheritParamsAndData(U._root),U}inheritParamsAndData(v){const y=v.value,M=Rt(y,this.paramsInheritanceStrategy);y.params=Object.freeze(M.params),y.data=Object.freeze(M.data),v.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(v,y,M){return 0===y.segments.length&&y.hasChildren()?this.processChildren(v,y):this.processSegment(v,y,y.segments,M)}processChildren(v,y){const M=[];for(const U of Object.keys(y.children)){const he=y.children[U],Ce=x(v,U),dt=this.processSegmentGroup(Ce,he,U);if(null===dt)return null;M.push(...dt)}const P=ho(M);return function ca(D){D.sort((v,y)=>v.value.outlet===Ve?-1:y.value.outlet===Ve?1:v.value.outlet.localeCompare(y.value.outlet))}(P),P}processSegment(v,y,M,P){for(const U of v){const he=this.processSegmentAgainstRoute(U,y,M,P);if(null!==he)return he}return be(y,M,P)?[]:null}processSegmentAgainstRoute(v,y,M,P){if(v.redirectTo||!Y(v,y,M,P))return null;let U,he=[],Ce=[];if("**"===v.path){const fr=M.length>0?J(M).parameters:{};U=new tr(M,fr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fo(v),$(v),v.component,v,zo(y),da(y)+M.length,po(v))}else{const fr=Te(y,v,M);if(!fr.matched)return null;he=fr.consumedSegments,Ce=fr.remainingSegments,U=new tr(he,fr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,fo(v),$(v),v.component,v,zo(y),da(y)+he.length,po(v))}const dt=function Do(D){return D.children?D.children:D.loadChildren?D._loadedConfig.routes:[]}(v),{segmentGroup:en,slicedSegments:Zt}=it(y,he,Ce,dt.filter(fr=>void 0===fr.redirectTo),this.relativeLinkResolution);if(0===Zt.length&&en.hasChildren()){const fr=this.processChildren(dt,en);return null===fr?null:[new Pr(U,fr)]}if(0===dt.length&&0===Zt.length)return[new Pr(U,[])];const En=$(v)===P,Un=this.processSegment(dt,en,Zt,En?Ve:P);return null===Un?null:[new Pr(U,Un)]}}function Ha(D){const v=D.value.routeConfig;return v&&""===v.path&&void 0===v.redirectTo}function ho(D){const v=[],y=new Set;for(const M of D){if(!Ha(M)){v.push(M);continue}const P=v.find(U=>M.value.routeConfig===U.value.routeConfig);void 0!==P?(P.children.push(...M.children),y.add(P)):v.push(M)}for(const M of y){const P=ho(M.children);v.push(new Pr(M.value,P))}return v.filter(M=>!y.has(M))}function zo(D){let v=D;for(;v._sourceSegment;)v=v._sourceSegment;return v}function da(D){let v=D,y=v._segmentIndexShift?v._segmentIndexShift:0;for(;v._sourceSegment;)v=v._sourceSegment,y+=v._segmentIndexShift?v._segmentIndexShift:0;return y-1}function fo(D){return D.data||{}}function po(D){return D.resolve||{}}function Ts(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}function fa(D){return(0,Ut.w)(v=>{const y=D(v);return y?(0,ie.D)(y).pipe((0,Bt.U)(()=>v)):(0,Fe.of)(v)})}class Fr extends class qs{shouldDetach(v){return!1}store(v,y){}shouldAttach(v){return!1}retrieve(v){return null}shouldReuseRoute(v,y){return v.routeConfig===y.routeConfig}}{}const Qi=new f.OlP("ROUTES");class Du{constructor(v,y,M,P){this.injector=v,this.compiler=y,this.onLoadStartListener=M,this.onLoadEndListener=P}load(v,y){if(y._loader$)return y._loader$;this.onLoadStartListener&&this.onLoadStartListener(y);const P=this.loadModuleFactory(y.loadChildren).pipe((0,Bt.U)(U=>{this.onLoadEndListener&&this.onLoadEndListener(y);const he=U.create(v);return new Ki(me(he.injector.get(Qi,void 0,f.XFs.Self|f.XFs.Optional)).map(R),he)}),ce(U=>{throw y._loader$=void 0,U}));return y._loader$=new Ke(P,()=>new je.x).pipe(At()),y._loader$}loadModuleFactory(v){return X(v()).pipe((0,on.z)(y=>y instanceof f.YKP?(0,Fe.of)(y):(0,ie.D)(this.compiler.compileModuleAsync(y))))}}class Wo{shouldProcessUrl(v){return!0}extract(v){return v}merge(v,y){return v}}function $l(D){throw D}function za(D,v,y){return v.parse("/")}function as(D,v){return(0,Fe.of)(null)}const Co={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class D{constructor(y,M,P,U,he,Ce,dt){this.rootComponentType=y,this.urlSerializer=M,this.rootContexts=P,this.location=U,this.config=dt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.x,this.errorHandler=$l,this.malformedUriErrorHandler=za,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:as,afterPreactivation:as},this.urlHandlingStrategy=new Wo,this.routeReuseStrategy=new Fr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=he.get(f.h0i),this.console=he.get(f.c2e);const En=he.get(f.R0b);this.isNgZoneEnabled=En instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(dt),this.currentUrlTree=function ee(){return new rt(new at([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Du(he,Ce,Un=>this.triggerEvent(new an(Un)),Un=>this.triggerEvent(new nr(Un))),this.routerState=we(this.currentUrlTree,this.rootComponentType),this.transitions=new Ze.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var y;return null===(y=this.location.getState())||void 0===y?void 0:y.\u0275routerPageId}setupNavigations(y){const M=this.events;return y.pipe((0,Oe.h)(P=>0!==P.id),(0,Bt.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ut.w)(P=>{let U=!1,he=!1;return(0,Fe.of)(P).pipe((0,Yt.b)(Ce=>{this.currentNavigation={id:Ce.id,initialUrl:Ce.currentRawUrl,extractedUrl:Ce.extractedUrl,trigger:Ce.source,extras:Ce.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ut.w)(Ce=>{const dt=this.browserUrlTree.toString(),en=!this.navigated||Ce.extractedUrl.toString()!==dt||dt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||en)&&this.urlHandlingStrategy.shouldProcessUrl(Ce.rawUrl))return Ko(Ce.source)&&(this.browserUrlTree=Ce.extractedUrl),(0,Fe.of)(Ce).pipe((0,Ut.w)(En=>{const Un=this.transitions.getValue();return M.next(new vn(En.id,this.serializeUrl(En.extractedUrl),En.source,En.restoredState)),Un!==this.transitions.getValue()?xe.E:Promise.resolve(En)}),function A(D,v,y,M){return(0,Ut.w)(P=>function mr(D,v,y,M,P){return new yr(D,v,y,M,P).apply()}(D,v,y,P.extractedUrl,M).pipe((0,Bt.U)(U=>Object.assign(Object.assign({},P),{urlAfterRedirects:U}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yt.b)(En=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:En.urlAfterRedirects})}),function Zs(D,v,y,M,P){return(0,on.z)(U=>function Ho(D,v,y,M,P="emptyOnly",U="legacy"){try{const he=new wo(D,v,y,M,P,U).recognize();return null===he?Ui(new Ks):(0,Fe.of)(he)}catch(he){return Ui(he)}}(D,v,U.urlAfterRedirects,y(U.urlAfterRedirects),M,P).pipe((0,Bt.U)(he=>Object.assign(Object.assign({},U),{targetSnapshot:he}))))}(this.rootComponentType,this.config,En=>this.serializeUrl(En),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yt.b)(En=>{if("eager"===this.urlUpdateStrategy){if(!En.extras.skipLocationChange){const fr=this.urlHandlingStrategy.merge(En.urlAfterRedirects,En.rawUrl);this.setBrowserUrl(fr,En)}this.browserUrlTree=En.urlAfterRedirects}const Un=new tn(En.id,this.serializeUrl(En.extractedUrl),this.serializeUrl(En.urlAfterRedirects),En.targetSnapshot);M.next(Un)}));if(en&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Un,extractedUrl:fr,source:Ci,restoredState:Nr,extras:xo}=Ce,ms=new vn(Un,this.serializeUrl(fr),Ci,Nr);M.next(ms);const br=we(fr,this.rootComponentType).snapshot;return(0,Fe.of)(Object.assign(Object.assign({},Ce),{targetSnapshot:br,urlAfterRedirects:fr,extras:Object.assign(Object.assign({},xo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Ce.rawUrl,Ce.resolve(null),xe.E}),fa(Ce=>{const{targetSnapshot:dt,id:en,extractedUrl:Zt,rawUrl:En,extras:{skipLocationChange:Un,replaceUrl:fr}}=Ce;return this.hooks.beforePreactivation(dt,{navigationId:en,appliedUrlTree:Zt,rawUrlTree:En,skipLocationChange:!!Un,replaceUrl:!!fr})}),(0,Yt.b)(Ce=>{const dt=new Zn(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot);this.triggerEvent(dt)}),(0,Bt.U)(Ce=>Object.assign(Object.assign({},Ce),{guards:de(Ce.targetSnapshot,Ce.currentSnapshot,this.rootContexts)})),function Ws(D,v){return(0,on.z)(y=>{const{targetSnapshot:M,currentSnapshot:P,guards:{canActivateChecks:U,canDeactivateChecks:he}}=y;return 0===he.length&&0===U.length?(0,Fe.of)(Object.assign(Object.assign({},y),{guardsResult:!0})):function $a(D,v,y,M){return(0,ie.D)(D).pipe((0,on.z)(P=>function Bs(D,v,y,M,P){const U=v&&v.routeConfig?v.routeConfig.canDeactivate:null;if(!U||0===U.length)return(0,Fe.of)(!0);const he=U.map(Ce=>{const dt=Xn(Ce,v,P);let en;if(function Br(D){return D&&oi(D.canDeactivate)}(dt))en=X(dt.canDeactivate(D,v,y,M));else{if(!oi(dt))throw new Error("Invalid CanDeactivate guard");en=X(dt(D,v,y,M))}return en.pipe((0,qt.P)())});return(0,Fe.of)(he).pipe(ei())}(P.component,P.route,y,v,M)),(0,qt.P)(P=>!0!==P,!0))}(he,M,P,D).pipe((0,on.z)(Ce=>Ce&&function Ii(D){return"boolean"==typeof D}(Ce)?function la(D,v,y,M){return(0,ie.D)(v).pipe((0,Tn.b)(P=>(0,ue.z)(function co(D,v){return null!==D&&v&&v(new gr(D)),(0,Fe.of)(!0)}(P.route.parent,M),function os(D,v){return null!==D&&v&&v(new ye(D)),(0,Fe.of)(!0)}(P.route,M),function Yi(D,v,y){const M=v[v.length-1],U=v.slice(0,v.length-1).reverse().map(he=>function St(D){const v=D.routeConfig?D.routeConfig.canActivateChild:null;return v&&0!==v.length?{node:D,guards:v}:null}(he)).filter(he=>null!==he).map(he=>le(()=>{const Ce=he.guards.map(dt=>{const en=Xn(dt,he.node,y);let Zt;if(function fs(D){return D&&oi(D.canActivateChild)}(en))Zt=X(en.canActivateChild(M,D));else{if(!oi(en))throw new Error("Invalid CanActivateChild guard");Zt=X(en(M,D))}return Zt.pipe((0,qt.P)())});return(0,Fe.of)(Ce).pipe(ei())}));return(0,Fe.of)(U).pipe(ei())}(D,P.path,y),function Di(D,v,y){const M=v.routeConfig?v.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Fe.of)(!0);const P=M.map(U=>le(()=>{const he=Xn(U,v,y);let Ce;if(function Li(D){return D&&oi(D.canActivate)}(he))Ce=X(he.canActivate(v,D));else{if(!oi(he))throw new Error("Invalid CanActivate guard");Ce=X(he(v,D))}return Ce.pipe((0,qt.P)())}));return(0,Fe.of)(P).pipe(ei())}(D,P.route,y))),(0,qt.P)(P=>!0!==P,!0))}(M,U,D,v):(0,Fe.of)(Ce)),(0,Bt.U)(Ce=>Object.assign(Object.assign({},y),{guardsResult:Ce})))})}(this.ngModule.injector,Ce=>this.triggerEvent(Ce)),(0,Yt.b)(Ce=>{if(Hr(Ce.guardsResult)){const en=hn(`Redirecting to "${this.serializeUrl(Ce.guardsResult)}"`);throw en.url=Ce.guardsResult,en}const dt=new Gt(Ce.id,this.serializeUrl(Ce.extractedUrl),this.serializeUrl(Ce.urlAfterRedirects),Ce.targetSnapshot,!!Ce.guardsResult);this.triggerEvent(dt)}),(0,Oe.h)(Ce=>!!Ce.guardsResult||(this.restoreHistory(Ce),this.cancelNavigationTransition(Ce,""),!1)),fa(Ce=>{if(Ce.guards.canActivateChecks.length)return(0,Fe.of)(Ce).pipe((0,Yt.b)(dt=>{const en=new Ir(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(en)}),(0,Ut.w)(dt=>{let en=!1;return(0,Fe.of)(dt).pipe(function bo(D,v){return(0,on.z)(y=>{const{targetSnapshot:M,guards:{canActivateChecks:P}}=y;if(!P.length)return(0,Fe.of)(y);let U=0;return(0,ie.D)(P).pipe((0,Tn.b)(he=>function Ga(D,v,y,M){return function ha(D,v,y,M){const P=Ts(D);if(0===P.length)return(0,Fe.of)({});const U={};return(0,ie.D)(P).pipe((0,on.z)(he=>function wu(D,v,y,M){const P=Xn(D,v,M);return X(P.resolve?P.resolve(v,y):P(v,y))}(D[he],v,y,M).pipe((0,Yt.b)(Ce=>{U[he]=Ce}))),Be(1),(0,on.z)(()=>Ts(U).length===P.length?(0,Fe.of)(U):xe.E))}(D._resolve,D,v,M).pipe((0,Bt.U)(U=>(D._resolvedData=U,D.data=Object.assign(Object.assign({},D.data),Rt(D,y).resolve),null)))}(he.route,M,D,v)),(0,Yt.b)(()=>U++),Be(1),(0,on.z)(he=>U===P.length?(0,Fe.of)(y):xe.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yt.b)({next:()=>en=!0,complete:()=>{en||(this.restoreHistory(dt),this.cancelNavigationTransition(dt,"At least one route resolver didn't emit any value."))}}))}),(0,Yt.b)(dt=>{const en=new Cn(dt.id,this.serializeUrl(dt.extractedUrl),this.serializeUrl(dt.urlAfterRedirects),dt.targetSnapshot);this.triggerEvent(en)}))}),fa(Ce=>{const{targetSnapshot:dt,id:en,extractedUrl:Zt,rawUrl:En,extras:{skipLocationChange:Un,replaceUrl:fr}}=Ce;return this.hooks.afterPreactivation(dt,{navigationId:en,appliedUrlTree:Zt,rawUrlTree:En,skipLocationChange:!!Un,replaceUrl:!!fr})}),(0,Bt.U)(Ce=>{const dt=function Si(D,v,y){const M=Er(D,v._root,y?y._root:void 0);return new Pe(M,v)}(this.routeReuseStrategy,Ce.targetSnapshot,Ce.currentRouterState);return Object.assign(Object.assign({},Ce),{targetRouterState:dt})}),(0,Yt.b)(Ce=>{this.currentUrlTree=Ce.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Ce.urlAfterRedirects,Ce.rawUrl),this.routerState=Ce.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Ce.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Ce),this.browserUrlTree=Ce.urlAfterRedirects)}),((D,v,y)=>(0,Bt.U)(M=>(new gi(v,M.targetRouterState,M.currentRouterState,y).activate(D),M)))(this.rootContexts,this.routeReuseStrategy,Ce=>this.triggerEvent(Ce)),(0,Yt.b)({next(){U=!0},complete(){U=!0}}),function Nt(D){return(0,Ct.e)((v,y)=>{try{v.subscribe(y)}finally{y.add(D)}})}(()=>{var Ce;U||he||this.cancelNavigationTransition(P,`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Ce=this.currentNavigation)||void 0===Ce?void 0:Ce.id)===P.id&&(this.currentNavigation=null)}),ce(Ce=>{if(he=!0,function sn(D){return D&&D[gn]}(Ce)){const dt=Hr(Ce.url);dt||(this.navigated=!0,this.restoreHistory(P,!0));const en=new Yn(P.id,this.serializeUrl(P.extractedUrl),Ce.message);M.next(en),dt?setTimeout(()=>{const Zt=this.urlHandlingStrategy.merge(Ce.url,this.rawUrlTree),En={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ko(P.source)};this.scheduleNavigation(Zt,"imperative",null,En,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const dt=new Jn(P.id,this.serializeUrl(P.extractedUrl),Ce);M.next(dt);try{P.resolve(this.errorHandler(Ce))}catch(en){P.reject(en)}}return xe.E}))}))}resetRootComponentType(y){this.rootComponentType=y,this.routerState.root.component=this.rootComponentType}setTransition(y){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),y))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(y=>{const M="popstate"===y.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var P;const U={replaceUrl:!0},he=(null===(P=y.state)||void 0===P?void 0:P.navigationId)?y.state:null;if(he){const dt=Object.assign({},he);delete dt.navigationId,delete dt.\u0275routerPageId,0!==Object.keys(dt).length&&(U.state=dt)}const Ce=this.parseUrl(y.url);this.scheduleNavigation(Ce,M,he,U)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(y){this.events.next(y)}resetConfig(y){xi(y),this.config=y.map(R),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(y,M={}){const{relativeTo:P,queryParams:U,fragment:he,queryParamsHandling:Ce,preserveFragment:dt}=M,en=P||this.routerState.root,Zt=dt?this.currentUrlTree.fragment:he;let En=null;switch(Ce){case"merge":En=Object.assign(Object.assign({},this.currentUrlTree.queryParams),U);break;case"preserve":En=this.currentUrlTree.queryParams;break;default:En=U||null}return null!==En&&(En=this.removeEmptyProps(En)),function qr(D,v,y,M,P){if(0===y.length)return ts(v.root,v.root,v.root,M,P);const U=function ns(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new lo(!0,0,D);let v=0,y=!1;const M=D.reduce((P,U,he)=>{if("object"==typeof U&&null!=U){if(U.outlets){const Ce={};return N(U.outlets,(dt,en)=>{Ce[en]="string"==typeof dt?dt.split("/"):dt}),[...P,{outlets:Ce}]}if(U.segmentPath)return[...P,U.segmentPath]}return"string"!=typeof U?[...P,U]:0===he?(U.split("/").forEach((Ce,dt)=>{0==dt&&"."===Ce||(0==dt&&""===Ce?y=!0:".."===Ce?v++:""!=Ce&&P.push(Ce))}),P):[...P,U]},[]);return new lo(y,v,M)}(y);if(U.toRoot())return ts(v.root,v.root,new at([],{}),M,P);const he=function rs(D,v,y){if(D.isAbsolute)return new Us(v.root,!0,0);if(-1===y.snapshot._lastPathIndex){const U=y.snapshot._urlSegment;return new Us(U,U===v.root,0)}const M=ki(D.commands[0])?0:1;return function Mi(D,v,y){let M=D,P=v,U=y;for(;U>P;){if(U-=P,M=M.parent,!M)throw new Error("Invalid number of '../'");P=M.segments.length}return new Us(M,!1,P-U)}(y.snapshot._urlSegment,y.snapshot._lastPathIndex+M,D.numberOfDoubleDots)}(U,v,D),Ce=he.processChildren?Cs(he.segmentGroup,he.index,U.commands):bs(he.segmentGroup,he.index,U.commands);return ts(v.root,he.segmentGroup,Ce,M,P)}(en,this.currentUrlTree,y,En,null!=Zt?Zt:null)}navigateByUrl(y,M={skipLocationChange:!1}){const P=Hr(y)?y:this.parseUrl(y),U=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(U,"imperative",null,M)}navigate(y,M={skipLocationChange:!1}){return function bu(D){for(let v=0;v<D.length;v++){const y=D[v];if(null==y)throw new Error(`The requested path contains ${y} segment at index ${v}`)}}(y),this.navigateByUrl(this.createUrlTree(y,M),M)}serializeUrl(y){return this.urlSerializer.serialize(y)}parseUrl(y){let M;try{M=this.urlSerializer.parse(y)}catch(P){M=this.malformedUriErrorHandler(P,this.urlSerializer,y)}return M}isActive(y,M){let P;if(P=!0===M?Object.assign({},Co):!1===M?Object.assign({},pa):M,Hr(y))return ct(this.currentUrlTree,y,P);const U=this.parseUrl(y);return ct(this.currentUrlTree,U,P)}removeEmptyProps(y){return Object.keys(y).reduce((M,P)=>{const U=y[P];return null!=U&&(M[P]=U),M},{})}processNavigations(){this.navigations.subscribe(y=>{this.navigated=!0,this.lastSuccessfulId=y.id,this.currentPageId=y.targetPageId,this.events.next(new Ln(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,y.resolve(!0)},y=>{this.console.warn(`Unhandled Navigation Error: ${y}`)})}scheduleNavigation(y,M,P,U,he){var Ce,dt;if(this.disposed)return Promise.resolve(!1);let en,Zt,En;he?(en=he.resolve,Zt=he.reject,En=he.promise):En=new Promise((Ci,Nr)=>{en=Ci,Zt=Nr});const Un=++this.navigationId;let fr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),fr=P&&P.\u0275routerPageId?P.\u0275routerPageId:U.replaceUrl||U.skipLocationChange?null!==(Ce=this.browserPageId)&&void 0!==Ce?Ce:0:(null!==(dt=this.browserPageId)&&void 0!==dt?dt:0)+1):fr=0,this.setTransition({id:Un,targetPageId:fr,source:M,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:y,extras:U,resolve:en,reject:Zt,promise:En,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),En.catch(Ci=>Promise.reject(Ci))}setBrowserUrl(y,M){const P=this.urlSerializer.serialize(y),U=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(P)||M.extras.replaceUrl?this.location.replaceState(P,"",U):this.location.go(P,"",U)}restoreHistory(y,M=!1){var P,U;if("computed"===this.canceledNavigationResolution){const he=this.currentPageId-y.targetPageId;"popstate"!==y.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===he?this.currentUrlTree===(null===(U=this.currentNavigation)||void 0===U?void 0:U.finalUrl)&&0===he&&(this.resetState(y),this.browserUrlTree=y.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(he)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(y),this.resetUrlToCurrentUrlTree())}resetState(y){this.routerState=y.currentRouterState,this.currentUrlTree=y.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,y.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(y,M){const P=new Yn(y.id,this.serializeUrl(y.extractedUrl),M);this.triggerEvent(P),y.resolve(!1)}generateNgRouterState(y,M){return"computed"===this.canceledNavigationResolution?{navigationId:y,\u0275routerPageId:M}:{navigationId:y}}}return D.\u0275fac=function(y){f.$Z()},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();function Ko(D){return"imperative"!==D}let us=(()=>{class D{constructor(y,M,P,U,he){this.router=y,this.route=M,this.tabIndexAttribute=P,this.renderer=U,this.el=he,this.commands=null,this.onChanges=new je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(y){if(null!=this.tabIndexAttribute)return;const M=this.renderer,P=this.el.nativeElement;null!==y?M.setAttribute(P,"tabindex",y):M.removeAttribute(P,"tabindex")}ngOnChanges(y){this.onChanges.next(this)}set routerLink(y){null!=y?(this.commands=Array.isArray(y)?y:[y],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const y={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,y),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})}}return D.\u0275fac=function(y){return new(y||D)(f.Y36(bi),f.Y36(ft),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(y,M){1&y&&f.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),D})(),As=(()=>{class D{constructor(y,M,P){this.router=y,this.route=M,this.locationStrategy=P,this.commands=null,this.href=null,this.onChanges=new je.x,this.subscription=y.events.subscribe(U=>{U instanceof Ln&&this.updateTargetUrlAndHref()})}set routerLink(y){this.commands=null!=y?Array.isArray(y)?y:[y]:null}ngOnChanges(y){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(y,M,P,U,he){if(0!==y||M||P||U||he||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Ce={skipLocationChange:Gr(this.skipLocationChange),replaceUrl:Gr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Ce),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Gr(this.preserveFragment)})}}return D.\u0275fac=function(y){return new(y||D)(f.Y36(bi),f.Y36(ft),f.Y36(bn.S$))},D.\u0275dir=f.lG2({type:D,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(y,M){1&y&&f.NdJ("click",function(U){return M.onClick(U.button,U.ctrlKey,U.shiftKey,U.altKey,U.metaKey)}),2&y&&f.uIk("target",M.target)("href",M.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),D})();function Gr(D){return""===D||!!D}let Fs=(()=>{class D{constructor(y,M,P,U,he,Ce){this.router=y,this.element=M,this.renderer=P,this.cdr=U,this.link=he,this.linkWithHref=Ce,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=y.events.subscribe(dt=>{dt instanceof Ln&&this.update()})}ngAfterContentInit(){(0,Fe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Fe.of)(null)).pipe((0,pn.J)()).subscribe(y=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var y;null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe();const M=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,ie.D)(M).pipe((0,pn.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(y){const M=Array.isArray(y)?y:y.split(" ");this.classes=M.filter(P=>!!P)}ngOnChanges(y){this.update()}ngOnDestroy(){var y;this.routerEventsSubscription.unsubscribe(),null===(y=this.linkInputChangesSubscription)||void 0===y||y.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const y=this.hasActiveLinks();this.isActive!==y&&(this.isActive=y,this.cdr.markForCheck(),this.classes.forEach(M=>{y?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),this.isActiveChange.emit(y))})}isLinkActive(y){const M=function ls(D){return!!D.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>!!P.urlTree&&y.isActive(P.urlTree,M)}hasActiveLinks(){const y=this.isLinkActive(this.router);return this.link&&y(this.link)||this.linkWithHref&&y(this.linkWithHref)||this.links.some(y)||this.linksWithHrefs.some(y)}}return D.\u0275fac=function(y){return new(y||D)(f.Y36(bi),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(us,8),f.Y36(As,8))},D.\u0275dir=f.lG2({type:D,selectors:[["","routerLinkActive",""]],contentQueries:function(y,M,P){if(1&y&&(f.Suo(P,us,5),f.Suo(P,As,5)),2&y){let U;f.iGM(U=f.CRH())&&(M.links=U),f.iGM(U=f.CRH())&&(M.linksWithHrefs=U)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),D})();class To{}class Vt{preload(v,y){return(0,Fe.of)(null)}}let ai=(()=>{class D{constructor(y,M,P,U){this.router=y,this.injector=P,this.preloadingStrategy=U,this.loader=new Du(P,M,dt=>y.triggerEvent(new an(dt)),dt=>y.triggerEvent(new nr(dt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Oe.h)(y=>y instanceof Ln),(0,Tn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const y=this.injector.get(f.h0i);return this.processRoutes(y,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(y,M){const P=[];for(const U of M)if(U.loadChildren&&!U.canLoad&&U._loadedConfig){const he=U._loadedConfig;P.push(this.processRoutes(he.module,he.routes))}else U.loadChildren&&!U.canLoad?P.push(this.preloadConfig(y,U)):U.children&&P.push(this.processRoutes(y,U.children));return(0,ie.D)(P).pipe((0,pn.J)(),(0,Bt.U)(U=>{}))}preloadConfig(y,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,Fe.of)(M._loadedConfig):this.loader.load(y.injector,M)).pipe((0,on.z)(U=>(M._loadedConfig=U,this.processRoutes(U.module,U.routes)))))}}return D.\u0275fac=function(y){return new(y||D)(f.LFG(bi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(To))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})(),go=(()=>{class D{constructor(y,M,P={}){this.router=y,this.viewportScroller=M,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(y=>{y instanceof vn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=y.navigationTrigger,this.restoredId=y.restoredState?y.restoredState.navigationId:0):y instanceof Ln&&(this.lastId=y.id,this.scheduleScrollEvent(y,this.router.parseUrl(y.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(y=>{y instanceof mt&&(y.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(y.position):y.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(y.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(y,M){this.router.triggerEvent(new mt(y,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(y){f.$Z()},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();const nn=new f.OlP("ROUTER_CONFIGURATION"),kn=new f.OlP("ROUTER_FORROOT_GUARD"),ma=[bn.Ye,{provide:rr,useClass:sr},{provide:bi,useFactory:function Ao(D,v,y,M,P,U,he={},Ce,dt){const en=new bi(null,D,v,y,M,P,me(U));return Ce&&(en.urlHandlingStrategy=Ce),dt&&(en.routeReuseStrategy=dt),function Hl(D,v){D.errorHandler&&(v.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(v.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(v.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(v.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(v.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(v.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(v.canceledNavigationResolution=D.canceledNavigationResolution)}(he,en),he.enableTracing&&en.events.subscribe(Zt=>{var En,Un;null===(En=console.group)||void 0===En||En.call(console,`Router Event: ${Zt.constructor.name}`),console.log(Zt.toString()),console.log(Zt),null===(Un=console.groupEnd)||void 0===Un||Un.call(console)}),en},deps:[rr,Zi,bn.Ye,f.zs3,f.Sil,Qi,nn,[class al{},new f.FiY],[class Bi{},new f.FiY]]},Zi,{provide:ft,useFactory:function Cu(D){return D.routerState.root},deps:[bi]},ai,Vt,class ul{preload(v,y){return y().pipe(ce(()=>(0,Fe.of)(null)))}},{provide:nn,useValue:{enableTracing:!1}}];function Wt(){return new f.PXZ("Router",bi)}let st=(()=>{class D{constructor(y,M){}static forRoot(y,M){return{ngModule:D,providers:[ma,ya(y),{provide:kn,useFactory:js,deps:[[bi,new f.FiY,new f.tp0]]},{provide:nn,useValue:M||{}},{provide:bn.S$,useFactory:yi,deps:[bn.lw,[new f.tBr(bn.mr),new f.FiY],nn]},{provide:go,useFactory:vt,deps:[bi,bn.EM,nn]},{provide:To,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:Vt},{provide:f.PXZ,multi:!0,useFactory:Wt},[So,{provide:f.ip1,multi:!0,useFactory:Zo,deps:[So]},{provide:mo,useFactory:Mo,deps:[So]},{provide:f.tb,multi:!0,useExisting:mo}]]}}static forChild(y){return{ngModule:D,providers:[ya(y)]}}}return D.\u0275fac=function(y){return new(y||D)(f.LFG(kn,8),f.LFG(bi,8))},D.\u0275mod=f.oAB({type:D}),D.\u0275inj=f.cJS({}),D})();function vt(D,v,y){return y.scrollOffset&&v.setOffset(y.scrollOffset),new go(D,v,y)}function yi(D,v,y={}){return y.useHash?new bn.Do(D,v):new bn.b0(D,v)}function js(D){return"guarded"}function ya(D){return[{provide:f.deG,multi:!0,useValue:D},{provide:Qi,multi:!0,useValue:D}]}let So=(()=>{class D{constructor(y){this.injector=y,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.x}appInitializer(){return this.injector.get(bn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const P=new Promise(Ce=>M=Ce),U=this.injector.get(bi),he=this.injector.get(nn);return"disabled"===he.initialNavigation?(U.setUpLocationChangeListener(),M(!0)):"enabled"===he.initialNavigation||"enabledBlocking"===he.initialNavigation?(U.hooks.afterPreactivation=()=>this.initNavigation?(0,Fe.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),U.initialNavigation()):M(!0),P})}bootstrapListener(y){const M=this.injector.get(nn),P=this.injector.get(ai),U=this.injector.get(go),he=this.injector.get(bi),Ce=this.injector.get(f.z2F);y===Ce.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&he.initialNavigation(),P.setUpPreloading(),U.init(),he.resetRootComponentType(Ce.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return D.\u0275fac=function(y){return new(y||D)(f.LFG(f.zs3))},D.\u0275prov=f.Yz7({token:D,factory:D.\u0275fac}),D})();function Zo(D){return D.appInitializer.bind(D)}function Mo(D){return D.bootstrapListener.bind(D)}const mo=new f.OlP("Router Initializer")},579:(kt,Ue,S)=>{S.d(Ue,{EI:()=>me,Gb:()=>sn,Iv:()=>dn,Kz:()=>J,Xd:()=>Gt,lT:()=>jn,xP:()=>se});var f=S(5861),E=S(9681),z=S(1877),ie=S(2090),V=S(4859);S(2833);const ge="analytics",ne="firebase_id",ae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Me="https://www.googletagmanager.com/gtag/js",Qe=new z.Yd("@firebase/analytics");function He(ee){return Promise.all(ee.map(Ae=>Ae.catch(Ye=>Ye)))}function tt(ee,Ae){const Ye=document.createElement("script");Ye.src=`${Me}?l=${ee}&id=${Ae}`,Ye.async=!0,document.head.appendChild(Ye)}function le(ee,Ae,Ye,ct,Mt,ht){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,f.Z)(function*(ee,Ae,Ye,ct,Mt,ht){const Lt=ct[Mt];try{if(Lt)yield Ae[Lt];else{const ve=(yield He(Ye)).find(fe=>fe.measurementId===Mt);ve&&(yield Ae[ve.appId])}}catch(ke){Qe.error(ke)}ee("config",Mt,ht)})).apply(this,arguments)}function Ct(ee,Ae,Ye,ct,Mt){return At.apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(ee,Ae,Ye,ct,Mt){try{let ht=[];if(Mt&&Mt.send_to){let Lt=Mt.send_to;Array.isArray(Lt)||(Lt=[Lt]);const ke=yield He(Ye);for(const ve of Lt){const fe=ke.find(at=>at.measurementId===ve),rt=fe&&Ae[fe.appId];if(!rt){ht=[];break}ht.push(rt)}}0===ht.length&&(ht=Object.values(Ae)),yield Promise.all(ht),ee("event",ct,Mt||{})}catch(ht){Qe.error(ht)}})).apply(this,arguments)}function Ze(){const ee=window.document.getElementsByTagName("script");for(const Ae of Object.values(ee))if(Ae.src&&Ae.src.includes(Me))return Ae;return null}const ue=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Oe=new class ce{constructor(Ae={},Ye=1e3){this.throttleMetadata=Ae,this.intervalMillis=Ye}getThrottleMetadata(Ae){return this.throttleMetadata[Ae]}setThrottleMetadata(Ae,Ye){this.throttleMetadata[Ae]=Ye}deleteThrottleMetadata(Ae){delete this.throttleMetadata[Ae]}};function Be(ee){return new Headers({Accept:"application/json","x-goog-api-key":ee})}function Ge(ee){return Le.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(ee){var Ae;const{appId:Ye,apiKey:ct}=ee,Mt={method:"GET",headers:Be(ct)},ht=ae.replace("{app-id}",Ye),Lt=yield fetch(ht,Mt);if(200!==Lt.status&&304!==Lt.status){let ke="";try{const ve=yield Lt.json();(null===(Ae=ve.error)||void 0===Ae?void 0:Ae.message)&&(ke=ve.error.message)}catch(ve){}throw ue.create("config-fetch-failed",{httpStatus:Lt.status,responseMessage:ke})}return Lt.json()})).apply(this,arguments)}function gt(ee){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(ee,Ae=Oe,Ye){const{appId:ct,apiKey:Mt,measurementId:ht}=ee.options;if(!ct)throw ue.create("no-app-id");if(!Mt){if(ht)return{measurementId:ht,appId:ct};throw ue.create("no-api-key")}const Lt=Ae.getThrottleMetadata(ct)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new Nn;return setTimeout((0,f.Z)(function*(){ke.abort()}),void 0!==Ye?Ye:6e4),Bt({appId:ct,apiKey:Mt,measurementId:ht},Lt,ke,Ae)})).apply(this,arguments)}function Bt(ee,Ae,Ye){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(ee,{throttleEndTimeMillis:Ae,backoffCount:Ye},ct,Mt=Oe){const{appId:ht,measurementId:Lt}=ee;try{yield Tt(ct,Ae)}catch(ke){if(Lt)return Qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:ht,measurementId:Lt};throw ke}try{const ke=yield Ge(ee);return Mt.deleteThrottleMetadata(ht),ke}catch(ke){if(!_n(ke)){if(Mt.deleteThrottleMetadata(ht),Lt)return Qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:ht,measurementId:Lt};throw ke}const ve=503===Number(ke.customData.httpStatus)?(0,ie.$s)(Ye,Mt.intervalMillis,30):(0,ie.$s)(Ye,Mt.intervalMillis),fe={throttleEndTimeMillis:Date.now()+ve,backoffCount:Ye+1};return Mt.setThrottleMetadata(ht,fe),Qe.debug(`Calling attemptFetch again in ${ve} millis`),Bt(ee,fe,ct,Mt)}})).apply(this,arguments)}function Tt(ee,Ae){return new Promise((Ye,ct)=>{const Mt=Math.max(Ae-Date.now(),0),ht=setTimeout(Ye,Mt);ee.addEventListener(()=>{clearTimeout(ht),ct(ue.create("fetch-throttle",{throttleEndTimeMillis:Ae}))})})}function _n(ee){if(!(ee instanceof ie.ZR&&ee.customData))return!1;const Ae=Number(ee.customData.httpStatus);return 429===Ae||500===Ae||503===Ae||504===Ae}class Nn{constructor(){this.listeners=[]}addEventListener(Ae){this.listeners.push(Ae)}abort(){this.listeners.forEach(Ae=>Ae())}}function Tn(){return qt.apply(this,arguments)}function qt(){return(qt=(0,f.Z)(function*(){if(!(0,ie.hl)())return Qe.warn(ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(ee){return Qe.warn(ue.create("indexeddb-unavailable",{errorInfo:ee}).message),!1}return!0})).apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(ee,Ae,Ye,ct,Mt,ht,Lt){var ke;const ve=gt(ee);ve.then(ln=>{Ye[ln.measurementId]=ln.appId,ee.options.measurementId&&ln.measurementId!==ee.options.measurementId&&Qe.warn(`The measurement ID in the local Firebase config (${ee.options.measurementId}) does not match the measurement ID fetched from the server (${ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ln=>Qe.error(ln)),Ae.push(ve);const fe=Tn().then(ln=>{if(ln)return ct.getId()}),[rt,at]=yield Promise.all([ve,fe]);Ze()||tt(ht,rt.measurementId),Mt("js",new Date);const $t=null!==(ke=null==Lt?void 0:Lt.config)&&void 0!==ke?ke:{};return $t.origin="firebase",$t.update=!0,null!=at&&($t[ne]=at),Mt("config",rt.measurementId,$t),rt.measurementId})).apply(this,arguments)}class pn{constructor(Ae){this.app=Ae}_delete(){return delete bn[this.app.options.appId],Promise.resolve()}}let bn={},Fn=[];const vn={};let Jn,tn,Ln="dataLayer",Yn="gtag",Zn=!1;function Gt(ee){if(Zn)throw ue.create("already-initialized");ee.dataLayerName&&(Ln=ee.dataLayerName),ee.gtagName&&(Yn=ee.gtagName)}function Cn(ee,Ae,Ye){!function Ir(){const ee=[];if((0,ie.ru)()&&ee.push("This is a browser extension environment."),(0,ie.zI)()||ee.push("Cookies are not available."),ee.length>0){const Ae=ee.map((ct,Mt)=>`(${Mt+1}) ${ct}`).join(" "),Ye=ue.create("invalid-analytics-context",{errorInfo:Ae});Qe.warn(Ye.message)}}();const ct=ee.options.appId;if(!ct)throw ue.create("no-app-id");if(!ee.options.apiKey){if(!ee.options.measurementId)throw ue.create("no-api-key");Qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ee.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bn[ct])throw ue.create("already-exists",{id:ct});if(!Zn){!function pt(ee){let Ae=[];Array.isArray(window[ee])?Ae=window[ee]:window[ee]=Ae}(Ln);const{wrappedGtag:ht,gtagCore:Lt}=function Fe(ee,Ae,Ye,ct,Mt){let ht=function(...Lt){window[ct].push(arguments)};return window[Mt]&&"function"==typeof window[Mt]&&(ht=window[Mt]),window[Mt]=function Ke(ee,Ae,Ye,ct){function ht(){return(ht=(0,f.Z)(function*(Lt,ke,ve){try{"event"===Lt?yield Ct(ee,Ae,Ye,ke,ve):"config"===Lt?yield le(ee,Ae,Ye,ct,ke,ve):ee("set",ke)}catch(fe){Qe.error(fe)}})).apply(this,arguments)}return function Mt(Lt,ke,ve){return ht.apply(this,arguments)}}(ht,ee,Ae,Ye),{gtagCore:ht,wrappedGtag:window[Mt]}}(bn,Fn,vn,Ln,Yn);tn=ht,Jn=Lt,Zn=!0}return bn[ct]=function on(ee,Ae,Ye,ct,Mt,ht,Lt){return Yt.apply(this,arguments)}(ee,Fn,vn,Ae,Jn,Ln,Ye),new pn(ee)}function nr(){return(nr=(0,f.Z)(function*(ee,Ae,Ye,ct,Mt){if(Mt&&Mt.global)ee("event",Ye,ct);else{const ht=yield Ae;ee("event",Ye,Object.assign(Object.assign({},ct),{send_to:ht}))}})).apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(ee,Ae,Ye,ct){if(ct&&ct.global)return ee("set",{screen_name:Ye}),Promise.resolve();ee("config",yield Ae,{update:!0,screen_name:Ye})})).apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(ee,Ae,Ye,ct){if(ct&&ct.global)return ee("set",{user_id:Ye}),Promise.resolve();ee("config",yield Ae,{update:!0,user_id:Ye})})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(ee,Ae,Ye,ct){if(ct&&ct.global){const Mt={};for(const ht of Object.keys(Ye))Mt[`user_properties.${ht}`]=Ye[ht];return ee("set",Mt),Promise.resolve()}ee("config",yield Ae,{update:!0,user_properties:Ye})})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(ee,Ae){const Ye=yield ee;window[`ga-disable-${Ye}`]=!Ae})).apply(this,arguments)}function sn(){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(ee){return!1}})).apply(this,arguments)}function jn(ee,Ae,Ye){ee=(0,ie.m9)(ee),function gr(ee,Ae,Ye,ct){return ut.apply(this,arguments)}(tn,bn[ee.app.options.appId],Ae,Ye).catch(ct=>Qe.error(ct))}function dn(ee,Ae,Ye){ee=(0,ie.m9)(ee),function ye(ee,Ae,Ye,ct){return De.apply(this,arguments)}(tn,bn[ee.app.options.appId],Ae,Ye).catch(ct=>Qe.error(ct))}function se(ee,Ae,Ye){ee=(0,ie.m9)(ee),function mt(ee,Ae,Ye,ct){return Ve.apply(this,arguments)}(tn,bn[ee.app.options.appId],Ae,Ye).catch(ct=>Qe.error(ct))}function me(ee,Ae){ee=(0,ie.m9)(ee),function _t(ee,Ae){return yt.apply(this,arguments)}(bn[ee.app.options.appId],Ae).catch(Ye=>Qe.error(Ye))}function J(ee,Ae,Ye,ct){ee=(0,ie.m9)(ee),function an(ee,Ae,Ye,ct,Mt){return nr.apply(this,arguments)}(tn,bn[ee.app.options.appId],Ae,Ye,ct).catch(Mt=>Qe.error(Mt))}const k="@firebase/analytics",N="0.7.9";!function X(){(0,E._registerComponent)(new V.wA(ge,(Ae,{options:Ye})=>Cn(Ae.getProvider("app").getImmediate(),Ae.getProvider("installations-internal").getImmediate(),Ye),"PUBLIC")),(0,E._registerComponent)(new V.wA("analytics-internal",function ee(Ae){try{const Ye=Ae.getProvider(ge).getImmediate();return{logEvent:(ct,Mt,ht)=>J(Ye,ct,Mt,ht)}}catch(Ye){throw ue.create("interop-component-reg-failed",{reason:Ye})}},"PRIVATE")),(0,E.registerVersion)(k,N),(0,E.registerVersion)(k,N,"esm2017")}()},3942:(kt,Ue,S)=>{S.d(Ue,{Z:()=>tt});var f=S(2090),E=S(4859),z=S(9681),ie=S(1877);class V{constructor(le,Xe){this._delegate=le,this.firebase=Xe,(0,z._addComponent)(le,new E.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(le,Xe=z._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const At=this._delegate.container.getProvider(le);return!At.isInitialized()&&"EXPLICIT"===(null===(Ct=At.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&At.initialize(),At.getImmediate({identifier:Xe})}_removeServiceInstance(le,Xe=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Xe)}_addComponent(le){(0,z._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,z._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ee(){const pt=function ne(pt){const le={},Xe={__esModule:!0,initializeApp:function Ke(ue,xe={}){const je=z.initializeApp(ue,xe);if((0,f.r3)(le,je.name))return le[je.name];const ce=new pt(je,Xe);return le[je.name]=ce,ce},app:At,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function Ze(ue){const xe=ue.name,je=xe.replace("-compat","");if(z._registerComponent(ue)&&"PUBLIC"===ue.type){const ce=(Oe=At())=>{if("function"!=typeof Oe[je])throw ge.create("invalid-app-argument",{appName:xe});return Oe[je]()};void 0!==ue.serviceProps&&(0,f.ZB)(ce,ue.serviceProps),Xe[je]=ce,pt.prototype[je]=function(...Oe){return this._getService.bind(this,xe).apply(this,ue.multipleInstances?Oe:[])}}return"PUBLIC"===ue.type?Xe[je]:null},removeApp:function Ct(ue){delete le[ue]},useAsService:function bt(ue,xe){return"serverAuth"===xe?null:xe},modularAPIs:z}};function At(ue){if(!(0,f.r3)(le,ue=ue||z._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:ue});return le[ue]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function Fe(){return Object.keys(le).map(ue=>le[ue])}}),At.App=pt,Xe}(V);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:Ee,extendNamespace:function le(Xe){(0,f.ZB)(pt,Xe)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),pt}(),ae=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=Q;!function He(pt){(0,z.registerVersion)("@firebase/app-compat","0.1.25",pt)}()},9681:(kt,Ue,S)=>{S.r(Ue),S.d(Ue,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Yn,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>qt,_apps:()=>_n,_clearComponents:()=>bn,_components:()=>Nn,_getProvider:()=>Yt,_registerComponent:()=>on,_removeServiceInstance:()=>pn,deleteApp:()=>Gt,getApp:()=>tn,getApps:()=>Zn,initializeApp:()=>Jn,onLog:()=>an,registerVersion:()=>Cn,setLogLevel:()=>nr});var f=S(5861),E=S(4859),z=S(1877),ie=S(2090),V=S(8766);class Ie{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function ge(N){const X=N.getComponent();return"VERSION"===(null==X?void 0:X.type)}(ee)){const Ae=ee.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(ee=>ee).join(" ")}}const ne="@firebase/app",Q=new z.Yd("@firebase/app"),Ut="[DEFAULT]",Tt={[ne]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_n=new Map,Nn=new Map;function Tn(N,X){try{N.container.addComponent(X)}catch(ee){Q.debug(`Component ${X.name} failed to register with FirebaseApp ${N.name}`,ee)}}function qt(N,X){N.container.addOrOverwriteComponent(X)}function on(N){const X=N.name;if(Nn.has(X))return Q.debug(`There were multiple attempts to register component ${X}.`),!1;Nn.set(X,N);for(const ee of _n.values())Tn(ee,N);return!0}function Yt(N,X){const ee=N.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),N.container.getProvider(X)}function pn(N,X,ee=Ut){Yt(N,X).clearInstance(ee)}function bn(){Nn.clear()}const vn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ln{constructor(X,ee,Ae){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new E.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}}const Yn="9.8.1";function Jn(N,X={}){"object"!=typeof X&&(X={name:X});const ee=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},X),Ae=ee.name;if("string"!=typeof Ae||!Ae)throw vn.create("bad-app-name",{appName:String(Ae)});const Ye=_n.get(Ae);if(Ye){if((0,ie.vZ)(N,Ye.options)&&(0,ie.vZ)(ee,Ye.config))return Ye;throw vn.create("duplicate-app",{appName:Ae})}const ct=new E.H0(Ae);for(const ht of Nn.values())ct.addComponent(ht);const Mt=new Ln(N,ee,ct);return _n.set(Ae,Mt),Mt}function tn(N=Ut){const X=_n.get(N);if(!X)throw vn.create("no-app",{appName:N});return X}function Zn(){return Array.from(_n.values())}function Gt(N){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(N){const X=N.name;_n.has(X)&&(_n.delete(X),yield Promise.all(N.container.getProviders().map(ee=>ee.delete())),N.isDeleted=!0)})).apply(this,arguments)}function Cn(N,X,ee){var Ae;let Ye=null!==(Ae=Tt[N])&&void 0!==Ae?Ae:N;ee&&(Ye+=`-${ee}`);const ct=Ye.match(/\s|\//),Mt=X.match(/\s|\//);if(ct||Mt){const ht=[`Unable to register library "${Ye}" with version "${X}":`];return ct&&ht.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),ct&&Mt&&ht.push("and"),Mt&&ht.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Q.warn(ht.join(" "))}on(new E.wA(`${Ye}-version`,()=>({library:Ye,version:X}),"VERSION"))}function an(N,X){if(null!==N&&"function"!=typeof N)throw vn.create("invalid-log-argument");(0,z.Am)(N,X)}function nr(N){(0,z.Ub)(N)}const ye="firebase-heartbeat-store";let De=null;function mt(){return De||(De=(0,V.X3)("firebase-heartbeat-database",1,{upgrade:(N,X)=>{0===X&&N.createObjectStore(ye)}}).catch(N=>{throw vn.create("storage-open",{originalErrorMessage:N.message})})),De}function _t(){return(_t=(0,f.Z)(function*(N){try{return(yield mt()).transaction(ye).objectStore(ye).get(hn(N))}catch(X){throw vn.create("storage-get",{originalErrorMessage:X.message})}})).apply(this,arguments)}function yt(N,X){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(N,X){try{const Ae=(yield mt()).transaction(ye,"readwrite");return yield Ae.objectStore(ye).put(X,hn(N)),Ae.done}catch(ee){throw vn.create("storage-set",{originalErrorMessage:ee.message})}})).apply(this,arguments)}function hn(N){return`${N.name}!${N.options.appId}`}class jn{constructor(X){this.container=X,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new me(ee),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var X=this;return(0,f.Z)(function*(){const Ae=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=dn();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!X._heartbeatsCache.heartbeats.some(ct=>ct.date===Ye))return X._heartbeatsCache.heartbeats.push({date:Ye,agent:Ae}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(ct=>{const Mt=new Date(ct.date).valueOf();return Date.now()-Mt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,f.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ee=dn(),{heartbeatsToSend:Ae,unsentEntries:Ye}=function se(N,X=1024){const ee=[];let Ae=N.slice();for(const Ye of N){const ct=ee.find(Mt=>Mt.agent===Ye.agent);if(ct){if(ct.dates.push(Ye.date),J(ee)>X){ct.dates.pop();break}}else if(ee.push({agent:Ye.agent,dates:[Ye.date]}),J(ee)>X){ee.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Ae}}(X._heartbeatsCache.heartbeats),ct=(0,ie.L)(JSON.stringify({version:2,heartbeats:Ae}));return X._heartbeatsCache.lastSentHeartbeatDate=ee,Ye.length>0?(X._heartbeatsCache.heartbeats=Ye,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),ct})()}}function dn(){return(new Date).toISOString().substring(0,10)}class me{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,f.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function Ve(N){return _t.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ee=this;return(0,f.Z)(function*(){var Ae;if(yield ee._canUseIndexedDBPromise){const ct=yield ee.read();return yt(ee.app,{lastSentHeartbeatDate:null!==(Ae=X.lastSentHeartbeatDate)&&void 0!==Ae?Ae:ct.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ee=this;return(0,f.Z)(function*(){var Ae;if(yield ee._canUseIndexedDBPromise){const ct=yield ee.read();return yt(ee.app,{lastSentHeartbeatDate:null!==(Ae=X.lastSentHeartbeatDate)&&void 0!==Ae?Ae:ct.lastSentHeartbeatDate,heartbeats:[...ct.heartbeats,...X.heartbeats]})}})()}}function J(N){return(0,ie.L)(JSON.stringify({version:2,heartbeats:N})).length}!function k(N){on(new E.wA("platform-logger",X=>new Ie(X),"PRIVATE")),on(new E.wA("heartbeat",X=>new jn(X),"PRIVATE")),Cn(ne,"0.7.24",N),Cn(ne,"0.7.24","esm2017"),Cn("fire-js","")}("")},4859:(kt,Ue,S)=>{S.d(Ue,{H0:()=>ne,wA:()=>z});var f=S(5861),E=S(2090);class z{constructor(Q,ae,Me){this.name=Q,this.instanceFactory=ae,this.type=Me,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ie="[DEFAULT]";class V{constructor(Q,ae){this.name=Q,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ae=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ae)){const Me=new E.BH;if(this.instancesDeferred.set(ae,Me),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ae});Qe&&Me.resolve(Qe)}catch(Qe){}}return this.instancesDeferred.get(ae).promise}getImmediate(Q){var ae;const Me=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Qe=null!==(ae=null==Q?void 0:Q.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Me)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Me})}catch(He){if(Qe)return null;throw He}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ge(Ee){return"EAGER"===Ee.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(ae){}for(const[ae,Me]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ae);try{const He=this.getOrInitializeService({instanceIdentifier:Qe});Me.resolve(He)}catch(He){}}}}clearInstance(Q=ie){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,f.Z)(function*(){const ae=Array.from(Q.instances.values());yield Promise.all([...ae.filter(Me=>"INTERNAL"in Me).map(Me=>Me.INTERNAL.delete()),...ae.filter(Me=>"_delete"in Me).map(Me=>Me._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ie){return this.instances.has(Q)}getOptions(Q=ie){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ae={}}=Q,Me=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(Me))throw Error(`${this.name}(${Me}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:Me,options:ae});for(const[He,tt]of this.instancesDeferred.entries())Me===this.normalizeInstanceIdentifier(He)&&tt.resolve(Qe);return Qe}onInit(Q,ae){var Me;const Qe=this.normalizeInstanceIdentifier(ae),He=null!==(Me=this.onInitCallbacks.get(Qe))&&void 0!==Me?Me:new Set;He.add(Q),this.onInitCallbacks.set(Qe,He);const tt=this.instances.get(Qe);return tt&&Q(tt,Qe),()=>{He.delete(Q)}}invokeOnInitCallbacks(Q,ae){const Me=this.onInitCallbacks.get(ae);if(Me)for(const Qe of Me)try{Qe(Q,ae)}catch(He){}}getOrInitializeService({instanceIdentifier:Q,options:ae={}}){let Me=this.instances.get(Q);if(!Me&&this.component&&(Me=this.component.instanceFactory(this.container,{instanceIdentifier:(Ee=Q,Ee===ie?void 0:Ee),options:ae}),this.instances.set(Q,Me),this.instancesOptions.set(Q,ae),this.invokeOnInitCallbacks(Me,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,Me)}catch(Qe){}var Ee;return Me||null}normalizeInstanceIdentifier(Q=ie){return this.component?this.component.multipleInstances?Q:ie:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ne{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ae=this.getProvider(Q.name);if(ae.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ae.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ae=new V(Q,this);return this.providers.set(Q,ae),ae}getProviders(){return Array.from(this.providers.values())}}},2833:(kt,Ue,S)=>{var f=S(5861),E=S(9681),z=S(4859),ie=S(2090),V=S(8766);const Ie="@firebase/installations",Ee="w:0.5.9",Q="FIS_v2",pt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function le(_e){return _e instanceof ie.ZR&&_e.code.includes("request-failed")}function Xe({projectId:_e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${_e}/installations`}function Ct(_e){return{token:_e.token,requestStatus:2,expiresIn:xe(_e.expiresIn),creationTime:Date.now()}}function At(_e,qe){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,f.Z)(function*(_e,qe){const Xt=(yield qe.json()).error;return pt.create("request-failed",{requestName:_e,serverCode:Xt.code,serverMessage:Xt.message,serverStatus:Xt.status})})).apply(this,arguments)}function Fe({apiKey:_e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":_e})}function Ze(_e,{refreshToken:qe}){const Et=Fe(_e);return Et.append("Authorization",function je(_e){return`${Q} ${_e}`}(qe)),Et}function bt(_e){return ue.apply(this,arguments)}function ue(){return(ue=(0,f.Z)(function*(_e){const qe=yield _e();return qe.status>=500&&qe.status<600?_e():qe})).apply(this,arguments)}function xe(_e){return Number(_e.replace("s","000"))}function ce(_e,qe){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,f.Z)(function*({appConfig:_e,heartbeatServiceProvider:qe},{fid:Et}){const Xt=Xe(_e),Sn=Fe(_e),$n=qe.getImmediate({optional:!0});if($n){const fn=yield $n.getHeartbeatsHeader();fn&&Sn.append("x-firebase-client",fn)}const ur={method:"POST",headers:Sn,body:JSON.stringify({fid:Et,authVersion:Q,appId:_e.appId,sdkVersion:Ee})},xr=yield bt(()=>fetch(Xt,ur));if(xr.ok){const fn=yield xr.json();return{fid:fn.fid||Et,registrationStatus:2,refreshToken:fn.refreshToken,authToken:Ct(fn.authToken)}}throw yield At("Create Installation",xr)})).apply(this,arguments)}function Be(_e){return new Promise(qe=>{setTimeout(qe,_e)})}const Le=/^[cdef][\w-]{21}$/;function Nt(){try{const _e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(_e),_e[0]=112+_e[0]%16;const Et=function Bt(_e){return function Ge(_e){return btoa(String.fromCharCode(..._e)).replace(/\+/g,"-").replace(/\//g,"_")}(_e).substr(0,22)}(_e);return Le.test(Et)?Et:""}catch(_e){return""}}function Ut(_e){return`${_e.appName}!${_e.appId}`}const Tt=new Map;function _n(_e,qe){const Et=Ut(_e);qt(Et,qe),function on(_e,qe){const Et=function pn(){return!Yt&&"BroadcastChannel"in self&&(Yt=new BroadcastChannel("[Firebase] FID Change"),Yt.onmessage=_e=>{qt(_e.data.key,_e.data.fid)}),Yt}();Et&&Et.postMessage({key:_e,fid:qe}),function bn(){0===Tt.size&&Yt&&(Yt.close(),Yt=null)}()}(Et,qe)}function qt(_e,qe){const Et=Tt.get(_e);if(Et)for(const Xt of Et)Xt(qe)}let Yt=null;const Ln="firebase-installations-store";let Yn=null;function Jn(){return Yn||(Yn=(0,V.X3)("firebase-installations-database",1,{upgrade:(_e,qe)=>{0===qe&&_e.createObjectStore(Ln)}})),Yn}function tn(_e,qe){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(_e,qe){const Et=Ut(_e),Sn=(yield Jn()).transaction(Ln,"readwrite"),$n=Sn.objectStore(Ln),Mn=yield $n.get(Et);return yield $n.put(qe,Et),yield Sn.done,(!Mn||Mn.fid!==qe.fid)&&_n(_e,qe.fid),qe})).apply(this,arguments)}function Gt(_e){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(_e){const qe=Ut(_e),Xt=(yield Jn()).transaction(Ln,"readwrite");yield Xt.objectStore(Ln).delete(qe),yield Xt.done})).apply(this,arguments)}function Cn(_e,qe){return an.apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(_e,qe){const Et=Ut(_e),Sn=(yield Jn()).transaction(Ln,"readwrite"),$n=Sn.objectStore(Ln),Mn=yield $n.get(Et),ur=qe(Mn);return void 0===ur?yield $n.delete(Et):yield $n.put(ur,Et),yield Sn.done,ur&&(!Mn||Mn.fid!==ur.fid)&&_n(_e,ur.fid),ur})).apply(this,arguments)}function nr(_e){return gr.apply(this,arguments)}function gr(){return(gr=(0,f.Z)(function*(_e){let qe;const Et=yield Cn(_e.appConfig,Xt=>{const Sn=ut(Xt),$n=ye(_e,Sn);return qe=$n.registrationPromise,$n.installationEntry});return""===Et.fid?{installationEntry:yield qe}:{installationEntry:Et,registrationPromise:qe}})).apply(this,arguments)}function ut(_e){return gn(_e||{fid:Nt(),registrationStatus:0})}function ye(_e,qe){if(0===qe.registrationStatus){if(!navigator.onLine)return{installationEntry:qe,registrationPromise:Promise.reject(pt.create("app-offline"))};const Et={fid:qe.fid,registrationStatus:1,registrationTime:Date.now()},Xt=function De(_e,qe){return mt.apply(this,arguments)}(_e,Et);return{installationEntry:Et,registrationPromise:Xt}}return 1===qe.registrationStatus?{installationEntry:qe,registrationPromise:Ve(_e)}:{installationEntry:qe}}function mt(){return(mt=(0,f.Z)(function*(_e,qe){try{const Et=yield ce(_e,qe);return tn(_e.appConfig,Et)}catch(Et){throw le(Et)&&409===Et.customData.serverCode?yield Gt(_e.appConfig):yield tn(_e.appConfig,{fid:qe.fid,registrationStatus:0}),Et}})).apply(this,arguments)}function Ve(_e){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(_e){let qe=yield yt(_e.appConfig);for(;1===qe.registrationStatus;)yield Be(100),qe=yield yt(_e.appConfig);if(0===qe.registrationStatus){const{installationEntry:Et,registrationPromise:Xt}=yield nr(_e);return Xt||Et}return qe})).apply(this,arguments)}function yt(_e){return Cn(_e,qe=>{if(!qe)throw pt.create("installation-not-found");return gn(qe)})}function gn(_e){return function hn(_e){return 1===_e.registrationStatus&&_e.registrationTime+1e4<Date.now()}(_e)?{fid:_e.fid,registrationStatus:0}:_e}function sn(_e,qe){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*({appConfig:_e,heartbeatServiceProvider:qe},Et){const Xt=jn(_e,Et),Sn=Ze(_e,Et),$n=qe.getImmediate({optional:!0});if($n){const fn=yield $n.getHeartbeatsHeader();fn&&Sn.append("x-firebase-client",fn)}const ur={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:Ee,appId:_e.appId}})},xr=yield bt(()=>fetch(Xt,ur));if(xr.ok)return Ct(yield xr.json());throw yield At("Generate Auth Token",xr)})).apply(this,arguments)}function jn(_e,{fid:qe}){return`${Xe(_e)}/${qe}/authTokens:generate`}function dn(_e){return se.apply(this,arguments)}function se(){return(se=(0,f.Z)(function*(_e,qe=!1){let Et;const Xt=yield Cn(_e.appConfig,$n=>{if(!ee($n))throw pt.create("not-registered");const Mn=$n.authToken;if(!qe&&Ae(Mn))return $n;if(1===Mn.requestStatus)return Et=me(_e,qe),$n;{if(!navigator.onLine)throw pt.create("app-offline");const ur=ct($n);return Et=N(_e,ur),ur}});return Et?yield Et:Xt.authToken})).apply(this,arguments)}function me(_e,qe){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(_e,qe){let Et=yield k(_e.appConfig);for(;1===Et.authToken.requestStatus;)yield Be(100),Et=yield k(_e.appConfig);const Xt=Et.authToken;return 0===Xt.requestStatus?dn(_e,qe):Xt})).apply(this,arguments)}function k(_e){return Cn(_e,qe=>{if(!ee(qe))throw pt.create("not-registered");return function Mt(_e){return 1===_e.requestStatus&&_e.requestTime+1e4<Date.now()}(qe.authToken)?Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}}):qe})}function N(_e,qe){return X.apply(this,arguments)}function X(){return(X=(0,f.Z)(function*(_e,qe){try{const Et=yield sn(_e,qe),Xt=Object.assign(Object.assign({},qe),{authToken:Et});return yield tn(_e.appConfig,Xt),Et}catch(Et){if(!le(Et)||401!==Et.customData.serverCode&&404!==Et.customData.serverCode){const Xt=Object.assign(Object.assign({},qe),{authToken:{requestStatus:0}});yield tn(_e.appConfig,Xt)}else yield Gt(_e.appConfig);throw Et}})).apply(this,arguments)}function ee(_e){return void 0!==_e&&2===_e.registrationStatus}function Ae(_e){return 2===_e.requestStatus&&!function Ye(_e){const qe=Date.now();return qe<_e.creationTime||_e.creationTime+_e.expiresIn<qe+36e5}(_e)}function ct(_e){const qe={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},_e),{authToken:qe})}function Lt(){return(Lt=(0,f.Z)(function*(_e){const qe=_e,{installationEntry:Et,registrationPromise:Xt}=yield nr(qe);return Xt?Xt.catch(console.error):dn(qe).catch(console.error),Et.fid})).apply(this,arguments)}function ve(){return(ve=(0,f.Z)(function*(_e,qe=!1){const Et=_e;return yield fe(Et),(yield dn(Et,qe)).token})).apply(this,arguments)}function fe(_e){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(_e){const{registrationPromise:qe}=yield nr(_e);qe&&(yield qe)})).apply(this,arguments)}function An(_e){return pt.create("missing-app-config-values",{valueName:_e})}const wr="installations",Kr=_e=>{const qe=_e.getProvider("app").getImmediate(),Et=function Pn(_e){if(!_e||!_e.options)throw An("App Configuration");if(!_e.name)throw An("App Name");const qe=["projectId","apiKey","appId"];for(const Et of qe)if(!_e.options[Et])throw An(Et);return{appName:_e.name,projectId:_e.options.projectId,apiKey:_e.options.apiKey,appId:_e.options.appId}}(qe);return{app:qe,appConfig:Et,heartbeatServiceProvider:(0,E._getProvider)(qe,"heartbeat"),_delete:()=>Promise.resolve()}},Mr=_e=>{const qe=_e.getProvider("app").getImmediate(),Et=(0,E._getProvider)(qe,wr).getImmediate();return{getId:()=>function ht(_e){return Lt.apply(this,arguments)}(Et),getToken:Sn=>function ke(_e){return ve.apply(this,arguments)}(Et,Sn)}};(function xt(){(0,E._registerComponent)(new z.wA(wr,Kr,"PUBLIC")),(0,E._registerComponent)(new z.wA("installations-internal",Mr,"PRIVATE"))})(),(0,E.registerVersion)(Ie,"0.5.9"),(0,E.registerVersion)(Ie,"0.5.9","esm2017")},1877:(kt,Ue,S)=>{S.d(Ue,{Am:()=>Ee,Ub:()=>ne,Yd:()=>ge,in:()=>E});const f=[];var E=(()=>{return(Q=E||(E={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",E;var Q})();const z={debug:E.DEBUG,verbose:E.VERBOSE,info:E.INFO,warn:E.WARN,error:E.ERROR,silent:E.SILENT},ie=E.INFO,V={[E.DEBUG]:"log",[E.VERBOSE]:"log",[E.INFO]:"info",[E.WARN]:"warn",[E.ERROR]:"error"},Ie=(Q,ae,...Me)=>{if(ae<Q.logLevel)return;const Qe=(new Date).toISOString(),He=V[ae];if(!He)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[He](`[${Qe}]  ${Q.name}:`,...Me)};class ge{constructor(ae){this.name=ae,this._logLevel=ie,this._logHandler=Ie,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in E))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?z[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,E.DEBUG,...ae),this._logHandler(this,E.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,E.VERBOSE,...ae),this._logHandler(this,E.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,E.INFO,...ae),this._logHandler(this,E.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,E.WARN,...ae),this._logHandler(this,E.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,E.ERROR,...ae),this._logHandler(this,E.ERROR,...ae)}}function ne(Q){f.forEach(ae=>{ae.setLogLevel(Q)})}function Ee(Q,ae){for(const Me of f){let Qe=null;ae&&ae.level&&(Qe=z[ae.level]),Me.userLogHandler=null===Q?null:(He,tt,...pt)=>{const le=pt.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch(Ct){return null}}).filter(Xe=>Xe).join(" ");tt>=(null!=Qe?Qe:He.logLevel)&&Q({level:E[tt].toLowerCase(),message:le,args:pt,type:He.name})}}}},8766:(kt,Ue,S)=>{S.d(Ue,{Lj:()=>Ke,X3:()=>At});var f=S(5861);let z,ie;const ge=new WeakMap,ne=new WeakMap,Ee=new WeakMap,Q=new WeakMap,ae=new WeakMap;let He={get(xe,je,ce){if(xe instanceof IDBTransaction){if("done"===je)return ne.get(xe);if("objectStoreNames"===je)return xe.objectStoreNames||Ee.get(xe);if("store"===je)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return Xe(xe[je])},set:(xe,je,ce)=>(xe[je]=ce,!0),has:(xe,je)=>xe instanceof IDBTransaction&&("done"===je||"store"===je)||je in xe};function le(xe){return"function"==typeof xe?function pt(xe){return xe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ie(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(xe)?function(...je){return xe.apply(Ct(this),je),Xe(ge.get(this))}:function(...je){return Xe(xe.apply(Ct(this),je))}:function(je,...ce){const Oe=xe.call(Ct(this),je,...ce);return Ee.set(Oe,je.sort?je.sort():[je]),Xe(Oe)}}(xe):(xe instanceof IDBTransaction&&function Qe(xe){if(ne.has(xe))return;const je=new Promise((ce,Oe)=>{const Be=()=>{xe.removeEventListener("complete",Ge),xe.removeEventListener("error",Le),xe.removeEventListener("abort",Le)},Ge=()=>{ce(),Be()},Le=()=>{Oe(xe.error||new DOMException("AbortError","AbortError")),Be()};xe.addEventListener("complete",Ge),xe.addEventListener("error",Le),xe.addEventListener("abort",Le)});ne.set(xe,je)}(xe),((xe,je)=>je.some(ce=>xe instanceof ce))(xe,function V(){return z||(z=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(xe,He):xe)}function Xe(xe){if(xe instanceof IDBRequest)return function Me(xe){const je=new Promise((ce,Oe)=>{const Be=()=>{xe.removeEventListener("success",Ge),xe.removeEventListener("error",Le)},Ge=()=>{ce(Xe(xe.result)),Be()},Le=()=>{Oe(xe.error),Be()};xe.addEventListener("success",Ge),xe.addEventListener("error",Le)});return je.then(ce=>{ce instanceof IDBCursor&&ge.set(ce,xe)}).catch(()=>{}),ae.set(je,xe),je}(xe);if(Q.has(xe))return Q.get(xe);const je=le(xe);return je!==xe&&(Q.set(xe,je),ae.set(je,xe)),je}const Ct=xe=>ae.get(xe);function At(xe,je,{blocked:ce,upgrade:Oe,blocking:Be,terminated:Ge}={}){const Le=indexedDB.open(xe,je),gt=Xe(Le);return Oe&&Le.addEventListener("upgradeneeded",Nt=>{Oe(Xe(Le.result),Nt.oldVersion,Nt.newVersion,Xe(Le.transaction))}),ce&&Le.addEventListener("blocked",()=>ce()),gt.then(Nt=>{Ge&&Nt.addEventListener("close",()=>Ge()),Be&&Nt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),gt}function Ke(xe,{blocked:je}={}){const ce=indexedDB.deleteDatabase(xe);return je&&ce.addEventListener("blocked",()=>je()),Xe(ce).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],Ze=["put","add","delete","clear"],bt=new Map;function ue(xe,je){if(!(xe instanceof IDBDatabase)||je in xe||"string"!=typeof je)return;if(bt.get(je))return bt.get(je);const ce=je.replace(/FromIndex$/,""),Oe=je!==ce,Be=Ze.includes(ce);if(!(ce in(Oe?IDBIndex:IDBObjectStore).prototype)||!Be&&!Fe.includes(ce))return;const Ge=function(){var Le=(0,f.Z)(function*(gt,...Nt){const Bt=this.transaction(gt,Be?"readwrite":"readonly");let Ut=Bt.store;return Oe&&(Ut=Ut.index(Nt.shift())),(yield Promise.all([Ut[ce](...Nt),Be&&Bt.done]))[0]});return function(Nt){return Le.apply(this,arguments)}}();return bt.set(je,Ge),Ge}!function tt(xe){He=xe(He)}(xe=>nE(tE({},xe),{get:(je,ce,Oe)=>ue(je,ce)||xe.get(je,ce,Oe),has:(je,ce)=>!!ue(je,ce)||xe.has(je,ce)}))},5861:(kt,Ue,S)=>{function f(z,ie,V,Ie,ge,ne,Ee){try{var Q=z[ne](Ee),ae=Q.value}catch(Me){return void V(Me)}Q.done?ie(ae):Promise.resolve(ae).then(Ie,ge)}function E(z){return function(){var ie=this,V=arguments;return new Promise(function(Ie,ge){var ne=z.apply(ie,V);function Ee(ae){f(ne,Ie,ge,Ee,Q,"next",ae)}function Q(ae){f(ne,Ie,ge,Ee,Q,"throw",ae)}Ee(void 0)})}}S.d(Ue,{Z:()=>E})}},kt=>{kt(kt.s=3803)}]);