"use strict";var rb=Object.defineProperty,ib=Object.defineProperties,sb=Object.getOwnPropertyDescriptors,X0=Object.getOwnPropertySymbols,ob=Object.prototype.hasOwnProperty,ab=Object.prototype.propertyIsEnumerable,eE=(kt,Ue,S)=>Ue in kt?rb(kt,Ue,{enumerable:!0,configurable:!0,writable:!0,value:S}):kt[Ue]=S,tE=(kt,Ue)=>{for(var S in Ue||(Ue={}))ob.call(Ue,S)&&eE(kt,S,Ue[S]);if(X0)for(var S of X0(Ue))ab.call(Ue,S)&&eE(kt,S,Ue[S]);return kt},nE=(kt,Ue)=>ib(kt,sb(Ue));(self.webpackChunkbegue_alejandro_PPLaboIV=self.webpackChunkbegue_alejandro_PPLaboIV||[]).push([[179],{7128:(kt,Ue,S)=>{S.d(Ue,{nm:()=>Ke});var f=S(880),V=(S(5e3),S(3692),S(5867),S(5861)),we=S(9681),ge=S(4859),re=S(2090),Ie=S(1877);const Q=new Map,ue={activated:!1,tokenObservers:[]},xe={initialized:!1,enabled:!1};function Qe(Pe){return Q.get(Pe)||ue}function Ge(Pe,be){Q.set(Pe,be)}function tt(){return xe}class Fe{constructor(be,Je,ft,Rt,zt){if(this.operation=be,this.retryPolicy=Je,this.getWaitDuration=ft,this.lowerBound=Rt,this.upperBound=zt,this.pending=null,this.nextErrorWaitInterval=Rt,Rt>zt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(be){var Je=this;return(0,V.Z)(function*(){Je.stop();try{Je.pending=new re.BH,yield function qe(Pe){return new Promise(be=>{setTimeout(be,Pe)})}(Je.getNextRun(be)),Je.pending.resolve(),yield Je.pending.promise,Je.pending=new re.BH,yield Je.operation(),Je.pending.resolve(),yield Je.pending.promise,Je.process(!0).catch(()=>{})}catch(ft){Je.retryPolicy(ft)?Je.process(!1).catch(()=>{}):Je.stop()}})()}getNextRun(be){if(be)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Je=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Je}}}const le=new re.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function je(Pe){if(!Qe(Pe).activated)throw le.create("use-before-activation",{appName:Pe.name})}function He(Pe,be){return Le.apply(this,arguments)}function Le(){return(Le=(0,V.Z)(function*({url:Pe,body:be},Je){const ft={"Content-Type":"application/json"},Rt=Je.getImmediate({optional:!0});if(Rt){const Vr=yield Rt.getHeartbeatsHeader();Vr&&(ft["X-Firebase-Client"]=Vr)}const zt={method:"POST",body:JSON.stringify(be),headers:ft};let Jn,vr;try{Jn=yield fetch(Pe,zt)}catch(Vr){throw le.create("fetch-network-error",{originalErrorMessage:Vr.message})}if(200!==Jn.status)throw le.create("fetch-status-error",{httpStatus:Jn.status});try{vr=yield Jn.json()}catch(Vr){throw le.create("fetch-parse-error",{originalErrorMessage:Vr.message})}const Gn=vr.ttl.match(/^([\d.]+)(s)$/);if(!Gn||!Gn[2]||isNaN(Number(Gn[1])))throw le.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vr.ttl}`});const Dr=1e3*Number(Gn[1]),Pi=Date.now();return{token:vr.token,expireTimeMillis:Pi+Dr,issuedAtTimeMillis:Pi}})).apply(this,arguments)}function Bt(Pe,be){const{projectId:Je,appId:ft,apiKey:Rt}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${Je}/apps/${ft}:exchangeDebugToken?key=${Rt}`,body:{debug_token:be}}}const En="firebase-app-check-store";let Tn=null;function qt(){return Tn||(Tn=new Promise((Pe,be)=>{try{const Je=indexedDB.open("firebase-app-check-database",1);Je.onsuccess=ft=>{Pe(ft.target.result)},Je.onerror=ft=>{var Rt;be(le.create("storage-open",{originalErrorMessage:null===(Rt=ft.target.error)||void 0===Rt?void 0:Rt.message}))},Je.onupgradeneeded=ft=>{0===ft.oldVersion&&ft.target.result.createObjectStore(En,{keyPath:"compositeKey"})}}catch(Je){be(le.create("storage-open",{originalErrorMessage:Je.message}))}}),Tn)}function _n(){return(_n=(0,V.Z)(function*(Pe,be){const ft=(yield qt()).transaction(En,"readwrite"),zt=ft.objectStore(En).put({compositeKey:Pe,value:be});return new Promise((Jn,vr)=>{zt.onsuccess=Gn=>{Jn()},ft.onerror=Gn=>{var Dr;vr(le.create("storage-set",{originalErrorMessage:null===(Dr=Gn.target.error)||void 0===Dr?void 0:Dr.message}))}})})).apply(this,arguments)}const tn=new Ie.Yd("@firebase/app-check");function Er(Pe,be){return(0,re.hl)()?function Kt(Pe,be){return function kn(Pe,be){return _n.apply(this,arguments)}(function Yn(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),be)}(Pe,be).catch(Je=>{tn.warn(`Failed to write token to IndexedDB. Error: ${Je}`)}):Promise.resolve()}function er(){return tt().enabled}function pr(){return ut.apply(this,arguments)}function ut(){return(ut=(0,V.Z)(function*(){const Pe=tt();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const De={error:"UNKNOWN_ERROR"};function mt(Pe){return re.US.encodeString(JSON.stringify(Pe),!1)}function Ve(Pe){return _t.apply(this,arguments)}function _t(){return(_t=(0,V.Z)(function*(Pe,be=!1){const Je=Pe.app;je(Je);const ft=Qe(Je);let zt,Rt=ft.token;if(!Rt){const Gn=yield ft.cachedTokenPromise;Gn&&Bn(Gn)&&(Rt=Gn)}if(!be&&Rt&&Bn(Rt))return{token:Rt.token};let vr,Jn=!1;if(er()){ft.exchangeTokenPromise||(ft.exchangeTokenPromise=He(Bt(Je,yield pr()),Pe.heartbeatServiceProvider).then(Dr=>(ft.exchangeTokenPromise=void 0,Dr)),Jn=!0);const Gn=yield ft.exchangeTokenPromise;return yield Er(Je,Gn),Ge(Je,Object.assign(Object.assign({},ft),{token:Gn})),{token:Gn.token}}try{ft.exchangeTokenPromise||(ft.exchangeTokenPromise=ft.provider.getToken().then(Gn=>(ft.exchangeTokenPromise=void 0,Gn)),Jn=!0),Rt=yield ft.exchangeTokenPromise}catch(Gn){"appCheck/throttled"===Gn.code?tn.warn(Gn.message):tn.error(Gn),zt=Gn}return Rt?(vr={token:Rt.token},Ge(Je,Object.assign(Object.assign({},ft),{token:Rt})),yield Er(Je,Rt)):vr=dn(zt),Jn&&ar(Je,vr),vr})).apply(this,arguments)}function gn(Pe,be){const Je=Qe(Pe),ft=Je.tokenObservers.filter(Rt=>Rt.next!==be);0===ft.length&&Je.tokenRefresher&&Je.tokenRefresher.isRunning()&&Je.tokenRefresher.stop(),Ge(Pe,Object.assign(Object.assign({},Je),{tokenObservers:ft}))}function hn(Pe){const{app:be}=Pe,Je=Qe(be);let ft=Je.tokenRefresher;ft||(ft=function sn(Pe){const{app:be}=Pe;return new Fe((0,V.Z)(function*(){let ft;if(ft=Qe(be).token?yield Ve(Pe,!0):yield Ve(Pe),ft.error)throw ft.error}),()=>!0,()=>{const Je=Qe(be);if(Je.token){let ft=Je.token.issuedAtTimeMillis+.5*(Je.token.expireTimeMillis-Je.token.issuedAtTimeMillis)+3e5;return ft=Math.min(ft,Je.token.expireTimeMillis-3e5),Math.max(0,ft-Date.now())}return 0},3e4,96e4)}(Pe),Ge(be,Object.assign(Object.assign({},Je),{tokenRefresher:ft}))),!ft.isRunning()&&Je.isTokenAutoRefreshEnabled&&ft.start()}function ar(Pe,be){const Je=Qe(Pe).tokenObservers;for(const ft of Je)try{"EXTERNAL"===ft.type&&null!=be.error?ft.error(be.error):ft.next(be)}catch(Rt){}}function Bn(Pe){return Pe.expireTimeMillis-Date.now()>0}function dn(Pe){return{token:mt(De),error:Pe}}class se{constructor(be,Je){this.app=be,this.heartbeatServiceProvider=Je}_delete(){const{tokenObservers:be}=Qe(this.app);for(const Je of be)gn(this.app,Je.next);return Promise.resolve()}}const Kr="app-check-internal";!function Sr(){(0,we._registerComponent)(new ge.wA("app-check",Pe=>function me(Pe,be){return new se(Pe,be)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,be,Je)=>{Pe.getProvider(Kr).initialize()})),(0,we._registerComponent)(new ge.wA(Kr,Pe=>function J(Pe){return{getToken:be=>Ve(Pe,be),addTokenListener:be=>function yt(Pe,be,Je,ft){const{app:Rt}=Pe,zt=Qe(Rt),Jn={next:Je,error:ft,type:be};if(Ge(Rt,Object.assign(Object.assign({},zt),{tokenObservers:[...zt.tokenObservers,Jn]})),zt.token&&Bn(zt.token)){const vr=zt.token;Promise.resolve().then(()=>{Je({token:vr.token}),hn(Pe)}).catch(()=>{})}zt.cachedTokenPromise.then(()=>hn(Pe))}(Pe,"INTERNAL",be),removeTokenListener:be=>gn(Pe.app,be)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,we.registerVersion)("@firebase/app-check","0.5.8")}();class Ke{constructor(){return(0,f.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(kt,Ue,S)=>{S.d(Ue,{Ot:()=>ie,ZF:()=>ce,hX:()=>Qe,z6:()=>V});var f=S(5867),m=S(5e3),W=S(880);class ie{constructor(Fe){return Fe}}class V{constructor(){return(0,f.C6)()}}const re=new m.OlP("angularfire2._apps"),Ie={provide:ie,useFactory:function ge(Ze){return Ze&&1===Ze.length?Ze[0]:new ie((0,f.Mq)())},deps:[[new m.FiY,re]]},Q={provide:V,deps:[[new m.FiY,re]]};function ue(Ze){return(Fe,qe)=>{const Dt=Fe.runOutsideAngular(()=>Ze(qe));return new ie(Dt)}}let xe=(()=>{class Ze{constructor(qe){(0,f.KN)("angularfire",W.q4.full,"core"),(0,f.KN)("angularfire",W.q4.full,"app"),(0,f.KN)("angular",m.q4F.full,qe.toString())}}return Ze.\u0275fac=function(qe){return new(qe||Ze)(m.LFG(m.Lbi))},Ze.\u0275mod=m.oAB({type:Ze}),Ze.\u0275inj=m.cJS({providers:[Ie,Q]}),Ze})();function Qe(Ze,...Fe){return{ngModule:xe,providers:[{provide:re,useFactory:ue(Ze),multi:!0,deps:[m.R0b,m.zs3,W.HU,...Fe]}]}}const ce=(0,W.u3)(f.ZF,!0)},3385:(kt,Ue,S)=>{S.d(Ue,{zQ:()=>Ne,rT:()=>le,f7:()=>je,L6:()=>qe,_Q:()=>Dt,lh:()=>Re,Qv:()=>Fe,nw:()=>de});var f=S(5e3),m=S(7579),W=S(9646),ie=S(8306),V=S(8996),we=S(6451),ge=S(3900),re=S(576);function Ie(He,Le){return(0,re.m)(Le)?(0,ge.w)(()=>He,Le):(0,ge.w)(()=>He)}var Q=S(5363),ue=S(4004),xe=S(3151),Qe=S(590),Ge=S(9468),tt=S(9300),pt=S(880),ce=S(2011),et=S(9808),Ct=S(7128);S(127);const Fe=new f.OlP("angularfire2.auth.use-emulator"),qe=new f.OlP("angularfire2.auth.settings"),Dt=new f.OlP("angularfire2.auth.tenant-id"),le=new f.OlP("angularfire2.auth.langugage-code"),Re=new f.OlP("angularfire2.auth.use-device-language"),je=new f.OlP("angularfire.auth.persistence"),de=(He,Le,gt,Pt,Bt,Ut,Tt,En)=>(0,ce.cc)(`${He.name}.auth`,"AngularFireAuth",He.name,()=>{const Nn=Le.runOutsideAngular(()=>He.auth());if(gt&&Nn.useEmulator(...gt),Pt&&(Nn.tenantId=Pt),Nn.languageCode=Bt,Ut&&Nn.useDeviceLanguage(),Tt)for(const[Tn,qt]of Object.entries(Tt))Nn.settings[Tn]=qt;return En&&Nn.setPersistence(En),Nn},[gt,Pt,Bt,Ut,Tt,En]);let Ne=(()=>{class He{constructor(gt,Pt,Bt,Ut,Tt,En,Nn,Tn,qt,on,Kt,pn){const Dn=new m.x,kn=(0,W.of)(void 0).pipe((0,Q.Q)(Tt.outsideAngular),(0,ge.w)(()=>Ut.runOutsideAngular(()=>Promise.resolve().then(S.bind(S,5881)))),(0,ue.U)(()=>(0,ce.on)(gt,Ut,Pt)),(0,ue.U)(_n=>de(_n,Ut,En,Tn,qt,on,Nn,Kt)),(0,xe.d)({bufferSize:1,refCount:!1}));if((0,et.PM)(Bt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,W.of)(null);else{kn.pipe((0,Qe.P)()).subscribe();const Ln=kn.pipe((0,ge.w)(tn=>tn.getRedirectResult().then(Wn=>Wn,()=>null)),pt.iC,(0,xe.d)({bufferSize:1,refCount:!1})),qn=kn.pipe((0,ge.w)(tn=>new ie.y(Wn=>({unsubscribe:Ut.runOutsideAngular(()=>tn.onAuthStateChanged(Ht=>Wn.next(Ht),Ht=>Wn.error(Ht),()=>Wn.complete()))})))),Yn=kn.pipe((0,ge.w)(tn=>new ie.y(Wn=>({unsubscribe:Ut.runOutsideAngular(()=>tn.onIdTokenChanged(Ht=>Wn.next(Ht),Ht=>Wn.error(Ht),()=>Wn.complete()))}))));this.authState=Ln.pipe(Ie(qn),(0,Ge.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular)),this.user=Ln.pipe(Ie(Yn),(0,Ge.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular)),this.idToken=this.user.pipe((0,ge.w)(tn=>tn?(0,V.D)(tn.getIdToken()):(0,W.of)(null))),this.idTokenResult=this.user.pipe((0,ge.w)(tn=>tn?(0,V.D)(tn.getIdTokenResult()):(0,W.of)(null))),this.credential=(0,we.T)(Ln,Dn,this.authState.pipe((0,tt.h)(tn=>!tn))).pipe((0,ue.U)(tn=>(null==tn?void 0:tn.user)?tn:null),(0,Ge.R)(Tt.outsideAngular),(0,Q.Q)(Tt.insideAngular))}return(0,ce.pX)(this,kn,Ut,{spy:{apply:(_n,Ln,qn)=>{(_n.startsWith("signIn")||_n.startsWith("createUser"))&&qn.then(Yn=>Dn.next(Yn))}}})}}return He.\u0275fac=function(gt){return new(gt||He)(f.LFG(ce.Dh),f.LFG(ce.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(pt.HU),f.LFG(Fe,8),f.LFG(qe,8),f.LFG(Dt,8),f.LFG(le,8),f.LFG(Re,8),f.LFG(je,8),f.LFG(Ct.nm,8))},He.\u0275prov=f.Yz7({token:He,factory:He.\u0275fac,providedIn:"any"}),He})()},3290:(kt,Ue,S)=>{S.d(Ue,{ST:()=>se,yb:()=>me});var f=S(5e3),m=S(4986),W=S(8306),ie=S(8996),V=S(9646),we=S(880),ge=S(8675),re=S(1520),Ie=S(4004),Q=S(5026),ue=S(1884),xe=S(9300),Qe=S(2011),Ge=S(9808),pt=(S(5881),S(3942)),ce=S(5525),et=S(2090),Ct=S(4859);function Fe(J,k){if(void 0===k)return{merge:!1};if(void 0!==k.mergeFields&&void 0!==k.merge)throw new ce.WA("invalid-argument",`Invalid options passed to function ${J}(): You cannot specify both "merge" and "mergeFields".`);return k}function qe(){if("undefined"==typeof Uint8Array)throw new ce.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Dt(){if(!(0,ce.Me)())throw new ce.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class le{constructor(k){this._delegate=k}static fromBase64String(k){return Dt(),new le(ce.Jj.fromBase64String(k))}static fromUint8Array(k){return qe(),new le(ce.Jj.fromUint8Array(k))}toBase64(){return Dt(),this._delegate.toBase64()}toUint8Array(){return qe(),this._delegate.toUint8Array()}isEqual(k){return this._delegate.isEqual(k._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Re(J){return function je(J,k){if("object"!=typeof J||null===J)return!1;const N=J;for(const X of k)if(X in N&&"function"==typeof N[X])return!0;return!1}(J,["next","error","complete"])}class de{enableIndexedDbPersistence(k,N){return(0,ce.ST)(k._delegate,{forceOwnership:N})}enableMultiTabIndexedDbPersistence(k){return(0,ce.fH)(k._delegate)}clearIndexedDbPersistence(k){return(0,ce.Fc)(k._delegate)}}class Ne{constructor(k,N,X){this._delegate=N,this._persistenceProvider=X,this.INTERNAL={delete:()=>this.terminate()},k instanceof ce.l7||(this._appCompat=k)}get _databaseId(){return this._delegate._databaseId}settings(k){const N=this._delegate._getSettings();!k.merge&&N.host!==k.host&&(0,ce.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),k.merge&&delete(k=Object.assign(Object.assign({},N),k)).merge,this._delegate._setSettings(k)}useEmulator(k,N,X={}){(0,ce.at)(this._delegate,k,N,X)}enableNetwork(){return(0,ce.Ix)(this._delegate)}disableNetwork(){return(0,ce.TF)(this._delegate)}enablePersistence(k){let N=!1,X=!1;return k&&(N=!!k.synchronizeTabs,X=!!k.experimentalForceOwningTab,(0,ce.Wi)("synchronizeTabs",N,"experimentalForceOwningTab",X)),N?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,X)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,ce.Mx)(this._delegate)}onSnapshotsInSync(k){return(0,ce.sc)(this._delegate,k)}get app(){if(!this._appCompat)throw new ce.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(k){try{return new pn(this,(0,ce.hJ)(this._delegate,k))}catch(N){throw Ut(N,"collection()","Firestore.collection()")}}doc(k){try{return new Bt(this,(0,ce.JU)(this._delegate,k))}catch(N){throw Ut(N,"doc()","Firestore.doc()")}}collectionGroup(k){try{return new qt(this,(0,ce.B$)(this._delegate,k))}catch(N){throw Ut(N,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(k){return(0,ce.i3)(this._delegate,N=>k(new Le(this,N)))}batch(){return(0,ce.qY)(this._delegate),new gt(new ce.PU(this._delegate,k=>(0,ce.GL)(this._delegate,k)))}loadBundle(k){return(0,ce.Pb)(this._delegate,k)}namedQuery(k){return(0,ce.L$)(this._delegate,k).then(N=>N?new qt(this,N):null)}}class Be extends ce.u7{constructor(k){super(),this.firestore=k}convertBytes(k){return new le(new ce.Jj(k))}convertReference(k){const N=this.convertDocumentKey(k,this.firestore._databaseId);return Bt.forKey(N,this.firestore,null)}}class Le{constructor(k,N){this._firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}get(k){const N=Dn(k);return this._delegate.get(N).then(X=>new Nn(this._firestore,new ce.xU(this._firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,N.converter)))}set(k,N,X){const ee=Dn(k);return X?(Fe("Transaction.set",X),this._delegate.set(ee,N,X)):this._delegate.set(ee,N),this}update(k,N,X,...ee){const Se=Dn(k);return 2===arguments.length?this._delegate.update(Se,N):this._delegate.update(Se,N,X,...ee),this}delete(k){const N=Dn(k);return this._delegate.delete(N),this}}class gt{constructor(k){this._delegate=k}set(k,N,X){const ee=Dn(k);return X?(Fe("WriteBatch.set",X),this._delegate.set(ee,N,X)):this._delegate.set(ee,N),this}update(k,N,X,...ee){const Se=Dn(k);return 2===arguments.length?this._delegate.update(Se,N):this._delegate.update(Se,N,X,...ee),this}delete(k){const N=Dn(k);return this._delegate.delete(N),this}commit(){return this._delegate.commit()}}class Pt{constructor(k,N,X){this._firestore=k,this._userDataWriter=N,this._delegate=X}fromFirestore(k,N){const X=new ce.$q(this._firestore._delegate,this._userDataWriter,k._key,k._document,k.metadata,null);return this._delegate.fromFirestore(new Tn(this._firestore,X),null!=N?N:{})}toFirestore(k,N){return N?this._delegate.toFirestore(k,N):this._delegate.toFirestore(k)}static getInstance(k,N){const X=Pt.INSTANCES;let ee=X.get(k);ee||(ee=new WeakMap,X.set(k,ee));let Se=ee.get(N);return Se||(Se=new Pt(k,new Be(k),N),ee.set(N,Se)),Se}}Pt.INSTANCES=new WeakMap;class Bt{constructor(k,N){this.firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}static forPath(k,N,X){if(k.length%2!=0)throw new ce.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${k.canonicalString()} has ${k.length}`);return new Bt(N,new ce.my(N._delegate,X,new ce.Ky(k)))}static forKey(k,N,X){return new Bt(N,new ce.my(N._delegate,X,k))}get id(){return this._delegate.id}get parent(){return new pn(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(k){try{return new pn(this.firestore,(0,ce.hJ)(this._delegate,k))}catch(N){throw Ut(N,"collection()","DocumentReference.collection()")}}isEqual(k){return(k=(0,et.m9)(k))instanceof ce.my&&(0,ce.Eo)(this._delegate,k)}set(k,N){N=Fe("DocumentReference.set",N);try{return N?(0,ce.pl)(this._delegate,k,N):(0,ce.pl)(this._delegate,k)}catch(X){throw Ut(X,"setDoc()","DocumentReference.set()")}}update(k,N,...X){try{return 1===arguments.length?(0,ce.r7)(this._delegate,k):(0,ce.r7)(this._delegate,k,N,...X)}catch(ee){throw Ut(ee,"updateDoc()","DocumentReference.update()")}}delete(){return(0,ce.oe)(this._delegate)}onSnapshot(...k){const N=Tt(k),X=En(k,ee=>new Nn(this.firestore,new ce.xU(this.firestore._delegate,this._userDataWriter,ee._key,ee._document,ee.metadata,this._delegate.converter)));return(0,ce.cf)(this._delegate,N,X)}get(k){let N;return N="cache"===(null==k?void 0:k.source)?(0,ce.kl)(this._delegate):"server"===(null==k?void 0:k.source)?(0,ce.Xk)(this._delegate):(0,ce.QT)(this._delegate),N.then(X=>new Nn(this.firestore,new ce.xU(this.firestore._delegate,this._userDataWriter,X._key,X._document,X.metadata,this._delegate.converter)))}withConverter(k){return new Bt(this.firestore,this._delegate.withConverter(k?Pt.getInstance(this.firestore,k):null))}}function Ut(J,k,N){return J.message=J.message.replace(k,N),J}function Tt(J){for(const k of J)if("object"==typeof k&&!Re(k))return k;return{}}function En(J,k){var N,X;let ee;return ee=Re(J[0])?J[0]:Re(J[1])?J[1]:"function"==typeof J[0]?{next:J[0],error:J[1],complete:J[2]}:{next:J[1],error:J[2],complete:J[3]},{next:Se=>{ee.next&&ee.next(k(Se))},error:null===(N=ee.error)||void 0===N?void 0:N.bind(ee),complete:null===(X=ee.complete)||void 0===X?void 0:X.bind(ee)}}class Nn{constructor(k,N){this._firestore=k,this._delegate=N}get ref(){return new Bt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(k){return this._delegate.data(k)}get(k,N){return this._delegate.get(k,N)}isEqual(k){return(0,ce.qK)(this._delegate,k._delegate)}}class Tn extends Nn{data(k){const N=this._delegate.data(k);return(0,ce.K9)(void 0!==N,"Document in a QueryDocumentSnapshot should exist"),N}}class qt{constructor(k,N){this.firestore=k,this._delegate=N,this._userDataWriter=new Be(k)}where(k,N,X){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.ar)(k,N,X)))}catch(ee){throw Ut(ee,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(k,N){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Xo)(k,N)))}catch(X){throw Ut(X,/(orderBy|where)\(\)/,"Query.$1()")}}limit(k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.b9)(k)))}catch(N){throw Ut(N,"limit()","Query.limit()")}}limitToLast(k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.vh)(k)))}catch(N){throw Ut(N,"limitToLast()","Query.limitToLast()")}}startAt(...k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.e0)(...k)))}catch(N){throw Ut(N,"startAt()","Query.startAt()")}}startAfter(...k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.TQ)(...k)))}catch(N){throw Ut(N,"startAfter()","Query.startAfter()")}}endBefore(...k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Lx)(...k)))}catch(N){throw Ut(N,"endBefore()","Query.endBefore()")}}endAt(...k){try{return new qt(this.firestore,(0,ce.IO)(this._delegate,(0,ce.Wu)(...k)))}catch(N){throw Ut(N,"endAt()","Query.endAt()")}}isEqual(k){return(0,ce.iE)(this._delegate,k._delegate)}get(k){let N;return N="cache"===(null==k?void 0:k.source)?(0,ce.UQ)(this._delegate):"server"===(null==k?void 0:k.source)?(0,ce.zN)(this._delegate):(0,ce.PL)(this._delegate),N.then(X=>new Kt(this.firestore,new ce.W(this.firestore._delegate,this._userDataWriter,this._delegate,X._snapshot)))}onSnapshot(...k){const N=Tt(k),X=En(k,ee=>new Kt(this.firestore,new ce.W(this.firestore._delegate,this._userDataWriter,this._delegate,ee._snapshot)));return(0,ce.cf)(this._delegate,N,X)}withConverter(k){return new qt(this.firestore,this._delegate.withConverter(k?Pt.getInstance(this.firestore,k):null))}}class on{constructor(k,N){this._firestore=k,this._delegate=N}get type(){return this._delegate.type}get doc(){return new Tn(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Kt{constructor(k,N){this._firestore=k,this._delegate=N}get query(){return new qt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(k=>new Tn(this._firestore,k))}docChanges(k){return this._delegate.docChanges(k).map(N=>new on(this._firestore,N))}forEach(k,N){this._delegate.forEach(X=>{k.call(N,new Tn(this._firestore,X))})}isEqual(k){return(0,ce.qK)(this._delegate,k._delegate)}}class pn extends qt{constructor(k,N){super(k,N),this.firestore=k,this._delegate=N}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const k=this._delegate.parent;return k?new Bt(this.firestore,k):null}doc(k){try{return new Bt(this.firestore,void 0===k?(0,ce.JU)(this._delegate):(0,ce.JU)(this._delegate,k))}catch(N){throw Ut(N,"doc()","CollectionReference.doc()")}}add(k){return(0,ce.ET)(this._delegate,k).then(N=>new Bt(this.firestore,N))}isEqual(k){return(0,ce.Eo)(this._delegate,k._delegate)}withConverter(k){return new pn(this.firestore,this._delegate.withConverter(k?Pt.getInstance(this.firestore,k):null))}}function Dn(J){return(0,ce.Cf)(J,ce.my)}class kn{constructor(...k){this._delegate=new ce.Lz(...k)}static documentId(){return new kn(ce.Xb.keyField().canonicalString())}isEqual(k){return(k=(0,et.m9)(k))instanceof ce.Lz&&this._delegate._internalPath.isEqual(k._internalPath)}}class _n{constructor(k){this._delegate=k}static serverTimestamp(){const k=(0,ce.Bt)();return k._methodName="FieldValue.serverTimestamp",new _n(k)}static delete(){const k=(0,ce.AK)();return k._methodName="FieldValue.delete",new _n(k)}static arrayUnion(...k){const N=(0,ce.vr)(...k);return N._methodName="FieldValue.arrayUnion",new _n(N)}static arrayRemove(...k){const N=(0,ce.Ab)(...k);return N._methodName="FieldValue.arrayRemove",new _n(N)}static increment(k){const N=(0,ce.nP)(k);return N._methodName="FieldValue.increment",new _n(N)}isEqual(k){return this._delegate.isEqual(k._delegate)}}const Ln={Firestore:Ne,GeoPoint:ce.F8,Timestamp:ce.EK,Blob:le,Transaction:Le,WriteBatch:gt,DocumentReference:Bt,DocumentSnapshot:Nn,Query:qt,QueryDocumentSnapshot:Tn,QuerySnapshot:Kt,CollectionReference:pn,FieldPath:kn,FieldValue:_n,setLogLevel:function He(J){(0,ce.Ub)(J)},CACHE_SIZE_UNLIMITED:ce.IX};!function Yn(J){(function qn(J,k){J.INTERNAL.registerComponent(new Ct.wA("firestore-compat",N=>{const X=N.getProvider("app-compat").getImmediate(),ee=N.getProvider("firestore").getImmediate();return k(X,ee)},"PUBLIC").setServiceProps(Object.assign({},Ln)))})(J,(k,N)=>new Ne(k,N,new de)),J.registerVersion("@firebase/firestore-compat","0.1.18")}(pt.Z);var tn=S(3385),Wn=S(7128),Ht=S(127);function Cn(J,k){return function Er(J,k=m.z){return new W.y(N=>{let X;return null!=k?k.schedule(()=>{X=J.onSnapshot({includeMetadataChanges:!0},N)}):X=J.onSnapshot({includeMetadataChanges:!0},N),()=>{null!=X&&X()}})}(J,k)}function er(J,k){return Cn(J,k).pipe((0,Ie.U)(N=>({payload:N,type:"query"})))}function pr(J,k){return er(J,k).pipe((0,ge.O)(void 0),(0,re.G)(),(0,Ie.U)(([N,X])=>{const ee=X.payload.docChanges(),Se=ee.map(Ye=>({type:Ye.type,payload:Ye}));return N&&JSON.stringify(N.payload.metadata)!==JSON.stringify(X.payload.metadata)&&X.payload.docs.forEach((Ye,dt)=>{const Mt=ee.find(Lt=>Lt.doc.ref.isEqual(Ye.ref)),ht=null==N?void 0:N.payload.docs.find(Lt=>Lt.ref.isEqual(Ye.ref));Mt&&JSON.stringify(Mt.doc.metadata)===JSON.stringify(Ye.metadata)||!Mt&&ht&&JSON.stringify(ht.metadata)===JSON.stringify(Ye.metadata)||Se.push({type:"modified",payload:{oldIndex:dt,newIndex:dt,type:"modified",doc:Ye}})}),Se}))}function ut(J,k,N){return pr(J,N).pipe((0,Q.R)((X,ee)=>function ye(J,k,N){return k.forEach(X=>{N.indexOf(X.type)>-1&&(J=function mt(J,k){switch(k.type){case"added":if(!J[k.newIndex]||!J[k.newIndex].doc.ref.isEqual(k.doc.ref))return De(J,k.newIndex,0,k);break;case"modified":if(null==J[k.oldIndex]||J[k.oldIndex].doc.ref.isEqual(k.doc.ref)){if(k.oldIndex!==k.newIndex){const N=J.slice();return N.splice(k.oldIndex,1),N.splice(k.newIndex,0,k),N}return De(J,k.newIndex,1,k)}break;case"removed":if(J[k.oldIndex]&&J[k.oldIndex].doc.ref.isEqual(k.doc.ref))return De(J,k.oldIndex,1)}return J}(J,X))}),J}(X,ee.map(Se=>Se.payload),k),[]),(0,ue.x)(),(0,Ie.U)(X=>X.map(ee=>({type:ee.type,payload:ee}))))}function De(J,k,N,...X){const ee=J.slice();return ee.splice(k,N,...X),ee}function Ve(J){return(!J||0===J.length)&&(J=["added","removed","modified"]),J}class _t{constructor(k,N,X){this.ref=k,this.query=N,this.afs=X}stateChanges(k){let N=pr(this.query,this.afs.schedulers.outsideAngular);return k&&k.length>0&&(N=N.pipe((0,Ie.U)(X=>X.filter(ee=>k.indexOf(ee.type)>-1)))),N.pipe((0,ge.O)(void 0),(0,re.G)(),(0,xe.h)(([X,ee])=>ee.length>0||!X),(0,Ie.U)(([X,ee])=>ee),we.iC)}auditTrail(k){return this.stateChanges(k).pipe((0,Q.R)((N,X)=>[...N,...X],[]))}snapshotChanges(k){const N=Ve(k);return ut(this.query,N,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(k={}){return er(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(N=>N.payload.docs.map(X=>k.idField?Object.assign(Object.assign({},X.data()),{[k.idField]:X.id}):X.data())),we.iC)}get(k){return(0,ie.D)(this.query.get(k)).pipe(we.iC)}add(k){return this.ref.add(k)}doc(k){return new yt(this.ref.doc(k),this.afs)}}class yt{constructor(k,N){this.ref=k,this.afs=N}set(k,N){return this.ref.set(k,N)}update(k){return this.ref.update(k)}delete(){return this.ref.delete()}collection(k,N){const X=this.ref.collection(k),{ref:ee,query:Se}=dn(X,N);return new _t(ee,Se,this.afs)}snapshotChanges(){return function an(J,k){return Cn(J,k).pipe((0,ge.O)(void 0),(0,re.G)(),(0,Ie.U)(([N,X])=>X.exists?(null==N?void 0:N.exists)?{payload:X,type:"modified"}:{payload:X,type:"added"}:{payload:X,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(k={}){return this.snapshotChanges().pipe((0,Ie.U)(({payload:N})=>k.idField?Object.assign(Object.assign({},N.data()),{[k.idField]:N.id}):N.data()))}get(k){return(0,ie.D)(this.ref.get(k)).pipe(we.iC)}}class gn{constructor(k,N){this.query=k,this.afs=N}stateChanges(k){return k&&0!==k.length?pr(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(N=>N.filter(X=>k.indexOf(X.type)>-1)),(0,xe.h)(N=>N.length>0),we.iC):pr(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(k){return this.stateChanges(k).pipe((0,Q.R)((N,X)=>[...N,...X],[]))}snapshotChanges(k){const N=Ve(k);return ut(this.query,N,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(k={}){return er(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ie.U)(X=>X.payload.docs.map(ee=>k.idField?Object.assign({[k.idField]:ee.id},ee.data()):ee.data())),we.iC)}get(k){return(0,ie.D)(this.query.get(k)).pipe(we.iC)}}const hn=new f.OlP("angularfire2.enableFirestorePersistence"),sn=new f.OlP("angularfire2.firestore.persistenceSettings"),ar=new f.OlP("angularfire2.firestore.settings"),Bn=new f.OlP("angularfire2.firestore.use-emulator");function dn(J,k=(N=>N)){return{query:k(J),ref:J}}let se=(()=>{class J{constructor(N,X,ee,Se,Ye,dt,Mt,ht,Lt,ke,_e,ae,rt,at,$t,ln,bn){this.schedulers=Mt;const wn=(0,Qe.on)(N,dt,X),tr=Lt;ke&&(0,tn.nw)(wn,dt,_e,rt,at,$t,ae,ln),[this.firestore,this.persistenceEnabled$]=(0,Qe.cc)(`${wn.name}.firestore`,"AngularFirestore",wn.name,()=>{const ir=dt.runOutsideAngular(()=>wn.firestore());if(Se&&ir.settings(Se),tr&&ir.useEmulator(...tr),ee&&!(0,Ge.PM)(Ye)){const On=()=>{try{return(0,ie.D)(ir.enablePersistence(ht||void 0).then(()=>!0,()=>!1))}catch(An){return"undefined"!=typeof console&&console.warn(An),(0,V.of)(!1)}};return[ir,dt.runOutsideAngular(On)]}return[ir,(0,V.of)(!1)]},[Se,tr,ee])}collection(N,X){let ee;ee="string"==typeof N?this.firestore.collection(N):N;const{ref:Se,query:Ye}=dn(ee,X),dt=this.schedulers.ngZone.run(()=>Se);return new _t(dt,Ye,this)}collectionGroup(N,X){const ee=X||(Ye=>Ye),Se=this.firestore.collectionGroup(N);return new gn(ee(Se),this)}doc(N){let X;X="string"==typeof N?this.firestore.doc(N):N;const ee=this.schedulers.ngZone.run(()=>X);return new yt(ee,this)}createId(){return this.firestore.collection("_").doc().id}}return J.\u0275fac=function(N){return new(N||J)(f.LFG(Qe.Dh),f.LFG(Qe.xv,8),f.LFG(hn,8),f.LFG(ar,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(we.HU),f.LFG(sn,8),f.LFG(Bn,8),f.LFG(tn.zQ,8),f.LFG(tn.Qv,8),f.LFG(tn.L6,8),f.LFG(tn._Q,8),f.LFG(tn.rT,8),f.LFG(tn.lh,8),f.LFG(tn.f7,8),f.LFG(Wn.nm,8))},J.\u0275prov=f.Yz7({token:J,factory:J.\u0275fac,providedIn:"any"}),J})(),me=(()=>{class J{constructor(){Ht.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(N){return{ngModule:J,providers:[{provide:hn,useValue:!0},{provide:sn,useValue:N}]}}}return J.\u0275fac=function(N){return new(N||J)},J.\u0275mod=f.oAB({type:J}),J.\u0275inj=f.cJS({providers:[se]}),J})()},2011:(kt,Ue,S)=>{S.d(Ue,{Dh:()=>re,GT:()=>we,Ot:()=>ge,cc:()=>Ge,hO:()=>Qe,on:()=>Q,pX:()=>V,xv:()=>Ie});var f=S(5e3),m=S(127),W=S(880);kt=S.hmd(kt);const ie=["ngOnDestroy"],V=(et,Ct,At,Ze={})=>new Proxy(et,{get:(Fe,qe)=>At.runOutsideAngular(()=>{var Dt;if(et[qe])return(null===(Dt=null==Ze?void 0:Ze.spy)||void 0===Dt?void 0:Dt.get)&&Ze.spy.get(qe,et[qe]),et[qe];if(ie.indexOf(qe)>-1)return()=>{};const le=Ct.toPromise().then(Re=>{const je=Re&&Re[qe];return"function"==typeof je?je.bind(Re):je&&je.then?je.then(de=>At.run(()=>de)):At.run(()=>je)});return new Proxy(()=>{},{get:(Re,je)=>le[je],apply:(Re,je,de)=>le.then(Ne=>{var Be;const He=Ne&&Ne(...de);return(null===(Be=null==Ze?void 0:Ze.spy)||void 0===Be?void 0:Be.apply)&&Ze.spy.apply(qe,de,He),He})})})}),we=(et,Ct)=>{Ct.forEach(At=>{Object.getOwnPropertyNames(At.prototype||At).forEach(Ze=>{Object.defineProperty(et.prototype,Ze,Object.getOwnPropertyDescriptor(At.prototype||At,Ze))})})};class ge{constructor(Ct){return Ct}}const re=new f.OlP("angularfire2.app.options"),Ie=new f.OlP("angularfire2.app.name");function Q(et,Ct,At){const Fe="object"==typeof At&&At||{};Fe.name=Fe.name||"string"==typeof At&&At||"[DEFAULT]";const Dt=m.Z.apps.filter(le=>le&&le.name===Fe.name)[0]||Ct.runOutsideAngular(()=>m.Z.initializeApp(et,Fe));try{JSON.stringify(et)!==JSON.stringify(Dt.options)&&ue("error",`${Dt.name} Firebase App already initialized with different options${kt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(le){}return new ge(Dt)}const ue=(et,...Ct)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[et](...Ct)},xe={provide:ge,useFactory:Q,deps:[re,f.R0b,[new f.FiY,Ie]]};let Qe=(()=>{class et{constructor(At){m.Z.registerVersion("angularfire",W.q4.full,"core"),m.Z.registerVersion("angularfire",W.q4.full,"app-compat"),m.Z.registerVersion("angular",f.q4F.full,At.toString())}static initializeApp(At,Ze){return{ngModule:et,providers:[{provide:re,useValue:At},{provide:Ie,useValue:Ze}]}}}return et.\u0275fac=function(At){return new(At||et)(f.LFG(f.Lbi))},et.\u0275mod=f.oAB({type:et}),et.\u0275inj=f.cJS({providers:[xe]}),et})();function Ge(et,Ct,At,Ze,Fe){const[,qe,Dt]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===et)||[];if(qe)return function tt(et,Ct){try{return et.toString()===Ct.toString()}catch(At){return et===Ct}}(Fe,Dt)||(ce("error",`${Ct} was already initialized on the ${At} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Fe,was:Dt})),qe;{const le=Ze();return globalThis.\u0275AngularfireInstanceCache.push([et,le,Fe]),le}}const pt=!!kt.hot,ce=(et,...Ct)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[et](...Ct)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(kt,Ue,S)=>{S.d(Ue,{q4:()=>Ci,iC:()=>wt,HU:()=>R,vb:()=>yi,JM:()=>os,nk:()=>Ti,u3:()=>or});var f=S(5e3),m=S(5867),W=S(5861),ie=S(9681),V=S(2090),we=S(4859),ge=S(1877);S(2833);const Ie="@firebase/remote-config",Q="0.3.8",Ge=new V.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pt{constructor(Y,Ce,ze,It){this.client=Y,this.storage=Ce,this.storageCache=ze,this.logger=It}isCachedDataFresh(Y,Ce){if(!Ce)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ze=Date.now()-Ce,It=ze<=Y;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ze}. Cache max age millis (minimumFetchIntervalMillis setting): ${Y}. Is cache hit: ${It}.`),It}fetch(Y){var Ce=this;return(0,W.Z)(function*(){const[ze,It]=yield Promise.all([Ce.storage.getLastSuccessfulFetchTimestampMillis(),Ce.storage.getLastSuccessfulFetchResponse()]);if(It&&Ce.isCachedDataFresh(Y.cacheMaxAgeMillis,ze))return It;Y.eTag=It&&It.eTag;const jt=yield Ce.client.fetch(Y),mn=[Ce.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===jt.status&&mn.push(Ce.storage.setLastSuccessfulFetchResponse(jt)),yield Promise.all(mn),jt})()}}function Bt(K=navigator){return K.languages&&K.languages[0]||K.language}class Ut{constructor(Y,Ce,ze,It,jt,mn){this.firebaseInstallations=Y,this.sdkVersion=Ce,this.namespace=ze,this.projectId=It,this.apiKey=jt,this.appId=mn}fetch(Y){var Ce=this;return(0,W.Z)(function*(){const[ze,It]=yield Promise.all([Ce.firebaseInstallations.getId(),Ce.firebaseInstallations.getToken()]),mn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Ce.projectId}/namespaces/${Ce.namespace}:fetch?key=${Ce.apiKey}`,Yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Y.eTag||"*"},hr={sdk_version:Ce.sdkVersion,app_instance_id:ze,app_instance_id_token:It,app_id:Ce.appId,language_code:Bt()},gr={method:"POST",headers:Yt,body:JSON.stringify(hr)},mr=fetch(mn,gr),Vn=new Promise((St,Xn)=>{Y.signal.addEventListener(()=>{const rr=new Error("The operation was aborted.");rr.name="AbortError",Xn(rr)})});let O;try{yield Promise.race([mr,Vn]),O=yield mr}catch(St){let Xn="fetch-client-network";throw"AbortError"===St.name&&(Xn="fetch-timeout"),Ge.create(Xn,{originalErrorMessage:St.message})}let A=O.status;const T=O.headers.get("ETag")||void 0;let Z,he;if(200===O.status){let St;try{St=yield O.json()}catch(Xn){throw Ge.create("fetch-client-parse",{originalErrorMessage:Xn.message})}Z=St.entries,he=St.state}if("INSTANCE_STATE_UNSPECIFIED"===he?A=500:"NO_CHANGE"===he?A=304:("NO_TEMPLATE"===he||"EMPTY_CONFIG"===he)&&(Z={}),304!==A&&200!==A)throw Ge.create("fetch-status",{httpStatus:A});return{status:A,eTag:T,config:Z}})()}}class Nn{constructor(Y,Ce){this.client=Y,this.storage=Ce}fetch(Y){var Ce=this;return(0,W.Z)(function*(){const ze=(yield Ce.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Ce.attemptFetch(Y,ze)})()}attemptFetch(Y,{throttleEndTimeMillis:Ce,backoffCount:ze}){var It=this;return(0,W.Z)(function*(){yield function Tt(K,Y){return new Promise((Ce,ze)=>{const It=Math.max(Y-Date.now(),0),jt=setTimeout(Ce,It);K.addEventListener(()=>{clearTimeout(jt),ze(Ge.create("fetch-throttle",{throttleEndTimeMillis:Y}))})})}(Y.signal,Ce);try{const jt=yield It.client.fetch(Y);return yield It.storage.deleteThrottleMetadata(),jt}catch(jt){if(!function En(K){if(!(K instanceof V.ZR&&K.customData))return!1;const Y=Number(K.customData.httpStatus);return 429===Y||500===Y||503===Y||504===Y}(jt))throw jt;const mn={throttleEndTimeMillis:Date.now()+(0,V.$s)(ze),backoffCount:ze+1};return yield It.storage.setThrottleMetadata(mn),It.attemptFetch(Y,mn)}})()}}class on{constructor(Y,Ce,ze,It,jt){this.app=Y,this._client=Ce,this._storageCache=ze,this._storage=It,this._logger=jt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kt(K,Y){const Ce=K.target.error||void 0;return Ge.create(Y,{originalErrorMessage:Ce&&Ce.message})}const pn="app_namespace_store";class Ln{constructor(Y,Ce,ze,It=function _n(){return new Promise((K,Y)=>{try{const Ce=indexedDB.open("firebase_remote_config",1);Ce.onerror=ze=>{Y(Kt(ze,"storage-open"))},Ce.onsuccess=ze=>{K(ze.target.result)},Ce.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(pn,{keyPath:"compositeKey"})}}catch(Ce){Y(Ge.create("storage-open",{originalErrorMessage:Ce}))}})}()){this.appId=Y,this.appName=Ce,this.namespace=ze,this.openDbPromise=It}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Y){return this.set("last_fetch_status",Y)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Y){return this.set("last_successful_fetch_timestamp_millis",Y)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Y){return this.set("last_successful_fetch_response",Y)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Y){return this.set("active_config",Y)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Y){return this.set("active_config_etag",Y)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Y){return this.set("throttle_metadata",Y)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Y){var Ce=this;return(0,W.Z)(function*(){const ze=yield Ce.openDbPromise;return new Promise((It,jt)=>{const Yt=ze.transaction([pn],"readonly").objectStore(pn),hr=Ce.createCompositeKey(Y);try{const gr=Yt.get(hr);gr.onerror=mr=>{jt(Kt(mr,"storage-get"))},gr.onsuccess=mr=>{const Vn=mr.target.result;It(Vn?Vn.value:void 0)}}catch(gr){jt(Ge.create("storage-get",{originalErrorMessage:gr&&gr.message}))}})})()}set(Y,Ce){var ze=this;return(0,W.Z)(function*(){const It=yield ze.openDbPromise;return new Promise((jt,mn)=>{const hr=It.transaction([pn],"readwrite").objectStore(pn),gr=ze.createCompositeKey(Y);try{const mr=hr.put({compositeKey:gr,value:Ce});mr.onerror=Vn=>{mn(Kt(Vn,"storage-set"))},mr.onsuccess=()=>{jt()}}catch(mr){mn(Ge.create("storage-set",{originalErrorMessage:mr&&mr.message}))}})})()}delete(Y){var Ce=this;return(0,W.Z)(function*(){const ze=yield Ce.openDbPromise;return new Promise((It,jt)=>{const Yt=ze.transaction([pn],"readwrite").objectStore(pn),hr=Ce.createCompositeKey(Y);try{const gr=Yt.delete(hr);gr.onerror=mr=>{jt(Kt(mr,"storage-delete"))},gr.onsuccess=()=>{It()}}catch(gr){jt(Ge.create("storage-delete",{originalErrorMessage:gr&&gr.message}))}})})()}createCompositeKey(Y){return[this.appId,this.appName,this.namespace,Y].join()}}class qn{constructor(Y){this.storage=Y}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Y=this;return(0,W.Z)(function*(){const Ce=Y.storage.getLastFetchStatus(),ze=Y.storage.getLastSuccessfulFetchTimestampMillis(),It=Y.storage.getActiveConfig(),jt=yield Ce;jt&&(Y.lastFetchStatus=jt);const mn=yield ze;mn&&(Y.lastSuccessfulFetchTimestampMillis=mn);const Yt=yield It;Yt&&(Y.activeConfig=Yt)})()}setLastFetchStatus(Y){return this.lastFetchStatus=Y,this.storage.setLastFetchStatus(Y)}setLastSuccessfulFetchTimestampMillis(Y){return this.lastSuccessfulFetchTimestampMillis=Y,this.storage.setLastSuccessfulFetchTimestampMillis(Y)}setActiveConfig(Y){return this.activeConfig=Y,this.storage.setActiveConfig(Y)}}function Ht(){return Er.apply(this,arguments)}function Er(){return(Er=(0,W.Z)(function*(){if(!(0,V.hl)())return!1;try{return yield(0,V.eu)()}catch(K){return!1}})).apply(this,arguments)}!function Yn(){(0,ie._registerComponent)(new we.wA("remote-config",function K(Y,{instanceIdentifier:Ce}){const ze=Y.getProvider("app").getImmediate(),It=Y.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ge.create("registration-window");if(!(0,V.hl)())throw Ge.create("indexed-db-unavailable");const{projectId:jt,apiKey:mn,appId:Yt}=ze.options;if(!jt)throw Ge.create("registration-project-id");if(!mn)throw Ge.create("registration-api-key");if(!Yt)throw Ge.create("registration-app-id");const hr=new Ln(Yt,ze.name,Ce=Ce||"firebase"),gr=new qn(hr),mr=new ge.Yd(Ie);mr.logLevel=ge.in.ERROR;const Vn=new Ut(It,ie.SDK_VERSION,Ce,jt,mn,Yt),O=new Nn(Vn,hr),A=new Pt(O,hr,gr,mr),T=new on(ze,A,gr,hr,mr);return function Dt(K){const Y=(0,V.m9)(K);Y._initializePromise||(Y._initializePromise=Y._storageCache.loadFromStorage().then(()=>{Y._isInitializationComplete=!0}))}(T),T},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Ie,Q),(0,ie.registerVersion)(Ie,Q,"esm2017")}();var Cn=S(8766);const an="/firebase-messaging-sw.js",er="/firebase-cloud-messaging-push-scope",pr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ye="google.c.a.c_id",De="google.c.a.c_l",mt="google.c.a.ts",Ve="google.c.a.e";var yt=(()=>{return(K=yt||(yt={})).PUSH_RECEIVED="push-received",K.NOTIFICATION_CLICKED="notification-clicked",yt;var K})();function gn(K){const Y=new Uint8Array(K);return btoa(String.fromCharCode(...Y)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function hn(K){const Ce=(K+"=".repeat((4-K.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ze=atob(Ce),It=new Uint8Array(ze.length);for(let jt=0;jt<ze.length;++jt)It[jt]=ze.charCodeAt(jt);return It}const sn="fcm_token_details_db",Bn="fcm_token_object_Store";function dn(K){return se.apply(this,arguments)}function se(){return se=(0,W.Z)(function*(K){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(jt=>jt.name).includes(sn))return null;let Y=null;return(yield(0,Cn.X3)(sn,5,{upgrade:(ze=(0,W.Z)(function*(It,jt,mn,Yt){var hr;if(jt<2||!It.objectStoreNames.contains(Bn))return;const gr=Yt.objectStore(Bn),mr=yield gr.index("fcmSenderId").get(K);if(yield gr.clear(),mr)if(2===jt){const Vn=mr;if(!Vn.auth||!Vn.p256dh||!Vn.endpoint)return;Y={token:Vn.fcmToken,createTime:null!==(hr=Vn.createTime)&&void 0!==hr?hr:Date.now(),subscriptionOptions:{auth:Vn.auth,p256dh:Vn.p256dh,endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:"string"==typeof Vn.vapidKey?Vn.vapidKey:gn(Vn.vapidKey)}}}else if(3===jt){const Vn=mr;Y={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:gn(Vn.auth),p256dh:gn(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:gn(Vn.vapidKey)}}}else if(4===jt){const Vn=mr;Y={token:Vn.fcmToken,createTime:Vn.createTime,subscriptionOptions:{auth:gn(Vn.auth),p256dh:gn(Vn.p256dh),endpoint:Vn.endpoint,swScope:Vn.swScope,vapidKey:gn(Vn.vapidKey)}}}}),function(jt,mn,Yt,hr){return ze.apply(this,arguments)})})).close(),yield(0,Cn.Lj)(sn),yield(0,Cn.Lj)("fcm_vapid_details_db"),yield(0,Cn.Lj)("undefined"),me(Y)?Y:null;var ze}),se.apply(this,arguments)}function me(K){if(!K||!K.subscriptionOptions)return!1;const{subscriptionOptions:Y}=K;return"number"==typeof K.createTime&&K.createTime>0&&"string"==typeof K.token&&K.token.length>0&&"string"==typeof Y.auth&&Y.auth.length>0&&"string"==typeof Y.p256dh&&Y.p256dh.length>0&&"string"==typeof Y.endpoint&&Y.endpoint.length>0&&"string"==typeof Y.swScope&&Y.swScope.length>0&&"string"==typeof Y.vapidKey&&Y.vapidKey.length>0}const N="firebase-messaging-store";let X=null;function ee(){return X||(X=(0,Cn.X3)("firebase-messaging-database",1,{upgrade:(K,Y)=>{0===Y&&K.createObjectStore(N)}})),X}function Se(K){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,W.Z)(function*(K){const Y=ke(K),ze=yield(yield ee()).transaction(N).objectStore(N).get(Y);if(ze)return ze;{const It=yield dn(K.appConfig.senderId);if(It)return yield dt(K,It),It}})).apply(this,arguments)}function dt(K,Y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,W.Z)(function*(K,Y){const Ce=ke(K),It=(yield ee()).transaction(N,"readwrite");return yield It.objectStore(N).put(Y,Ce),yield It.done,Y})).apply(this,arguments)}function ht(K){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,W.Z)(function*(K){const Y=ke(K),ze=(yield ee()).transaction(N,"readwrite");yield ze.objectStore(N).delete(Y),yield ze.done})).apply(this,arguments)}function ke({appConfig:K}){return K.appId}const ae=new V.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rt(K,Y){return at.apply(this,arguments)}function at(){return(at=(0,W.Z)(function*(K,Y){const Ce=yield ir(K),ze=An(Y),It={method:"POST",headers:Ce,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(tr(K.appConfig),It)).json()}catch(mn){throw ae.create("token-subscribe-failed",{errorInfo:mn})}if(jt.error)throw ae.create("token-subscribe-failed",{errorInfo:jt.error.message});if(!jt.token)throw ae.create("token-subscribe-no-token");return jt.token})).apply(this,arguments)}function $t(K,Y){return ln.apply(this,arguments)}function ln(){return(ln=(0,W.Z)(function*(K,Y){const Ce=yield ir(K),ze=An(Y.subscriptionOptions),It={method:"PATCH",headers:Ce,body:JSON.stringify(ze)};let jt;try{jt=yield(yield fetch(`${tr(K.appConfig)}/${Y.token}`,It)).json()}catch(mn){throw ae.create("token-update-failed",{errorInfo:mn})}if(jt.error)throw ae.create("token-update-failed",{errorInfo:jt.error.message});if(!jt.token)throw ae.create("token-update-no-token");return jt.token})).apply(this,arguments)}function bn(K,Y){return wn.apply(this,arguments)}function wn(){return(wn=(0,W.Z)(function*(K,Y){const ze={method:"DELETE",headers:yield ir(K)};try{const jt=yield(yield fetch(`${tr(K.appConfig)}/${Y}`,ze)).json();if(jt.error)throw ae.create("token-unsubscribe-failed",{errorInfo:jt.error.message})}catch(It){throw ae.create("token-unsubscribe-failed",{errorInfo:It})}})).apply(this,arguments)}function tr({projectId:K}){return`https://fcmregistrations.googleapis.com/v1/projects/${K}/registrations`}function ir(K){return On.apply(this,arguments)}function On(){return(On=(0,W.Z)(function*({appConfig:K,installations:Y}){const Ce=yield Y.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":K.apiKey,"x-goog-firebase-installations-auth":`FIS ${Ce}`})})).apply(this,arguments)}function An({p256dh:K,auth:Y,endpoint:Ce,vapidKey:ze}){const It={web:{endpoint:Ce,auth:Y,p256dh:K}};return ze!==pr&&(It.web.applicationPubKey=ze),It}const Ir=6048e5;function jn(K){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,W.Z)(function*(K){const Y=yield Sn(K.swRegistration,K.vapidKey),Ce={vapidKey:K.vapidKey,swScope:K.swRegistration.scope,endpoint:Y.endpoint,auth:gn(Y.getKey("auth")),p256dh:gn(Y.getKey("p256dh"))},ze=yield Se(K.firebaseDependencies);if(ze){if(Mn(ze.subscriptionOptions,Ce))return Date.now()>=ze.createTime+Ir?Ee(K,{token:ze.token,createTime:Date.now(),subscriptionOptions:Ce}):ze.token;try{yield bn(K.firebaseDependencies,ze.token)}catch(It){console.warn(It)}return Et(K.firebaseDependencies,Ce)}return Et(K.firebaseDependencies,Ce)})).apply(this,arguments)}function Sr(K){return xt.apply(this,arguments)}function xt(){return(xt=(0,W.Z)(function*(K){const Y=yield Se(K.firebaseDependencies);Y&&(yield bn(K.firebaseDependencies,Y.token),yield ht(K.firebaseDependencies));const Ce=yield K.swRegistration.pushManager.getSubscription();return!Ce||Ce.unsubscribe()})).apply(this,arguments)}function Ee(K,Y){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,W.Z)(function*(K,Y){try{const Ce=yield $t(K.firebaseDependencies,Y),ze=Object.assign(Object.assign({},Y),{token:Ce,createTime:Date.now()});return yield dt(K.firebaseDependencies,ze),Ce}catch(Ce){throw yield Sr(K),Ce}})).apply(this,arguments)}function Et(K,Y){return en.apply(this,arguments)}function en(){return(en=(0,W.Z)(function*(K,Y){const ze={token:yield rt(K,Y),createTime:Date.now(),subscriptionOptions:Y};return yield dt(K,ze),ze.token})).apply(this,arguments)}function Sn(K,Y){return $n.apply(this,arguments)}function $n(){return($n=(0,W.Z)(function*(K,Y){return(yield K.pushManager.getSubscription())||K.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:hn(Y)})})).apply(this,arguments)}function Mn(K,Y){return Y.vapidKey===K.vapidKey&&Y.endpoint===K.endpoint&&Y.auth===K.auth&&Y.p256dh===K.p256dh}function ur(K){const Y={from:K.from,collapseKey:K.collapse_key,messageId:K.fcmMessageId};return function xr(K,Y){if(!Y.notification)return;K.notification={};const Ce=Y.notification.title;Ce&&(K.notification.title=Ce);const ze=Y.notification.body;ze&&(K.notification.body=ze);const It=Y.notification.image;It&&(K.notification.image=It)}(Y,K),function fn(K,Y){!Y.data||(K.data=Y.data)}(Y,K),function wr(K,Y){if(!Y.fcmOptions)return;K.fcmOptions={};const Ce=Y.fcmOptions.link;Ce&&(K.fcmOptions.link=Ce);const ze=Y.fcmOptions.analytics_label;ze&&(K.fcmOptions.analyticsLabel=ze)}(Y,K),Y}function pi(K){return"object"==typeof K&&!!K&&ye in K}function Yr(K,Y){const Ce=[];for(let ze=0;ze<K.length;ze++)Ce.push(K.charAt(ze)),ze<Y.length&&Ce.push(Y.charAt(ze));return Ce.join("")}function yr(K){return ae.create("missing-app-config-values",{valueName:K})}Yr("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Yr("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Or{constructor(Y,Ce,ze){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const It=function ai(K){if(!K||!K.options)throw yr("App Configuration Object");if(!K.name)throw yr("App Name");const Y=["projectId","apiKey","appId","messagingSenderId"],{options:Ce}=K;for(const ze of Y)if(!Ce[ze])throw yr(ze);return{appName:K.name,projectId:Ce.projectId,apiKey:Ce.apiKey,appId:Ce.appId,senderId:Ce.messagingSenderId}}(Y);this.firebaseDependencies={app:Y,appConfig:It,installations:Ce,analyticsProvider:ze}}_delete(){return Promise.resolve()}}function dr(K){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,W.Z)(function*(K){try{K.swRegistration=yield navigator.serviceWorker.register(an,{scope:er}),K.swRegistration.update().catch(()=>{})}catch(Y){throw ae.create("failed-service-worker-registration",{browserErrorMessage:Y.message})}})).apply(this,arguments)}function be(K,Y){return Je.apply(this,arguments)}function Je(){return(Je=(0,W.Z)(function*(K,Y){if(!Y&&!K.swRegistration&&(yield dr(K)),Y||!K.swRegistration){if(!(Y instanceof ServiceWorkerRegistration))throw ae.create("invalid-sw-registration");K.swRegistration=Y}})).apply(this,arguments)}function ft(K,Y){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,W.Z)(function*(K,Y){Y?K.vapidKey=Y:K.vapidKey||(K.vapidKey=pr)})).apply(this,arguments)}function Jn(){return(Jn=(0,W.Z)(function*(K,Y){if(!navigator)throw ae.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ae.create("permission-blocked");return yield ft(K,null==Y?void 0:Y.vapidKey),yield be(K,null==Y?void 0:Y.serviceWorkerRegistration),jn(K)})).apply(this,arguments)}function vr(K,Y,Ce){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,W.Z)(function*(K,Y,Ce){const ze=Dr(Y);(yield K.firebaseDependencies.analyticsProvider.get()).logEvent(ze,{message_id:Ce[ye],message_name:Ce[De],message_time:Ce[mt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Dr(K){switch(K){case yt.NOTIFICATION_CLICKED:return"notification_open";case yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Vr(){return(Vr=(0,W.Z)(function*(K,Y){const Ce=Y.data;if(!Ce.isFirebaseMessaging)return;K.onMessageHandler&&Ce.messageType===yt.PUSH_RECEIVED&&("function"==typeof K.onMessageHandler?K.onMessageHandler(ur(Ce)):K.onMessageHandler.next(ur(Ce)));const ze=Ce.data;pi(ze)&&"1"===ze[Ve]&&(yield vr(K,Ce.messageType,ze))})).apply(this,arguments)}const Ri="@firebase/messaging",Ds=K=>{const Y=new Or(K.getProvider("app").getImmediate(),K.getProvider("installations-internal").getImmediate(),K.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Ce=>function Pi(K,Y){return Vr.apply(this,arguments)}(Y,Ce)),Y},Vs=K=>{const Y=K.getProvider("messaging").getImmediate();return{getToken:ze=>function zt(K,Y){return Jn.apply(this,arguments)}(Y,ze)}};function ki(){return Di.apply(this,arguments)}function Di(){return(Di=(0,W.Z)(function*(){try{yield(0,V.eu)()}catch(K){return!1}return"undefined"!=typeof window&&(0,V.hl)()&&(0,V.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qr(){(0,ie._registerComponent)(new we.wA("messaging",Ds,"PUBLIC")),(0,ie._registerComponent)(new we.wA("messaging-internal",Vs,"PRIVATE")),(0,ie.registerVersion)(Ri,"0.9.13"),(0,ie.registerVersion)(Ri,"0.9.13","esm2017")}();var Cs=S(7982),Ts=S(4408),ss=S(7565);const Xr=new class Wi extends ss.v{}(class Jr extends Ts.o{constructor(Y,Ce){super(Y,Ce),this.scheduler=Y,this.work=Ce}schedule(Y,Ce=0){return Ce>0?super.schedule(Y,Ce):(this.delay=Ce,this.state=Y,this.scheduler.flush(this),this)}execute(Y,Ce){return Ce>0||this.closed?super.execute(Y,Ce):this._execute(Y,Ce)}requestAsyncId(Y,Ce,ze=0){return null!=ze&&ze>0||null==ze&&this.delay>0?super.requestAsyncId(Y,Ce,ze):Y.flush(this)}});var Zi=S(4986),mi=S(8306),ti=S(8505),qi=S(9468),ui=S(5363);const Ci=new f.GfV("7.3.0"),Zr="__angularfire_symbol__analyticsIsSupportedValue",lr="__angularfire_symbol__analyticsIsSupported",Li="__angularfire_symbol__remoteConfigIsSupportedValue",gs="__angularfire_symbol__remoteConfigIsSupported",Gr="__angularfire_symbol__messagingIsSupportedValue",Cr="__angularfire_symbol__messagingIsSupported";globalThis[lr]||(globalThis[lr]=(0,Cs.Gb)().then(K=>globalThis[Zr]=K).catch(()=>globalThis[Zr]=!1)),globalThis[Cr]||(globalThis[Cr]=ki().then(K=>globalThis[Gr]=K).catch(()=>globalThis[Gr]=!1)),globalThis[gs]||(globalThis[gs]=Ht().then(K=>globalThis[Li]=K).catch(()=>globalThis[Li]=!1));const Ti={async:()=>globalThis[lr],sync:()=>{const K=globalThis[Zr];if(void 0===K)throw new Error((K=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${K} in the constructor, first ensure that ${K} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${K})\`.`)("Analytics"));return K}};function os(K,Y,Ce){if(Y){if(1===Y.length)return Y[0];const jt=Y.filter(mn=>mn.app===Ce);if(1===jt.length)return jt[0]}return Ce.container.getProvider(K).getImmediate({optional:!0})}const yi=(K,Y)=>{const Ce=Y?[Y]:(0,m.C6)(),ze=[];return Ce.forEach(It=>{It.container.getProvider(K).instances.forEach(mn=>{ze.includes(mn)||ze.push(mn)})}),ze};function Ni(){}class Yi{constructor(Y,Ce=Xr){this.zone=Y,this.delegate=Ce}now(){return this.delegate.now()}schedule(Y,Ce,ze){const It=this.zone;return this.delegate.schedule(function(mn){It.runGuarded(()=>{Y.apply(this,[mn])})},Ce,ze)}}class nr{constructor(Y){this.zone=Y,this.task=null}call(Y,Ce){const ze=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)),Ce.pipe((0,ti.b)({next:ze,complete:ze,error:ze})).subscribe(Y).add(ze)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let R=(()=>{class K{constructor(Ce){this.ngZone=Ce,this.outsideAngular=Ce.runOutsideAngular(()=>new Yi(Zone.current)),this.insideAngular=Ce.run(()=>new Yi(Zone.current,Zi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return K.\u0275fac=function(Ce){return new(Ce||K)(f.LFG(f.R0b))},K.\u0275prov=f.Yz7({token:K,factory:K.\u0275fac,providedIn:"root"}),K})();function G(){const K=globalThis.\u0275AngularFireScheduler;if(!K)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return K}function x(K){return G().ngZone.runOutsideAngular(()=>K())}function q(K){return G().ngZone.run(()=>K())}function wt(K){return G(),function un(K){return function(Ce){return(Ce=Ce.lift(new nr(K.ngZone))).pipe((0,qi.R)(K.outsideAngular),(0,ui.Q)(K.insideAngular))}}(G())(K)}const sr=(K,Y)=>function(){const ze=arguments;return Y&&setTimeout(()=>{"scheduled"===Y.state&&Y.invoke()},10),q(()=>K.apply(void 0,ze))},or=(K,Y)=>function(){let Ce;const ze=arguments;for(let jt=0;jt<arguments.length;jt++)"function"==typeof ze[jt]&&(Y&&(Ce||(Ce=q(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ni,{},Ni,Ni)))),ze[jt]=sr(ze[jt],Ce));const It=x(()=>K.apply(this,ze));if(!Y){if(It instanceof mi.y){const jt=G();return It.pipe((0,qi.R)(jt.outsideAngular),(0,ui.Q)(jt.insideAngular))}return q(()=>It)}return It instanceof mi.y?It.pipe(wt):It instanceof Promise?q(()=>new Promise((jt,mn)=>It.then(Yt=>q(()=>jt(Yt)),Yt=>q(()=>mn(Yt))))):"function"==typeof It&&Ce?function(){return setTimeout(()=>{Ce&&"scheduled"===Ce.state&&Ce.invoke()},10),It.apply(this,arguments)}:q(()=>It)}},198:(kt,Ue,S)=>{S.d(Ue,{$:()=>jt,A:()=>ue,B:()=>Ge,G:()=>Ke,H:()=>Mn,J:()=>Qr,L:()=>Mt,M:()=>Wi,N:()=>mi,P:()=>Ia,Q:()=>ti,R:()=>_o,T:()=>qi,U:()=>Zi,V:()=>lr,W:()=>Li,X:()=>ms,Y:()=>un,Z:()=>or,_:()=>Y,a:()=>nn,a0:()=>mr,a1:()=>O,a2:()=>T,a3:()=>he,a4:()=>Xn,a5:()=>Vi,a6:()=>Ai,a7:()=>as,a8:()=>ua,a9:()=>za,aA:()=>Es,aB:()=>xn,aC:()=>pl,aD:()=>Su,aE:()=>xt,aI:()=>Wt,aL:()=>Ci,aa:()=>ys,ab:()=>zs,ac:()=>la,af:()=>Go,ag:()=>po,ah:()=>Ho,ak:()=>Ni,al:()=>ha,an:()=>pa,ao:()=>qr,ap:()=>tr,aq:()=>je,ar:()=>wn,as:()=>$t,at:()=>At,au:()=>El,av:()=>zr,aw:()=>Ze,ax:()=>le,ay:()=>Ne,az:()=>ht,b:()=>yo,c:()=>Ro,d:()=>Yl,e:()=>Qa,f:()=>Da,g:()=>te,h:()=>xu,i:()=>Zt,j:()=>Xe,k:()=>Mi,l:()=>qa,m:()=>lp,n:()=>xa,o:()=>re,r:()=>ql,s:()=>Wc,u:()=>Ka});var f=S(5861),m=S(2090),W=S(9681),ie=S(655),V=S(1877),we=S(4859);const re={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ue={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ge=function xe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},tt=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new m.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new V.Yd("@firebase/auth");function Ct(E,...h){et.logLevel<=V.in.ERROR&&et.error(`Auth (${W.SDK_VERSION}): ${E}`,...h)}function At(E,...h){throw Dt(E,...h)}function Ze(E,...h){return Dt(E,...h)}function Fe(E,h,p){const w=Object.assign(Object.assign({},tt()),{[h]:p});return new m.LL("auth","Firebase",w).create(h,{appName:E.name})}function qe(E,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&At(E,"argument-error"),Fe(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dt(E,...h){if("string"!=typeof E){const p=h[0],w=[...h.slice(1)];return w[0]&&(w[0].appName=E.name),E._errorFactory.create(p,...w)}return pt.create(E,...h)}function le(E,h,...p){if(!E)throw Dt(h,...p)}function Re(E){const h="INTERNAL ASSERTION FAILED: "+E;throw Ct(h),new Error(h)}function je(E,h){E||Re(h)}const de=new Map;function Ne(E){je(E instanceof Function,"Expected a class definition");let h=de.get(E);return h?(je(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,de.set(E,h),h)}function Le(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function gt(){return"http:"===Pt()||"https:"===Pt()}function Pt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Tt{constructor(h,p){this.shortDelay=h,this.longDelay=p,je(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,m.uI)()||(0,m.b$)()}get(){return function Bt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,m.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(E,h){je(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Nn{static initialize(h,p,w){this.fetchImpl=h,p&&(this.headersImpl=p),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Re("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Re("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Re("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new Tt(3e4,6e4);function on(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function Kt(E,h,p,w){return pn.apply(this,arguments)}function pn(){return(pn=(0,f.Z)(function*(E,h,p,w,j={}){return Dn(E,j,(0,f.Z)(function*(){let ne={},$e={};w&&("GET"===h?$e=w:ne={body:JSON.stringify(w)});const ot=(0,m.xO)(Object.assign({key:E.config.apiKey},$e)).slice(1),cn=yield E._getAdditionalHeaders();return cn["Content-Type"]="application/json",E.languageCode&&(cn["X-Firebase-Locale"]=E.languageCode),Nn.fetch()(qn(E,E.config.apiHost,p,ot),Object.assign({method:h,headers:cn,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Dn(E,h,p){return kn.apply(this,arguments)}function kn(){return(kn=(0,f.Z)(function*(E,h,p){E._canInitEmulator=!1;const w=Object.assign(Object.assign({},Tn),h);try{const j=new Yn(E),ne=yield Promise.race([p(),j.promise]);j.clearNetworkTimeout();const $e=yield ne.json();if("needConfirmation"in $e)throw tn(E,"account-exists-with-different-credential",$e);if(ne.ok&&!("errorMessage"in $e))return $e;{const ot=ne.ok?$e.errorMessage:$e.error.message,[cn,Rn]=ot.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===cn)throw tn(E,"credential-already-in-use",$e);if("EMAIL_EXISTS"===cn)throw tn(E,"email-already-in-use",$e);const Zn=w[cn]||cn.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw Fe(E,Zn,Rn);At(E,Zn)}}catch(j){if(j instanceof m.ZR)throw j;At(E,"network-request-failed")}})).apply(this,arguments)}function _n(E,h,p,w){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(E,h,p,w,j={}){const ne=yield Kt(E,h,p,w,j);return"mfaPendingCredential"in ne&&At(E,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function qn(E,h,p,w){const j=`${h}${p}?${w}`;return E.config.emulator?En(E.config,j):`${E.config.apiScheme}://${j}`}class Yn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,w)=>{this.timer=setTimeout(()=>w(Ze(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(E,h,p){const w={appName:E.name};p.email&&(w.email=p.email),p.phoneNumber&&(w.phoneNumber=p.phoneNumber);const j=Ze(E,h,w);return j.customData._tokenResponse=p,j}function Ht(){return(Ht=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Er(E,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function an(E,h){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function pr(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function De(){return(De=(0,f.Z)(function*(E,h=!1){const p=(0,m.m9)(E),w=yield p.getIdToken(h),j=Ve(w);le(j&&j.exp&&j.auth_time&&j.iat,p.auth,"internal-error");const ne="object"==typeof j.firebase?j.firebase:void 0,$e=null==ne?void 0:ne.sign_in_provider;return{claims:j,token:w,authTime:pr(mt(j.auth_time)),issuedAtTime:pr(mt(j.iat)),expirationTime:pr(mt(j.exp)),signInProvider:$e||null,signInSecondFactor:(null==ne?void 0:ne.sign_in_second_factor)||null}})).apply(this,arguments)}function mt(E){return 1e3*Number(E)}function Ve(E){const[h,p,w]=E.split(".");if(void 0===h||void 0===p||void 0===w)return Ct("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,m.tV)(p);return j?JSON.parse(j):(Ct("Failed to decode base64 JWT payload"),null)}catch(j){return Ct("Caught error parsing JWT payload as JSON",j),null}}function yt(E,h){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(w){throw w instanceof m.ZR&&hn(w)&&E.auth.currentUser===E&&(yield E.auth.signOut()),w}})).apply(this,arguments)}function hn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class sn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const j=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const w=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),w)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class ar{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=pr(this.lastLoginAt),this.creationTime=pr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bn(E){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(E){var h;const p=E.auth,w=yield E.getIdToken(),j=yield yt(E,an(p,{idToken:w}));le(null==j?void 0:j.users.length,p,"internal-error");const ne=j.users[0];E._notifyReloadListener(ne);const $e=(null===(h=ne.providerUserInfo)||void 0===h?void 0:h.length)?k(ne.providerUserInfo):[],ot=J(E.providerData,$e),Zn=!!E.isAnonymous&&!(E.email&&ne.passwordHash||(null==ot?void 0:ot.length)),ii={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:ot,metadata:new ar(ne.createdAt,ne.lastLoginAt),isAnonymous:Zn};Object.assign(E,ii)})).apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(E){const h=(0,m.m9)(E);yield Bn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function J(E,h){return[...E.filter(w=>!h.some(j=>j.providerId===w.providerId)),...h]}function k(E){return E.map(h=>{var{providerId:p}=h,w=(0,ie._T)(h,["providerId"]);return{providerId:p,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function X(){return(X=(0,f.Z)(function*(E,h){const p=yield Dn(E,{},(0,f.Z)(function*(){const w=(0,m.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:ne}=E.config,$e=qn(E,j,"/v1/token",`key=${ne}`),ot=yield E._getAdditionalHeaders();return ot["Content-Type"]="application/x-www-form-urlencoded",Nn.fetch()($e,{method:"POST",headers:ot,body:w})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){le(h.idToken,"internal-error"),le(void 0!==h.idToken,"internal-error"),le(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function _t(E){const h=Ve(E);return le(h,"internal-error"),le(void 0!==h.exp,"internal-error"),le(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var w=this;return(0,f.Z)(function*(){return le(!w.accessToken||w.refreshToken,h,"user-token-expired"),p||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(h,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var w=this;return(0,f.Z)(function*(){const{accessToken:j,refreshToken:ne,expiresIn:$e}=yield function N(E,h){return X.apply(this,arguments)}(h,p);w.updateTokensAndExpiration(j,ne,Number($e))})()}updateTokensAndExpiration(h,p,w){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(h,p){const{refreshToken:w,accessToken:j,expirationTime:ne}=p,$e=new ee;return w&&(le("string"==typeof w,"internal-error",{appName:h}),$e.refreshToken=w),j&&(le("string"==typeof j,"internal-error",{appName:h}),$e.accessToken=j),ne&&(le("number"==typeof ne,"internal-error",{appName:h}),$e.expirationTime=ne),$e}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return Re("not implemented")}}function Se(E,h){le("string"==typeof E||void 0===E,"internal-error",{appName:h})}class Ye{constructor(h){var{uid:p,auth:w,stsTokenManager:j}=h,ne=(0,ie._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=w,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new ar(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const w=yield yt(p,p.stsTokenManager.getToken(p.auth,h));return le(w,p.auth,"internal-error"),p.accessToken!==w&&(p.accessToken=w,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),w})()}getIdTokenResult(h){return function ye(E){return De.apply(this,arguments)}(this,h)}reload(){return function se(E){return me.apply(this,arguments)}(this)}_assign(h){this!==h&&(le(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Ye(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var w=this;return(0,f.Z)(function*(){let j=!1;h.idToken&&h.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(h),j=!0),p&&(yield Bn(w)),yield w.auth._persistUserIfCurrent(w),j&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield yt(h,function Wn(E,h){return Ht.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var w,j,ne,$e,ot,cn,Rn,Zn;const ii=null!==(w=p.displayName)&&void 0!==w?w:void 0,si=null!==(j=p.email)&&void 0!==j?j:void 0,Io=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,ta=null!==($e=p.photoURL)&&void 0!==$e?$e:void 0,Fu=null!==(ot=p.tenantId)&&void 0!==ot?ot:void 0,td=null!==(cn=p._redirectEventId)&&void 0!==cn?cn:void 0,ac=null!==(Rn=p.createdAt)&&void 0!==Rn?Rn:void 0,Rr=null!==(Zn=p.lastLoginAt)&&void 0!==Zn?Zn:void 0,{uid:uc,emailVerified:Lu,isAnonymous:eu,providerData:na,stsTokenManager:ra}=p;le(uc&&ra,h,"internal-error");const nd=ee.fromJSON(this.name,ra);le("string"==typeof uc,h,"internal-error"),Se(ii,h.name),Se(si,h.name),le("boolean"==typeof Lu,h,"internal-error"),le("boolean"==typeof eu,h,"internal-error"),Se(Io,h.name),Se(ta,h.name),Se(Fu,h.name),Se(td,h.name),Se(ac,h.name),Se(Rr,h.name);const tu=new Ye({uid:uc,auth:h,email:si,emailVerified:Lu,displayName:ii,isAnonymous:eu,photoURL:ta,phoneNumber:Io,tenantId:Fu,stsTokenManager:nd,createdAt:ac,lastLoginAt:Rr});return na&&Array.isArray(na)&&(tu.providerData=na.map(rd=>Object.assign({},rd))),td&&(tu._redirectEventId=td),tu}static _fromIdTokenResponse(h,p,w=!1){return(0,f.Z)(function*(){const j=new ee;j.updateFromServerResponse(p);const ne=new Ye({uid:p.localId,auth:h,stsTokenManager:j,isAnonymous:w});return yield Bn(ne),ne})()}}const Mt=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(p,w){var j=this;return(0,f.Z)(function*(){j.storage[p]=w})()}_get(p){var w=this;return(0,f.Z)(function*(){const j=w.storage[p];return void 0===j?null:j})()}_remove(p){var w=this;return(0,f.Z)(function*(){delete w.storage[p]})()}_addListener(p,w){}_removeListener(p,w){}}return E.type="NONE",E})();function ht(E,h,p){return`firebase:${E}:${h}:${p}`}class Lt{constructor(h,p,w){this.persistence=h,this.auth=p,this.userKey=w;const{config:j,name:ne}=this.auth;this.fullUserKey=ht(this.userKey,j.apiKey,ne),this.fullPersistenceKey=ht("persistence",j.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,f.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Ye._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,f.Z)(function*(){if(p.persistence===h)return;const w=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,w?p.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,w="authUser"){return(0,f.Z)(function*(){if(!p.length)return new Lt(Ne(Mt),h,w);const j=(yield Promise.all(p.map(function(){var Rn=(0,f.Z)(function*(Zn){if(yield Zn._isAvailable())return Zn});return function(Zn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let ne=j[0]||Ne(Mt);const $e=ht(w,h.config.apiKey,h.name);let ot=null;for(const Rn of p)try{const Zn=yield Rn._get($e);if(Zn){const ii=Ye._fromJSON(h,Zn);Rn!==ne&&(ot=ii),ne=Rn;break}}catch(Zn){}const cn=j.filter(Rn=>Rn._shouldAllowMigration);return ne._shouldAllowMigration&&cn.length?(ne=cn[0],ot&&(yield ne._set($e,ot.toJSON())),yield Promise.all(p.map(function(){var Rn=(0,f.Z)(function*(Zn){if(Zn!==ne)try{yield Zn._remove($e)}catch(ii){}});return function(Zn){return Rn.apply(this,arguments)}}())),new Lt(ne,h,w)):new Lt(ne,h,w)})()}}function ke(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(at(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_e(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ln(h))return"Blackberry";if(bn(h))return"Webos";if(ae(h))return"Safari";if((h.includes("chrome/")||rt(h))&&!h.includes("edge/"))return"Chrome";if($t(h))return"Android";{const w=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function _e(E=(0,m.z$)()){return/firefox\//i.test(E)}function ae(E=(0,m.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function rt(E=(0,m.z$)()){return/crios\//i.test(E)}function at(E=(0,m.z$)()){return/iemobile/i.test(E)}function $t(E=(0,m.z$)()){return/android/i.test(E)}function ln(E=(0,m.z$)()){return/blackberry/i.test(E)}function bn(E=(0,m.z$)()){return/webos/i.test(E)}function wn(E=(0,m.z$)()){return/iphone|ipad|ipod/i.test(E)}function tr(E=(0,m.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function An(E=(0,m.z$)()){return wn(E)||$t(E)||bn(E)||ln(E)||/windows phone/i.test(E)||at(E)}function jn(E,h=[]){let p;switch(E){case"Browser":p=ke((0,m.z$)());break;case"Worker":p=`${ke((0,m.z$)())}-${E}`;break;default:p=E}const w=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${W.SDK_VERSION}/${w}`}class Kr{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const w=ne=>new Promise(($e,ot)=>{try{$e(h(ne))}catch(cn){ot(cn)}});w.onAbort=p,this.queue.push(w);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,f.Z)(function*(){if(p.auth.currentUser===h)return;const w=[];try{for(const j of p.queue)yield j(h),j.onAbort&&w.push(j.onAbort)}catch(j){w.reverse();for(const ne of w)try{ne()}catch($e){}throw p.auth._errorFactory.create("login-blocked",{originalMessage:j.message})}})()}}class Sr{constructor(h,p,w){this.app=h,this.heartbeatServiceProvider=p,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ee(this),this.idTokenSubscription=new Ee(this),this.beforeStateQueue=new Kr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(h,p){var w=this;return p&&(this._popupRedirectResolver=Ne(p)),this._initializationPromise=this.queue((0,f.Z)(function*(){var j,ne;if(!w._deleted&&(w.persistenceManager=yield Lt.create(w,h),!w._deleted)){if(null===(j=w._popupRedirectResolver)||void 0===j?void 0:j._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch($e){}yield w.initializeCurrentUser(p),w.lastNotifiedUid=(null===(ne=w.currentUser)||void 0===ne?void 0:ne.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,f.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,f.Z)(function*(){var w;const j=yield p.assertedPersistence.getCurrentUser();let ne=j,$e=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const ot=null===(w=p.redirectUser)||void 0===w?void 0:w._redirectEventId,cn=null==ne?void 0:ne._redirectEventId,Rn=yield p.tryRedirectSignIn(h);(!ot||ot===cn)&&(null==Rn?void 0:Rn.user)&&(ne=Rn.user,$e=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if($e)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(ot){ne=j,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(ot))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return le(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,f.Z)(function*(){let w=null;try{w=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(j){yield p._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,f.Z)(function*(){try{yield Bn(h)}catch(w){if("auth/network-request-failed"!==w.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ut(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,f.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,f.Z)(function*(){const w=h?(0,m.m9)(h):null;return w&&le(w.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(w&&w._clone(p))})()}_updateCurrentUser(h,p=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return h&&le(w.tenantId===h.tenantId,w,"tenant-id-mismatch"),p||(yield w.beforeStateQueue.runMiddleware(h)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(h),w.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,f.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,f.Z)(function*(){yield p.assertedPersistence.setPersistence(Ne(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new m.LL("auth","Firebase",h())}onAuthStateChanged(h,p,w){return this.registerStateListener(this.authStateSubscription,h,p,w)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,w){return this.registerStateListener(this.idTokenSubscription,h,p,w)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var w=this;return(0,f.Z)(function*(){const j=yield w.getOrInitRedirectPersistenceManager(p);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,f.Z)(function*(){if(!p.redirectPersistenceManager){const w=h&&Ne(h)||p._popupRedirectResolver;le(w,p,"argument-error"),p.redirectPersistenceManager=yield Lt.create(p,[Ne(w._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,f.Z)(function*(){var w,j;return p._isInitialized&&(yield p.queue((0,f.Z)(function*(){}))),(null===(w=p._currentUser)||void 0===w?void 0:w._redirectEventId)===h?p._currentUser:(null===(j=p.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,f.Z)(function*(){if(h===p.currentUser)return p.queue((0,f.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,w,j){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p),$e=this._isInitialized?Promise.resolve():this._initializationPromise;return le($e,this,"internal-error"),$e.then(()=>ne(this.currentUser)),"function"==typeof p?h.addObserver(p,w,j):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,f.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=jn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,f.Z)(function*(){var p;const w={"X-Client-Version":h.clientVersion};h.app.options.appId&&(w["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return j&&(w["X-Firebase-Client"]=j),w})()}}function xt(E){return(0,m.m9)(E)}class Ee{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,m.ne)(p=>this.observer=p)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ke(E,h,p){const w=xt(E);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(h),w,"invalid-emulator-scheme");const j=!!(null==p?void 0:p.disableWarnings),ne=Et(h),{host:$e,port:ot}=function en(E){const h=Et(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const w=p[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(w);if(j){const ne=j[1];return{host:ne,port:Sn(w.substr(ne.length+1))}}{const[ne,$e]=w.split(":");return{host:ne,port:Sn($e)}}}(h);w.config.emulator={url:`${ne}//${$e}${null===ot?"":`:${ot}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:$e,port:ot,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function $n(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Et(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function Sn(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class Mn{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Re("not implemented")}_getIdTokenResponse(h){return Re("not implemented")}_linkToIdToken(h,p){return Re("not implemented")}_getReauthenticationResolver(h){return Re("not implemented")}}function ur(E,h){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:resetPassword",on(E,h))})).apply(this,arguments)}function fn(E,h){return wr.apply(this,arguments)}function wr(){return(wr=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function pi(E,h){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:update",on(E,h))})).apply(this,arguments)}function yr(){return(yr=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithPassword",on(E,h))})).apply(this,arguments)}function Or(E,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:sendOobCode",on(E,h))})).apply(this,arguments)}function Pe(E,h){return be.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(E,h){return Or(E,h)})).apply(this,arguments)}function Je(E,h){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(E,h){return Or(E,h)})).apply(this,arguments)}function Rt(E,h){return zt.apply(this,arguments)}function zt(){return(zt=(0,f.Z)(function*(E,h){return Or(E,h)})).apply(this,arguments)}function Jn(E,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,f.Z)(function*(E,h){return Or(E,h)})).apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithEmailLink",on(E,h))})).apply(this,arguments)}function Vr(){return(Vr=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithEmailLink",on(E,h))})).apply(this,arguments)}class Ri extends Mn{constructor(h,p,w,j=null){super("password",w),this._email=h,this._password=p,this._tenantId=j}static _fromEmailAndPassword(h,p){return new Ri(h,p,"password")}static _fromEmailAndCode(h,p,w=null){return new Ri(h,p,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,f.Z)(function*(){switch(p.signInMethod){case"password":return function ai(E,h){return yr.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Gn(E,h){return Dr.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:At(h,"internal-error")}})()}_linkToIdToken(h,p){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return fn(h,{idToken:p,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Pi(E,h){return Vr.apply(this,arguments)}(h,{idToken:p,email:w._email,oobCode:w._password});default:At(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function _r(E,h){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithIdp",on(E,h))})).apply(this,arguments)}class Qr extends Mn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Qr(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):At("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:j}=p,ne=(0,ie._T)(p,["providerId","signInMethod"]);if(!w||!j)return null;const $e=new Qr(w,j);return $e.idToken=ne.idToken||void 0,$e.accessToken=ne.accessToken||void 0,$e.secret=ne.secret,$e.nonce=ne.nonce,$e.pendingToken=ne.pendingToken||null,$e}_getIdTokenResponse(h){return _r(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,_r(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,_r(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,m.xO)(p)}return h}}function ki(E,h){return Di.apply(this,arguments)}function Di(){return(Di=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:sendVerificationCode",on(E,h))})).apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,h))})).apply(this,arguments)}function rs(){return(rs=(0,f.Z)(function*(E,h){const p=yield _n(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,h));if(p.temporaryProof)throw tn(E,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Gs={USER_NOT_FOUND:"user-not-found"};function Oi(){return(Oi=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithPhoneNumber",on(E,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Gs)})).apply(this,arguments)}class gi extends Mn{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new gi({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new gi({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ns(E,h){return Fi.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function fo(E,h){return rs.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function is(E,h){return Oi.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:w,verificationCode:j}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:w,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:w,phoneNumber:j,temporaryProof:ne}=h;return w||p||j||ne?new gi({verificationId:p,verificationCode:w,phoneNumber:j,temporaryProof:ne}):null}}class Jr{constructor(h){var p,w,j,ne,$e,ot;const cn=(0,m.zd)((0,m.pd)(h)),Rn=null!==(p=cn.apiKey)&&void 0!==p?p:null,Zn=null!==(w=cn.oobCode)&&void 0!==w?w:null,ii=function Cs(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=cn.mode)&&void 0!==j?j:null);le(Rn&&Zn&&ii,"argument-error"),this.apiKey=Rn,this.operation=ii,this.code=Zn,this.continueUrl=null!==(ne=cn.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==($e=cn.languageCode)&&void 0!==$e?$e:null,this.tenantId=null!==(ot=cn.tenantId)&&void 0!==ot?ot:null}static parseLink(h){const p=function Ts(E){const h=(0,m.zd)((0,m.pd)(E)).link,p=h?(0,m.zd)((0,m.pd)(h)).deep_link_id:null,w=(0,m.zd)((0,m.pd)(E)).deep_link_id;return(w?(0,m.zd)((0,m.pd)(w)).link:null)||w||p||h||E}(h);try{return new Jr(p)}catch(w){return null}}}let Wi=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,w){return Ri._fromEmailAndPassword(p,w)}static credentialWithLink(p,w){const j=Jr.parseLink(w);return le(j,"argument-error"),Ri._fromEmailAndCode(p,j.code,j.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Xr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class ei extends Xr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Zi extends ei{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return le("providerId"in p&&"signInMethod"in p,"argument-error"),Qr._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return le(h.idToken||h.accessToken,"argument-error"),Qr._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Zi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Zi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:w,oauthTokenSecret:j,pendingToken:ne,nonce:$e,providerId:ot}=h;if(!w&&!j&&!p&&!ne||!ot)return null;try{return new Zi(ot)._credential({idToken:p,accessToken:w,nonce:$e,pendingToken:ne})}catch(cn){return null}}}let mi=(()=>{class E extends ei{constructor(){super("facebook.com")}static credential(p){return Qr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch(w){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ti=(()=>{class E extends ei{constructor(){super("google.com"),this.addScope("profile")}static credential(p,w){return Qr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:w})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:w,oauthAccessToken:j}=p;if(!w&&!j)return null;try{return E.credential(w,j)}catch(ne){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),qi=(()=>{class E extends ei{constructor(){super("github.com")}static credential(p){return Qr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch(w){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Ci extends Mn{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return _r(h,this.buildRequest())}_linkToIdToken(h,p){const w=this.buildRequest();return w.idToken=p,_r(h,w)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,_r(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:w,signInMethod:j,pendingToken:ne}=p;return w&&j&&ne&&w===j?new Ci(w,ne):null}static _create(h,p){return new Ci(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class lr extends Xr{constructor(h){le(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return lr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return lr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Ci.fromJSON(h);return le(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:w}=h;if(!p||!w)return null;try{return Ci._create(w,p)}catch(j){return null}}}let Li=(()=>{class E extends ei{constructor(){super("twitter.com")}static credential(p,w){return Qr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:w})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:w,oauthTokenSecret:j}=p;if(!w||!j)return null;try{return E.credential(w,j)}catch(ne){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function gs(E,h){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signUp",on(E,h))})).apply(this,arguments)}class Cr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,w,j=!1){return(0,f.Z)(function*(){const ne=yield Ye._fromIdTokenResponse(h,w,j),$e=ni(w);return new Cr({user:ne,providerId:$e,_tokenResponse:w,operationType:p})})()}static _forOperation(h,p,w){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(w,!0);const j=ni(w);return new Cr({user:h,providerId:j,_tokenResponse:w,operationType:p})})()}}function ni(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function ms(E){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,f.Z)(function*(E){var h;const p=xt(E);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new Cr({user:p.currentUser,providerId:null,operationType:"signIn"});const w=yield gs(p,{returnSecureToken:!0}),j=yield Cr._fromIdTokenResponse(p,"signIn",w,!0);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ti extends m.ZR{constructor(h,p,w,j){var ne;super(p.code,p.message),this.operationType=w,this.user=j,Object.setPrototypeOf(this,Ti.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(h,p,w,j){return new Ti(h,p,w,j)}}function os(E,h,p,w){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ti._fromErrorAndOperation(E,ne,h,w):ne})}function yi(E){return new Set(E.map(({providerId:h})=>h).filter(h=>!!h))}function Ni(E,h){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(E,h){const p=(0,m.m9)(E);yield G(!0,p,h);const{providerUserInfo:w}=yield Er(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),j=yi(w||[]);return p.providerData=p.providerData.filter(ne=>j.has(ne.providerId)),j.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function nr(E,h){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(E,h,p=!1){const w=yield yt(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return Cr._forOperation(E,"link",w)})).apply(this,arguments)}function G(E,h,p){return x.apply(this,arguments)}function x(){return(x=(0,f.Z)(function*(E,h,p){yield Bn(h);const j=!1===E?"provider-already-linked":"no-such-provider";le(yi(h.providerData).has(p)===E,h.auth,j)})).apply(this,arguments)}function q(E,h){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,f.Z)(function*(E,h,p=!1){const{auth:w}=E,j="reauthenticate";try{const ne=yield yt(E,os(w,j,h,E),p);le(ne.idToken,w,"internal-error");const $e=Ve(ne.idToken);le($e,w,"internal-error");const{sub:ot}=$e;return le(E.uid===ot,w,"user-mismatch"),Cr._forOperation(E,j,ne)}catch(ne){throw"auth/user-not-found"===(null==ne?void 0:ne.code)&&At(w,"user-mismatch"),ne}})).apply(this,arguments)}function it(E,h){return wt.apply(this,arguments)}function wt(){return(wt=(0,f.Z)(function*(E,h,p=!1){const w="signIn",j=yield os(E,w,h),ne=yield Cr._fromIdTokenResponse(E,w,j);return p||(yield E._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function un(E,h){return sr.apply(this,arguments)}function sr(){return(sr=(0,f.Z)(function*(E,h){return it(xt(E),h)})).apply(this,arguments)}function or(E,h){return K.apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(E,h){const p=(0,m.m9)(E);return yield G(!1,p,h.providerId),nr(p,h)})).apply(this,arguments)}function Y(E,h){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,f.Z)(function*(E,h){return q((0,m.m9)(E),h)})).apply(this,arguments)}function ze(E,h){return It.apply(this,arguments)}function It(){return(It=(0,f.Z)(function*(E,h){return _n(E,"POST","/v1/accounts:signInWithCustomToken",on(E,h))})).apply(this,arguments)}function jt(E,h){return mn.apply(this,arguments)}function mn(){return(mn=(0,f.Z)(function*(E,h){const p=xt(E),w=yield ze(p,{token:h,returnSecureToken:!0}),j=yield Cr._fromIdTokenResponse(p,"signIn",w);return yield p._updateCurrentUser(j.user),j})).apply(this,arguments)}class Yt{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?hr._fromServerResponse(h,p):At(h,"internal-error")}}class hr extends Yt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new hr(p)}}function gr(E,h,p){var w;le((null===(w=p.url)||void 0===w?void 0:w.length)>0,E,"invalid-continue-uri"),le(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(le(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(le(p.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function mr(E,h,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E),j={requestType:"PASSWORD_RESET",email:h};p&&gr(w,j,p),yield Je(w,j)})).apply(this,arguments)}function O(E,h,p){return A.apply(this,arguments)}function A(){return(A=(0,f.Z)(function*(E,h,p){yield ur((0,m.m9)(E),{oobCode:h,newPassword:p})})).apply(this,arguments)}function T(E,h){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(E,h){yield pi((0,m.m9)(E),{oobCode:h})})).apply(this,arguments)}function he(E,h){return St.apply(this,arguments)}function St(){return(St=(0,f.Z)(function*(E,h){const p=(0,m.m9)(E),w=yield ur(p,{oobCode:h}),j=w.requestType;switch(le(j,p,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,p,"internal-error");default:le(w.email,p,"internal-error")}let ne=null;return w.mfaInfo&&(ne=Yt._fromServerResponse(xt(p),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:ne},operation:j}})).apply(this,arguments)}function Xn(E,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,f.Z)(function*(E,h){const{data:p}=yield he((0,m.m9)(E),h);return p.email})).apply(this,arguments)}function Vi(E,h,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,f.Z)(function*(E,h,p){const w=xt(E),j=yield gs(w,{returnSecureToken:!0,email:h,password:p}),ne=yield Cr._fromIdTokenResponse(w,"signIn",j);return yield w._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function Ai(E,h,p){return un((0,m.m9)(E),Wi.credential(h,p))}function as(E,h,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E),j={requestType:"EMAIL_SIGNIN",email:h};le(p.handleCodeInApp,w,"argument-error"),p&&gr(w,j,p),yield Rt(w,j)})).apply(this,arguments)}function ua(E,h){const p=Jr.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function za(E,h,p){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E),j=Wi.credentialWithLink(h,p||Le());return le(j._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),un(w,j)})).apply(this,arguments)}function Do(E,h){return vi.apply(this,arguments)}function vi(){return(vi=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:createAuthUri",on(E,h))})).apply(this,arguments)}function ys(E,h){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(E,h){const w={identifier:h,continueUri:gt()?Le():"http://localhost"},{signinMethods:j}=yield Do((0,m.m9)(E),w);return j||[]})).apply(this,arguments)}function zs(E,h){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,f.Z)(function*(E,h){const p=(0,m.m9)(E),j={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&gr(p.auth,j,h);const{email:ne}=yield Pe(p.auth,j);ne!==E.email&&(yield E.reload())})).apply(this,arguments)}function la(E,h,p){return $o.apply(this,arguments)}function $o(){return($o=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:h};p&&gr(w.auth,ne,p);const{email:$e}=yield Jn(w.auth,ne);$e!==E.email&&(yield E.reload())})).apply(this,arguments)}function Wa(E,h){return Co.apply(this,arguments)}function Co(){return(Co=(0,f.Z)(function*(E,h){return Kt(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Go(E,h){return Us.apply(this,arguments)}function Us(){return(Us=(0,f.Z)(function*(E,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const w=(0,m.m9)(E),ne={idToken:yield w.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},$e=yield yt(w,Wa(w.auth,ne));w.displayName=$e.displayName||null,w.photoURL=$e.photoUrl||null;const ot=w.providerData.find(({providerId:cn})=>"password"===cn);ot&&(ot.displayName=w.displayName,ot.photoURL=w.photoURL),yield w._updateTokensIfNecessary($e)})).apply(this,arguments)}function po(E,h){return go((0,m.m9)(E),h,null)}function Ho(E,h){return go((0,m.m9)(E),null,h)}function go(E,h,p){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,f.Z)(function*(E,h,p){const{auth:w}=E,ne={idToken:yield E.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const $e=yield yt(E,fn(w,ne));yield E._updateTokensIfNecessary($e,!0)})).apply(this,arguments)}class Ws{constructor(h,p,w={}){this.isNewUser=h,this.providerId=p,this.profile=w}}class mo extends Ws{constructor(h,p,w,j){super(h,p,w),this.username=j}}class ca extends Ws{constructor(h,p){super(h,"facebook.com",p)}}class da extends mo{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Ms extends Ws{constructor(h,p){super(h,"google.com",p)}}class Iu extends mo{constructor(h,p,w){super(h,"twitter.com",p,w)}}function ha(E){const{user:h,_tokenResponse:p}=E;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Js(E){var h,p;if(!E)return null;const{providerId:w}=E,j=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ne=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!w&&(null==E?void 0:E.idToken)){const $e=null===(p=null===(h=Ve(E.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if($e)return new Ws(ne,"anonymous"!==$e&&"custom"!==$e?$e:null)}if(!w)return null;switch(w){case"facebook.com":return new ca(ne,j);case"github.com":return new da(ne,j);case"google.com":return new Ms(ne,j);case"twitter.com":return new Iu(ne,j,E.screenName||null);case"custom":case"anonymous":return new Ws(ne,null);default:return new Ws(ne,w,j)}}(p)}class us{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new us("enroll",h)}static _fromMfaPendingCredential(h){return new us("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,w;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return us._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(w=h.multiFactorSession)||void 0===w?void 0:w.idToken)return us._fromIdtoken(h.multiFactorSession.idToken)}return null}}class To{constructor(h,p,w){this.session=h,this.hints=p,this.signInResolver=w}static _fromError(h,p){const w=xt(h),j=p.customData._serverResponse,ne=(j.mfaInfo||[]).map(ot=>Yt._fromServerResponse(w,ot));le(j.mfaPendingCredential,w,"internal-error");const $e=us._fromMfaPendingCredential(j.mfaPendingCredential);return new To($e,ne,function(){var ot=(0,f.Z)(function*(cn){const Rn=yield cn._process(w,$e);delete j.mfaInfo,delete j.mfaPendingCredential;const Zn=Object.assign(Object.assign({},j),{idToken:Rn.idToken,refreshToken:Rn.refreshToken});switch(p.operationType){case"signIn":const ii=yield Cr._fromIdTokenResponse(w,p.operationType,Zn);return yield w._updateCurrentUser(ii.user),ii;case"reauthenticate":return le(p.user,w,"internal-error"),Cr._forOperation(p.user,p.operationType,Zn);default:At(w,"internal-error")}});return function(cn){return ot.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function pa(E,h){var p;const w=(0,m.m9)(E),j=h;return le(h.customData.operationType,w,"argument-error"),le(null===(p=j.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,w,"argument-error"),To._fromError(w,j)}function Si(E,h){return Kt(E,"POST","/v2/accounts/mfaEnrollment:start",on(E,h))}class ls{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(w=>Yt._fromServerResponse(h.auth,w)))})}static _fromUser(h){return new ls(h)}getSession(){var h=this;return(0,f.Z)(function*(){return us._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var w=this;return(0,f.Z)(function*(){const j=h,ne=yield w.getSession(),$e=yield yt(w.user,j._process(w.user.auth,ne,p));return yield w.user._updateTokensIfNecessary($e),w.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const w="string"==typeof h?h:h.uid,j=yield p.user.getIdToken(),ne=yield yt(p.user,function Wo(E,h){return Kt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",on(E,h))}(p.user.auth,{idToken:j,mfaEnrollmentId:w}));p.enrolledFactors=p.enrolledFactors.filter(({uid:$e})=>$e!==w),yield p.user._updateTokensIfNecessary(ne);try{yield p.user.reload()}catch($e){if("auth/user-token-expired"!==$e.code)throw $e}})()}}const xs=new WeakMap;function qr(E){const h=(0,m.m9)(E);return xs.has(h)||xs.set(h,ls._fromUser(h)),xs.get(h)}const Bs="__sak";class cs{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(Bs,"1"),this.storage.removeItem(Bs),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const yo=(()=>{class E extends cs{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,w)=>this.onStorageEvent(p,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ao(){const E=(0,m.z$)();return ae(E)||wn(E)}()&&function Ir(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=An(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const w of Object.keys(this.listeners)){const j=this.storage.getItem(w),ne=this.localCache[w];j!==ne&&p(w,ne,j)}}onStorageEvent(p,w=!1){if(!p.key)return void this.forAllChangedKeys((ot,cn,Rn)=>{this.notifyListeners(ot,Rn)});const j=p.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ot=this.storage.getItem(j);if(p.newValue!==ot)null!==p.newValue?this.storage.setItem(j,p.newValue):this.storage.removeItem(j);else if(this.localCache[j]===p.newValue&&!w)return}const ne=()=>{const ot=this.storage.getItem(j);!w&&this.localCache[j]===ot||this.notifyListeners(j,ot)},$e=this.storage.getItem(j);!function On(){return(0,m.w1)()&&10===document.documentMode}()||$e===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,w){this.localCache[p]=w;const j=this.listeners[p];if(j)for(const ne of Array.from(j))ne(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,w,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:w,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,w){var j=()=>super._set,ne=this;return(0,f.Z)(function*(){yield j().call(ne,p,w),ne.localCache[p]=JSON.stringify(w)})()}_get(p){var w=()=>super._get,j=this;return(0,f.Z)(function*(){const ne=yield w().call(j,p);return j.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var w=()=>super._remove,j=this;return(0,f.Z)(function*(){yield w().call(j,p),delete j.localCache[p]})()}}return E.type="LOCAL",E})(),nn=(()=>{class E extends cs{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,w){}_removeListener(p,w){}}return E.type="SESSION",E})();let ma=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const w=this.receivers.find(ne=>ne.isListeningto(p));if(w)return w;const j=new E(p);return this.receivers.push(j),j}isListeningto(p){return this.eventTarget===p}handleEvent(p){var w=this;return(0,f.Z)(function*(){const j=p,{eventId:ne,eventType:$e,data:ot}=j.data,cn=w.handlersMap[$e];if(!(null==cn?void 0:cn.size))return;j.ports[0].postMessage({status:"ack",eventId:ne,eventType:$e});const Rn=Array.from(cn).map(function(){var ii=(0,f.Z)(function*(si){return si(j.origin,ot)});return function(si){return ii.apply(this,arguments)}}()),Zn=yield function Pn(E){return Promise.all(E.map(function(){var h=(0,f.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(w){return{fulfilled:!1,reason:w}}});return function(p){return h.apply(this,arguments)}}()))}(Rn);j.ports[0].postMessage({status:"done",eventId:ne,eventType:$e,response:Zn})})()}_subscribe(p,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(w)}_unsubscribe(p,w){this.handlersMap[p]&&w&&this.handlersMap[p].delete(w),(!w||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Wt(E="",h=10){let p="";for(let w=0;w<h;w++)p+=Math.floor(10*Math.random());return E+p}class st{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,w=50){var j=this;return(0,f.Z)(function*(){const ne="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let $e,ot;return new Promise((cn,Rn)=>{const Zn=Wt("",20);ne.port1.start();const ii=setTimeout(()=>{Rn(new Error("unsupported_event"))},w);ot={messageChannel:ne,onMessage(si){const Io=si;if(Io.data.eventId===Zn)switch(Io.data.status){case"ack":clearTimeout(ii),$e=setTimeout(()=>{Rn(new Error("timeout"))},3e3);break;case"done":clearTimeout($e),cn(Io.data.response);break;default:clearTimeout(ii),clearTimeout($e),Rn(new Error("invalid_response"))}}},j.handlers.add(ot),ne.port1.addEventListener("message",ot.onMessage),j.target.postMessage({eventType:h,eventId:Zn,data:p},[ne.port2])}).finally(()=>{ot&&j.removeMessageHandler(ot)})})()}}function vt(){return window}function Zs(){return void 0!==vt().WorkerGlobalScope&&"function"==typeof vt().importScripts}function So(){return(So=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const Zo="firebaseLocalStorageDb",va="firebaseLocalStorage",Mo="fbase_key";class ci{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function qo(E,h){return E.transaction([va],h?"readwrite":"readonly").objectStore(va)}function _(){const E=indexedDB.open(Zo,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const w=E.result;try{w.createObjectStore(va,{keyPath:Mo})}catch(j){p(j)}}),E.addEventListener("success",(0,f.Z)(function*(){const w=E.result;w.objectStoreNames.contains(va)?h(w):(w.close(),yield function b(){const E=indexedDB.deleteDatabase(Zo);return new ci(E).toPromise()}(),h(yield _()))}))})}function v(E,h,p){return M.apply(this,arguments)}function M(){return(M=(0,f.Z)(function*(E,h,p){const w=qo(E,!0).put({[Mo]:h,value:p});return new ci(w).toPromise()})).apply(this,arguments)}function B(){return(B=(0,f.Z)(function*(E,h){const p=qo(E,!1).get(h),w=yield new ci(p).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function fe(E,h){const p=qo(E,!0).delete(h);return new ci(p).toPromise()}const Zt=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,f.Z)(function*(){return p.db||(p.db=yield _()),p.db})()}_withRetries(p){var w=this;return(0,f.Z)(function*(){let j=0;for(;;)try{const ne=yield w._openDb();return yield p(ne)}catch(ne){if(j++>3)throw ne;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,f.Z)(function*(){return Zs()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,f.Z)(function*(){p.receiver=ma._getInstance(function Du(){return Zs()?self:null}()),p.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(j,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(j,ne){return w.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(j,ne){return["keyChanged"]});return function(j,ne){return w.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,f.Z)(function*(){var w,j;if(p.activeServiceWorker=yield function ya(){return So.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new st(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);!ne||(null===(w=ne[0])||void 0===w?void 0:w.fulfilled)&&(null===(j=ne[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Wl(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:p},w.serviceWorkerReceiverAvailable?800:50)}catch(j){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const p=yield _();return yield v(p,Bs,"1"),yield fe(p,Bs),!0}catch(p){}return!1})()}_withPendingWrite(p){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield p()}finally{w.pendingWrites--}})()}_set(p,w){var j=this;return(0,f.Z)(function*(){return j._withPendingWrite((0,f.Z)(function*(){return yield j._withRetries(ne=>v(ne,p,w)),j.localCache[p]=w,j.notifyServiceWorker(p)}))})()}_get(p){var w=this;return(0,f.Z)(function*(){const j=yield w._withRetries(ne=>function P(E,h){return B.apply(this,arguments)}(ne,p));return w.localCache[p]=j,j})()}_remove(p){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(j=>fe(j,p)),delete w.localCache[p],w.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,f.Z)(function*(){const w=yield p._withRetries($e=>{const ot=qo($e,!1).getAll();return new ci(ot).toPromise()});if(!w)return[];if(0!==p.pendingWrites)return[];const j=[],ne=new Set;for(const{fbase_key:$e,value:ot}of w)ne.add($e),JSON.stringify(p.localCache[$e])!==JSON.stringify(ot)&&(p.notifyListeners($e,ot),j.push($e));for(const $e of Object.keys(p.localCache))p.localCache[$e]&&!ne.has($e)&&(p.notifyListeners($e,null),j.push($e));return j})()}notifyListeners(p,w){this.localCache[p]=w;const j=this.listeners[p];if(j)for(const ne of Array.from(j))ne(w)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(w)}_removeListener(p,w){this.listeners[p]&&(this.listeners[p].delete(w),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function yn(E,h){return Kt(E,"POST","/v2/accounts/mfaSignIn:start",on(E,h))}function Ei(){return(Ei=(0,f.Z)(function*(E){return(yield Kt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function vo(E){return new Promise((h,p)=>{const w=document.createElement("script");w.setAttribute("src",E),w.onload=h,w.onerror=j=>{const ne=Ze("internal-error");ne.customData=j,p(ne)},w.type="text/javascript",w.charset="UTF-8",function Nr(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(w)})}function ds(E){return`__${E}${Math.floor(1e6*Math.random())}`}const qs=1e12;class dl{constructor(h){this.auth=h,this.counter=qs,this._widgets=new Map}render(h,p){const w=this.counter;return this._widgets.set(w,new Ko(h,this.auth.name,p||{})),this.counter++,w}reset(h){var p;const w=h||qs;null===(p=this._widgets.get(w))||void 0===p||p.delete(),this._widgets.delete(w)}getResponse(h){var p;return(null===(p=this._widgets.get(h||qs))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,f.Z)(function*(){var w;return null===(w=p._widgets.get(h||qs))||void 0===w||w.execute(),""})()}}class Ko{constructor(h,p,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;le(j,"argument-error",{appName:p}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _a(E){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<E;w++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const eo=ds("rcb"),Za=new Tt(3e4,6e4);class Zl{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!vt().grecaptcha}load(h,p=""){return le(function Qt(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(vt().grecaptcha):new Promise((w,j)=>{const ne=vt().setTimeout(()=>{j(Ze(h,"network-request-failed"))},Za.get());vt()[eo]=()=>{vt().clearTimeout(ne),delete vt()[eo];const ot=vt().grecaptcha;if(!ot)return void j(Ze(h,"internal-error"));const cn=ot.render;ot.render=(Rn,Zn)=>{const ii=cn(Rn,Zn);return this.counter++,ii},this.hostLanguage=p,w(ot)},vo(`https://www.google.com/recaptcha/api.js??${(0,m.xO)({onload:eo,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),j(Ze(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!vt().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yo{load(h){return(0,f.Z)(function*(){return new dl(h)})()}clearedOneInstance(){}}const Tu="recaptcha",Ea={theme:"light",type:"image"};class _o{constructor(h,p=Object.assign({},Ea),w){this.parameters=p,this.type=Tu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=xt(w),this.isInvisible="invisible"===this.parameters.size,le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof h?document.getElementById(h):h;le(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yo:new Zl,this.validateStartingState()}verify(){var h=this;return(0,f.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),w=h.getAssertedRecaptcha();return w.getResponse(p)||new Promise(ne=>{const $e=ot=>{!ot||(h.tokenChangeListeners.delete($e),ne(ot))};h.tokenChangeListeners.add($e),h.isInvisible&&w.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(w=>w(p)),"function"==typeof h)h(p);else if("string"==typeof h){const w=vt()[h];"function"==typeof w&&w(p)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,f.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const w=document.createElement("div");p.appendChild(w),p=w}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,f.Z)(function*(){le(gt()&&!Zs(),h.auth,"internal-error"),yield function Au(){let E=null;return new Promise(h=>{"complete"!==document.readyState?(E=()=>h(),window.addEventListener("load",E)):h()}).catch(h=>{throw E&&window.removeEventListener("load",E),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function cr(E){return Ei.apply(this,arguments)}(h.auth);le(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _s{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=gi._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Wc(E,h,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,f.Z)(function*(E,h,p){const w=xt(E),j=yield Ji(w,h,(0,m.m9)(p));return new _s(j,ne=>un(w,ne))})).apply(this,arguments)}function qa(E,h,p){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E);yield G(!1,w,"phone");const j=yield Ji(w.auth,h,(0,m.m9)(p));return new _s(j,ne=>or(w,ne))})).apply(this,arguments)}function ql(E,h,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E),j=yield Ji(w.auth,h,(0,m.m9)(p));return new _s(j,ne=>Y(w,ne))})).apply(this,arguments)}function Ji(E,h,p){return Os.apply(this,arguments)}function Os(){return(Os=(0,f.Z)(function*(E,h,p){var w;const j=yield p.verify();try{let ne;if(le("string"==typeof j,E,"argument-error"),le(p.type===Tu,E,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const $e=ne.session;if("phoneNumber"in ne)return le("enroll"===$e.type,E,"internal-error"),(yield Si(E,{idToken:$e.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{le("signin"===$e.type,E,"internal-error");const ot=(null===(w=ne.multiFactorHint)||void 0===w?void 0:w.uid)||ne.multiFactorUid;return le(ot,E,"missing-multi-factor-info"),(yield yn(E,{mfaPendingCredential:$e.credential,mfaEnrollmentId:ot,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:$e}=yield ki(E,{phoneNumber:ne.phoneNumber,recaptchaToken:j});return $e}}finally{p._reset()}})).apply(this,arguments)}function Ka(E,h){return to.apply(this,arguments)}function to(){return(to=(0,f.Z)(function*(E,h){yield nr((0,m.m9)(E),h)})).apply(this,arguments)}let Ia=(()=>{class E{constructor(p){this.providerId=E.PROVIDER_ID,this.auth=xt(p)}verifyPhoneNumber(p,w){return Ji(this.auth,p,(0,m.m9)(w))}static credential(p,w){return gi._fromVerification(p,w)}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:w,temporaryProof:j}=p;return w&&j?gi._fromTokenResponse(w,j):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function xo(E,h){return h?Ne(h):(le(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class hl extends Mn{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return _r(h,this._buildIdpRequest())}_linkToIdToken(h,p){return _r(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return _r(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Kl(E){return it(E.auth,new hl(E),E.bypassAuthState)}function Zc(E){const{auth:h,user:p}=E;return le(p,h,"internal-error"),q(p,new hl(E),E.bypassAuthState)}function Xi(E){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,f.Z)(function*(E){const{auth:h,user:p}=E;return le(p,h,"internal-error"),nr(p,new hl(E),E.bypassAuthState)})).apply(this,arguments)}class fr{constructor(h,p,w,j,ne=!1){this.auth=h,this.resolver=w,this.user=j,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(w,j){h.pendingPromise={resolve:w,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(w,j){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:j,postBody:ne,tenantId:$e,error:ot,type:cn}=h;if(ot)return void p.reject(ot);const Rn={auth:p.auth,requestUri:w,sessionId:j,tenantId:$e||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(cn)(Rn))}catch(Zn){p.reject(Zn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Kl;case"linkViaPopup":case"linkViaRedirect":return Xi;case"reauthViaPopup":case"reauthViaRedirect":return Zc;default:At(this.auth,"internal-error")}}resolve(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){je(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wa=new Tt(2e3,1e4);function Ro(E,h,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,f.Z)(function*(E,h,p){const w=xt(E);qe(E,h,Xr);const j=xo(w,p);return new Ns(w,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Qa(E,h,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E);qe(w.auth,h,Xr);const j=xo(w.auth,p);return new Ns(w.auth,"reauthViaPopup",h,j,w).executeNotNull()})).apply(this,arguments)}function Yl(E,h,p){return fl.apply(this,arguments)}function fl(){return(fl=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E);qe(w.auth,h,Xr);const j=xo(w.auth,p);return new Ns(w.auth,"linkViaPopup",h,j,w).executeNotNull()})).apply(this,arguments)}let Ns=(()=>{class E extends fr{constructor(p,w,j,ne,$e){super(p,w,ne,$e),this.provider=j,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const w=yield p.execute();return le(w,p.auth,"internal-error"),w})()}onExecution(){var p=this;return(0,f.Z)(function*(){je(1===p.filter.length,"Popup operations only handle one event");const w=Wt();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],w),p.authWindow.associatedEvent=w,p.resolver._originValidation(p.auth).catch(j=>{p.reject(j)}),p.resolver._isIframeWebStorageSupported(p.auth,j=>{j||p.reject(Ze(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(Ze(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const p=()=>{var w,j;this.pollId=(null===(j=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===j?void 0:j.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ze(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,wa.get())};p()}}return E.currentPopupAction=null,E})();const $r=new Map;class ba extends fr{constructor(h,p,w=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,w),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let w=$r.get(p.auth._key());if(!w){try{const ne=(yield function Ii(E,h){return Lr.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;w=()=>Promise.resolve(ne)}catch(j){w=()=>Promise.reject(j)}$r.set(p.auth._key(),w)}return p.bypassAuthState||$r.set(p.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(w,h);if("unknown"!==h.type){if(h.eventId){const j=yield w.auth._redirectUserForId(h.eventId);if(j)return w.user=j,p().call(w,h);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Lr(){return(Lr=(0,f.Z)(function*(E,h){const p=Jl(h),w=Po(E);if(!(yield w._isAvailable()))return!1;const j="true"===(yield w._get(p));return yield w._remove(p),j})).apply(this,arguments)}function No(E,h){return no.apply(this,arguments)}function no(){return(no=(0,f.Z)(function*(E,h){return Po(E)._set(Jl(h),"true")})).apply(this,arguments)}function Su(){$r.clear()}function pl(E,h){$r.set(E._key(),h)}function Po(E){return Ne(E._redirectPersistence)}function Jl(E){return ht("pendingRedirect",E.config.apiKey,E.name)}function Da(E,h,p){return function Mu(E,h,p){return ro.apply(this,arguments)}(E,h,p)}function ro(){return(ro=(0,f.Z)(function*(E,h,p){const w=xt(E);qe(E,h,Xr);const j=xo(w,p);return yield No(j,w),j._openRedirect(w,h,"signInViaRedirect")})).apply(this,arguments)}function xu(E,h,p){return function gl(E,h,p){return $.apply(this,arguments)}(E,h,p)}function $(){return($=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E);qe(w.auth,h,Xr);const j=xo(w.auth,p);yield No(j,w.auth);const ne=yield Mr(w);return j._openRedirect(w.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function te(E,h,p){return function U(E,h,p){return ve.apply(this,arguments)}(E,h,p)}function ve(){return(ve=(0,f.Z)(function*(E,h,p){const w=(0,m.m9)(E);qe(w.auth,h,Xr);const j=xo(w.auth,p);yield G(!1,w,h.providerId),yield No(j,w.auth);const ne=yield Mr(w);return j._openRedirect(w.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function Xe(E,h){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,f.Z)(function*(E,h){return yield xt(E)._initializationPromise,xn(E,h,!1)})).apply(this,arguments)}function xn(E,h){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,f.Z)(function*(E,h,p=!1){const w=xt(E),j=xo(w,h),$e=yield new ba(w,j,p).execute();return $e&&!p&&(delete $e.user._redirectEventId,yield w._persistUserIfCurrent($e.user),yield w._setRedirectUser(null,h)),$e})).apply(this,arguments)}function Mr(E){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,f.Z)(function*(E){const h=Wt(`${E.uid}:::`);return E._redirectEventId=h,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),h})).apply(this,arguments)}class Es{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(h,w)&&(p=!0,this.sendToConsumer(h,w),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function kr(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hr(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var w;if(h.error&&!Hr(h)){const j=(null===(w=h.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";p.onError(Ze(this.auth,j))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const w=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&w}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ri(h))}saveEventToCache(h){this.cachedEventUids.add(ri(h)),this.lastProcessedEventTime=Date.now()}}function ri(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function Hr({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===(null==h?void 0:h.code)}function zr(E){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,f.Z)(function*(E,h={}){return Kt(E,"GET","/v1/projects",h)})).apply(this,arguments)}const Ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Eo=/^https?/;function ko(){return(ko=(0,f.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield zr(E);for(const p of h)try{if(Ja(p))return}catch(w){}At(E,"unauthorized-domain")})).apply(this,arguments)}function Ja(E){const h=Le(),{protocol:p,hostname:w}=new URL(h);if(E.startsWith("chrome-extension://")){const $e=new URL(E);return""===$e.hostname&&""===w?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&$e.hostname===w}if(!Eo.test(p))return!1;if(Ca.test(E))return w===E;const j=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(w)}const io=new Tt(3e4,6e4);function ml(){const E=vt().___jsl;if(null==E?void 0:E.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let yl=null;function Xl(E){return yl=yl||function Ru(E){return new Promise((h,p)=>{var w,j,ne;function $e(){ml(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ml(),p(Ze(E,"network-request-failed"))},timeout:io.get()})}if(null===(j=null===(w=vt().gapi)||void 0===w?void 0:w.iframes)||void 0===j?void 0:j.Iframe)h(gapi.iframes.getContext());else{if(!(null===(ne=vt().gapi)||void 0===ne?void 0:ne.load)){const ot=ds("iframefcb");return vt()[ot]=()=>{gapi.load?$e():p(Ze(E,"network-request-failed"))},vo(`https://apis.google.com/js/api.js?onload=${ot}`).catch(cn=>p(cn))}$e()}}).catch(h=>{throw yl=null,h})}(E),yl}const ec=new Tt(5e3,15e3),tc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ta=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kc(E){const h=E.config;le(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?En(h,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,w={apiKey:h.apiKey,appName:E.name,v:W.SDK_VERSION},j=Ta.get(E.config.apiHost);j&&(w.eid=j);const ne=E._getFrameworks();return ne.length&&(w.fw=ne.join(",")),`${p}?${(0,m.xO)(w).slice(1)}`}function Nu(){return Nu=(0,f.Z)(function*(E){const h=yield Xl(E),p=vt().gapi;return le(p,E,"internal-error"),h.open({where:document.body,url:Kc(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tc,dontclear:!0},w=>new Promise(function(){var j=(0,f.Z)(function*(ne,$e){yield w.restyle({setHideOnLeave:!1});const ot=Ze(E,"network-request-failed"),cn=vt().setTimeout(()=>{$e(ot)},ec.get());function Rn(){vt().clearTimeout(cn),ne(w)}w.ping(Rn).then(Rn,()=>{$e(ot)})});return function(ne,$e){return j.apply(this,arguments)}}()))}),Nu.apply(this,arguments)}const vl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _l{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function El(E,h,p,w,j,ne){le(E.config.authDomain,E,"auth-domain-config-required"),le(E.config.apiKey,E,"invalid-api-key");const $e={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:w,v:W.SDK_VERSION,eventId:j};if(h instanceof Xr){h.setDefaultLanguage(E.languageCode),$e.providerId=h.providerId||"",(0,m.xb)(h.getCustomParameters())||($e.customParameters=JSON.stringify(h.getCustomParameters()));for(const[cn,Rn]of Object.entries(ne||{}))$e[cn]=Rn}if(h instanceof ei){const cn=h.getScopes().filter(Rn=>""!==Rn);cn.length>0&&($e.scopes=cn.join(","))}E.tenantId&&($e.tid=E.tenantId);const ot=$e;for(const cn of Object.keys(ot))void 0===ot[cn]&&delete ot[cn];return`${function Ks({config:E}){return E.emulator?En(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,m.xO)(ot).slice(1)}`}const Ma="webStorageSupport",Mi=class lh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=xn,this._overrideRedirectResult=pl}_openPopup(h,p,w,j){var ne=this;return(0,f.Z)(function*(){var $e;je(null===($e=ne.eventManagers[h._key()])||void 0===$e?void 0:$e.manager,"_initialize() not called before _openPopup()");const ot=El(h,p,w,Le(),j);return function Sa(E,h,p,w=500,j=600){const ne=Math.max((window.screen.availHeight-j)/2,0).toString(),$e=Math.max((window.screen.availWidth-w)/2,0).toString();let ot="";const cn=Object.assign(Object.assign({},vl),{width:w.toString(),height:j.toString(),top:ne,left:$e}),Rn=(0,m.z$)().toLowerCase();p&&(ot=rt(Rn)?"_blank":p),_e(Rn)&&(h=h||"http://localhost",cn.scrollbars="yes");const Zn=Object.entries(cn).reduce((si,[Io,ta])=>`${si}${Io}=${ta},`,"");if(function ir(E=(0,m.z$)()){var h;return wn(E)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(Rn)&&"_self"!==ot)return function Qc(E,h){const p=document.createElement("a");p.href=E,p.target=h;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(w)}(h||"",ot),new _l(null);const ii=window.open(h||"",ot,Zn);le(ii,E,"popup-blocked");try{ii.focus()}catch(si){}return new _l(ii)}(h,ot,Wt())})()}_openRedirect(h,p,w,j){var ne=this;return(0,f.Z)(function*(){return yield ne._originValidation(h),function _i(E){vt().location.href=E}(El(h,p,w,Le(),j)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:j,promise:ne}=this.eventManagers[p];return j?Promise.resolve(j):(je(ne,"If manager is not set, promise should be"),ne)}const w=this.initAndGetManager(h);return this.eventManagers[p]={promise:w},w.catch(()=>{delete this.eventManagers[p]}),w}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const w=yield function Yc(E){return Nu.apply(this,arguments)}(h),j=new Es(h);return w.register("authEvent",ne=>(le(null==ne?void 0:ne.authEvent,h,"invalid-auth-event"),{status:j.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:j},p.iframes[h._key()]=w,j})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Ma,{type:Ma},j=>{var ne;const $e=null===(ne=null==j?void 0:j[0])||void 0===ne?void 0:ne[Ma];void 0!==$e&&p(!!$e),At(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xo(E){return ko.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return An()||ae()||wn()}};class Pu extends class ic{constructor(h){this.factorId=h}_process(h,p,w){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,w);case"signin":return this._finalizeSignIn(h,p.credential);default:return Re("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Pu(h)}_finalizeEnroll(h,p,w){return function bu(E,h){return Kt(E,"POST","/v2/accounts/mfaEnrollment:finalize",on(E,h))}(h,{idToken:p,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Fn(E,h){return Kt(E,"POST","/v2/accounts/mfaSignIn:finalize",on(E,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lp=(()=>{class E{constructor(){}static assertion(p){return Pu._fromCredential(p)}}return E.FACTOR_ID="phone",E})();var sc="@firebase/auth";class Xc{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,f.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(w=>{var j;h((null===(j=w)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xa(E=(0,W.getApp)()){const h=(0,W._getProvider)(E,"auth");return h.isInitialized()?h.getImmediate():function Be(E,h){const p=(0,W._getProvider)(E,"auth");if(p.isInitialized()){const j=p.getImmediate(),ne=p.getOptions();if((0,m.vZ)(ne,null!=h?h:{}))return j;At(j,"already-initialized")}return p.initialize({options:h})}(E,{popupRedirectResolver:Mi,persistence:[Zt,yo,nn]})}!function ku(E){(0,W._registerComponent)(new we.wA("auth",(h,{options:p})=>{const w=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),{apiKey:ne,authDomain:$e}=w.options;return((ot,cn)=>{le(ne&&!ne.includes(":"),"invalid-api-key",{appName:ot.name}),le(!(null==$e?void 0:$e.includes(":")),"argument-error",{appName:ot.name});const Rn={apiKey:ne,authDomain:$e,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jn(E)},Zn=new Sr(ot,cn,Rn);return function He(E,h){const p=(null==h?void 0:h.persistence)||[],w=(Array.isArray(p)?p:[p]).map(Ne);(null==h?void 0:h.errorMap)&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(w,null==h?void 0:h.popupRedirectResolver)}(Zn,p),Zn})(w,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,w)=>{h.getProvider("auth-internal").initialize()})),(0,W._registerComponent)(new we.wA("auth-internal",h=>{const p=xt(h.getProvider("auth").getImmediate());return new Xc(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,W.registerVersion)(sc,"0.20.1",function ed(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,W.registerVersion)(sc,"0.20.1","esm2017")}("Browser")},5525:(kt,Ue,S)=>{S.d(Ue,{u7:()=>Bc,Jj:()=>nl,IX:()=>kg,my:()=>hi,xU:()=>vu,Lz:()=>aa,WA:()=>vt,F8:()=>Pc,$q:()=>Gl,W:()=>_u,EK:()=>P,PU:()=>em,l7:()=>eo,Ky:()=>Qt,Xb:()=>Fn,Cf:()=>Tr,K9:()=>ma,Me:()=>Ei,yq:()=>yo,Wi:()=>xg,ET:()=>By,Ab:()=>nh,vr:()=>Qf,Fc:()=>wy,hJ:()=>Kv,B$:()=>Yv,at:()=>Vf,oe:()=>jc,AK:()=>im,TF:()=>Dy,JU:()=>Ng,ST:()=>Ey,fH:()=>Iy,Ix:()=>Lg,Wu:()=>Ny,Lx:()=>Oy,qY:()=>Gi,GL:()=>ul,QT:()=>Bo,kl:()=>tm,Xk:()=>nm,PL:()=>Fy,UQ:()=>Ly,zN:()=>Vy,ad:()=>zd,nP:()=>om,b9:()=>Ry,vh:()=>qg,Pb:()=>Vg,L$:()=>Bf,cf:()=>rm,sc:()=>jy,Xo:()=>Wg,IO:()=>My,iE:()=>my,Eo:()=>Pg,i3:()=>$y,Bt:()=>sm,pl:()=>Uy,Ub:()=>cl,qK:()=>Hg,TQ:()=>Qg,e0:()=>Yg,r7:()=>Yf,Mx:()=>by,ar:()=>xy});var re,f=S(5861),m=S(9681),W=S(4859),ie=S(1877),V=S(2090),we="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ge={},Ie=Ie||{},Q=we||self;function ue(){}function xe(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tt="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function ce(i,e,n){return i.call.apply(i.bind,arguments)}function et(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ct(i,e,n){return(Ct=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:et).apply(null,arguments)}function At(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Ze(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,d){for(var g=Array(arguments.length-2),D=2;D<arguments.length;D++)g[D-2]=arguments[D];return e.prototype[u].apply(o,g)}}function Fe(){this.s=this.s,this.o=this.o}var Dt={};Fe.prototype.s=!1,Fe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Ge(i){return Object.prototype.hasOwnProperty.call(i,tt)&&i[tt]||(i[tt]=++pt)}(this);delete Dt[i]}},Fe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const le=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Re=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let d=0;d<o;d++)d in u&&e.call(n,u[d],d,i)};function de(i){return Array.prototype.concat.apply([],arguments)}function Ne(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function Be(i){return/^[\s\xa0]*$/.test(i)}var Pt,He=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function Le(i,e){return-1!=i.indexOf(e)}function gt(i,e){return i<e?-1:i>e?1:0}e:{var Bt=Q.navigator;if(Bt){var Ut=Bt.userAgent;if(Ut){Pt=Ut;break e}}Pt=""}function Tt(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function En(i){const e={};for(const n in i)e[n]=i[n];return e}var Nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tn(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let d=0;d<Nn.length;d++)n=Nn[d],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function qt(i){return qt[" "](i),i}qt[" "]=ue;var Yn,i,Kt=Le(Pt,"Opera"),pn=Le(Pt,"Trident")||Le(Pt,"MSIE"),Dn=Le(Pt,"Edge"),kn=Dn||pn,_n=Le(Pt,"Gecko")&&!(Le(Pt.toLowerCase(),"webkit")&&!Le(Pt,"Edge"))&&!(Le(Pt,"Trident")||Le(Pt,"MSIE"))&&!Le(Pt,"Edge"),Ln=Le(Pt.toLowerCase(),"webkit")&&!Le(Pt,"Edge");function qn(){var i=Q.document;return i?i.documentMode:void 0}e:{var tn="",Wn=(i=Pt,_n?/rv:([^\);]+)(\)|;)/.exec(i):Dn?/Edge\/([\d\.]+)/.exec(i):pn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Ln?/WebKit\/(\S+)/.exec(i):Kt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Wn&&(tn=Wn?Wn[1]:""),pn){var Ht=qn();if(null!=Ht&&Ht>parseFloat(tn)){Yn=String(Ht);break e}}Yn=tn}var Er={};var pr=Q.document&&pn&&(qn()||parseInt(Yn,10))||void 0,ut=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",ue,e),Q.removeEventListener("test",ue,e)}catch(n){}return i}();function ye(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function De(i,e){if(ye.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(_n){e:{try{qt(e.nodeName);var u=!0;break e}catch(d){}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:mt[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&De.Z.h.call(this)}}ye.prototype.h=function(){this.defaultPrevented=!0},Ze(De,ye);var mt={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ve="closure_listenable_"+(1e6*Math.random()|0),_t=0;function yt(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++_t,this.ca=this.fa=!1}function gn(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function hn(i){this.src=i,this.g={},this.h=0}function sn(i,e){var n=e.type;if(n in i.g){var d,o=i.g[n],u=le(o,e);(d=0<=u)&&Array.prototype.splice.call(o,u,1),d&&(gn(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function ar(i,e,n,o){for(var u=0;u<i.length;++u){var d=i[u];if(!d.ca&&d.listener==e&&d.capture==!!n&&d.ia==o)return u}return-1}hn.prototype.add=function(i,e,n,o,u){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var g=ar(i,e,o,u);return-1<g?(e=i[g],n||(e.fa=!1)):((e=new yt(e,this.src,d,!!o,u)).fa=n,i.push(e)),e};var Bn="closure_lm_"+(1e6*Math.random()|0),dn={};function se(i,e,n,o,u){if(o&&o.once)return k(i,e,n,o,u);if(Array.isArray(e)){for(var d=0;d<e.length;d++)se(i,e[d],n,o,u);return null}return n=Mt(n),i&&i[Ve]?i.N(e,n,Qe(o)?!!o.capture:!!o,u):me(i,e,n,!1,o,u)}function me(i,e,n,o,u,d){if(!e)throw Error("Invalid event type");var g=Qe(u)?!!u.capture:!!u,D=Ye(i);if(D||(i[Bn]=D=new hn(i)),(n=D.add(e,n,o,g,d)).proxy)return n;if(o=function J(){var e=Se;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ut||(u=g),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(ee(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function k(i,e,n,o,u){if(Array.isArray(e)){for(var d=0;d<e.length;d++)k(i,e[d],n,o,u);return null}return n=Mt(n),i&&i[Ve]?i.O(e,n,Qe(o)?!!o.capture:!!o,u):me(i,e,n,!0,o,u)}function N(i,e,n,o,u){if(Array.isArray(e))for(var d=0;d<e.length;d++)N(i,e[d],n,o,u);else o=Qe(o)?!!o.capture:!!o,n=Mt(n),i&&i[Ve]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=ar(d=i.g[e],n,o,u))&&(gn(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=Ye(i))&&(e=i.g[e.toString()],i=-1,e&&(i=ar(e,n,o,u)),(n=-1<i?e[i]:null)&&X(n))}function X(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ve])sn(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(ee(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=Ye(e))?(sn(n,i),0==n.h&&(n.src=null,e[Bn]=null)):gn(i)}}}function ee(i){return i in dn?dn[i]:dn[i]="on"+i}function Se(i,e){if(i.ca)i=!0;else{e=new De(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&X(i),i=n.call(o,e)}return i}function Ye(i){return(i=i[Bn])instanceof hn?i:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mt(i){return"function"==typeof i?i:(i[dt]||(i[dt]=function(e){return i.handleEvent(e)}),i[dt])}function ht(){Fe.call(this),this.i=new hn(this),this.P=this,this.I=null}function Lt(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new ye(e,i);else if(e instanceof ye)e.target=e.target||i;else{var u=e;Tn(e=new ye(o,i),u)}if(u=!0,n)for(var d=n.length-1;0<=d;d--){var g=e.g=n[d];u=ke(g,o,!0,e)&&u}if(u=ke(g=e.g=i,o,!0,e)&&u,u=ke(g,o,!1,e)&&u,n)for(d=0;d<n.length;d++)u=ke(g=e.g=n[d],o,!1,e)&&u}function ke(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,d=0;d<e.length;++d){var g=e[d];if(g&&!g.ca&&g.capture==n){var D=g.listener,L=g.ia||g.src;g.fa&&sn(i.i,g),u=!1!==D.call(L,o)&&u}}return u&&!o.defaultPrevented}Ze(ht,Fe),ht.prototype[Ve]=!0,ht.prototype.removeEventListener=function(i,e,n,o){N(this,i,e,n,o)},ht.prototype.M=function(){if(ht.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)gn(n[o]);delete i.g[e],i.h--}}this.I=null},ht.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},ht.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var _e=Q.JSON.stringify;function ae(){var i=On;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var wn,at=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new $t,i=>i.reset());class $t{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ln(i){Q.setTimeout(()=>{throw i},0)}function bn(i,e){wn||function tr(){var i=Q.Promise.resolve(void 0);wn=function(){i.then(An)}}(),ir||(wn(),ir=!0),On.add(i,e)}var ir=!1,On=new class rt{constructor(){this.h=this.g=null}add(e,n){const o=at.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function An(){for(var i;i=ae();){try{i.h.call(i.g)}catch(n){ln(n)}var e=at;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}ir=!1}function Ir(i,e){ht.call(this),this.h=i||1,this.g=e||Q,this.j=Ct(this.kb,this),this.l=Date.now()}function jn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Kr(i,e,n){if("function"==typeof i)n&&(i=Ct(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ct(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function Sr(i){i.g=Kr(()=>{i.g=null,i.i&&(i.i=!1,Sr(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Ze(Ir,ht),(re=Ir.prototype).da=!1,re.S=null,re.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lt(this,"tick"),this.da&&(jn(this),this.start()))}},re.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},re.M=function(){Ir.Z.M.call(this),jn(this),delete this.g};class xt extends Fe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Sr(this)}M(){super.M(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ee(i){Fe.call(this),this.h=i,this.g={}}Ze(Ee,Fe);var Ke=[];function Et(i,e,n,o){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var u=0;u<n.length;u++){var d=se(e,n[u],o||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function en(i){Tt(i.g,function(e,n){this.g.hasOwnProperty(n)&&X(e)},i),i.g={}}function Sn(){this.g=!0}function ur(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fn(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var d=u[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<u.length;g++)u[g]=""}}}return _e(n)}catch(D){return e}}(i,n)+(o?" "+o:"")})}Ee.prototype.M=function(){Ee.Z.M.call(this),en(this)},Ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Sn.prototype.Aa=function(){this.g=!1},Sn.prototype.info=function(){};var wr={},pi=null;function Yr(){return pi=pi||new ht}function ai(i){ye.call(this,wr.Ma,i)}function yr(i){const e=Yr();Lt(e,new ai(e,i))}function Or(i,e){ye.call(this,wr.STAT_EVENT,i),this.stat=e}function dr(i){const e=Yr();Lt(e,new Or(e,i))}function Pe(i,e){ye.call(this,wr.Na,i),this.size=e}function be(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}wr.Ma="serverreachability",Ze(ai,ye),wr.STAT_EVENT="statevent",Ze(Or,ye),wr.Na="timingevent",Ze(Pe,ye);var Je={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ft={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Rt(){}function Jn(){}Rt.prototype.h=null;var Pi,vr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Gn(){ye.call(this,"d")}function Dr(){ye.call(this,"c")}function Vr(){}function Ri(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new Ee(this),this.P=Ds,this.W=new Ir(i=kn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _r}function _r(){this.i=null,this.g="",this.h=!1}Ze(Gn,ye),Ze(Dr,ye),Ze(Vr,Rt),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},Pi=new Vr;var Ds=45e3,Vs={},Qr={};function ki(i,e,n){i.K=1,i.v=Li(ti(e)),i.s=n,i.U=!0,Di(i,null)}function Di(i,e){i.F=Date.now(),rs(i),i.A=ti(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),x(n.h,"t",o),i.C=0,n=i.l.H,i.h=new _r,i.g=ji(i.l,n?e:null,!i.s),0<i.O&&(i.L=new xt(Ct(i.Ia,i,i.g),i.O)),Et(i.V,i.g,"readystatechange",i.gb),e=i.H?En(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),yr(1),function $n(i,e,n,o,u,d){i.info(function(){if(i.g)if(d)for(var g="",D=d.split("&"),L=0;L<D.length;L++){var H=D[L].split("=");if(1<H.length){var pe=H[0];H=H[1];var Oe=pe.split("_");g=2<=Oe.length&&"type"==Oe[1]?g+(pe+"=")+H+"&":g+(pe+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+g})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ns(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Fi(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=fo(i,n),u==Qr){4==e&&(i.o=4,dr(14),o=!1),ur(i.j,i.m,null,"[Incomplete Response]");break}if(u==Vs){i.o=4,dr(15),ur(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}ur(i.j,i.m,u,null),Cs(i,u)}ns(i)&&u!=Qr&&u!=Vs&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,dr(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Js(e),e.L=!0,dr(11))):(ur(i.j,i.m,n,"[Invalid Chunked Response]"),gi(i),Oi(i))}function fo(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Qr:(n=Number(e.substring(n,o)),isNaN(n)?Vs:(o+=1)+n>e.length?Qr:(e=e.substr(o,n),i.C=o+n,e))}function rs(i){i.Y=Date.now()+i.P,Gs(i,i.P)}function Gs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=be(Ct(i.eb,i),e)}function is(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function Oi(i){0==i.l.G||i.I||ca(i.l,i)}function gi(i){is(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,jn(i.W),en(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Cs(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||K(n.i,i)))if(n.I=i.N,!i.J&&K(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch(H){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(n.u)n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=be(Ct(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<i.F))break e;mo(n),la(n)}Qs(n),dr(18)}if(1>=or(n.i)&&n.ka){try{n.ka()}catch(H){}n.ka=void 0}}else Ms(n,11)}else if((i.J||n.g==i)&&mo(n),!Be(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let H=u[e];if(n.U=H[0],H=H[1],2==n.G)if("c"==H[0]){n.J=H[1],n.la=H[2];const pe=H[3];null!=pe&&(n.ma=pe,n.h.info("VER="+n.ma));const Oe=H[4];null!=Oe&&(n.za=Oe,n.h.info("SVER="+n.za));const nt=H[5];null!=nt&&"number"==typeof nt&&0<nt&&(n.K=o=1.5*nt,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Nt=i.g;if(Nt){const Ft=Nt.g?Nt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ft){var d=o.i;!d.g&&(Le(Ft,"spdy")||Le(Ft,"quic")||Le(Ft,"h2"))&&(d.j=d.l,d.g=new Set,d.h&&(Y(d,d.h),d.h=null))}if(o.D){const vn=Nt.g?Nt.g.getResponseHeader("X-HTTP-Session-Id"):null;vn&&(o.sa=vn,lr(o.F,o.D,vn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var g=i;if((o=n).oa=ha(o,o.H?o.la:null,o.W),g.J){Ce(o.i,g);var D=g,L=o.K;L&&D.setTimeout(L),D.B&&(is(D),rs(D)),o.g=g}else go(o);0<n.l.length&&Co(n)}else"stop"!=H[0]&&"close"!=H[0]||Ms(n,7);else 3==n.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?Ms(n,7):Bi(n):"noop"!=H[0]&&n.j&&n.j.wa(H),n.A=0)}yr(4)}catch(H){}}function Jr(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(xe(i)||"string"==typeof i)Re(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(xe(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function Ts(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(xe(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var d=0;d<u;d++)e.call(void 0,o[d],n&&n[d],i)}}function ss(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof ss)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function Wi(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Xr(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Xr(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Xr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(re=Ri.prototype).setTimeout=function(i){this.P=i},re.gb=function(i){i=i.target;const e=this.L;e&&3==As(i)?e.l():this.Ia(i)},re.Ia=function(i){try{if(i==this.g)e:{const pe=As(this.g);var e=this.g.Da();const Oe=this.g.ba();if(!(3>pe)&&(3!=pe||kn||this.g&&(this.h.h||this.g.ga()||Do(this.g)))){this.I||4!=pe||7==e||yr(8==e||0>=Oe?3:2),is(this);var n=this.g.ba();this.N=n;t:if(ns(this)){var o=Do(this.g);i="";var u=o.length,d=4==As(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){gi(this),Oi(this);var g="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:d&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,g=this.h.g}else g=this.g.ga();if(this.i=200==n,function Mn(i,e,n,o,u,d,g){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,pe,n),this.i){if(this.$&&!this.J){t:{if(this.g){var D,L=this.g;if((D=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Be(D)){var H=D;break t}}H=null}if(!(n=H)){this.i=!1,this.o=3,dr(12),gi(this),Oi(this);break e}ur(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cs(this,n)}this.U?(Fi(this,pe,g),kn&&this.i&&3==pe&&(Et(this.V,this.W,"tick",this.fb),this.W.start())):(ur(this.j,this.m,g,null),Cs(this,g)),4==pe&&gi(this),this.i&&!this.I&&(4==pe?ca(this.l,this):(this.i=!1,rs(this)))}else 400==n&&0<g.indexOf("Unknown SID")?(this.o=3,dr(12)):(this.o=0,dr(13)),gi(this),Oi(this)}}}catch(pe){}},re.fb=function(){if(this.g){var i=As(this.g),e=this.g.ga();this.C<e.length&&(is(this),Fi(this,i,e),this.i&&4!=i&&rs(this))}},re.cancel=function(){this.I=!0,gi(this)},re.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function xr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(yr(3),dr(17)),gi(this),this.o=2,Oi(this)):Gs(this,this.Y-i)},(re=ss.prototype).R=function(){Wi(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},re.T=function(){return Wi(this),this.g.concat()},re.get=function(i,e){return Xr(this.h,i)?this.h[i]:e},re.set=function(i,e){Xr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},re.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],d=this.get(u);i.call(e,d,u,this)}};var ei=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof mi){this.g=void 0!==e?e:i.g,qi(this,i.j),this.s=i.s,ui(this,i.i),Ci(this,i.m),this.l=i.l,e=i.h;var n=new Yi;n.i=e.i,e.g&&(n.g=new ss(e.g),n.h=e.h),Zr(this,n),this.o=i.o}else i&&(n=String(i).match(ei))?(this.g=!!e,qi(this,n[1]||"",!0),this.s=Cr(n[2]||""),ui(this,n[3]||"",!0),Ci(this,n[4]),this.l=Cr(n[5]||"",!0),Zr(this,n[6]||"",!0),this.o=Cr(n[7]||"")):(this.g=!!e,this.h=new Yi(null,this.g))}function ti(i){return new mi(i)}function qi(i,e,n){i.j=n?Cr(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function ui(i,e,n){i.i=n?Cr(e,!0):e}function Ci(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Zr(i,e,n){e instanceof Yi?(i.h=e,function Ae(i,e){e&&!i.j&&(nr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(R(this,o),x(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=ni(e,yi)),i.h=new Yi(e,i.g))}function lr(i,e,n){i.h.set(e,n)}function Li(i){return lr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Cr(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ni(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ms),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ms(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}mi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ni(e,Ki,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ni(e,Ki,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(ni(n,"/"==n.charAt(0)?os:Ti,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",ni(n,Ni)),i.join("")};var Ki=/[#\/\?@]/g,Ti=/[#\?:]/g,os=/[#\?]/g,yi=/[#\?@]/g,Ni=/#/g;function Yi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function nr(i){i.g||(i.g=new ss,i.h=0,i.i&&function Zi(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var d=i[n].substring(0,o);u=i[n].substring(o+1)}else d=i[n];e(d,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function R(i,e){nr(i),e=q(i,e),Xr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Xr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Wi(i)))}function G(i,e){return nr(i),e=q(i,e),Xr(i.g.h,e)}function x(i,e,n){R(i,e),0<n.length&&(i.i=null,i.g.set(q(i,e),Ne(n)),i.h+=n.length)}function q(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function wt(i){this.l=i||un,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ea&&Q.g.Ea()&&Q.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(re=Yi.prototype).add=function(i,e){nr(this),this.i=null,i=q(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},re.forEach=function(i,e){nr(this),this.g.forEach(function(n,o){Re(n,function(u){i.call(e,u,o,this)},this)},this)},re.T=function(){nr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],d=0;d<u.length;d++)n.push(e[o]);return n},re.R=function(i){nr(this);var e=[];if("string"==typeof i)G(this,i)&&(e=de(e,this.g.get(q(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=de(e,i[n])}return e},re.set=function(i,e){return nr(this),this.i=null,G(this,i=q(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},re.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},re.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var d=0;d<o.length;d++){var g=u;""!==o[d]&&(g+="="+encodeURIComponent(String(o[d]))),i.push(g)}}return this.i=i.join("&")};var un=10;function sr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function or(i){return i.h?1:i.g?i.g.size:0}function K(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Y(i,e){i.g?i.g.add(e):i.h=e}function Ce(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ze(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Ne(i.i)}function It(){}function jt(){this.g=new It}function mn(i,e,n){const o=n||"";try{Jr(i,function(u,d){let g=u;Qe(u)&&(g=_e(u)),e.push(o+d+"="+encodeURIComponent(g))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function hr(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(d){}}function gr(i){this.l=i.$b||null,this.j=i.ib||!1}function mr(i,e){ht.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Vn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wt.prototype.cancel=function(){if(this.i=ze(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},It.prototype.stringify=function(i){return Q.JSON.stringify(i,void 0)},It.prototype.parse=function(i){return Q.JSON.parse(i,void 0)},Ze(gr,Rt),gr.prototype.g=function(){return new mr(this.l,this.j)},gr.prototype.i=function(i){return function(){return i}}({}),Ze(mr,ht);var Vn=0;function O(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function A(i){i.readyState=4,i.l=null,i.j=null,i.A=null,T(i)}function T(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(re=mr.prototype).open=function(i,e){if(this.readyState!=Vn)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,T(this)},re.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Q).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,A(this)),this.readyState=Vn},re.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,T(this)),this.g&&(this.readyState=3,T(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Q.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;O(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},re.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?A(this):T(this),3==this.readyState&&O(this)}},re.Ua=function(i){this.g&&(this.response=this.responseText=i,A(this))},re.Ta=function(i){this.g&&(this.response=i,A(this))},re.ha=function(){this.g&&A(this)},re.setRequestHeader=function(i,e){this.v.append(i,e)},re.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},re.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(mr.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Z=Q.JSON.parse;function he(i){ht.call(this),this.headers=new ss,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=St,this.K=this.L=!1}Ze(he,ht);var St="",Xn=/^https?$/i,rr=["POST","PUT"];function Ui(i){return"content-type"==i.toLowerCase()}function Ai(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,as(i),ua(i)}function as(i){i.D||(i.D=!0,Lt(i,"complete"),Lt(i,"error"))}function Hs(i){if(i.h&&void 0!==Ie&&(!i.C[1]||4!=As(i)||2!=i.ba()))if(i.v&&4==As(i))Kr(i.Fa,0,i);else if(Lt(i,"readystatechange"),4==As(i)){i.h=!1;try{const D=i.ba();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===D){var u=String(i.H).match(ei)[1]||null;if(!u&&Q.self&&Q.self.location){var d=Q.self.location.protocol;u=d.substr(0,d.length-1)}o=!Xn.test(u?u.toLowerCase():"")}n=o}if(n)Lt(i,"complete"),Lt(i,"success");else{i.m=6;try{var g=2<As(i)?i.g.statusText:""}catch(L){g=""}i.j=g+" ["+i.ba()+"]",as(i)}}finally{ua(i)}}}function ua(i,e){if(i.g){za(i);const n=i.g,o=i.C[0]?ue:null;i.g=null,i.C=null,e||Lt(i,"ready");try{n.onreadystatechange=o}catch(u){}}}function za(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function As(i){return i.g?i.g.readyState:0}function Do(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case St:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function ys(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function vi(i){let e="";return Tt(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):lr(i,e,n))}function Ss(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function zs(i){this.za=0,this.l=[],this.h=new Sn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ss("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ss("baseRetryDelayMs",5e3,i),this.$a=Ss("retryDelaySeedMs",1e4,i),this.Ya=Ss("forwardChannelMaxRetries",2,i),this.ra=Ss("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new wt(i&&i.concurrentRequestLimit),this.Ca=new jt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Bi(i){if($o(i),3==i.G){var e=i.V++,n=ti(i.F);lr(n,"SID",i.J),lr(n,"RID",e),lr(n,"TYPE","terminate"),po(i,n),(e=new Ri(i,i.h,e,void 0)).K=2,e.v=Li(ti(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon&&(n=Q.navigator.sendBeacon(e.v.toString(),"")),!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=ji(e.l,null),e.g.ea(e.v)),e.F=Date.now(),rs(e)}Iu(i)}function la(i){i.g&&(Js(i),i.g.cancel(),i.g=null)}function $o(i){la(i),i.u&&(Q.clearTimeout(i.u),i.u=null),mo(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function Wa(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Co(i)}function Co(i){sr(i.i)||i.m||(i.m=!0,bn(i.Ha,i),i.C=0)}function Us(i,e){var n;n=e?e.m:i.V++;const o=ti(i.F);lr(o,"SID",i.J),lr(o,"RID",n),lr(o,"AID",i.U),po(i,o),i.o&&i.s&&ys(o,i.o,i.s),n=new Ri(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=Ho(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),Y(i.i,n),ki(n,o,e)}function po(i,e){i.j&&Jr({},function(n,o){lr(e,o,n)})}function Ho(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Ct(i.j.Oa,i.j,i):null;e:{var u=i.l;let d=-1;for(;;){const g=["count="+n];-1==d?0<n?(d=u[0].h,g.push("ofs="+d)):d=0:g.push("ofs="+d);let D=!0;for(let L=0;L<n;L++){let H=u[L].h;const pe=u[L].g;if(H-=d,0>H)d=Math.max(0,u[L].h-100),D=!1;else try{mn(pe,g,"req"+H+"_")}catch(Oe){o&&o(pe)}}if(D){o=g.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function go(i){i.g||i.u||(i.Y=1,bn(i.Ga,i),i.A=0)}function Qs(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=be(Ct(i.Ga,i),da(i,i.A)),i.A++,0))}function Js(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Ws(i){i.g=new Ri(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ti(i.oa);lr(e,"RID","rpc"),lr(e,"SID",i.J),lr(e,"CI",i.N?"0":"1"),lr(e,"AID",i.U),po(i,e),lr(e,"TYPE","xmlhttp"),i.o&&i.s&&ys(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Li(ti(e)),n.s=null,n.U=!0,Di(n,i)}function mo(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function ca(i,e){var n=null;if(i.g==e){mo(i),Js(i),i.g=null;var o=2}else{if(!K(i.i,e))return;n=e.D,Ce(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Lt(o=Yr(),new Pe(o,n,e,u)),Co(i)}else go(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Go(i,e){return!(or(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=be(Ct(i.Ha,i,e),da(i,i.C)),i.C++,0)))}(i,e)||2==o&&Qs(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Ms(i,5);break;case 4:Ms(i,10);break;case 3:Ms(i,6);break;default:Ms(i,2)}}function da(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Ms(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Ct(i.jb,i);n||(n=new mi("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||qi(n,"https"),Li(n)),function Yt(i,e){const n=new Sn;if(Q.Image){const o=new Image;o.onload=At(hr,n,o,"TestLoadImage: loaded",!0,e),o.onerror=At(hr,n,o,"TestLoadImage: error",!1,e),o.onabort=At(hr,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=At(hr,n,o,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else dr(2);i.G=0,i.j&&i.j.va(e),Iu(i),$o(i)}function Iu(i){i.G=0,i.I=-1,i.j&&((0!=ze(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ne(i.l),i.l.length=0),i.j.ua())}function ha(i,e,n){let o=function gs(i){return i instanceof mi?ti(i):new mi(i,void 0)}(n);if(""!=o.i)e&&ui(o,e+"."+o.i),Ci(o,o.m);else{const u=Q.location;o=function Gr(i,e,n,o){var u=new mi(null,void 0);return i&&qi(u,i),e&&ui(u,e),n&&Ci(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&Tt(i.aa,function(u,d){lr(o,d,u)}),n=i.sa,(e=i.D)&&n&&lr(o,e,n),lr(o,"VER",i.ma),po(i,o),o}function ji(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new he(n&&i.Ba&&!i.qa?new gr({ib:!0}):i.qa)).L=i.H,e}function Xs(){}function Ur(){if(pn&&!(10<=Number(pr)))throw Error("Environmental error: no available transport.")}function Qi(i,e){ht.call(this),this.g=new zs(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Be(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Be(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new zo(this)}function wu(i){Gn.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function ll(){Dr.call(this),this.status=1}function zo(i){this.g=i}(re=he.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Pi.g(),this.C=function zt(i){return i.h||(i.h=i.i())}(this.u?this.u:Pi),this.g.onreadystatechange=Ct(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void Ai(this,d)}i=n||"";const u=new ss(this.headers);o&&Jr(o,function(d,g){u.set(g,d)}),o=function je(i){e:{var e=Ui;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=Q.FormData&&i instanceof Q.FormData,!(0<=le(rr,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{za(this),0<this.B&&((this.K=function Vi(i){return pn&&function Cn(){return function on(i){var e=Er;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=He(String(Yn)).split("."),n=He("9").split("."),o=Math.max(e.length,n.length);for(let g=0;0==i&&g<o;g++){var u=e[g]||"",d=n[g]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=gt(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||gt(0==u[2].length,0==d[2].length)||gt(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ct(this.pa,this)):this.A=Kr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){Ai(this,d)}},re.pa=function(){void 0!==Ie&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lt(this,"timeout"),this.abort(8))},re.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Lt(this,"complete"),Lt(this,"abort"),ua(this))},re.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ua(this,!0)),he.Z.M.call(this)},re.Fa=function(){this.s||(this.F||this.v||this.l?Hs(this):this.cb())},re.cb=function(){Hs(this)},re.ba=function(){try{return 2<As(this)?this.g.status:-1}catch(i){return-1}},re.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},re.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Z(e)}},re.Da=function(){return this.m},re.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(re=zs.prototype).ma=8,re.G=1,re.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},re.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new Ri(this,this.h,i,void 0);let d=this.s;if(this.P&&(d?(d=En(d),Tn(d,this.P)):d=this.P),null===this.o&&(u.H=d),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Ho(this,u,e),lr(n=ti(this.F),"RID",i),lr(n,"CVER",22),this.D&&lr(n,"X-HTTP-Session-Id",this.D),po(this,n),this.o&&d&&ys(n,this.o,d),Y(this.i,u),this.Ra&&lr(n,"TYPE","init"),this.ja?(lr(n,"$req",e),lr(n,"SID","null"),u.$=!0,ki(u,n,null)):ki(u,n,e),this.G=2}}else 3==this.G&&(i?Us(this,i):0==this.l.length||sr(this.i)||Us(this))},re.Ga=function(){if(this.u=null,Ws(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=be(Ct(this.bb,this),i)}},re.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dr(10),la(this),Ws(this))},re.ab=function(){null!=this.v&&(this.v=null,la(this),Qs(this),dr(19))},re.jb=function(i){i?(this.h.info("Successfully pinged google.com"),dr(2)):(this.h.info("Failed to ping google.com"),dr(1))},(re=Xs.prototype).xa=function(){},re.wa=function(){},re.va=function(){},re.ua=function(){},re.Oa=function(){},Ur.prototype.g=function(i,e){return new Qi(i,e)},Ze(Qi,ht),Qi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),bn(Ct(i.hb,i,e))),dr(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=ha(i,null,i.W),Co(i)},Qi.prototype.close=function(){Bi(this.g)},Qi.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Wa(this.g,e)}else this.v?((e={}).__data__=_e(i),Wa(this.g,e)):Wa(this.g,i)},Qi.prototype.M=function(){this.g.j=null,delete this.j,Bi(this.g),delete this.g,Qi.Z.M.call(this)},Ze(wu,Gn),Ze(ll,Dr),Ze(zo,Xs),zo.prototype.xa=function(){Lt(this.g,"a")},zo.prototype.wa=function(i){Lt(this.g,new wu(i))},zo.prototype.va=function(i){Lt(this.g,new ll(i))},zo.prototype.ua=function(){Lt(this.g,"b")},Ur.prototype.createWebChannel=Ur.prototype.g,Qi.prototype.send=Qi.prototype.u,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,Je.NO_ERROR=0,Je.TIMEOUT=8,Je.HTTP_ERROR=6,ft.COMPLETE="complete",Jn.EventType=vr,vr.OPEN="a",vr.CLOSE="b",vr.ERROR="c",vr.MESSAGE="d",ht.prototype.listen=ht.prototype.N,he.prototype.listenOnce=he.prototype.O,he.prototype.getLastError=he.prototype.La,he.prototype.getLastErrorCode=he.prototype.Da,he.prototype.getStatus=he.prototype.ba,he.prototype.getResponseJson=he.prototype.Qa,he.prototype.getResponseText=he.prototype.ga,he.prototype.send=he.prototype.ea;var zl=ge.createWebChannelTransport=function(){return new Ur},fa=ge.getStatEventTarget=function(){return Yr()},us=ge.ErrorCode=Je,To=ge.EventType=ft,pa=ge.Event=wr,Si=ge.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},bu=ge.FetchXmlHttpFactory=gr,Wo=ge.WebChannel=Jn,ls=ge.XhrIo=he;const xs="@firebase/firestore";class qr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qr.UNAUTHENTICATED=new qr(null),qr.GOOGLE_CREDENTIALS=new qr("google-credentials-uid"),qr.FIRST_PARTY=new qr("first-party-uid"),qr.MOCK_USER=new qr("mock-user");let Bs="9.8.0";const cs=new ie.Yd("@firebase/firestore");function Ao(){return cs.logLevel}function cl(i){cs.setLogLevel(i)}function Vt(i,...e){if(cs.logLevel<=ie.in.DEBUG){const n=e.map(ga);cs.debug(`Firestore (${Bs}): ${i}`,...n)}}function li(i,...e){if(cs.logLevel<=ie.in.ERROR){const n=e.map(ga);cs.error(`Firestore (${Bs}): ${i}`,...n)}}function yo(i,...e){if(cs.logLevel<=ie.in.WARN){const n=e.map(ga);cs.warn(`Firestore (${Bs}): ${i}`,...n)}}function ga(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(n){return i}}function nn(i="Unexpected state"){const e=`FIRESTORE (${Bs}) INTERNAL ASSERTION FAILED: `+i;throw li(e),new Error(e)}function Pn(i,e){i||nn()}function ma(i,e){i||nn()}function Wt(i,e){return i}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends V.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Zs{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ya{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(qr.UNAUTHENTICATED))}shutdown(){}}class So{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wl{constructor(e){this.t=e,this.currentUser=qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const d=H=>this.i!==u?(u=this.i,n(H)):Promise.resolve();let g=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new _i,e.enqueueRetryable(()=>d(this.currentUser))};const D=()=>{const H=g;e.enqueueRetryable((0,f.Z)(function*(){yield H.promise,yield d(o.currentUser)}))},L=H=>{Vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),D()};this.t.onInit(H=>L(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?L(H):(Vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),g.resolve(),g=new _i)}},0),D()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Pn("string"==typeof o.accessToken),new Zs(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Pn(null===e||"string"==typeof e),new qr(e)}}class Du{constructor(e,n,o){this.type="FirstParty",this.user=qr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Zo{constructor(e,n,o){this.h=e,this.l=n,this.m=o}getToken(){return Promise.resolve(new Du(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Cu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class va{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,n){const o=d=>{null!=d.error&&Vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const g=d.token!==this.p;return this.p=d.token,Vt("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>o(d))};const u=d=>{Vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.g.onInit(d=>u(d)),setTimeout(()=>{if(!this.appCheck){const d=this.g.getImmediate({optional:!0});d?u(d):Vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Pn("string"==typeof n.token),this.p=n.token,new Cu(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ci{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.I(o),this.T=o=>n.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function qo(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}ci.A=-1;class b{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=qo(40);for(let d=0;d<u.length;++d)o.length<20&&u[d]<n&&(o+=e.charAt(u[d]%e.length))}return o}}function _(i,e){return i<e?-1:i>e?1:0}function v(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function M(i){return i+"\0"}class P{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return P.fromMillis(Date.now())}static fromDate(e){return P.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new P(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?_(this.nanoseconds,e.nanoseconds):_(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new P(0,0))}static max(){return new B(new P(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function fe(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Te(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function lt(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Jt{constructor(e,n,o){void 0===n?n=0:n>e.length&&nn(),void 0===o?o=e.length-n:o>e.length-n&&nn(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Jt.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jt?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const d=e.get(u),g=n.get(u);if(d<g)return-1;if(d>g)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Zt extends Jt{construct(e,n,o){return new Zt(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Zt(n)}static emptyPath(){return new Zt([])}}const yn=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fn extends Jt{construct(e,n,o){return new Fn(e,n,o)}static isValidIdentifier(e){return yn.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Fn(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const d=()=>{if(0===o.length)throw new vt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let g=!1;for(;u<e.length;){const D=e[u];if("\\"===D){if(u+1===e.length)throw new vt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const L=e[u+1];if("\\"!==L&&"."!==L&&"`"!==L)throw new vt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=L,u+=2}else"`"===D?(g=!g,u++):"."!==D||g?(o+=D,u++):(d(),u++)}if(d(),g)throw new vt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Fn(n)}static emptyPath(){return new Fn([])}}class cr{constructor(e){this.fields=e,e.sort(Fn.comparator)}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return v(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function Ei(){return"undefined"!=typeof atob}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Nr(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Nr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const vo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(i){if(Pn(!!i),"string"==typeof i){let e=0;const n=vo.exec(i);if(Pn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:br(i.seconds),nanos:br(i.nanos)}}function br(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function vs(i){return"string"==typeof i?Nr.fromBase64String(i):Nr.fromUint8Array(i)}function qs(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dl(i){const e=i.mapValue.fields.__previous_value__;return qs(e)?dl(e):e}function Ko(i){const e=ds(i.mapValue.fields.__local_write_time__.timestampValue);return new P(e.seconds,e.nanos)}class _a{constructor(e,n,o,u,d,g,D,L){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=D,this.useFetchStreams=L}}class eo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new eo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof eo&&e.projectId===this.projectId&&e.database===this.database}}function Za(i){return null==i}function Br(i){return 0===i&&1/i==-1/0}function Zl(i){return"number"==typeof i&&Number.isInteger(i)&&!Br(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class Qt{constructor(e){this.path=e}static fromPath(e){return new Qt(Zt.fromString(e))}static fromName(e){return new Qt(Zt.fromString(e).popFirst(5))}static empty(){return new Qt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Zt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qt(new Zt(e.slice()))}}const Yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Tu={nullValue:"NULL_VALUE"};function Ea(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qs(i)?4:Ia(i)?9007199254740991:10:nn()}function _o(i,e){if(i===e)return!0;const n=Ea(i);if(n!==Ea(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ko(i).isEqual(Ko(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ds(o.timestampValue),g=ds(u.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,vs(i.bytesValue).isEqual(vs(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return br(o.geoPointValue.latitude)===br(u.geoPointValue.latitude)&&br(o.geoPointValue.longitude)===br(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return br(o.integerValue)===br(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=br(o.doubleValue),g=br(u.doubleValue);return d===g?Br(d)===Br(g):isNaN(d)&&isNaN(g)}return!1}(i,e);case 9:return v(i.arrayValue.values||[],e.arrayValue.values||[],_o);case 10:return function(o,u){const d=o.mapValue.fields||{},g=u.mapValue.fields||{};if(fe(d)!==fe(g))return!1;for(const D in d)if(d.hasOwnProperty(D)&&(void 0===g[D]||!_o(d[D],g[D])))return!1;return!0}(i,e);default:return nn()}var u}function Au(i,e){return void 0!==(i.values||[]).find(n=>_o(n,e))}function _s(i,e){if(i===e)return 0;const n=Ea(i),o=Ea(e);if(n!==o)return _(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return _(i.booleanValue,e.booleanValue);case 2:return function(u,d){const g=br(u.integerValue||u.doubleValue),D=br(d.integerValue||d.doubleValue);return g<D?-1:g>D?1:g===D?0:isNaN(g)?isNaN(D)?0:-1:1}(i,e);case 3:return Wc(i.timestampValue,e.timestampValue);case 4:return Wc(Ko(i),Ko(e));case 5:return _(i.stringValue,e.stringValue);case 6:return function(u,d){const g=vs(u),D=vs(d);return g.compareTo(D)}(i.bytesValue,e.bytesValue);case 7:return function(u,d){const g=u.split("/"),D=d.split("/");for(let L=0;L<g.length&&L<D.length;L++){const H=_(g[L],D[L]);if(0!==H)return H}return _(g.length,D.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,d){const g=_(br(u.latitude),br(d.latitude));return 0!==g?g:_(br(u.longitude),br(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,d){const g=u.values||[],D=d.values||[];for(let L=0;L<g.length&&L<D.length;++L){const H=_s(g[L],D[L]);if(H)return H}return _(g.length,D.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,d){if(u===Yo.mapValue&&d===Yo.mapValue)return 0;if(u===Yo.mapValue)return 1;if(d===Yo.mapValue)return-1;const g=u.fields||{},D=Object.keys(g),L=d.fields||{},H=Object.keys(L);D.sort(),H.sort();for(let pe=0;pe<D.length&&pe<H.length;++pe){const Oe=_(D[pe],H[pe]);if(0!==Oe)return Oe;const nt=_s(g[D[pe]],L[H[pe]]);if(0!==nt)return nt}return _(D.length,H.length)}(i.mapValue,e.mapValue);default:throw nn()}}function Wc(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _(i,e);const n=ds(i),o=ds(e),u=_(n.seconds,o.seconds);return 0!==u?u:_(n.nanos,o.nanos)}function jr(i){return qa(i)}function qa(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=ds(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?vs(i.bytesValue).toBase64():"referenceValue"in i?Qt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",d=!0;for(const g of o.values||[])d?d=!1:u+=",",u+=qa(g);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let d="{",g=!0;for(const D of u)g?g=!1:d+=",",d+=`${D}:${qa(o.fields[D])}`;return d+"}"}(i.mapValue):nn();var e}function Rs(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ql(i){return!!i&&"integerValue"in i}function Qo(i){return!!i&&"arrayValue"in i}function Ji(i){return!!i&&"nullValue"in i}function Os(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ka(i){return!!i&&"mapValue"in i}function to(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Te(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=to(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=to(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ia(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function xo(i){return"nullValue"in i?Tu:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Rs(eo.empty(),Qt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:nn()}function hl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Rs(eo.empty(),Qt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Yo:nn()}function Kl(i,e){const n=_s(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Zc(i,e){const n=_s(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class Xi{constructor(e){this.value=e}static empty(){return new Xi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!Ka(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(n)}setAll(e){let n=Fn.emptyPath(),o={},u=[];e.forEach((g,D)=>{if(!n.isImmediateParentOf(D)){const L=this.getFieldsMap(n);this.applyChanges(L,o,u),o={},u=[],n=D.popLast()}g?o[D.lastSegment()]=to(g):u.push(D.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,o,u)}delete(e){const n=this.field(e.popLast());Ka(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];Ka(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){Te(n,(u,d)=>e[u]=d);for(const u of o)delete e[u]}clone(){return new Xi(to(this.value))}}function Ya(i){const e=[];return Te(i.fields,(n,o)=>{const u=new Fn([n]);if(Ka(o)){const d=Ya(o.mapValue).fields;if(0===d.length)e.push(u);else for(const g of d)e.push(u.child(g))}else e.push(u)}),new cr(e)}class fr{constructor(e,n,o,u,d,g){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new fr(e,0,B.min(),B.min(),Xi.empty(),0)}static newFoundDocument(e,n,o){return new fr(e,1,n,B.min(),o,0)}static newNoDocument(e,n){return new fr(e,2,n,B.min(),Xi.empty(),0)}static newUnknownDocument(e,n){return new fr(e,3,n,B.min(),Xi.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wa{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function Ro(i){return i.fields.find(e=>2===e.kind)}function Oo(i){return i.fields.filter(e=>2!==e.kind)}wa.UNKNOWN_ID=-1;class Qa{constructor(e,n){this.fieldPath=e,this.kind=n}}class Jo{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Jo(0,Ns.min())}}function Yl(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=B.fromTimestamp(1e9===o?new P(n+1,0):new P(n,o));return new Ns(u,Qt.empty(),e)}function fl(i){return new Ns(i.readTime,i.key,-1)}class Ns{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Ns(B.min(),Qt.empty(),-1)}static max(){return new Ns(B.max(),Qt.empty(),-1)}}function Ql(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qt.comparator(i.documentKey,e.documentKey),0!==n?n:_(i.largestBatchId,e.largestBatchId))}class $r{constructor(e,n){this.comparator=e,this.root=n||Ii.EMPTY}insert(e,n){return new $r(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ii.BLACK,null,null))}remove(e){return new $r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ii.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ba(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ba(this.root,e,this.comparator,!1)}getReverseIterator(){return new ba(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ba(this.root,e,this.comparator,!0)}}class ba{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?o(e.key,n):1,n&&u&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ii{constructor(e,n,o,u,d){this.key=e,this.value=n,this.color=null!=o?o:Ii.RED,this.left=null!=u?u:Ii.EMPTY,this.right=null!=d?d:Ii.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,d){return new Ii(null!=e?e:this.key,null!=n?n:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const d=o(e,u.key);return u=d<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===d?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ii.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Ii.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ii.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ii.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}Ii.EMPTY=null,Ii.RED=!0,Ii.BLACK=!1,Ii.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Ii(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lr{constructor(e){this.comparator=e,this.data=new $r(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new No(this.data.getIterator())}getIteratorFrom(e){return new No(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof Lr)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(0!==this.comparator(u,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Lr(this.comparator);return n.data=e,n}}class No{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function no(i){return i.hasNext()?i.getNext():void 0}class Su{constructor(e,n=null,o=[],u=[],d=null,g=null,D=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=d,this.startAt=g,this.endAt=D,this.P=null}}function pl(i,e=null,n=[],o=[],u=null,d=null,g=null){return new Su(i,e,n,o,u,d,g)}function Po(i){const e=Wt(i);if(null===e.P){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+jr(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Za(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>jr(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>jr(o)).join(",")),e.P=n}return e.P}function Da(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Es(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!_o(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Hr(i.startAt,e.startAt)&&Hr(i.endAt,e.endAt)}function Mu(i){return Qt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ro(i,e){return i.filters.filter(n=>n instanceof $&&n.field.isEqual(e))}function xu(i,e,n){let o=Tu,u=!0;for(const d of ro(i,e)){let g=Tu,D=!0;switch(d.op){case"<":case"<=":g=xo(d.value);break;case"==":case"in":case">=":g=d.value;break;case">":g=d.value,D=!1;break;case"!=":case"not-in":g=Tu}Kl({value:o,inclusive:u},{value:g,inclusive:D})<0&&(o=g,u=D)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Kl({value:o,inclusive:u},{value:g,inclusive:n.inclusive})<0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}function gl(i,e,n){let o=Yo,u=!0;for(const d of ro(i,e)){let g=Yo,D=!0;switch(d.op){case">=":case">":g=hl(d.value),D=!1;break;case"==":case"in":case"<=":g=d.value;break;case"<":g=d.value,D=!1;break;case"!=":case"not-in":g=Yo}Zc({value:o,inclusive:u},{value:g,inclusive:D})>0&&(o=g,u=D)}if(null!==n)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const g=n.position[d];Zc({value:o,inclusive:u},{value:g,inclusive:n.inclusive})>0&&(o=g,u=n.inclusive);break}return{value:o,inclusive:u}}class $ extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,o):new te(e,n,o):"array-contains"===n?new Xt(e,o):"in"===n?new xn(e,o):"not-in"===n?new Kn(e,o):"array-contains-any"===n?new Mr(e,o):new $(e,n,o)}static V(e,n,o){return"in"===n?new U(e,o):new ve(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.v(_s(n,this.value)):null!==n&&Ea(this.value)===Ea(n)&&this.v(_s(n,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class te extends ${constructor(e,n,o){super(e,n,o),this.key=Qt.fromName(o.referenceValue)}matches(e){const n=Qt.comparator(e.key,this.key);return this.v(n)}}class U extends ${constructor(e,n){super(e,"in",n),this.keys=Xe(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ve extends ${constructor(e,n){super(e,"not-in",n),this.keys=Xe(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Xe(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Qt.fromName(o.referenceValue))}class Xt extends ${constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Qo(n)&&Au(n.arrayValue,this.value)}}class xn extends ${constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Au(this.value.arrayValue,n)}}class Kn extends ${constructor(e,n){super(e,"not-in",n)}matches(e){if(Au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Au(this.value.arrayValue,n)}}class Mr extends ${constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Qo(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Au(this.value.arrayValue,o))}}class Pr{constructor(e,n){this.position=e,this.inclusive=n}}class hs{constructor(e,n="asc"){this.field=e,this.dir=n}}function Es(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function ri(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const d=e[u],g=i.position[u];if(o=d.field.isKeyField()?Qt.comparator(Qt.fromName(g.referenceValue),n.key):_s(g,n.data.field(d.field)),"desc"===d.dir&&(o*=-1),0!==o)break}return o}function Hr(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!_o(i.position[n],e.position[n]))return!1;return!0}class kr{constructor(e,n=null,o=[],u=[],d=null,g="F",D=null,L=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=d,this.limitType=g,this.startAt=D,this.endAt=L,this.D=null,this.C=null}}function zr(i,e,n,o,u,d,g,D){return new kr(i,e,n,o,u,d,g,D)}function Fr(i){return new kr(i)}function Eo(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Xo(i){for(const e of i.filters)if(e.S())return e.field;return null}function ko(i){return null!==i.collectionGroup}function Ja(i){const e=Wt(i);if(null===e.D){e.D=[];const n=Xo(e),o=Eo(e);if(null!==n&&null===o)n.isKeyField()||e.D.push(new hs(n)),e.D.push(new hs(Fn.keyField(),"asc"));else{let u=!1;for(const d of e.explicitOrderBy)e.D.push(d),d.field.isKeyField()&&(u=!0);if(!u){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new hs(Fn.keyField(),d))}}}return e.D}function io(i){const e=Wt(i);if(!e.C)if("F"===e.limitType)e.C=pl(e.path,e.collectionGroup,Ja(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const d of Ja(e))n.push(new hs(d.field,"desc"===d.dir?"asc":"desc"));const o=e.endAt?new Pr(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Pr(e.startAt.position,e.startAt.inclusive):null;e.C=pl(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.C}function ml(i,e,n){return new kr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Ru(i,e){return Da(io(i),io(e))&&i.limitType===e.limitType}function yl(i){return`${Po(io(i))}|lt:${i.limitType}`}function Xl(i){return`Query(target=${function Jl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${jr(o.value)}`;var o}).join(", ")}]`),Za(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>jr(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>jr(n)).join(",")),`Target(${e})`}(io(i))}; limitType=${i.limitType})`}function ec(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Qt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,d,g){const D=ri(u,d,g);return u.inclusive?D<=0:D<0}(n.startAt,Ja(n),o)||n.endAt&&!function(u,d,g){const D=ri(u,d,g);return u.inclusive?D>=0:D>0}(n.endAt,Ja(n),o)));var n,o}function qc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ou(i){return(e,n)=>{let o=!1;for(const u of Ja(i)){const d=tc(u,e,n);if(0!==d)return d;o=o||u.field.isKeyField()}return 0}}function tc(i,e,n){const o=i.field.isKeyField()?Qt.comparator(e.key,n.key):function(u,d,g){const D=d.data.field(u),L=g.data.field(u);return null!==D&&null!==L?_s(D,L):nn()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return nn()}}function Ta(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Br(e)?"-0":e}}function Kc(i){return{integerValue:""+i}}function Yc(i,e){return Zl(e)?Kc(e):Ta(i,e)}class Nu{constructor(){this._=void 0}}function vl(i,e,n){return i instanceof Aa?function(o,u){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(d.fields.__previous_value__=u),{mapValue:d}}(n,e):i instanceof ea?_l(i,e):i instanceof Sa?Qc(i,e):function(o,u){const d=rc(o,u),g=Jc(d)+Jc(o.k);return ql(d)&&ql(o.k)?Kc(g):Ta(o.M,g)}(i,e)}function nc(i,e,n){return i instanceof ea?_l(i,e):i instanceof Sa?Qc(i,e):n}function rc(i,e){return i instanceof Xa?ql(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Aa extends Nu{}class ea extends Nu{constructor(e){super(),this.elements=e}}function _l(i,e){const n=El(e);for(const o of i.elements)n.some(u=>_o(u,o))||n.push(o);return{arrayValue:{values:n}}}class Sa extends Nu{constructor(e){super(),this.elements=e}}function Qc(i,e){let n=El(e);for(const o of i.elements)n=n.filter(u=>!_o(u,o));return{arrayValue:{values:n}}}class Xa extends Nu{constructor(e,n){super(),this.M=e,this.k=n}}function Jc(i){return br(i.integerValue||i.doubleValue)}function El(i){return Qo(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Ks{constructor(e,n){this.field=e,this.transform=n}}class lh{constructor(e,n){this.version=e,this.transformResults=n}}class Mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Pu{}function lp(i,e,n){i instanceof ku?function(o,u,d){const g=o.value.clone(),D=h(o.fieldTransforms,u,d.transformResults);g.setAll(D),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(i,e,n):i instanceof xa?function(o,u,d){if(!ic(o.precondition,u))return void u.convertToUnknownDocument(d.version);const g=h(o.fieldTransforms,u,d.transformResults),D=u.data;D.setAll(E(o)),D.setAll(g),u.convertToFoundDocument(d.version,D).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function sc(i,e,n){var u;i instanceof ku?function(o,u,d){if(!ic(o.precondition,u))return;const g=o.value.clone(),D=p(o.fieldTransforms,d,u);g.setAll(D),u.convertToFoundDocument(ed(u),g).setHasLocalMutations()}(i,e,n):i instanceof xa?function(o,u,d){if(!ic(o.precondition,u))return;const g=p(o.fieldTransforms,d,u),D=u.data;D.setAll(E(o)),D.setAll(g),u.convertToFoundDocument(ed(u),D).setHasLocalMutations()}(i,e,n):ic(i.precondition,u=e)&&u.convertToNoDocument(B.min())}function oc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),d=rc(o.transform,u||null);null!=d&&(null==n&&(n=Xi.empty()),n.set(o.field,d))}return n||null}function Xc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&v(n,o,(u,d)=>function Ma(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof ea&&o instanceof ea||n instanceof Sa&&o instanceof Sa?v(n.elements,o.elements,_o):n instanceof Xa&&o instanceof Xa?_o(n.k,o.k):n instanceof Aa&&o instanceof Aa);var n,o}(u,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}function ed(i){return i.isFoundDocument()?i.version:B.min()}class ku extends Pu{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}}class xa extends Pu{constructor(e,n,o,u,d=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=d,this.type=1}}function E(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function h(i,e,n){const o=new Map;Pn(i.length===n.length);for(let u=0;u<n.length;u++){const d=i[u],g=d.transform,D=e.data.field(d.field);o.set(d.field,nc(g,D,n[u]))}return o}function p(i,e,n){const o=new Map;for(const u of i){const d=u.transform,g=n.data.field(u.field);o.set(u.field,vl(d,g,e))}return o}class w extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class j extends Pu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class ne{constructor(e){this.count=e}}var $e,ot;function cn(i){switch(i){default:return nn();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function Rn(i){if(void 0===i)return li("GRPC error has no .code"),st.UNKNOWN;switch(i){case $e.OK:return st.OK;case $e.CANCELLED:return st.CANCELLED;case $e.UNKNOWN:return st.UNKNOWN;case $e.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case $e.INTERNAL:return st.INTERNAL;case $e.UNAVAILABLE:return st.UNAVAILABLE;case $e.UNAUTHENTICATED:return st.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case $e.NOT_FOUND:return st.NOT_FOUND;case $e.ALREADY_EXISTS:return st.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return st.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case $e.ABORTED:return st.ABORTED;case $e.OUT_OF_RANGE:return st.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return st.UNIMPLEMENTED;case $e.DATA_LOSS:return st.DATA_LOSS;default:return nn()}}(ot=$e||($e={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";class Zn{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,d]of o)if(this.equalsFn(u,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let d=0;d<u.length;d++)if(this.equalsFn(u[d][0],e))return void(u[d]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Te(this.inner,(n,o)=>{for(const[u,d]of o)e(u,d)})}isEmpty(){return lt(this.inner)}size(){return this.innerSize}}const ii=new $r(Qt.comparator);function si(){return ii}const Io=new $r(Qt.comparator);function ta(...i){let e=Io;for(const n of i)e=e.insert(n.key,n);return e}function Fu(){return new Zn(i=>i.toString(),(i,e)=>i.isEqual(e))}const td=new $r(Qt.comparator),ac=new Lr(Qt.comparator);function Rr(...i){let e=ac;for(const n of i)e=e.add(n);return e}const uc=new Lr(_);function Lu(){return uc}class eu{constructor(e,n,o,u,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,na.createSynthesizedTargetChangeForCurrentChange(e,n)),new eu(B.min(),o,Lu(),si(),Rr())}}class na{constructor(e,n,o,u,d){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n){return new na(Nr.EMPTY_BYTE_STRING,n,Rr(),Rr(),Rr())}}class ra{constructor(e,n,o,u){this.O=e,this.removedTargetIds=n,this.key=o,this.F=u}}class nd{constructor(e,n){this.targetId=e,this.$=n}}class tu{constructor(e,n,o=Nr.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class rd{constructor(){this.B=0,this.L=dp(),this.U=Nr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Rr(),n=Rr(),o=Rr();return this.L.forEach((u,d)=>{switch(d){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:nn()}}),new na(this.U,this.q,e,n,o)}J(){this.K=!1,this.L=dp()}Y(e,n){this.K=!0,this.L=this.L.insert(e,n)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class $i{constructor(e){this.nt=e,this.st=new Map,this.it=si(),this.rt=cp(),this.ot=new Lr(_)}ut(e){for(const n of e.O)e.F&&e.F.isFoundDocument()?this.at(n,e.F):this.ct(n,e.key,e.F);for(const n of e.removedTargetIds)this.ct(n,e.key,e.F)}ht(e){this.forEachTarget(e,n=>{const o=this.lt(n);switch(e.state){case 0:this.ft(n)&&o.W(e.resumeToken);break;case 1:o.tt(),o.G||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.G||this.removeTarget(n);break;case 3:this.ft(n)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(n)&&(this.dt(n),o.W(e.resumeToken));break;default:nn()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.st.forEach((o,u)=>{this.ft(u)&&n(u)})}_t(e){const n=e.targetId,o=e.$.count,u=this.wt(n);if(u){const d=u.target;if(Mu(d))if(0===o){const g=new Qt(d.path);this.ct(n,g,fr.newNoDocument(g,B.min()))}else Pn(1===o);else this.gt(n)!==o&&(this.dt(n),this.ot=this.ot.add(n))}}yt(e){const n=new Map;this.st.forEach((d,g)=>{const D=this.wt(g);if(D){if(d.current&&Mu(D.target)){const L=new Qt(D.target.path);null!==this.it.get(L)||this.It(g,L)||this.ct(g,L,fr.newNoDocument(L,e))}d.j&&(n.set(g,d.H()),d.J())}});let o=Rr();this.rt.forEach((d,g)=>{let D=!0;g.forEachWhile(L=>{const H=this.wt(L);return!H||2===H.purpose||(D=!1,!1)}),D&&(o=o.add(d))}),this.it.forEach((d,g)=>g.setReadTime(e));const u=new eu(e,n,this.ot,this.it,o);return this.it=si(),this.rt=cp(),this.ot=new Lr(_),u}at(e,n){if(!this.ft(e))return;const o=this.It(e,n.key)?2:0;this.lt(e).Y(n.key,o),this.it=this.it.insert(n.key,n),this.rt=this.rt.insert(n.key,this.Tt(n.key).add(e))}ct(e,n,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,n)?u.Y(n,1):u.X(n),this.rt=this.rt.insert(n,this.Tt(n).delete(e)),o&&(this.it=this.it.insert(n,o))}removeTarget(e){this.st.delete(e)}gt(e){const n=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let n=this.st.get(e);return n||(n=new rd,this.st.set(e,n)),n}Tt(e){let n=this.rt.get(e);return n||(n=new Lr(_),this.rt=this.rt.insert(e,n)),n}ft(e){const n=null!==this.wt(e);return n||Vt("WatchChangeAggregator","Detected inactive target",e),n}wt(e){const n=this.st.get(e);return n&&n.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new rd),this.nt.getRemoteKeysForTarget(e).forEach(n=>{this.ct(e,n,null)})}It(e,n){return this.nt.getRemoteKeysForTarget(e).has(n)}}function cp(){return new $r(Qt.comparator)}function dp(){return new $r(Qt.comparator)}const ch={asc:"ASCENDING",desc:"DESCENDING"},hp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Im{constructor(e,n){this.databaseId=e,this.N=n}}function lc(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fp(i,e){return i.N?e.toBase64():e.toUint8Array()}function wm(i,e){return lc(i,e.toTimestamp())}function fs(i){return Pn(!!i),B.fromTimestamp(function(e){const n=ds(e);return new P(n.seconds,n.nanos)}(i))}function pp(i,e){return(n=i,new Zt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function bm(i){const e=Zt.fromString(i);return Pn(vp(e)),e}function Ra(i,e){return pp(i.databaseId,e.path)}function di(i,e){const n=bm(e);if(n.get(1)!==i.databaseId.projectId)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Qt(Is(n))}function cc(i,e){return pp(i.databaseId,e)}function dh(i){const e=bm(i);return 4===e.length?Zt.emptyPath():Is(e)}function Il(i){return new Zt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Is(i){return Pn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function wl(i,e,n){return{name:Ra(i,e),fields:n.value.mapValue.fields}}function id(i,e,n){const o=di(i,e.name),u=fs(e.updateTime),d=new Xi({mapValue:{fields:e.fields}}),g=fr.newFoundDocument(o,u,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function bl(i,e){let n;if(e instanceof ku)n={update:wl(i,e.key,e.value)};else if(e instanceof w)n={delete:Ra(i,e.key)};else if(e instanceof xa)n={update:wl(i,e.key,e.data),updateMask:xm(e.fieldMask)};else{if(!(e instanceof j))return nn();n={verify:Ra(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,d){const g=d.transform;if(g instanceof Aa)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ea)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Sa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xa)return{fieldPath:d.field.canonicalString(),increment:g.k};throw nn()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:wm(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:nn()),n;var u}function hh(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Mi.updateTime(fs(u.updateTime)):void 0!==u.exists?Mi.exists(u.exists):Mi.none():Mi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(d,g){let D=null;"setToServerValue"in g?(Pn("REQUEST_TIME"===g.setToServerValue),D=new Aa):"appendMissingElements"in g?D=new ea(g.appendMissingElements.values||[]):"removeAllFromArray"in g?D=new Sa(g.removeAllFromArray.values||[]):"increment"in g?D=new Xa(d,g.increment):nn();const L=Fn.fromServerFormat(g.fieldPath);return new Ks(L,D)}(i,u)):[];var u;if(e.update){const u=di(i,e.update.name),d=new Xi({mapValue:{fields:e.update.fields}});if(e.updateMask){const g=new cr((e.updateMask.fieldPaths||[]).map(H=>Fn.fromServerFormat(H)));return new xa(u,d,g,n,o)}return new ku(u,d,n,o)}if(e.delete){const u=di(i,e.delete);return new w(u,n)}if(e.verify){const u=di(i,e.verify);return new j(u,n)}return nn()}function mp(i,e){return{documents:[cc(i,e.path)]}}function fh(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=cc(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=cc(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(L){if(0===L.length)return;const H=L.map(pe=>function(Oe){if("=="===Oe.op){if(Os(Oe.value))return{unaryFilter:{field:nu(Oe.field),op:"IS_NAN"}};if(Ji(Oe.value))return{unaryFilter:{field:nu(Oe.field),op:"IS_NULL"}}}else if("!="===Oe.op){if(Os(Oe.value))return{unaryFilter:{field:nu(Oe.field),op:"IS_NOT_NAN"}};if(Ji(Oe.value))return{unaryFilter:{field:nu(Oe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(Oe.field),op:Sm(Oe.op),value:Oe.value}}}(pe));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);u&&(n.structuredQuery.where=u);const d=function(L){if(0!==L.length)return L.map(H=>{return{field:nu((pe=H).field),direction:Am(pe.dir)};var pe})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(H=e.limit,i.N||Za(H)?H:{value:H});var H,D,L;return null!==g&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt={before:(D=e.startAt).inclusive,values:D.position}),e.endAt&&(n.structuredQuery.endAt={before:!(L=e.endAt).inclusive,values:L.position}),n}function yp(i){let e=dh(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Pn(1===o);const pe=n.from[0];pe.allDescendants?u=pe.collectionId:e=e.child(pe.collectionId)}let d=[];n.where&&(d=sd(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(pe=>{return new hs(Dl((Oe=pe).field),function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Oe.direction));var Oe}));let D=null;n.limit&&(D=function(pe){let Oe;return Oe="object"==typeof pe?pe.value:pe,Za(Oe)?null:Oe}(n.limit));let L=null;var pe;n.startAt&&(L=new Pr((pe=n.startAt).values||[],!!pe.before));let H=null;return n.endAt&&(H=function(pe){return new Pr(pe.values||[],!pe.before)}(n.endAt)),zr(e,u,g,d,D,"F",L,H)}function sd(i){return i?void 0!==i.unaryFilter?[od(i)]:void 0!==i.fieldFilter?[Mm(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>sd(e)).reduce((e,n)=>e.concat(n)):nn():[]}function Am(i){return ch[i]}function Sm(i){return hp[i]}function nu(i){return{fieldPath:i.canonicalString()}}function Dl(i){return Fn.fromServerFormat(i.fieldPath)}function Mm(i){return $.create(Dl(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(i.fieldFilter.op),i.fieldFilter.value)}function od(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Dl(i.unaryFilter.field);return $.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Dl(i.unaryFilter.field);return $.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Dl(i.unaryFilter.field);return $.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Dl(i.unaryFilter.field);return $.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function xm(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function js(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=_p(e)),e=Rm(i.get(n),e);return _p(e)}function Rm(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const d=i.charAt(u);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function _p(i){return i+"\x01\x01"}function Fo(i){const e=i.length;if(Pn(e>=2),2===e)return Pn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Zt.emptyPath();const n=e-2,o=[];let u="";for(let d=0;d<e;){const g=i.indexOf("\x01",d);switch((g<0||g>n)&&nn(),i.charAt(g+1)){case"\x01":const D=i.substring(d,g);let L;0===u.length?L=D:(u+=D,L=u,u=""),o.push(L);break;case"\x10":u+=i.substring(d,g),u+="\0";break;case"\x11":u+=i.substring(d,g+1);break;default:nn()}d=g+2}return new Zt(o)}const Ep=["userId","batchId"];function ad(i,e){return[i,js(e)]}function Ip(i,e,n){return[i,js(e),n]}const Om={},Nm=["prefixPath","collectionGroup","readTime","documentId"],Pm=["prefixPath","collectionGroup","documentId"],km=["collectionGroup","readTime","prefixPath","documentId"],Fm=["canonicalId","targetId"],Cl=["targetId","path"],ia=["path","targetId"],Uv=["collectionId","parent"],Bv=["indexId","uid"],wp=["uid","sequenceNumber"],jv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],sa=["indexId","uid","orderedDocumentKey"],ph=["userId","collectionPath","documentId"],gh=["userId","collectionPath","largestBatchId"],Lm=["userId","collectionGroup","largestBatchId"],mh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dc=[...mh,"documentOverlays"],yh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bp=[...yh,"indexConfiguration","indexState","indexEntries"],ud="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ld{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class ct{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ct((o,u)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(o,u)},this.catchCallback=d=>{this.wrapFailure(n,d).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ct?n:ct.resolve(n)}catch(n){return ct.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ct.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ct.reject(n)}static resolve(e){return new ct((n,o)=>{n(e)})}static reject(e){return new ct((n,o)=>{o(e)})}static waitFor(e){return new ct((n,o)=>{let u=0,d=0,g=!1;e.forEach(D=>{++u,D.next(()=>{++d,g&&d===u&&n()},L=>o(L))}),g=!0,d===u&&n()})}static or(e){let n=ct.resolve(!1);for(const o of e)n=n.next(u=>u?ct.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,d)=>{o.push(n.call(this,u,d))}),this.waitFor(o)}}class vh{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.At=new _i,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{n.error?this.At.reject(new Tl(e,n.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=Ih(o.target.error);this.At.reject(new Tl(e,u))}}static open(e,n,o,u){try{return new vh(n,e.transaction(u,o))}catch(d){throw new Tl(n,d)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Vt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Eh(n)}}class Ps{constructor(e,n,o){this.name=e,this.version=n,this.Pt=o,12.2===Ps.Vt((0,V.z$)())&&li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Vt("SimpleDb","Removing database:",e),Uu(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,V.hl)())return!1;if(Ps.St())return!0;const e=(0,V.z$)(),n=Ps.Vt(e),o=0<n&&n<10,u=Ps.Dt(e),d=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||d)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,n){return e.store(n)}static Vt(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var n=this;return(0,f.Z)(function*(){return n.db||(Vt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{o(g.target.result)},d.onblocked=()=>{u(new Tl(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const D=g.target.error;u("VersionError"===D.name?new vt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===D.name?new vt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+D):new Tl(e,D))},d.onupgradeneeded=g=>{Vt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.Pt.kt(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{Vt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Mt&&(n.db.onversionchange=o=>n.Mt(o)),n.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var d=this;return(0,f.Z)(function*(){const g="readonly"===n;let D=0;for(;;){++D;try{d.db=yield d.Nt(e);const L=vh.open(d.db,e,g?"readonly":"readwrite",o),H=u(L).next(pe=>(L.bt(),pe)).catch(pe=>(L.abort(pe),ct.reject(pe))).toPromise();return H.catch(()=>{}),yield L.Rt,H}catch(L){const H="FirebaseError"!==L.name&&D<3;if(Vt("SimpleDb","Transaction failed with error:",L.message,"Retrying:",H),d.close(),!H)return Promise.reject(L)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class _h{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Uu(this.Ft.delete())}}class Tl extends vt{constructor(e,n){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vu(i){return"IndexedDbTransactionError"===i.name}class Eh{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Vt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Vt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Uu(o)}add(e){return Vt("SimpleDb","ADD",this.store.name,e,e),Uu(this.store.add(e))}get(e){return Uu(this.store.get(e)).next(n=>(void 0===n&&(n=null),Vt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Vt("SimpleDb","DELETE",this.store.name,e),Uu(this.store.delete(e))}count(){return Vt("SimpleDb","COUNT",this.store.name),Uu(this.store.count())}qt(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),d=[];return this.Kt(u,(g,D)=>{d.push(D)}).next(()=>d)}{const u=this.store.getAll(o.range);return new ct((d,g)=>{u.onerror=D=>{g(D.target.error)},u.onsuccess=D=>{d(D.target.result)}})}}Gt(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new ct((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}Qt(e,n){Vt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.jt=!1;const u=this.cursor(o);return this.Kt(u,(d,g,D)=>D.delete())}Wt(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.Kt(u,n)}zt(e){const n=this.cursor({});return new ct((o,u)=>{n.onerror=d=>{const g=Ih(d.target.error);u(g)},n.onsuccess=d=>{const g=d.target.result;g?e(g.primaryKey,g.value).next(D=>{D?g.continue():o()}):o()}})}Kt(e,n){const o=[];return new ct((u,d)=>{e.onerror=g=>{d(g.target.error)},e.onsuccess=g=>{const D=g.target.result;if(!D)return void u();const L=new _h(D),H=n(D.primaryKey,D.value,L);if(H instanceof ct){const pe=H.catch(Oe=>(L.done(),ct.reject(Oe)));o.push(pe)}L.isDone?u():null===L.Lt?D.continue():D.continue(L.Lt)}}).next(()=>ct.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Uu(i){return new ct((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Ih(o.target.error);n(u)}})}let Dp=!1;function Ih(i){const e=Ps.Vt((0,V.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Dp||(Dp=!0,setTimeout(()=>{throw o},0)),o}}return i}class Cp extends ld{constructor(e,n){super(),this.Ht=e,this.currentSequenceNumber=n}}function ps(i,e){const n=Wt(i);return Ps.xt(n.Ht,e)}class wh{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const d=this.mutations[u];d.key.isEqual(e.key)&&lp(d,e,o[u])}}applyToLocalView(e){for(const n of this.baseMutations)n.key.isEqual(e.key)&&sc(n,e,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(e.key)&&sc(n,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(n=>{const o=e.get(n.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(B.min())})}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Rr())}isEqual(e){return this.batchId===e.batchId&&v(this.mutations,e.mutations,(n,o)=>Xc(n,o))&&v(this.baseMutations,e.baseMutations,(n,o)=>Xc(n,o))}}class cd{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Pn(e.mutations.length===o.length);let u=td;const d=e.mutations;for(let g=0;g<d.length;g++)u=u.insert(d[g].key,o[g].version);return new cd(e,n,o,u)}}class hc{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Oa{constructor(e,n,o,u,d=B.min(),g=B.min(),D=Nr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=D}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dd{constructor(e){this.Jt=e}}function Tp(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fc(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Ra(u=i.Jt,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:lc(u,d.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:ru(e.version)};else{if(!e.isUnknownDocument())return nn();o.unknownDocument={path:n.path.toArray(),version:ru(e.version)}}var u,d;return o}function fc(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ru(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function so(i){const e=new P(i.seconds,i.nanoseconds);return B.fromTimestamp(e)}function Bu(i,e){const n=(e.baseMutations||[]).map(d=>hh(i.Jt,d));for(let d=0;d<e.mutations.length-1;++d){const g=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(g.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const o=e.mutations.map(d=>hh(i.Jt,d)),u=P.fromMillis(e.localWriteTimeMs);return new wh(e.batchId,u,n,o)}function Al(i){const e=so(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?so(i.lastLimboFreeSnapshotVersion):B.min();let o;var u;return void 0!==i.query.documents?(Pn(1===(u=i.query).documents.length),o=io(Fr(dh(u.documents[0])))):o=io(yp(i.query)),new Oa(o,i.targetId,0,i.lastListenSequenceNumber,e,n,Nr.fromBase64String(i.resumeToken))}function Ap(i,e){const n=ru(e.snapshotVersion),o=ru(e.lastLimboFreeSnapshotVersion);let u;u=Mu(e.target)?mp(i.Jt,e.target):fh(i.Jt,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Po(e.target),readTime:n,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function Sl(i){const e=yp({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ml(e,e.limit,"L"):e}function bh(i,e){return new hc(e.largestBatchId,hh(i.Jt,e.overlayMutation))}function Dh(i,e){const n=e.path.lastSegment();return[i,js(e.path.popLast()),n]}class Sp{getBundleMetadata(e,n){return Ch(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:so(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return Ch(e).put({bundleId:(o=n).id,createTime:ru(fs(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return hd(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:Sl(u.bundledQuery),readTime:so(u.readTime)};var u})}saveNamedQuery(e,n){return hd(e).put({name:(o=n).name,readTime:ru(fs(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ch(i){return ps(i,"bundles")}function hd(i){return ps(i,"namedQueries")}class fd{constructor(e,n){this.M=e,this.userId=n}static Yt(e,n){return new fd(e,n.uid||"")}getOverlay(e,n){return iu(e).get(Dh(this.userId,n)).next(o=>o?bh(this.M,o):null)}saveOverlays(e,n,o){const u=[];return o.forEach((d,g)=>{const D=new hc(n,g);u.push(this.Xt(e,D))}),ct.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(g=>u.add(js(g.getCollectionPath())));const d=[];return u.forEach(g=>{const D=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,o+1],!1,!0);d.push(iu(e).Qt("collectionPathOverlayIndex",D))}),ct.waitFor(d)}getOverlaysForCollection(e,n,o){const u=Fu(),d=js(n),g=IDBKeyRange.bound([this.userId,d,o],[this.userId,d,Number.POSITIVE_INFINITY],!0);return iu(e).qt("collectionPathOverlayIndex",g).next(D=>{for(const L of D){const H=bh(this.M,L);u.set(H.getKey(),H)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const d=Fu();let g;const D=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return iu(e).Wt({index:"collectionGroupOverlayIndex",range:D},(L,H,pe)=>{const Oe=bh(this.M,H);d.size()<u||Oe.largestBatchId===g?(d.set(Oe.getKey(),Oe),g=Oe.largestBatchId):pe.done()}).next(()=>d)}Xt(e,n){return iu(e).put(function(o,u,d){const[g,D,L]=Dh(u,d.mutation.key);return{userId:u,collectionPath:D,documentId:L,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:bl(o.Jt,d.mutation)}}(this.M,this.userId,n))}}function iu(i){return ps(i,"documentOverlays")}class oa{constructor(){}Zt(e,n){this.te(e,n),n.ee()}te(e,n){if("nullValue"in e)this.ne(n,5);else if("booleanValue"in e)this.ne(n,10),n.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(n,15),n.se(br(e.integerValue));else if("doubleValue"in e){const o=br(e.doubleValue);isNaN(o)?this.ne(n,13):(this.ne(n,15),Br(o)?n.se(0):n.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(n,20),"string"==typeof o?n.ie(o):(n.ie(`${o.seconds||""}`),n.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,n),this.oe(n);else if("bytesValue"in e)this.ne(n,30),n.ue(vs(e.bytesValue)),this.oe(n);else if("referenceValue"in e)this.ae(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(n,45),n.se(o.latitude||0),n.se(o.longitude||0)}else"mapValue"in e?Ia(e)?this.ne(n,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,n),this.oe(n)):"arrayValue"in e?(this.he(e.arrayValue,n),this.oe(n)):nn()}re(e,n){this.ne(n,25),this.le(e,n)}le(e,n){n.ie(e)}ce(e,n){const o=e.fields||{};this.ne(n,55);for(const u of Object.keys(o))this.re(u,n),this.te(o[u],n)}he(e,n){const o=e.values||[];this.ne(n,50);for(const u of o)this.te(u,n)}ae(e,n){this.ne(n,37),Qt.fromName(e).path.forEach(o=>{this.ne(n,60),this.le(o,n)})}ne(e,n){e.se(n)}oe(e){e.se(2)}}function Mp(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function pd(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const d=Mp(255&n[u]);if(o+=d,8!==d)break}return o}(i);return Math.ceil(e/8)}oa.fe=new oa;class xp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this._e(o.value),o=n.next();this.we()}me(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.ge(o.value),o=n.next();this.ye()}pe(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(n<"\ud800"||"\udbff"<n)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=n.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=n.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const n=this.Ee(e),o=pd(n);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Re(e){const n=this.Ee(e),o=pd(n);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const n=function(u){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,u,!1),new Uint8Array(d.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}_e(e){const n=255&e;0===n?(this.Pe(0),this.Pe(255)):255===n?(this.Pe(255),this.Pe(0)):this.Pe(n)}ge(e){const n=255&e;0===n?(this.ve(0),this.ve(255)):255===n?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Th{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class pc{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class gc{constructor(){this.De=new xp,this.Ce=new Th(this.De),this.xe=new pc(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class su{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new su(this.indexId,this.documentKey,this.arrayValue,o)}}function ju(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Rp(i.arrayValue,e.arrayValue),0!==n?n:(n=Rp(i.directionalValue,e.directionalValue),0!==n?n:Qt.comparator(i.documentKey,e.documentKey)))}function Rp(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Op{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const n of e.filters){const o=n;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const n=Ro(e);if(void 0!==n&&!this.Be(n))return!1;const o=Oo(e);let u=0,d=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const g=o[u];if(!this.Le(this.Fe,g)||!this.Ue(this.Me[d++],g))return!1;++u}for(;u<o.length;++u){const g=o[u];if(d>=this.Me.length||!this.Ue(this.Me[d++],g))return!1}return!0}Be(e){for(const n of this.Oe)if(this.Le(n,e))return!0;return!1}Le(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class Ah{constructor(){this.qe=new gd}addToCollectionParentIndex(e,n){return this.qe.add(n),ct.resolve()}getCollectionParents(e,n){return ct.resolve(this.qe.getEntries(n))}addFieldIndex(e,n){return ct.resolve()}deleteFieldIndex(e,n){return ct.resolve()}getDocumentsMatchingTarget(e,n){return ct.resolve(null)}getIndexType(e,n){return ct.resolve(0)}getFieldIndexes(e,n){return ct.resolve([])}getNextCollectionGroupToUpdate(e){return ct.resolve(null)}getMinOffset(e,n){return ct.resolve(Ns.min())}updateCollectionGroup(e,n,o){return ct.resolve()}updateIndexEntries(e,n){return ct.resolve()}}class gd{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new Lr(Zt.comparator),d=!u.has(o);return this.index[n]=u.add(o),d}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Lr(Zt.comparator)).toArray()}}const Sh=new Uint8Array(0);class Np{constructor(e,n){this.user=e,this.databaseId=n,this.Ke=new gd,this.Ge=new Zn(o=>Po(o),(o,u)=>Da(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Ke.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Ke.add(n)});const d={collectionId:o,parent:js(u)};return Pp(e).put(d)}return ct.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[M(n),""],!1,!0);return Pp(e).qt(u).next(d=>{for(const g of d){if(g.collectionId!==n)break;o.push(Fo(g.parent))}return o})}addFieldIndex(e,n){const o=md(e),u={indexId:(d=n).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,n){const o=md(e),u=yd(e),d=Ml(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=Ml(e);let u=!0;const d=new Map;return ct.forEach(this.Qe(n),g=>this.je(e,g).next(D=>{u&&(u=!!D),d.set(g,D)})).next(()=>{if(u){let g=Rr();const D=[];return ct.forEach(d,(L,H)=>{var pe;Vt("IndexedDbIndexManager",`Using index ${pe=L,`id=${pe.indexId}|cg=${pe.collectionGroup}|f=${pe.fields.map(bi=>`${bi.fieldPath}:${bi.kind}`).join(",")}`} to execute ${Po(n)}`);const Oe=function(bi,Ls){const ts=Ro(Ls);if(void 0===ts)return null;for(const xi of ro(bi,ts.fieldPath))switch(xi.op){case"array-contains-any":return xi.value.arrayValue.values||[];case"array-contains":return[xi.value]}return null}(H,L),nt=function(bi,Ls){const ts=new Map;for(const xi of Oo(Ls))for(const $s of ro(bi,xi.fieldPath))switch($s.op){case"==":case"in":ts.set(xi.fieldPath.canonicalString(),$s.value);break;case"not-in":case"!=":return ts.set(xi.fieldPath.canonicalString(),$s.value),Array.from(ts.values())}return null}(H,L),Nt=function(bi,Ls){const ts=[];let xi=!0;for(const $s of Oo(Ls)){const Hl=0===$s.kind?xu(bi,$s.fieldPath,bi.startAt):gl(bi,$s.fieldPath,bi.startAt);ts.push(Hl.value),xi&&(xi=Hl.inclusive)}return new Pr(ts,xi)}(H,L),Ft=function(bi,Ls){const ts=[];let xi=!0;for(const $s of Oo(Ls)){const Hl=0===$s.kind?gl(bi,$s.fieldPath,bi.endAt):xu(bi,$s.fieldPath,bi.endAt);ts.push(Hl.value),xi&&(xi=Hl.inclusive)}return new Pr(ts,xi)}(H,L),vn=this.We(L,H,Nt),Qn=this.We(L,H,Ft),wi=this.ze(L,H,nt),Hi=this.He(L.indexId,Oe,vn,Nt.inclusive,Qn,Ft.inclusive,wi);return ct.forEach(Hi,bi=>o.Gt(bi,n.limit).next(Ls=>{Ls.forEach(ts=>{const xi=Qt.fromSegments(ts.documentKey);g.has(xi)||(g=g.add(xi),D.push(xi))})}))}).next(()=>D)}return ct.resolve(null)})}Qe(e){let n=this.Ge.get(e);return n||(n=[e],this.Ge.set(e,n),n)}He(e,n,o,u,d,g,D){const L=(null!=n?n.length:1)*Math.max(o.length,d.length),H=L/(null!=n?n.length:1),pe=[];for(let Oe=0;Oe<L;++Oe){const nt=n?this.Je(n[Oe/H]):Sh,Nt=this.Ye(e,nt,o[Oe%H],u),Ft=this.Xe(e,nt,d[Oe%H],g),vn=D.map(Qn=>this.Ye(e,nt,Qn,!0));pe.push(...this.createRange(Nt,Ft,vn))}return pe}Ye(e,n,o,u){const d=new su(e,Qt.empty(),n,o);return u?d:d.ke()}Xe(e,n,o,u){const d=new su(e,Qt.empty(),n,o);return u?d.ke():d}je(e,n){const o=new Op(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(d=>{let g=null;for(const D of d)o.$e(D)&&(!g||D.fields.length>g.fields.length)&&(g=D);return g})}getIndexType(e,n){let o=2;return ct.forEach(this.Qe(n),u=>this.je(e,u).next(d=>{d?0!==o&&d.fields.length<function(g){let D=new Lr(Fn.comparator),L=!1;for(const H of g.filters){const pe=H;pe.field.isKeyField()||("array-contains"===pe.op||"array-contains-any"===pe.op?L=!0:D=D.add(pe.field))}for(const H of g.orderBy)H.field.isKeyField()||(D=D.add(H.field));return D.size+(L?1:0)}(u)&&(o=1):o=0})).next(()=>o)}Ze(e,n){const o=new gc;for(const u of Oo(e)){const d=n.data.field(u.fieldPath);if(null==d)return null;const g=o.Ne(u.kind);oa.fe.Zt(d,g)}return o.Se()}Je(e){const n=new gc;return oa.fe.Zt(e,n.Ne(0)),n.Se()}tn(e,n){const o=new gc;return oa.fe.Zt(Rs(this.databaseId,n),o.Ne(function(u){const d=Oo(u);return 0===d.length?0:d[d.length-1].kind}(e))),o.Se()}ze(e,n,o){if(null===o)return[];let u=[];u.push(new gc);let d=0;for(const g of Oo(e)){const D=o[d++];for(const L of u)if(this.en(n,g.fieldPath)&&Qo(D))u=this.nn(u,g,D);else{const H=L.Ne(g.kind);oa.fe.Zt(D,H)}}return this.sn(u)}We(e,n,o){return this.ze(e,n,o.position)}sn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].Se();return n}nn(e,n,o){const u=[...e],d=[];for(const g of o.arrayValue.values||[])for(const D of u){const L=new gc;L.seed(D.Se()),oa.fe.Zt(g,L.Ne(n.kind)),d.push(L)}return d}en(e,n){return!!e.filters.find(o=>o instanceof $&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=md(e),u=yd(e);return(n?o.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.qt()).next(d=>{const g=[];return ct.forEach(d,D=>u.get([D.indexId,this.uid]).next(L=>{g.push(function(H,pe){const Oe=pe?new Jo(pe.sequenceNumber,new Ns(so(pe.readTime),new Qt(Fo(pe.documentKey)),pe.largestBatchId)):Jo.empty(),nt=H.fields.map(([Nt,Ft])=>new Qa(Fn.fromServerFormat(Nt),Ft));return new wa(H.indexId,H.collectionGroup,nt,Oe)}(D,L))})).next(()=>g)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const d=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==d?d:_(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=md(e),d=yd(e);return this.rn(e).next(g=>u.qt("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(D=>ct.forEach(D,L=>{return d.put({indexId:L.indexId,uid:this.user.uid||"",sequenceNumber:g,readTime:ru((nt=o).readTime),documentKey:js(nt.documentKey.path),largestBatchId:nt.largestBatchId});var nt})))}updateIndexEntries(e,n){const o=new Map;return ct.forEach(n,(u,d)=>{const g=o.get(u.collectionGroup);return(g?ct.resolve(g):this.getFieldIndexes(e,u.collectionGroup)).next(D=>(o.set(u.collectionGroup,D),ct.forEach(D,L=>this.on(e,u,L).next(H=>{const pe=this.un(d,L);return H.isEqual(pe)?ct.resolve():this.an(e,d,L,H,pe)}))))})}cn(e,n,o,u){return Ml(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.tn(o,n.key),documentKey:n.key.path.toArray()})}hn(e,n,o,u){return Ml(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.tn(o,n.key),n.key.path.toArray()])}on(e,n,o){const u=Ml(e);let d=new Lr(ju);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.tn(o,n)])},(g,D)=>{d=d.add(new su(o.indexId,n,D.arrayValue,D.directionalValue))}).next(()=>d)}un(e,n){let o=new Lr(ju);const u=this.Ze(n,e);if(null==u)return o;const d=Ro(n);if(null!=d){const g=e.data.field(d.fieldPath);if(Qo(g))for(const D of g.arrayValue.values||[])o=o.add(new su(n.indexId,e.key,this.Je(D),u))}else o=o.add(new su(n.indexId,e.key,Sh,u));return o}an(e,n,o,u,d){Vt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const g=[];return function(D,L,H,pe,Oe){const nt=D.getIterator(),Nt=L.getIterator();let Ft=no(nt),vn=no(Nt);for(;Ft||vn;){let Qn=!1,wi=!1;if(Ft&&vn){const Hi=H(Ft,vn);Hi<0?wi=!0:Hi>0&&(Qn=!0)}else null!=Ft?wi=!0:Qn=!0;Qn?(pe(vn),vn=no(Nt)):wi?(Oe(Ft),Ft=no(nt)):(Ft=no(nt),vn=no(Nt))}}(u,d,ju,D=>{g.push(this.cn(e,n,o,D))},D=>{g.push(this.hn(e,n,o,D))}),ct.waitFor(g)}rn(e){let n=1;return yd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,d)=>{d.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((g,D)=>ju(g,D)).filter((g,D,L)=>!D||0!==ju(g,L[D-1]));const u=[];u.push(e);for(const g of o){const D=ju(g,e),L=ju(g,n);if(0===D)u[0]=e.ke();else if(D>0&&L<0)u.push(g),u.push(g.ke());else if(L>0)break}u.push(n);const d=[];for(let g=0;g<u.length;g+=2)d.push(IDBKeyRange.bound([u[g].indexId,this.uid,u[g].arrayValue,u[g].directionalValue,Sh,[]],[u[g+1].indexId,this.uid,u[g+1].arrayValue,u[g+1].directionalValue,Sh,[]]));return d}getMinOffset(e,n){let o;return ct.forEach(this.Qe(n),u=>this.je(e,u).next(d=>{d?(!o||Ql(d.indexState.offset,o)<0)&&(o=d.indexState.offset):o=Ns.min()})).next(()=>o)}}function Pp(i){return ps(i,"collectionParents")}function Ml(i){return ps(i,"indexEntries")}function md(i){return ps(i,"indexConfiguration")}function yd(i){return ps(i,"indexState")}const wo={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ys{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new Ys(e,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Mh(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),d=[],g=IDBKeyRange.only(n.batchId);let D=0;const L=o.Wt({range:g},(pe,Oe,nt)=>(D++,nt.delete()));d.push(L.next(()=>{Pn(1===D)}));const H=[];for(const pe of n.mutations){const Oe=Ip(e,pe.key.path,n.batchId);d.push(u.delete(Oe)),H.push(pe.key)}return ct.waitFor(d).next(()=>H)}function vd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw nn();e=i.noDocument}return JSON.stringify(e).length}Ys.DEFAULT_COLLECTION_PERCENTILE=10,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ys.DEFAULT=new Ys(41943040,Ys.DEFAULT_COLLECTION_PERCENTILE,Ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ys.DISABLED=new Ys(-1,0,0);class xh{constructor(e,n,o,u){this.userId=e,this.M=n,this.indexManager=o,this.referenceDelegate=u,this.ln={}}static Yt(e,n,o,u){Pn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new xh(d,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).Wt({index:"userMutationsIndex",range:o},(u,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const d=$u(e),g=ou(e);return g.add({}).next(D=>{Pn("number"==typeof D);const L=new wh(D,n,o,u),H=function(nt,Nt,Ft){const vn=Ft.baseMutations.map(wi=>bl(nt.Jt,wi)),Qn=Ft.mutations.map(wi=>bl(nt.Jt,wi));return{userId:Nt,batchId:Ft.batchId,localWriteTimeMs:Ft.localWriteTime.toMillis(),baseMutations:vn,mutations:Qn}}(this.M,this.userId,L),pe=[];let Oe=new Lr((nt,Nt)=>_(nt.canonicalString(),Nt.canonicalString()));for(const nt of u){const Nt=Ip(this.userId,nt.key.path,D);Oe=Oe.add(nt.key.path.popLast()),pe.push(g.put(H)),pe.push(d.put(Nt,Om))}return Oe.forEach(nt=>{pe.push(this.indexManager.addToCollectionParentIndex(e,nt))}),e.addOnCommittedListener(()=>{this.ln[D]=L.keys()}),ct.waitFor(pe).next(()=>L)})}lookupMutationBatch(e,n){return ou(e).get(n).next(o=>o?(Pn(o.userId===this.userId),Bu(this.M,o)):null)}fn(e,n){return this.ln[n]?ct.resolve(this.ln[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.ln[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let d=null;return ou(e).Wt({index:"userMutationsIndex",range:u},(g,D,L)=>{D.userId===this.userId&&(Pn(D.batchId>=o),d=Bu(this.M,D)),L.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return ou(e).Wt({index:"userMutationsIndex",range:n,reverse:!0},(u,d,g)=>{o=d.batchId,g.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ou(e).qt("userMutationsIndex",n).next(o=>o.map(u=>Bu(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=ad(this.userId,n.path),u=IDBKeyRange.lowerBound(o),d=[];return $u(e).Wt({range:u},(g,D,L)=>{const[H,pe,Oe]=g,nt=Fo(pe);if(H===this.userId&&n.path.isEqual(nt))return ou(e).get(Oe).next(Nt=>{if(!Nt)throw nn();Pn(Nt.userId===this.userId),d.push(Bu(this.M,Nt))});L.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Lr(_);const u=[];return n.forEach(d=>{const g=ad(this.userId,d.path),D=IDBKeyRange.lowerBound(g),L=$u(e).Wt({range:D},(H,pe,Oe)=>{const[nt,Nt,Ft]=H,vn=Fo(Nt);nt===this.userId&&d.path.isEqual(vn)?o=o.add(Ft):Oe.done()});u.push(L)}),ct.waitFor(u).next(()=>this.dn(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,d=ad(this.userId,o),g=IDBKeyRange.lowerBound(d);let D=new Lr(_);return $u(e).Wt({range:g},(L,H,pe)=>{const[Oe,nt,Nt]=L,Ft=Fo(nt);Oe===this.userId&&o.isPrefixOf(Ft)?Ft.length===u&&(D=D.add(Nt)):pe.done()}).next(()=>this.dn(e,D))}dn(e,n){const o=[],u=[];return n.forEach(d=>{u.push(ou(e).get(d).next(g=>{if(null===g)throw nn();Pn(g.userId===this.userId),o.push(Bu(this.M,g))}))}),ct.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return Mh(e.Ht,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this._n(n.batchId)}),ct.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ct.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return $u(e).Wt({range:o},(d,g,D)=>{if(d[0]===this.userId){const L=Fo(d[1]);u.push(L)}else D.done()}).next(()=>{Pn(0===u.length)})})}containsKey(e,n){return kp(e,this.userId,n)}wn(e){return Fp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kp(i,e,n){const o=ad(e,n.path),u=o[1],d=IDBKeyRange.lowerBound(o);let g=!1;return $u(i).Wt({range:d,jt:!0},(D,L,H)=>{const[pe,Oe,nt]=D;pe===e&&Oe===u&&(g=!0),H.done()}).next(()=>g)}function ou(i){return ps(i,"mutations")}function $u(i){return ps(i,"documentMutations")}function Fp(i){return ps(i,"mutationQueues")}class Gu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Gu(0)}static yn(){return new Gu(-1)}}class Um{constructor(e,n){this.referenceDelegate=e,this.M=n}allocateTargetId(e){return this.pn(e).next(n=>{const o=new Gu(n.highestTargetId);return n.highestTargetId=o.next(),this.In(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(n=>B.fromTimestamp(new P(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.pn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.In(e,u)))}addTargetData(e,n){return this.Tn(e,n).next(()=>this.pn(e).next(o=>(o.targetCount+=1,this.En(n,o),this.In(e,o))))}updateTargetData(e,n){return this.Tn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>zn(e).delete(n.targetId)).next(()=>this.pn(e)).next(o=>(Pn(o.targetCount>0),o.targetCount-=1,this.In(e,o)))}removeTargets(e,n,o){let u=0;const d=[];return zn(e).Wt((g,D)=>{const L=Al(D);L.sequenceNumber<=n&&null===o.get(L.targetId)&&(u++,d.push(this.removeTargetData(e,L)))}).next(()=>ct.waitFor(d)).next(()=>u)}forEachTarget(e,n){return zn(e).Wt((o,u)=>{const d=Al(u);n(d)})}pn(e){return Rh(e).get("targetGlobalKey").next(n=>(Pn(null!==n),n))}In(e,n){return Rh(e).put("targetGlobalKey",n)}Tn(e,n){return zn(e).put(Ap(this.M,n))}En(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.pn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Po(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let d=null;return zn(e).Wt({range:u,index:"queryTargetsIndex"},(g,D,L)=>{const H=Al(D);Da(n,H.target)&&(d=H,L.done())}).next(()=>d)}addMatchingKeys(e,n,o){const u=[],d=Na(e);return n.forEach(g=>{const D=js(g.path);u.push(d.put({targetId:o,path:D})),u.push(this.referenceDelegate.addReference(e,o,g))}),ct.waitFor(u)}removeMatchingKeys(e,n,o){const u=Na(e);return ct.forEach(n,d=>{const g=js(d.path);return ct.waitFor([u.delete([o,g]),this.referenceDelegate.removeReference(e,o,d)])})}removeMatchingKeysForTargetId(e,n){const o=Na(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=Na(e);let d=Rr();return u.Wt({range:o,jt:!0},(g,D,L)=>{const H=Fo(g[1]),pe=new Qt(H);d=d.add(pe)}).next(()=>d)}containsKey(e,n){const o=js(n.path),u=IDBKeyRange.bound([o],[M(o)],!1,!0);let d=0;return Na(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([g,D],L,H)=>{0!==g&&(d++,H.done())}).next(()=>d>0)}Et(e,n){return zn(e).get(n).next(o=>o?Al(o):null)}}function zn(i){return ps(i,"targets")}function Rh(i){return ps(i,"targetGlobal")}function Na(i){return ps(i,"targetDocuments")}function au(i){return xl.apply(this,arguments)}function xl(){return xl=(0,f.Z)(function*(i){if(i.code!==st.FAILED_PRECONDITION||i.message!==ud)throw i;Vt("LocalStore","Unexpectedly lost primary lease")}),xl.apply(this,arguments)}function bo([i,e],[n,o]){const u=_(i,n);return 0===u?_(e,o):u}class Lp{constructor(e){this.An=e,this.buffer=new Lr(bo),this.Rn=0}bn(){return++this.Rn}Pn(e){const n=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();bo(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bm{constructor(e,n){this.garbageCollector=e,this.asyncQueue=n,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var n=this;const o=this.Vn?3e5:6e4;Vt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,f.Z)(function*(){n.vn=null,n.Vn=!0;try{yield e.collectGarbage(n.garbageCollector)}catch(u){Vu(u)?Vt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield au(u)}yield n.Sn(e)}))}}class Oh{constructor(e,n){this.Dn=e,this.params=n}calculateTargetCount(e,n){return this.Dn.Cn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return ct.resolve(ci.A);const o=new Lp(n);return this.Dn.forEachTarget(e,u=>o.Pn(u.sequenceNumber)).next(()=>this.Dn.xn(e,u=>o.Pn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.Dn.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.Dn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector","Garbage collection skipped; disabled"),ct.resolve(wo)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wo):this.Nn(e,n))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,n){let o,u,d,g,D,L,H;const pe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(Oe=>(Oe>this.params.maximumSequenceNumbersToCollect?(Vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Oe}`),u=this.params.maximumSequenceNumbersToCollect):u=Oe,g=Date.now(),this.nthSequenceNumber(e,u))).next(Oe=>(o=Oe,D=Date.now(),this.removeTargets(e,o,n))).next(Oe=>(d=Oe,L=Date.now(),this.removeOrphanedDocuments(e,o))).next(Oe=>(H=Date.now(),Ao()<=ie.in.DEBUG&&Vt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-pe}ms\n\tDetermined least recently used ${u} in `+(D-g)+`ms\n\tRemoved ${d} targets in `+(L-D)+`ms\n\tRemoved ${Oe} documents in `+(H-L)+`ms\nTotal Duration: ${H-pe}ms`),ct.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:d,documentsRemoved:Oe})))}}class Pa{constructor(e,n){this.db=e,this.garbageCollector=new Oh(this,n)}Cn(e){const n=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}kn(e){let n=0;return this.xn(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}xn(e,n){return this.Mn(e,(o,u)=>n(u))}addReference(e,n,o){return Rl(e,o)}removeReference(e,n,o){return Rl(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Rl(e,n)}On(e,n){return function(o,u){let d=!1;return Fp(o).zt(g=>kp(o,g,u).next(D=>(D&&(d=!0),ct.resolve(!D)))).next(()=>d)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let d=0;return this.Mn(e,(g,D)=>{if(D<=n){const L=this.On(e,g).next(H=>{if(!H)return d++,o.getEntry(e,g).next(()=>(o.removeEntry(g,B.min()),Na(e).delete([0,js(g.path)])))});u.push(L)}}).next(()=>ct.waitFor(u)).next(()=>o.apply(e)).next(()=>d)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Rl(e,n)}Mn(e,n){const o=Na(e);let u,d=ci.A;return o.Wt({index:"documentTargetsIndex"},([g,D],{path:L,sequenceNumber:H})=>{0===g?(d!==ci.A&&n(new Qt(Fo(u)),d),d=H,u=L):d=ci.A}).next(()=>{d!==ci.A&&n(new Qt(Fo(u)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Rl(i,e){return Na(i).put((o=i.currentSequenceNumber,{targetId:0,path:js(e.path),sequenceNumber:o}));var o}class Nh{constructor(){this.changes=new Zn(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?ct.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ph{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return Ol(e).put(o)}removeEntry(e,n,o){return Ol(e).delete(function(u,d){const g=u.path.toArray();return[g.slice(0,g.length-2),g[g.length-2],fc(d),g[g.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Fn(e,o)))}getEntry(e,n){let o=fr.newInvalidDocument(n);return Ol(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(u,d)=>{o=this.$n(n,d)}).next(()=>o)}Bn(e,n){let o={size:0,document:fr.newInvalidDocument(n)};return Ol(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(uu(n))},(u,d)=>{o={document:this.$n(n,d),size:vd(d)}}).next(()=>o)}getEntries(e,n){let o=si();return this.Ln(e,n,(u,d)=>{const g=this.$n(u,d);o=o.insert(u,g)}).next(()=>o)}Un(e,n){let o=si(),u=new $r(Qt.comparator);return this.Ln(e,n,(d,g)=>{const D=this.$n(d,g);o=o.insert(d,D),u=u.insert(d,vd(g))}).next(()=>({documents:o,qn:u}))}Ln(e,n,o){if(n.isEmpty())return ct.resolve();let u=new Lr(_d);n.forEach(L=>u=u.add(L));const d=IDBKeyRange.bound(uu(u.first()),uu(u.last())),g=u.getIterator();let D=g.getNext();return Ol(e).Wt({index:"documentKeyIndex",range:d},(L,H,pe)=>{const Oe=Qt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;D&&_d(D,Oe)<0;)o(D,null),D=g.getNext();D&&D.isEqual(Oe)&&(o(D,H),D=g.hasNext()?g.getNext():null),D?pe.Ut(uu(D)):pe.done()}).next(()=>{for(;D;)o(D,null),D=g.hasNext()?g.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),fc(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],d=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ol(e).qt(IDBKeyRange.bound(u,d,!0)).next(g=>{let D=si();for(const L of g){const H=this.$n(Qt.fromSegments(L.prefixPath.concat(L.collectionGroup,L.documentId)),L);D=D.insert(H.key,H)}return D})}getAllFromCollectionGroup(e,n,o,u){let d=si();const g=mc(n,o),D=mc(n,Ns.max());return Ol(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(g,D,!0)},(L,H,pe)=>{const Oe=this.$n(Qt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);d=d.insert(Oe.key,Oe),d.size===u&&pe.done()}).next(()=>d)}newChangeBuffer(e){return new $v(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return kh(e).get("remoteDocumentGlobalKey").next(n=>(Pn(!!n),n))}Fn(e,n){return kh(e).put("remoteDocumentGlobalKey",n)}$n(e,n){if(n){const o=function Vm(i,e){let n;if(e.document)n=id(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Qt.fromSegments(e.noDocument.path),u=so(e.noDocument.readTime);n=fr.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return nn();{const o=Qt.fromSegments(e.unknownDocument.path),u=so(e.unknownDocument.version);n=fr.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new P(o[0],o[1]);return B.fromTimestamp(u)}(e.readTime)),n}(this.M,n);if(!o.isNoDocument()||!o.version.isEqual(B.min()))return o}return fr.newInvalidDocument(e)}}class $v extends Nh{constructor(e,n){super(),this.Kn=e,this.trackRemovals=n,this.Gn=new Zn(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new Lr((d,g)=>_(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const D=this.Gn.get(d);if(n.push(this.Kn.removeEntry(e,d,D.readTime)),g.isValidDocument()){const L=Tp(this.Kn.M,g);u=u.add(d.path.popLast()),o+=vd(L)-D.size,n.push(this.Kn.addEntry(e,d,L))}else if(o-=D.size,this.trackRemovals){const L=Tp(this.Kn.M,g.convertToNoDocument(B.min()));n.push(this.Kn.addEntry(e,d,L))}}),u.forEach(d=>{n.push(this.Kn.indexManager.addToCollectionParentIndex(e,d))}),n.push(this.Kn.updateMetadata(e,o)),ct.waitFor(n)}getFromCache(e,n){return this.Kn.Bn(e,n).next(o=>(this.Gn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Kn.Un(e,n).next(({documents:o,qn:u})=>(u.forEach((d,g)=>{this.Gn.set(d,{size:g,readTime:o.get(d).readTime})}),o))}}function kh(i){return ps(i,"remoteDocumentGlobal")}function Ol(i){return ps(i,"remoteDocumentsV14")}function uu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mc(i,e){const n=e.documentKey.path.toArray();return[i,fc(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _d(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let d=0;d<n.length-2&&d<o.length-2;++d)if(u=_(n[d],o[d]),u)return u;return u=_(n.length,o.length),u||(u=_(n[n.length-2],o[o.length-2]),u||_(n[n.length-1],o[o.length-1]))}class Fh{constructor(e){this.M=e}kt(e,n,o,u){const d=new vh("createOrUpgrade",n);var D;o<1&&u>=1&&(e.createObjectStore("owner"),(D=e).createObjectStore("mutationQueues",{keyPath:"userId"}),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ep,{unique:!0}),D.createObjectStore("documentMutations"),Ed(e),function(D){D.createObjectStore("remoteDocuments")}(e));let g=ct.resolve();return o<3&&u>=3&&(0!==o&&(function(D){D.deleteObjectStore("targetDocuments"),D.deleteObjectStore("targets"),D.deleteObjectStore("targetGlobal")}(e),Ed(e)),g=g.next(()=>function(D){const L=D.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:B.min().toTimestamp(),targetCount:0};return L.put("targetGlobalKey",H)}(d))),o<4&&u>=4&&(0!==o&&(g=g.next(()=>function(D,L){return L.store("mutations").qt().next(H=>{D.deleteObjectStore("mutations"),D.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Ep,{unique:!0});const pe=L.store("mutations"),Oe=H.map(nt=>pe.put(nt));return ct.waitFor(Oe)})}(e,d))),g=g.next(()=>{!function(D){D.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(g=g.next(()=>this.Qn(d))),o<6&&u>=6&&(g=g.next(()=>(function(D){D.createObjectStore("remoteDocumentGlobal")}(e),this.jn(d)))),o<7&&u>=7&&(g=g.next(()=>this.Wn(d))),o<8&&u>=8&&(g=g.next(()=>this.zn(e,d))),o<9&&u>=9&&(g=g.next(()=>{!function(D){D.objectStoreNames.contains("remoteDocumentChanges")&&D.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(g=g.next(()=>this.Hn(d))),o<11&&u>=11&&(g=g.next(()=>{(function(D){D.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(D){D.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(g=g.next(()=>{!function(D){const L=D.createObjectStore("documentOverlays",{keyPath:ph});L.createIndex("collectionPathOverlayIndex",gh,{unique:!1}),L.createIndex("collectionGroupOverlayIndex",Lm,{unique:!1})}(e)})),o<13&&u>=13&&(g=g.next(()=>function(D){const L=D.createObjectStore("remoteDocumentsV14",{keyPath:Nm});L.createIndex("documentKeyIndex",Pm),L.createIndex("collectionGroupIndex",km)}(e)).next(()=>this.Jn(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(g=g.next(()=>{!function(D){D.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),D.createObjectStore("indexState",{keyPath:Bv}).createIndex("sequenceNumberIndex",wp,{unique:!1}),D.createObjectStore("indexEntries",{keyPath:jv}).createIndex("documentKeyIndex",sa,{unique:!1})}(e)})),g}jn(e){let n=0;return e.store("remoteDocuments").Wt((o,u)=>{n+=vd(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Qn(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.qt().next(u=>ct.forEach(u,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",g).next(D=>ct.forEach(D,L=>{Pn(L.userId===d.userId);const H=Bu(this.M,L);return Mh(e,d.userId,H).next(()=>{})}))}))}Wn(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const d=[];return o.Wt((g,D)=>{const L=new Zt(g),H=[0,js(L)];d.push(n.get(H).next(pe=>pe?ct.resolve():n.put({targetId:0,path:js(L),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ct.waitFor(d))})}zn(e,n){e.createObjectStore("collectionParents",{keyPath:Uv});const o=n.store("collectionParents"),u=new gd,d=g=>{if(u.add(g)){const D=g.lastSegment(),L=g.popLast();return o.put({collectionId:D,parent:js(L)})}};return n.store("remoteDocuments").Wt({jt:!0},(g,D)=>{const L=new Zt(g);return d(L.popLast())}).next(()=>n.store("documentMutations").Wt({jt:!0},([g,D,L],H)=>{const pe=Fo(D);return d(pe.popLast())}))}Hn(e){const n=e.store("targets");return n.Wt((o,u)=>{const d=Al(u),g=Ap(this.M,d);return n.put(g)})}Jn(e,n){const o=n.store("remoteDocuments"),u=[];return o.Wt((d,g)=>{const D=n.store("remoteDocumentsV14"),L=(H=g,H.document?new Qt(Zt.fromString(H.document.name).popFirst(5)):H.noDocument?Qt.fromSegments(H.noDocument.path):H.unknownDocument?Qt.fromSegments(H.unknownDocument.path):nn()).path.toArray();var H;const pe={prefixPath:L.slice(0,L.length-2),collectionGroup:L[L.length-2],documentId:L[L.length-1],readTime:g.readTime||[0,0],unknownDocument:g.unknownDocument,noDocument:g.noDocument,document:g.document,hasCommittedMutations:!!g.hasCommittedMutations};u.push(D.put(pe))}).next(()=>ct.waitFor(u))}}function Ed(i){i.createObjectStore("targetDocuments",{keyPath:Cl}).createIndex("documentTargetsIndex",ia,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Fm,{unique:!0}),i.createObjectStore("targetGlobal")}const Vp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Lh{constructor(e,n,o,u,d,g,D,L,H,pe,Oe=13){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Yn=d,this.window=g,this.document=D,this.Xn=H,this.Zn=pe,this.ts=Oe,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=nt=>Promise.resolve(),!Lh.vt())throw new vt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Pa(this,u),this.hs=n+"main",this.M=new dd(L),this.ls=new Ps(this.hs,this.ts,new Fh(this.M)),this.fs=new Um(this.referenceDelegate,this.M),this.ds=new Ph(this.M),this._s=new Sp,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===pe&&li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,Vp);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new ci(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var n=this;return this.cs=function(){var o=(0,f.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var n=(0,f.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,f.Z)(function*(){n.started&&(yield n.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Id(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(n=>{n||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(n=>this.isPrimary&&!n?this.Rs(e).next(()=>!1):!!n&&this.bs(e).next(()=>!0))).catch(e=>{if(Vu(e))return Vt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Vt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return yc(e).get("owner").next(n=>ct.resolve(this.Ps(n)))}Vs(e){return Id(e).delete(this.clientId)}vs(){var e=this;return(0,f.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=ps(o,"clientMetadata");return u.qt().next(d=>{const g=e.Ds(d,18e5),D=d.filter(L=>-1===g.indexOf(L));return ct.forEach(D,L=>u.delete(L.clientId)).next(()=>D)})}).catch(()=>[]);if(e.ws)for(const o of n)e.ws.removeItem(e.Cs(o.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?ct.resolve(!0):yc(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)){if(this.Ps(n)&&this.networkEnabled)return!0;if(!this.Ps(n)){if(!n.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,Vp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Id(e).qt().next(o=>void 0===this.Ds(o,5e3).find(u=>{if(this.clientId!==u.clientId){const g=!this.inForeground&&u.inForeground,D=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||g&&D)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Vt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,f.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Cp(n,ci.A);return e.Rs(o).next(()=>e.Vs(o))}),e.ls.close(),e.Os()})()}Ds(e,n){return e.filter(o=>this.Ss(o.updateTimeMs,n)&&!this.xs(o.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>Id(e).qt().next(n=>this.Ds(n,18e5).map(o=>o.clientId)))}get started(){return this.ns}getMutationQueue(e,n){return xh.Yt(e,this.M,n,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new Np(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return fd.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",d=14===(g=this.ts)?bp:13===g?yh:12===g?dc:11===g?mh:void nn();var g;let D;return this.ls.runTransaction(e,u,d,L=>(D=new Cp(L,this.es?this.es.next():ci.A),"readwrite-primary"===n?this.Es(D).next(H=>!!H||this.As(D)).next(H=>{if(!H)throw li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new vt(st.FAILED_PRECONDITION,ud);return o(D)}).next(H=>this.bs(D).next(()=>H)):this.$s(D).next(()=>o(D)))).then(L=>(D.raiseOnCommittedEvent(),L))}$s(e){return yc(e).get("owner").next(n=>{if(null!==n&&this.Ss(n.leaseTimestampMs,5e3)&&!this.xs(n.ownerId)&&!this.Ps(n)&&!(this.Zn||this.allowTabSynchronization&&n.allowTabSynchronization))throw new vt(st.FAILED_PRECONDITION,Vp)})}bs(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yc(e).put("owner",n)}static vt(){return Ps.vt()}Rs(e){const n=yc(e);return n.get("owner").next(o=>this.Ps(o)?(Vt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ct.resolve())}Ss(e,n){const o=Date.now();return!(e<o-n||e>o&&(li(`Detected an update time that is in the future: ${e} > ${o}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,V.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var n;try{const o=null!==(null===(n=this.ws)||void 0===n?void 0:n.getItem(this.Cs(e)));return Vt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return li("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){li("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function yc(i){return ps(i,"owner")}function Id(i){return ps(i,"clientMetadata")}function Vh(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Up{constructor(e,n,o){this.ds=e,this.Bs=n,this.indexManager=o}Ls(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,n).next(o=>this.Us(e,n,o))}Us(e,n,o){return this.ds.getEntry(e,n).next(u=>{for(const d of o)d.applyToLocalView(u);return u})}qs(e,n){e.forEach((o,u)=>{for(const d of n)d.applyToLocalView(u)})}Ks(e,n){return this.ds.getEntries(e,n).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,n){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>this.qs(n,o))}Qs(e,n,o){return Qt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.js(e,n.path):ko(n)?this.Ws(e,n,o):this.zs(e,n,o);var u}js(e,n){return this.Ls(e,new Qt(n)).next(o=>{let u=ta();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Ws(e,n,o){const u=n.collectionGroup;let d=ta();return this.indexManager.getCollectionParents(e,u).next(g=>ct.forEach(g,D=>{const L=(H=n,pe=D.child(u),new kr(pe,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,pe;return this.zs(e,L,o).next(H=>{H.forEach((pe,Oe)=>{d=d.insert(pe,Oe)})})}).next(()=>d))}zs(e,n,o){let u;return this.ds.getAllFromCollection(e,n.path,o).next(d=>(u=d,this.Bs.getAllMutationBatchesAffectingQuery(e,n))).next(d=>{for(const g of d)for(const D of g.mutations){const L=D.key;let H=u.get(L);null==H&&(H=fr.newInvalidDocument(L),u=u.insert(L,H)),sc(D,H,g.localWriteTime),H.isFoundDocument()||(u=u.remove(L))}}).next(()=>(u.forEach((d,g)=>{ec(n,g)||(u=u.remove(d))}),u))}}class Bp{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Hs=o,this.Js=u}static Ys(e,n){let o=Rr(),u=Rr();for(const d of n.docChanges)switch(d.type){case 0:o=o.add(d.doc.key);break;case 1:u=u.add(d.doc.key)}return new Bp(e,n.fromCache,o,u)}}class jp{constructor(){this.Xs=!1}initialize(e,n){this.Zs=e,this.indexManager=n,this.Xs=!0}Qs(e,n,o,u){return this.ti(e,n).next(d=>d||this.ei(e,n,u,o)).next(d=>d||this.ni(e,n))}ti(e,n){return ct.resolve(null)}ei(e,n,o,u){return function Ca(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(n)||u.isEqual(B.min())?this.ni(e,n):this.Zs.Ks(e,o).next(d=>{const g=this.si(n,d);return this.ii(n,g,o,u)?this.ni(e,n):(Ao()<=ie.in.DEBUG&&Vt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Xl(n)),this.ri(e,g,n,Yl(u,-1)))})}si(e,n){let o=new Lr(Ou(e));return n.forEach((u,d)=>{ec(e,d)&&(o=o.add(d))}),o}ii(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(u)>0)}ni(e,n){return Ao()<=ie.in.DEBUG&&Vt("QueryEngine","Using full collection scan to execute query:",Xl(n)),this.Zs.Qs(e,n,Ns.min())}ri(e,n,o,u){return this.Zs.Qs(e,o,u).next(d=>(n.forEach(g=>{d=d.insert(g.key,g)}),d))}}class Gv{constructor(e,n,o,u){this.persistence=e,this.oi=n,this.M=u,this.ui=new $r(_),this.ai=new Zn(d=>Po(d),Da),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(o)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new Up(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ui))}}function Uh(i,e,n,o){return new Gv(i,e,n,o)}function Bh(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,f.Z)(function*(i,e){const n=Wt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.Bs.getAllMutationBatches(o).next(d=>(u=d,n.li(e),n.Bs.getAllMutationBatches(o))).next(d=>{const g=[],D=[];let L=Rr();for(const H of u){g.push(H.batchId);for(const pe of H.mutations)L=L.add(pe.key)}for(const H of d){D.push(H.batchId);for(const pe of H.mutations)L=L.add(pe.key)}return n.fi.Ks(o,L).next(H=>({di:H,removedBatchIds:g,addedBatchIds:D}))})})}),jh.apply(this,arguments)}function $h(i,e){const n=Wt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),d=n.hi.newChangeBuffer({trackRemovals:!0});return function(g,D,L,H){const pe=L.batch,Oe=pe.keys();let nt=ct.resolve();return Oe.forEach(Nt=>{nt=nt.next(()=>H.getEntry(D,Nt)).next(Ft=>{const vn=L.docVersions.get(Nt);Pn(null!==vn),Ft.version.compareTo(vn)<0&&(pe.applyToRemoteDocument(Ft,L),Ft.isValidDocument()&&(Ft.setReadTime(L.commitVersion),H.addEntry(Ft)))})}),nt.next(()=>g.Bs.removeMutationBatch(D,pe))}(n,o,e,d).next(()=>d.apply(o)).next(()=>n.Bs.performConsistencyCheck(o)).next(()=>n.fi.Ks(o,u))})}function jm(i){const e=Wt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.fs.getLastRemoteSnapshotVersion(n))}function Hv(i,e){const n=Wt(i),o=e.snapshotVersion;let u=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.hi.newChangeBuffer({trackRemovals:!0});u=n.ui;const D=[];e.targetChanges.forEach((H,pe)=>{const Oe=u.get(pe);if(!Oe)return;D.push(n.fs.removeMatchingKeys(d,H.removedDocuments,pe).next(()=>n.fs.addMatchingKeys(d,H.addedDocuments,pe)));let nt=Oe.withSequenceNumber(d.currentSequenceNumber);var Nt,Ft,vn;e.targetMismatches.has(pe)?nt=nt.withResumeToken(Nr.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):H.resumeToken.approximateByteSize()>0&&(nt=nt.withResumeToken(H.resumeToken,o)),u=u.insert(pe,nt),Ft=nt,vn=H,(0===(Nt=Oe).resumeToken.approximateByteSize()||Ft.snapshotVersion.toMicroseconds()-Nt.snapshotVersion.toMicroseconds()>=3e8||vn.addedDocuments.size+vn.modifiedDocuments.size+vn.removedDocuments.size>0)&&D.push(n.fs.updateTargetData(d,nt))});let L=si();if(e.documentUpdates.forEach(H=>{e.resolvedLimboDocuments.has(H)&&D.push(n.persistence.referenceDelegate.updateLimboDocument(d,H))}),D.push($m(d,g,e.documentUpdates).next(H=>{L=H})),!o.isEqual(B.min())){const H=n.fs.getLastRemoteSnapshotVersion(d).next(pe=>n.fs.setTargetsMetadata(d,d.currentSequenceNumber,o));D.push(H)}return ct.waitFor(D).next(()=>g.apply(d)).next(()=>n.fi.Gs(d,L)).next(()=>L)}).then(d=>(n.ui=u,d))}function $m(i,e,n){let o=Rr();return n.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let d=si();return n.forEach((g,D)=>{const L=u.get(g);D.isNoDocument()&&D.version.isEqual(B.min())?(e.removeEntry(g,D.readTime),d=d.insert(g,D)):!L.isValidDocument()||D.version.compareTo(L.version)>0||0===D.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(D),d=d.insert(g,D)):Vt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",L.version," Watch version:",D.version)}),d})}function zv(i,e){const n=Wt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.Bs.getNextMutationBatchAfterBatchId(o,e)))}function vc(i,e){const n=Wt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.fs.getTargetData(o,e).next(d=>d?(u=d,ct.resolve(u)):n.fs.allocateTargetId(o).next(g=>(u=new Oa(e,g,0,o.currentSequenceNumber),n.fs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.ui=n.ui.insert(o.targetId,o),n.ai.set(e,o.targetId)),o})}function _c(i,e,n){return $p.apply(this,arguments)}function $p(){return $p=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=o.ui.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",d,g=>o.persistence.referenceDelegate.removeTarget(g,u)))}catch(g){if(!Vu(g))throw g;Vt("LocalStore",`Failed to update sequence numbers for target ${e}: ${g}`)}o.ui=o.ui.remove(e),o.ai.delete(u.target)}),$p.apply(this,arguments)}function Gh(i,e,n){const o=Wt(i);let u=B.min(),d=Rr();return o.persistence.runTransaction("Execute query","readonly",g=>function(D,L,H){const pe=Wt(D),Oe=pe.ai.get(H);return void 0!==Oe?ct.resolve(pe.ui.get(Oe)):pe.fs.getTargetData(L,H)}(o,g,io(e)).next(D=>{if(D)return u=D.lastLimboFreeSnapshotVersion,o.fs.getMatchingKeysForTargetId(g,D.targetId).next(L=>{d=L})}).next(()=>o.oi.Qs(g,e,n?u:B.min(),n?d:Rr())).next(D=>(ka(o,qc(e),D),{documents:D,_i:d})))}function Gm(i,e){const n=Wt(i),o=Wt(n.fs),u=n.ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",d=>o.Et(d,e).next(g=>g?g.target:null))}function Hm(i,e){const n=Wt(i),o=n.ci.get(e)||B.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.hi.getAllFromCollectionGroup(u,e,Yl(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(ka(n,e,u),u))}function ka(i,e,n){let o=B.min();n.forEach((u,d)=>{d.readTime.compareTo(o)>0&&(o=d.readTime)}),i.ci.set(e,o)}function zh(){return zh=(0,f.Z)(function*(i,e,n,o){const u=Wt(i);let d=Rr(),g=si();for(const H of n){const pe=e.wi(H.metadata.name);H.document&&(d=d.add(pe));const Oe=e.mi(H);Oe.setReadTime(e.gi(H.metadata.readTime)),g=g.insert(pe,Oe)}const D=u.hi.newChangeBuffer({trackRemovals:!0}),L=yield vc(u,(H=o,io(Fr(Zt.fromString(`__bundle__/docs/${H}`)))));var H;return u.persistence.runTransaction("Apply bundle documents","readwrite",H=>$m(H,D,g).next(pe=>(D.apply(H),pe)).next(pe=>u.fs.removeMatchingKeysForTargetId(H,L.targetId).next(()=>u.fs.addMatchingKeys(H,d,L.targetId)).next(()=>u.fi.Gs(H,pe)).next(()=>pe)))}),zh.apply(this,arguments)}function Gp(i,e){return Ec.apply(this,arguments)}function Ec(){return Ec=(0,f.Z)(function*(i,e,n=Rr()){const o=yield vc(i,io(Sl(e.bundledQuery))),u=Wt(i);return u.persistence.runTransaction("Save named query","readwrite",d=>{const g=fs(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u._s.saveNamedQuery(d,e);const D=o.withResumeToken(Nr.EMPTY_BYTE_STRING,g);return u.ui=u.ui.insert(D.targetId,D),u.fs.updateTargetData(d,D).next(()=>u.fs.removeMatchingKeysForTargetId(d,o.targetId)).next(()=>u.fs.addMatchingKeys(d,n,o.targetId)).next(()=>u._s.saveNamedQuery(d,e))})}),Ec.apply(this,arguments)}class Hp{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,n){return ct.resolve(this.yi.get(n))}saveBundleMetadata(e,n){var o;return this.yi.set(n.id,{id:(o=n).id,version:o.version,createTime:fs(o.createTime)}),ct.resolve()}getNamedQuery(e,n){return ct.resolve(this.pi.get(n))}saveNamedQuery(e,n){return this.pi.set(n.name,{name:(o=n).name,query:Sl(o.bundledQuery),readTime:fs(o.readTime)}),ct.resolve();var o}}class Wh{constructor(){this.overlays=new $r(Qt.comparator),this.Ii=new Map}getOverlay(e,n){return ct.resolve(this.overlays.get(n))}saveOverlays(e,n,o){return o.forEach((u,d)=>{this.Xt(e,n,d)}),ct.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.Ii.get(o);return void 0!==u&&(u.forEach(d=>this.overlays=this.overlays.remove(d)),this.Ii.delete(o)),ct.resolve()}getOverlaysForCollection(e,n,o){const u=Fu(),d=n.length+1,g=new Qt(n.child("")),D=this.overlays.getIteratorFrom(g);for(;D.hasNext();){const L=D.getNext().value,H=L.getKey();if(!n.isPrefixOf(H.path))break;H.path.length===d&&L.largestBatchId>o&&u.set(L.getKey(),L)}return ct.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let d=new $r((H,pe)=>H-pe);const g=this.overlays.getIterator();for(;g.hasNext();){const H=g.getNext().value;if(H.getKey().getCollectionGroup()===n&&H.largestBatchId>o){let pe=d.get(H.largestBatchId);null===pe&&(pe=Fu(),d=d.insert(H.largestBatchId,pe)),pe.set(H.getKey(),H)}}const D=Fu(),L=d.getIterator();for(;L.hasNext()&&(L.getNext().value.forEach((H,pe)=>D.set(H,pe)),!(D.size()>=u)););return ct.resolve(D)}Xt(e,n,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const g=this.Ii.get(u.largestBatchId).delete(o.key);this.Ii.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(o.key,new hc(n,o));let d=this.Ii.get(n);void 0===d&&(d=Rr(),this.Ii.set(n,d)),this.Ii.set(n,d.add(o.key))}}class Zh{constructor(){this.Ti=new Lr(oi.Ei),this.Ai=new Lr(oi.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,n){const o=new oi(e,n);this.Ti=this.Ti.add(o),this.Ai=this.Ai.add(o)}bi(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.Pi(new oi(e,n))}Vi(e,n){e.forEach(o=>this.removeReference(o,n))}vi(e){const n=new Qt(new Zt([])),o=new oi(n,e),u=new oi(n,e+1),d=[];return this.Ai.forEachInRange([o,u],g=>{this.Pi(g),d.push(g.key)}),d}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const n=new Qt(new Zt([])),o=new oi(n,e),u=new oi(n,e+1);let d=Rr();return this.Ai.forEachInRange([o,u],g=>{d=d.add(g.key)}),d}containsKey(e){const n=new oi(e,0),o=this.Ti.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class oi{constructor(e,n){this.key=e,this.Ci=n}static Ei(e,n){return Qt.comparator(e.key,n.key)||_(e.Ci,n.Ci)}static Ri(e,n){return _(e.Ci,n.Ci)||Qt.comparator(e.key,n.key)}}class zp{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Lr(oi.Ei)}checkEmpty(e){return ct.resolve(0===this.Bs.length)}addMutationBatch(e,n,o,u){const d=this.xi;this.xi++;const g=new wh(d,n,o,u);this.Bs.push(g);for(const D of u)this.Ni=this.Ni.add(new oi(D.key,d)),this.indexManager.addToCollectionParentIndex(e,D.key.path.popLast());return ct.resolve(g)}lookupMutationBatch(e,n){return ct.resolve(this.ki(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.Mi(n+1),d=u<0?0:u;return ct.resolve(this.Bs.length>d?this.Bs[d]:null)}getHighestUnacknowledgedBatchId(){return ct.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return ct.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new oi(n,0),u=new oi(n,Number.POSITIVE_INFINITY),d=[];return this.Ni.forEachInRange([o,u],g=>{const D=this.ki(g.Ci);d.push(D)}),ct.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new Lr(_);return n.forEach(u=>{const d=new oi(u,0),g=new oi(u,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([d,g],D=>{o=o.add(D.Ci)})}),ct.resolve(this.Oi(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let d=o;Qt.isDocumentKey(d)||(d=d.child(""));const g=new oi(new Qt(d),0);let D=new Lr(_);return this.Ni.forEachWhile(L=>{const H=L.key.path;return!!o.isPrefixOf(H)&&(H.length===u&&(D=D.add(L.Ci)),!0)},g),ct.resolve(this.Oi(D))}Oi(e){const n=[];return e.forEach(o=>{const u=this.ki(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Pn(0===this.Fi(n.batchId,"removed")),this.Bs.shift();let o=this.Ni;return ct.forEach(n.mutations,u=>{const d=new oi(u.key,n.batchId);return o=o.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Ni=o})}_n(e){}containsKey(e,n){const o=new oi(n,0),u=this.Ni.firstAfterOrEqual(o);return ct.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return ct.resolve()}Fi(e,n){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const n=this.Mi(e);return n<0||n>=this.Bs.length?null:this.Bs[n]}}class zm{constructor(e){this.$i=e,this.docs=new $r(Qt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),d=u?u.size:0,g=this.$i(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:g}),this.size+=g-d,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return ct.resolve(o?o.document.mutableCopy():fr.newInvalidDocument(n))}getEntries(e,n){let o=si();return n.forEach(u=>{const d=this.docs.get(u);o=o.insert(u,d?d.document.mutableCopy():fr.newInvalidDocument(u))}),ct.resolve(o)}getAllFromCollection(e,n,o){let u=si();const d=new Qt(n.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:D,value:{document:L}}=g.getNext();if(!n.isPrefixOf(D.path))break;D.path.length>n.length+1||Ql(fl(L),o)<=0||(u=u.insert(L.key,L.mutableCopy()))}return ct.resolve(u)}getAllFromCollectionGroup(e,n,o,u){nn()}Bi(e,n){return ct.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new qh(this)}getSize(e){return ct.resolve(this.size)}}class qh extends Nh{constructor(e){super(),this.Kn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Kn.addEntry(e,u)):this.Kn.removeEntry(o)}),ct.waitFor(n)}getFromCache(e,n){return this.Kn.getEntry(e,n)}getAllFromCache(e,n){return this.Kn.getEntries(e,n)}}class Wm{constructor(e){this.persistence=e,this.Li=new Zn(n=>Po(n),Da),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Zh,this.targetCount=0,this.Ki=Gu.gn()}forEachTarget(e,n){return this.Li.forEach((o,u)=>n(u)),ct.resolve()}getLastRemoteSnapshotVersion(e){return ct.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ct.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),ct.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.Ui&&(this.Ui=n),ct.resolve()}Tn(e){this.Li.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ki=new Gu(n),this.highestTargetId=n),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,n){return this.Tn(n),this.targetCount+=1,ct.resolve()}updateTargetData(e,n){return this.Tn(n),ct.resolve()}removeTargetData(e,n){return this.Li.delete(n.target),this.qi.vi(n.targetId),this.targetCount-=1,ct.resolve()}removeTargets(e,n,o){let u=0;const d=[];return this.Li.forEach((g,D)=>{D.sequenceNumber<=n&&null===o.get(D.targetId)&&(this.Li.delete(g),d.push(this.removeMatchingKeysForTargetId(e,D.targetId)),u++)}),ct.waitFor(d).next(()=>u)}getTargetCount(e){return ct.resolve(this.targetCount)}getTargetData(e,n){const o=this.Li.get(n)||null;return ct.resolve(o)}addMatchingKeys(e,n,o){return this.qi.bi(n,o),ct.resolve()}removeMatchingKeys(e,n,o){this.qi.Vi(n,o);const u=this.persistence.referenceDelegate,d=[];return u&&n.forEach(g=>{d.push(u.markPotentiallyOrphaned(e,g))}),ct.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.qi.vi(n),ct.resolve()}getMatchingKeysForTargetId(e,n){const o=this.qi.Di(n);return ct.resolve(o)}containsKey(e,n){return ct.resolve(this.qi.containsKey(n))}}class Wp{constructor(e,n){this.Gi={},this.overlays={},this.es=new ci(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new Wm(this),this.indexManager=new Ah,this.ds=new zm(o=>this.referenceDelegate.Qi(o)),this.M=new dd(n),this._s=new Hp(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Wh,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Gi[e.toKey()];return o||(o=new zp(n,this.referenceDelegate),this.Gi[e.toKey()]=o),o}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,n,o){Vt("MemoryPersistence","Starting transaction:",e);const u=new Zm(this.es.next());return this.referenceDelegate.ji(),o(u).next(d=>this.referenceDelegate.Wi(u).next(()=>d)).toPromise().then(d=>(u.raiseOnCommittedEvent(),d))}zi(e,n){return ct.or(Object.values(this.Gi).map(o=>()=>o.containsKey(e,n)))}}class Zm extends ld{constructor(e){super(),this.currentSequenceNumber=e}}class Kh{constructor(e){this.persistence=e,this.Hi=new Zh,this.Ji=null}static Yi(e){return new Kh(e)}get Xi(){if(this.Ji)return this.Ji;throw nn()}addReference(e,n,o){return this.Hi.addReference(o,n),this.Xi.delete(o.toString()),ct.resolve()}removeReference(e,n,o){return this.Hi.removeReference(o,n),this.Xi.add(o.toString()),ct.resolve()}markPotentiallyOrphaned(e,n){return this.Xi.add(n.toString()),ct.resolve()}removeTarget(e,n){this.Hi.vi(n.targetId).forEach(u=>this.Xi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(d=>this.Xi.add(d.toString()))}).next(()=>o.removeTargetData(e,n))}ji(){this.Ji=new Set}Wi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ct.forEach(this.Xi,o=>{const u=Qt.fromPath(o);return this.Zi(e,u).next(d=>{d||n.removeEntry(u,B.min())})}).next(()=>(this.Ji=null,n.apply(e)))}updateLimboDocument(e,n){return this.Zi(e,n).next(o=>{o?this.Xi.delete(n.toString()):this.Xi.add(n.toString())})}Qi(e){return 0}Zi(e,n){return ct.or([()=>ct.resolve(this.Hi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.zi(e,n)])}}function Nl(i,e){return`firestore_clients_${i}_${e}`}function Hu(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function Ic(i,e){return`firestore_targets_${i}_${e}`}class Fa{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static tr(e,n,o){const u=JSON.parse(o);let d,g="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(d=new vt(u.error.code,u.error.message))),g?new Fa(e,n,u.state,d):(li("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class La{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static tr(e,n){const o=JSON.parse(n);let u,d="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new vt(o.error.code,o.error.message))),d?new La(e,o.state,u):(li("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Va{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static tr(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,d=Lu();for(let g=0;u&&g<o.activeTargetIds.length;++g)u=Zl(o.activeTargetIds[g]),d=d.add(o.activeTargetIds[g]);return u?new Va(e,d):(li("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Yh{constructor(e,n){this.clientId=e,this.onlineState=n}static tr(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Yh(n.clientId,n.onlineState):(li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wd{constructor(){this.activeTargetIds=Lu()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bd{constructor(e,n,o,u,d){this.window=e,this.Yn=n,this.persistenceKey=o,this.ir=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new $r(_),this.started=!1,this.cr=[];const g=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.hr=Nl(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new wd),this.dr=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(D){return`firestore_bundle_loaded_v2_${D}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,f.Z)(function*(){const n=yield e.syncEngine.Fs();for(const u of n){if(u===e.ir)continue;const d=e.getItem(Nl(e.persistenceKey,u));if(d){const g=Va.tr(u,d);g&&(e.ar=e.ar.insert(g.clientId,g))}}e.yr();const o=e.storage.getItem(e.mr);if(o){const u=e.pr(o);u&&e.Ir(u)}for(const u of e.cr)e.ur(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let n=!1;return this.ar.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,n,o){this.Er(e,n,o),this.Ar(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(Ic(this.persistenceKey,e));if(o){const u=La.tr(e,o);u&&(n=u.state)}}return this.Rr.nr(e),this.yr(),n}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ic(this.persistenceKey,e))}updateQueryState(e,n,o){this.br(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Ar(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Vt("SharedClientState","READ",e,n),n}setItem(e,n){Vt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Vt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Vt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.hr)return void li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,f.Z)(function*(){if(n.started){if(null!==o.key)if(n.dr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Sr(u,null)}{const u=n.Dr(o.key,o.newValue);if(u)return n.Sr(u.clientId,u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Cr(o.key,o.newValue);if(u)return n.Nr(u)}}else if(n.wr.test(o.key)){if(null!==o.newValue){const u=n.kr(o.key,o.newValue);if(u)return n.Mr(u)}}else if(o.key===n.mr){if(null!==o.newValue){const u=n.pr(o.newValue);if(u)return n.Ir(u)}}else if(o.key===n.lr){const u=function(d){let g=ci.A;if(null!=d)try{const D=JSON.parse(d);Pn("number"==typeof D),g=D}catch(D){li("SharedClientState","Failed to read sequence number from WebStorage",D)}return g}(o.newValue);u!==ci.A&&n.sequenceNumberHandler(u)}else if(o.key===n.gr){const u=n.Or(o.newValue);yield Promise.all(u.map(d=>n.syncEngine.Fr(d)))}}else n.cr.push(o)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,n,o){const u=new Fa(this.currentUser,e,n,o),d=Hu(this.persistenceKey,this.currentUser,e);this.setItem(d,u.er())}Ar(e){const n=Hu(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,n,o){const u=Ic(this.persistenceKey,e),d=new La(e,n,o);this.setItem(u,d.er())}Vr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.gr,n)}vr(e){const n=this.dr.exec(e);return n?n[1]:null}Dr(e,n){const o=this.vr(e);return Va.tr(o,n)}Cr(e,n){const o=this._r.exec(e),u=Number(o[1]);return Fa.tr(new qr(void 0!==o[2]?o[2]:null),u,n)}kr(e,n){const o=this.wr.exec(e),u=Number(o[1]);return La.tr(u,n)}pr(e){return Yh.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var n=this;return(0,f.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.$r(e.batchId,e.state,e.error);Vt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,n){const o=n?this.ar.insert(e,n):this.ar.remove(e),u=this.Tr(this.ar),d=this.Tr(o),g=[],D=[];return d.forEach(L=>{u.has(L)||g.push(L)}),u.forEach(L=>{d.has(L)||D.push(L)}),this.syncEngine.Lr(g,D).then(()=>{this.ar=o})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let n=Lu();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class Dd{constructor(){this.Ur=new wd,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,n,o){this.qr[e]=n}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new wd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Qh{Kr(e){}shutdown(){}}class Jh{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Vt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Vt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Cd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qm{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class Zp extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,d){const g=this.ho(e,n);Vt("RestConnection","Sending: ",g,o);const D={};return this.lo(D,u,d),this.fo(e,g,D,o).then(L=>(Vt("RestConnection","Received: ",L),L),L=>{throw yo("RestConnection",`${e} failed with error: `,L,"url: ",g,"request:",o),L})}_o(e,n,o,u,d){return this.co(e,n,o,u,d)}lo(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Bs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,d)=>e[d]=u),o&&o.headers.forEach((u,d)=>e[d]=u)}ho(e,n){return`${this.uo}/v1/${n}:${Cd[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,o,u){return new Promise((d,g)=>{const D=new ls;D.listenOnce(To.COMPLETE,()=>{try{switch(D.getLastErrorCode()){case us.NO_ERROR:const H=D.getResponseJson();Vt("Connection","XHR received:",JSON.stringify(H)),d(H);break;case us.TIMEOUT:Vt("Connection",'RPC "'+e+'" timed out'),g(new vt(st.DEADLINE_EXCEEDED,"Request time out"));break;case us.HTTP_ERROR:const pe=D.getStatus();if(Vt("Connection",'RPC "'+e+'" failed with status:',pe,"response text:",D.getResponseText()),pe>0){const Oe=D.getResponseJson().error;if(Oe&&Oe.status&&Oe.message){const nt=function(Nt){const Ft=Nt.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Ft)>=0?Ft:st.UNKNOWN}(Oe.status);g(new vt(nt,Oe.message))}else g(new vt(st.UNKNOWN,"Server responded with status "+D.getStatus()))}else g(new vt(st.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Vt("Connection",'RPC "'+e+'" completed.')}});const L=JSON.stringify(u);D.send(n,"POST",L,o,15)})}wo(e,n,o){const u=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=zl(),g=fa(),D={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(D.xmlHttpFactory=new bu({})),this.lo(D.initMessageHeaders,n,o),(0,V.uI)()||(0,V.b$)()||(0,V.d)()||(0,V.w1)()||(0,V.Mn)()||(0,V.ru)()||(D.httpHeadersOverwriteParam="$httpHeaders");const L=u.join("");Vt("Connection","Creating WebChannel: "+L,D);const H=d.createWebChannel(L,D);let pe=!1,Oe=!1;const nt=new qm({Jr:Ft=>{Oe?Vt("Connection","Not sending because WebChannel is closed:",Ft):(pe||(Vt("Connection","Opening WebChannel transport."),H.open(),pe=!0),Vt("Connection","WebChannel sending:",Ft),H.send(Ft))},Yr:()=>H.close()}),Nt=(Ft,vn,Qn)=>{Ft.listen(vn,wi=>{try{Qn(wi)}catch(Hi){setTimeout(()=>{throw Hi},0)}})};return Nt(H,Wo.EventType.OPEN,()=>{Oe||Vt("Connection","WebChannel transport opened.")}),Nt(H,Wo.EventType.CLOSE,()=>{Oe||(Oe=!0,Vt("Connection","WebChannel transport closed"),nt.ro())}),Nt(H,Wo.EventType.ERROR,Ft=>{Oe||(Oe=!0,yo("Connection","WebChannel transport errored:",Ft),nt.ro(new vt(st.UNAVAILABLE,"The operation could not be completed")))}),Nt(H,Wo.EventType.MESSAGE,Ft=>{var vn;if(!Oe){const Qn=Ft.data[0];Pn(!!Qn);const wi=Qn,Hi=wi.error||(null===(vn=wi[0])||void 0===vn?void 0:vn.error);if(Hi){Vt("Connection","WebChannel received error:",Hi);const bi=Hi.status;let Ls=function(xi){const $s=$e[xi];if(void 0!==$s)return Rn($s)}(bi),ts=Hi.message;void 0===Ls&&(Ls=st.INTERNAL,ts="Unknown error status: "+bi+" with message "+Hi.message),Oe=!0,nt.ro(new vt(Ls,ts)),H.close()}else Vt("Connection","WebChannel received:",Qn),nt.oo(Qn)}}),Nt(g,pa.STAT_EVENT,Ft=>{Ft.stat===Si.PROXY?Vt("Connection","Detected buffering proxy"):Ft.stat===Si.NOPROXY&&Vt("Connection","Detected no buffering proxy")}),setTimeout(()=>{nt.io()},0),nt}}function Km(){return"undefined"!=typeof window?window:null}function wc(){return"undefined"!=typeof document?document:null}function Pl(i){return new Im(i,!0)}class Xh{constructor(e,n,o=1e3,u=1.5,d=6e4){this.Yn=e,this.timerId=n,this.mo=o,this.yo=u,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),o=Math.max(0,Date.now()-this.Eo),u=Math.max(0,n-o);u>0&&Vt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,u,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class ef{constructor(e,n,o,u,d,g,D,L){this.Yn=e,this.Vo=o,this.vo=u,this.So=d,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=D,this.listener=L,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new Xh(e,n)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,f.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,f.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,n){var o=this;return(0,f.Z)(function*(){o.Uo(),o.qo(),o.No.cancel(),o.Do++,4!==e?o.No.reset():n&&n.code===st.RESOURCE_EXHAUSTED?(li(n.toString()),li("Using maximum backoff delay to prevent overloading the backend."),o.No.Ao()):n&&n.code===st.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Ko(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.eo(n)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Do===n&&this.Qo(o,u)},o=>{e(()=>{const u=new vt(st.UNKNOWN,"Fetching auth token failed: "+o.message);return this.jo(u)})})}Qo(e,n){const o=this.Go(this.Do);this.stream=this.Wo(e,n),this.stream.Xr(()=>{o(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(u=>{o(()=>this.jo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Oo(){var e=this;this.state=5,this.No.Ro((0,f.Z)(function*(){e.state=0,e.start()}))}jo(e){return Vt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return n=>{this.Yn.enqueueAndForget(()=>this.Do===e?n():(Vt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ym extends ef{constructor(e,n,o,u,d,g){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,g),this.M=d}Wo(e,n){return this.So.wo("Listen",e,n)}onMessage(e){this.No.reset();const n=function Cm(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:nn(),u=e.targetChange.targetIds||[],d=function(L,H){return L.N?(Pn(void 0===H||"string"==typeof H),Nr.fromBase64String(H||"")):(Pn(void 0===H||H instanceof Uint8Array),Nr.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),g=e.targetChange.cause,D=g&&function(L){const H=void 0===L.code?st.UNKNOWN:Rn(L.code);return new vt(H,L.message||"")}(g);n=new tu(o,u,d,D||null)}else if("documentChange"in e){const o=e.documentChange,u=di(i,o.document.name),d=fs(o.document.updateTime),g=new Xi({mapValue:{fields:o.document.fields}}),D=fr.newFoundDocument(u,d,g);n=new ra(o.targetIds||[],o.removedTargetIds||[],D.key,D)}else if("documentDelete"in e){const o=e.documentDelete,u=di(i,o.document),d=o.readTime?fs(o.readTime):B.min(),g=fr.newNoDocument(u,d);n=new ra([],o.removedTargetIds||[],g.key,g)}else if("documentRemove"in e){const o=e.documentRemove,u=di(i,o.document);n=new ra([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return nn();{const o=e.filter,d=new ne(o.count||0);n=new nd(o.targetId,d)}}var L;return n}(this.M,e),o=function(u){if(!("targetChange"in u))return B.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?B.min():d.readTime?fs(d.readTime):B.min()}(e);return this.listener.zo(n,o)}Ho(e){const n={};n.database=Il(this.M),n.addTarget=function(u,d){let g;const D=d.target;return g=Mu(D)?{documents:mp(u,D)}:{query:fh(u,D)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=fp(u,d.resumeToken):d.snapshotVersion.compareTo(B.min())>0&&(g.readTime=lc(u,d.snapshotVersion.toTimestamp())),g}(this.M,e);const o=function Tm(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Lo(n)}Jo(e){const n={};n.database=Il(this.M),n.removeTarget=e,this.Lo(n)}}class Qm extends ef{constructor(e,n,o,u,d,g){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,g),this.M=d,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,n){return this.So.wo("Write",e,n)}onMessage(e){if(Pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const n=function gp(i,e){return i&&i.length>0?(Pn(void 0!==e),i.map(n=>function(o,u){let d=fs(o.updateTime?o.updateTime:u);return d.isEqual(B.min())&&(d=fs(u)),new lh(d,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=fs(e.commitTime);return this.listener.tu(o,n)}return Pn(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Il(this.M),this.Lo(e)}Zo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>bl(this.M,o))};this.Lo(n)}}class oo extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.So=o,this.M=u,this.su=!1}iu(){if(this.su)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So.co(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(st.UNKNOWN,u.toString())})}_o(e,n,o){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.So._o(e,n,o,u,d)).catch(u=>{throw"FirebaseError"===u.name?(u.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new vt(st.UNKNOWN,u.toString())})}terminate(){this.su=!0}}class Jm{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(li(n),this.uu=!1):Vt("OnlineStateTracker",n)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class Xm{constructor(e,n,o,u,d){var g=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=d,this.gu.Kr(D=>{o.enqueueAndForget((0,f.Z)(function*(){var L;Ua(g)&&(Vt("RemoteStore","Restarting streams for network reachability change."),yield(L=(0,f.Z)(function*(H){const pe=Wt(H);pe.wu.add(4),yield zu(pe),pe.yu.set("Unknown"),pe.wu.delete(4),yield Td(pe)}),function(H){return L.apply(this,arguments)})(g))}))}),this.yu=new Jm(o,u)}}function Td(i){return qp.apply(this,arguments)}function qp(){return qp=(0,f.Z)(function*(i){if(Ua(i))for(const e of i.mu)yield e(!0)}),qp.apply(this,arguments)}function zu(i){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,f.Z)(function*(i){for(const e of i.mu)yield e(!1)}),Kp.apply(this,arguments)}function Ad(i,e){const n=Wt(i);n._u.has(e.targetId)||(n._u.set(e.targetId,e),nf(n)?tf(n):Tc(n).Mo()&&Sd(n,e))}function Wu(i,e){const n=Wt(i),o=Tc(n);n._u.delete(e),o.Mo()&&Yp(n,e),0===n._u.size&&(o.Mo()?o.$o():Ua(n)&&n.yu.set("Unknown"))}function Sd(i,e){i.pu.Z(e.targetId),Tc(i).Ho(e)}function Yp(i,e){i.pu.Z(e),Tc(i).Jo(e)}function tf(i){i.pu=new $i({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i._u.get(e)||null}),Tc(i).start(),i.yu.au()}function nf(i){return Ua(i)&&!Tc(i).ko()&&i._u.size>0}function Ua(i){return 0===Wt(i).wu.size}function Qp(i){i.pu=void 0}function Jp(i){return rf.apply(this,arguments)}function rf(){return rf=(0,f.Z)(function*(i){i._u.forEach((e,n)=>{Sd(i,e)})}),rf.apply(this,arguments)}function ey(i,e){return Md.apply(this,arguments)}function Md(){return Md=(0,f.Z)(function*(i,e){Qp(i),nf(i)?(i.yu.lu(e),tf(i)):i.yu.set("Unknown")}),Md.apply(this,arguments)}function Xp(i,e,n){return sf.apply(this,arguments)}function sf(){return sf=(0,f.Z)(function*(i,e,n){if(i.yu.set("Online"),e instanceof tu&&2===e.state&&e.cause)try{yield(o=(0,f.Z)(function*(u,d){const g=d.cause;for(const D of d.targetIds)u._u.has(D)&&(yield u.remoteSyncer.rejectListen(D,g),u._u.delete(D),u.pu.removeTarget(D))}),function(u,d){return o.apply(this,arguments)})(i,e)}catch(o){Vt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield ao(i,o)}else if(e instanceof ra?i.pu.ut(e):e instanceof nd?i.pu._t(e):i.pu.ht(e),!n.isEqual(B.min()))try{const o=yield jm(i.localStore);n.compareTo(o)>=0&&(yield function(u,d){const g=u.pu.yt(d);return g.targetChanges.forEach((D,L)=>{if(D.resumeToken.approximateByteSize()>0){const H=u._u.get(L);H&&u._u.set(L,H.withResumeToken(D.resumeToken,d))}}),g.targetMismatches.forEach(D=>{const L=u._u.get(D);if(!L)return;u._u.set(D,L.withResumeToken(Nr.EMPTY_BYTE_STRING,L.snapshotVersion)),Yp(u,D);const H=new Oa(L.target,D,1,L.sequenceNumber);Sd(u,H)}),u.remoteSyncer.applyRemoteEvent(g)}(i,n))}catch(o){Vt("RemoteStore","Failed to raise snapshot:",o),yield ao(i,o)}var o}),sf.apply(this,arguments)}function ao(i,e,n){return bc.apply(this,arguments)}function bc(){return bc=(0,f.Z)(function*(i,e,n){if(!Vu(e))throw e;i.wu.add(1),yield zu(i),i.yu.set("Offline"),n||(n=()=>jm(i.localStore)),i.asyncQueue.enqueueRetryable((0,f.Z)(function*(){Vt("RemoteStore","Retrying IndexedDB access"),yield n(),i.wu.delete(1),yield Td(i)}))}),bc.apply(this,arguments)}function eg(i,e){return e().catch(n=>ao(i,n,e))}function kl(i){return tg.apply(this,arguments)}function tg(){return tg=(0,f.Z)(function*(i){const e=Wt(i),n=lu(e);let o=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;ng(e);)try{const u=yield zv(e.localStore,o);if(null===u){0===e.du.length&&n.$o();break}o=u.batchId,ty(e,u)}catch(u){yield ao(e,u)}rg(e)&&ig(e)}),tg.apply(this,arguments)}function ng(i){return Ua(i)&&i.du.length<10}function ty(i,e){i.du.push(e);const n=lu(i);n.Mo()&&n.Xo&&n.Zo(e.mutations)}function rg(i){return Ua(i)&&!lu(i).ko()&&i.du.length>0}function ig(i){lu(i).start()}function of(i){return af.apply(this,arguments)}function af(){return af=(0,f.Z)(function*(i){lu(i).nu()}),af.apply(this,arguments)}function ny(i){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,f.Z)(function*(i){const e=lu(i);for(const n of i.du)e.Zo(n.mutations)}),Fl.apply(this,arguments)}function uf(i,e,n){return lf.apply(this,arguments)}function lf(){return lf=(0,f.Z)(function*(i,e,n){const o=i.du.shift(),u=cd.from(o,e,n);yield eg(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield kl(i)}),lf.apply(this,arguments)}function cf(i,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,f.Z)(function*(i,e){var n;e&&lu(i).Xo&&(yield(n=(0,f.Z)(function*(o,u){if(cn(d=u.code)&&d!==st.ABORTED){const g=o.du.shift();lu(o).Fo(),yield eg(o,()=>o.remoteSyncer.rejectFailedWrite(g.batchId,u)),yield kl(o)}var d}),function(o,u){return n.apply(this,arguments)})(i,e)),rg(i)&&ig(i)}),Dc.apply(this,arguments)}function df(i,e){return sg.apply(this,arguments)}function sg(){return sg=(0,f.Z)(function*(i,e){const n=Wt(i);n.asyncQueue.verifyOperationInProgress(),Vt("RemoteStore","RemoteStore received new credentials");const o=Ua(n);n.wu.add(3),yield zu(n),o&&n.yu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.wu.delete(3),yield Td(n)}),sg.apply(this,arguments)}function og(i,e){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,f.Z)(function*(i,e){const n=Wt(i);e?(n.wu.delete(2),yield Td(n)):e||(n.wu.add(2),yield zu(n),n.yu.set("Unknown"))}),Cc.apply(this,arguments)}function Tc(i){return i.Iu||(i.Iu=function(e,n,o){const u=Wt(e);return u.iu(),new Ym(n,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:Jp.bind(null,i),eo:ey.bind(null,i),zo:Xp.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Iu.Fo(),nf(i)?tf(i):i.yu.set("Unknown")):(yield i.Iu.stop(),Qp(i))});return function(n){return e.apply(this,arguments)}}())),i.Iu}function lu(i){return i.Tu||(i.Tu=function(e,n,o){const u=Wt(e);return u.iu(),new Qm(n,u.So,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{Xr:of.bind(null,i),eo:cf.bind(null,i),eu:ny.bind(null,i),tu:uf.bind(null,i)}),i.mu.push(function(){var e=(0,f.Z)(function*(n){n?(i.Tu.Fo(),yield kl(i)):(yield i.Tu.stop(),i.du.length>0&&(Vt("RemoteStore",`Stopping write stream with ${i.du.length} pending writes`),i.du=[]))});return function(n){return e.apply(this,arguments)}}())),i.Tu}class xd{constructor(e,n,o,u,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=d,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(e,n,o,u,d){const g=Date.now()+o,D=new xd(e,n,g,u,d);return D.start(o),D}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zu(i,e){if(li("AsyncQueue",`${e}: ${i}`),Vu(i))return new vt(st.UNAVAILABLE,`${e}: ${i}`);throw i}class qu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Qt.comparator(n.key,o.key):(n,o)=>Qt.comparator(n.key,o.key),this.keyedMap=ta(),this.sortedSet=new $r(this.comparator)}static emptySet(e){return new qu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,d=o.getNext().key;if(!u.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new qu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class hf{constructor(){this.Eu=new $r(Qt.comparator)}track(e){const n=e.doc.key,o=this.Eu.get(n);o?0!==e.type&&3===o.type?this.Eu=this.Eu.insert(n,e):3===e.type&&1!==o.type?this.Eu=this.Eu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Eu=this.Eu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Eu=this.Eu.remove(n):1===e.type&&2===o.type?this.Eu=this.Eu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Eu=this.Eu.insert(n,{type:2,doc:e.doc}):nn():this.Eu=this.Eu.insert(n,e)}Au(){const e=[];return this.Eu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Ku{constructor(e,n,o,u,d,g,D,L){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=D,this.excludesMetadataChanges=L}static fromInitialDocuments(e,n,o,u){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new Ku(e,n,qu.emptySet(n),d,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Ba{constructor(){this.Ru=void 0,this.listeners=[]}}class Rd{constructor(){this.queries=new Zn(e=>yl(e),Ru),this.onlineState="Unknown",this.bu=new Set}}function ff(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.query;let u=!1,d=n.queries.get(o);if(d||(u=!0,d=new Ba),u)try{d.Ru=yield n.onListen(o)}catch(g){const D=Zu(g,`Initialization of query '${Xl(e.query)}' failed`);return void e.onError(D)}n.queries.set(o,d),d.listeners.push(e),e.Pu(n.onlineState),d.Ru&&e.Vu(d.Ru)&&Yu(n)}),pf.apply(this,arguments)}function ag(i,e){return Ac.apply(this,arguments)}function Ac(){return Ac=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.query;let u=!1;const d=n.queries.get(o);if(d){const g=d.listeners.indexOf(e);g>=0&&(d.listeners.splice(g,1),u=0===d.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Ac.apply(this,arguments)}function ug(i,e){const n=Wt(i);let o=!1;for(const u of e){const g=n.queries.get(u.query);if(g){for(const D of g.listeners)D.Vu(u)&&(o=!0);g.Ru=u}}o&&Yu(n)}function gf(i,e,n){const o=Wt(i),u=o.queries.get(e);if(u)for(const d of u.listeners)d.onError(n);o.queries.delete(e)}function Yu(i){i.bu.forEach(e=>{e.next()})}class mf{constructor(e,n,o){this.query=e,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=o||{}}Vu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ku(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),n=!0):this.xu(e,this.onlineState)&&(this.Nu(e),n=!0),this.Du=e,n}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let n=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),n=!0),n}xu(e,n){return!e.fromCache||!(this.options.ku&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class yf{constructor(e,n){this.payload=e,this.byteLength=n}Mu(){return"metadata"in this.payload}}class vf{constructor(e){this.M=e}wi(e){return di(this.M,e)}mi(e){return e.metadata.exists?id(this.M,e.document,!1):fr.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return fs(e)}}class lg{constructor(e,n,o){this.Ou=e,this.localStore=n,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=_f(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}$u(e){const n=new Map,o=new vf(this.M);for(const u of e)if(u.metadata.queries){const d=o.wi(u.metadata.name);for(const g of u.metadata.queries){const D=(n.get(g)||Rr()).add(d);n.set(g,D)}}return n}complete(){var e=this;return(0,f.Z)(function*(){const n=yield function Hh(i,e,n,o){return zh.apply(this,arguments)}(e.localStore,new vf(e.M),e.documents,e.Ou.id),o=e.$u(e.documents);for(const u of e.queries)yield Gp(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:n}})()}}function _f(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class cg{constructor(e){this.key=e}}class Od{constructor(e){this.key=e}}class dg{constructor(e,n){this.query=e,this.Uu=n,this.qu=null,this.current=!1,this.Ku=Rr(),this.mutatedKeys=Rr(),this.Gu=Ou(e),this.Qu=new qu(this.Gu)}get ju(){return this.Uu}Wu(e,n){const o=n?n.zu:new hf,u=n?n.Qu:this.Qu;let d=n?n.mutatedKeys:this.mutatedKeys,g=u,D=!1;const L="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,H="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((pe,Oe)=>{const nt=u.get(pe),Nt=ec(this.query,Oe)?Oe:null,Ft=!!nt&&this.mutatedKeys.has(nt.key),vn=!!Nt&&(Nt.hasLocalMutations||this.mutatedKeys.has(Nt.key)&&Nt.hasCommittedMutations);let Qn=!1;nt&&Nt?nt.data.isEqual(Nt.data)?Ft!==vn&&(o.track({type:3,doc:Nt}),Qn=!0):this.Hu(nt,Nt)||(o.track({type:2,doc:Nt}),Qn=!0,(L&&this.Gu(Nt,L)>0||H&&this.Gu(Nt,H)<0)&&(D=!0)):!nt&&Nt?(o.track({type:0,doc:Nt}),Qn=!0):nt&&!Nt&&(o.track({type:1,doc:nt}),Qn=!0,(L||H)&&(D=!0)),Qn&&(Nt?(g=g.add(Nt),d=vn?d.add(pe):d.delete(pe)):(g=g.delete(pe),d=d.delete(pe)))}),null!==this.query.limit)for(;g.size>this.query.limit;){const pe="F"===this.query.limitType?g.last():g.first();g=g.delete(pe.key),d=d.delete(pe.key),o.track({type:1,doc:pe})}return{Qu:g,zu:o,ii:D,mutatedKeys:d}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Au();d.sort((H,pe)=>function(Oe,nt){const Nt=Ft=>{switch(Ft){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return Nt(Oe)-Nt(nt)}(H.type,pe.type)||this.Gu(H.doc,pe.doc)),this.Ju(o);const g=n?this.Yu():[],D=0===this.Ku.size&&this.current?1:0,L=D!==this.qu;return this.qu=D,0!==d.length||L?{snapshot:new Ku(this.query,e.Qu,u,d,e.mutatedKeys,0===D,L,!1),Xu:g}:{Xu:g}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new hf,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.Uu=this.Uu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Uu=this.Uu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Rr(),this.Qu.forEach(o=>{this.Zu(o.key)&&(this.Ku=this.Ku.add(o.key))});const n=[];return e.forEach(o=>{this.Ku.has(o)||n.push(new Od(o))}),this.Ku.forEach(o=>{e.has(o)||n.push(new cg(o))}),n}ta(e){this.Uu=e._i,this.Ku=Rr();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ea(){return Ku.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class ry{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class hg{constructor(e){this.key=e,this.na=!1}}class Ll{constructor(e,n,o,u,d,g){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.sa={},this.ia=new Zn(D=>yl(D),Ru),this.ra=new Map,this.oa=new Set,this.ua=new $r(Qt.comparator),this.aa=new Map,this.ca=new Zh,this.ha={},this.la=new Map,this.fa=Gu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function fg(i,e){return Ef.apply(this,arguments)}function Ef(){return Ef=(0,f.Z)(function*(i,e){const n=Rf(i);let o,u;const d=n.ia.get(e);if(d)o=d.targetId,n.sharedClientState.addLocalQueryTarget(o),u=d.view.ea();else{const g=yield vc(n.localStore,io(e));n.isPrimaryClient&&Ad(n.remoteStore,g);const D=n.sharedClientState.addLocalQueryTarget(g.targetId);o=g.targetId,u=yield If(n,e,o,"current"===D)}return u}),Ef.apply(this,arguments)}function If(i,e,n,o){return cu.apply(this,arguments)}function cu(){return cu=(0,f.Z)(function*(i,e,n,o){i._a=(pe,Oe,nt)=>{return(Nt=(0,f.Z)(function*(Ft,vn,Qn,wi){let Hi=vn.view.Wu(Qn);Hi.ii&&(Hi=yield Gh(Ft.localStore,vn.query,!1).then(({documents:ts})=>vn.view.Wu(ts,Hi)));const bi=wi&&wi.targetChanges.get(vn.targetId),Ls=vn.view.applyChanges(Hi,Ft.isPrimaryClient,bi);return vg(Ft,vn.targetId,Ls.Xu),Ls.snapshot}),function(Ft,vn,Qn,wi){return Nt.apply(this,arguments)})(i,pe,Oe,nt);var Nt};const u=yield Gh(i.localStore,e,!0),d=new dg(e,u._i),g=d.Wu(u.documents),D=na.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),L=d.applyChanges(g,i.isPrimaryClient,D);vg(i,n,L.Xu);const H=new ry(e,n,d);return i.ia.set(e,H),i.ra.has(n)?i.ra.get(n).push(e):i.ra.set(n,[e]),L.snapshot}),cu.apply(this,arguments)}function iy(i,e){return wf.apply(this,arguments)}function wf(){return wf=(0,f.Z)(function*(i,e){const n=Wt(i),o=n.ia.get(e),u=n.ra.get(o.targetId);if(u.length>1)return n.ra.set(o.targetId,u.filter(d=>!Ru(d,e))),void n.ia.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield _c(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Wu(n.remoteStore,o.targetId),Vl(n,o.targetId)}).catch(au))):(Vl(n,o.targetId),yield _c(n.localStore,o.targetId,!0))}),wf.apply(this,arguments)}function bf(){return bf=(0,f.Z)(function*(i,e,n){const o=Ul(i);try{const u=yield function(d,g){const D=Wt(d),L=P.now(),H=g.reduce((Oe,nt)=>Oe.add(nt.key),Rr());let pe;return D.persistence.runTransaction("Locally write mutations","readwrite",Oe=>D.fi.Ks(Oe,H).next(nt=>{pe=nt;const Nt=[];for(const Ft of g){const vn=oc(Ft,pe.get(Ft.key));null!=vn&&Nt.push(new xa(Ft.key,vn,Ya(vn.value.mapValue),Mi.exists(!0)))}return D.Bs.addMutationBatch(Oe,L,Nt,g)})).then(Oe=>(Oe.applyToLocalDocumentSet(pe),{batchId:Oe.batchId,changes:pe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(d,g,D){let L=d.ha[d.currentUser.toKey()];L||(L=new $r(_)),L=L.insert(g,D),d.ha[d.currentUser.toKey()]=L}(o,u.batchId,n),yield ja(o,u.changes),yield kl(o.remoteStore)}catch(u){const d=Zu(u,"Failed to persist write");n.reject(d)}}),bf.apply(this,arguments)}function Lo(i,e){return Sc.apply(this,arguments)}function Sc(){return Sc=(0,f.Z)(function*(i,e){const n=Wt(i);try{const o=yield Hv(n.localStore,e);e.targetChanges.forEach((u,d)=>{const g=n.aa.get(d);g&&(Pn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.na=!0:u.modifiedDocuments.size>0?Pn(g.na):u.removedDocuments.size>0&&(Pn(g.na),g.na=!1))}),yield ja(n,o,e)}catch(o){yield au(o)}}),Sc.apply(this,arguments)}function Df(i,e,n){const o=Wt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.ia.forEach((d,g)=>{const D=g.view.Pu(e);D.snapshot&&u.push(D.snapshot)}),function(d,g){const D=Wt(d);D.onlineState=g;let L=!1;D.queries.forEach((H,pe)=>{for(const Oe of pe.listeners)Oe.Pu(g)&&(L=!0)}),L&&Yu(D)}(o.eventManager,e),u.length&&o.sa.zo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function pg(i,e,n){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,f.Z)(function*(i,e,n){const o=Wt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.aa.get(e),d=u&&u.key;if(d){let g=new $r(Qt.comparator);g=g.insert(d,fr.newNoDocument(d,B.min()));const D=Rr().add(d),L=new eu(B.min(),new Map,new Lr(_),g,D);yield Lo(o,L),o.ua=o.ua.remove(d),o.aa.delete(e),Mc(o)}else yield _c(o.localStore,e,!1).then(()=>Vl(o,e,n)).catch(au)}),Nd.apply(this,arguments)}function gg(i,e){return Cf.apply(this,arguments)}function Cf(){return Cf=(0,f.Z)(function*(i,e){const n=Wt(i),o=e.batch.batchId;try{const u=yield $h(n.localStore,e);kd(n,o,null),mg(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield ja(n,u)}catch(u){yield au(u)}}),Cf.apply(this,arguments)}function oy(i,e,n){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,f.Z)(function*(i,e,n){const o=Wt(i);try{const u=yield function(d,g){const D=Wt(d);return D.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let H;return D.Bs.lookupMutationBatch(L,g).next(pe=>(Pn(null!==pe),H=pe.keys(),D.Bs.removeMutationBatch(L,pe))).next(()=>D.Bs.performConsistencyCheck(L)).next(()=>D.fi.Ks(L,H))})}(o.localStore,e);kd(o,e,n),mg(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield ja(o,u)}catch(u){yield au(u)}}),Tf.apply(this,arguments)}function Pd(){return Pd=(0,f.Z)(function*(i,e){const n=Wt(i);Ua(n.remoteStore)||Vt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(d){const g=Wt(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",D=>g.Bs.getHighestUnacknowledgedBatchId(D))}(n.localStore);if(-1===o)return void e.resolve();const u=n.la.get(o)||[];u.push(e),n.la.set(o,u)}catch(o){const u=Zu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Pd.apply(this,arguments)}function mg(i,e){(i.la.get(e)||[]).forEach(n=>{n.resolve()}),i.la.delete(e)}function kd(i,e,n){const o=Wt(i);let u=o.ha[o.currentUser.toKey()];if(u){const d=u.get(e);d&&(n?d.reject(n):d.resolve(),u=u.remove(e)),o.ha[o.currentUser.toKey()]=u}}function Vl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ra.get(e))i.ia.delete(o),n&&i.sa.wa(o,n);i.ra.delete(e),i.isPrimaryClient&&i.ca.vi(e).forEach(o=>{i.ca.containsKey(o)||yg(i,o)})}function yg(i,e){i.oa.delete(e.path.canonicalString());const n=i.ua.get(e);null!==n&&(Wu(i.remoteStore,n),i.ua=i.ua.remove(e),i.aa.delete(n),Mc(i))}function vg(i,e,n){for(const o of n)o instanceof cg?(i.ca.addReference(o.key,e),Wv(i,o)):o instanceof Od?(Vt("SyncEngine","Document no longer in limbo: "+o.key),i.ca.removeReference(o.key,e),i.ca.containsKey(o.key)||yg(i,o.key)):nn()}function Wv(i,e){const n=e.key,o=n.path.canonicalString();i.ua.get(n)||i.oa.has(o)||(Vt("SyncEngine","New document in limbo: "+n),i.oa.add(o),Mc(i))}function Mc(i){for(;i.oa.size>0&&i.ua.size<i.maxConcurrentLimboResolutions;){const e=i.oa.values().next().value;i.oa.delete(e);const n=new Qt(Zt.fromString(e)),o=i.fa.next();i.aa.set(o,new hg(n)),i.ua=i.ua.insert(n,o),Ad(i.remoteStore,new Oa(io(Fr(n.path)),o,2,ci.A))}}function ja(i,e,n){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=[],d=[],g=[];var D;o.ia.isEmpty()||(o.ia.forEach((D,L)=>{g.push(o._a(L,e,n).then(H=>{if(H){o.isPrimaryClient&&o.sharedClientState.updateQueryState(L.targetId,H.fromCache?"not-current":"current"),u.push(H);const pe=Bp.Ys(L.targetId,H);d.push(pe)}}))}),yield Promise.all(g),o.sa.zo(u),yield(D=(0,f.Z)(function*(L,H){const pe=Wt(L);try{yield pe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Oe=>ct.forEach(H,nt=>ct.forEach(nt.Hs,Nt=>pe.persistence.referenceDelegate.addReference(Oe,nt.targetId,Nt)).next(()=>ct.forEach(nt.Js,Nt=>pe.persistence.referenceDelegate.removeReference(Oe,nt.targetId,Nt)))))}catch(Oe){if(!Vu(Oe))throw Oe;Vt("LocalStore","Failed to update sequence numbers: "+Oe)}for(const Oe of H){const nt=Oe.targetId;if(!Oe.fromCache){const Nt=pe.ui.get(nt),vn=Nt.withLastLimboFreeSnapshotVersion(Nt.snapshotVersion);pe.ui=pe.ui.insert(nt,vn)}}}),function(L,H){return D.apply(this,arguments)})(o.localStore,d))}),Fd.apply(this,arguments)}function _g(i,e){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,f.Z)(function*(i,e){const n=Wt(i);if(!n.currentUser.isEqual(e)){Vt("SyncEngine","User change. New user:",e.toKey());const o=yield Bh(n.localStore,e);n.currentUser=e,(u=n).la.forEach(g=>{g.forEach(D=>{D.reject(new vt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.la.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield ja(n,o.di)}var u}),Eg.apply(this,arguments)}function Vo(i,e){const n=Wt(i),o=n.aa.get(e);if(o&&o.na)return Rr().add(o.key);{let u=Rr();const d=n.ra.get(e);if(!d)return u;for(const g of d){const D=n.ia.get(g);u=u.unionWith(D.view.ju)}return u}}function Zv(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,f.Z)(function*(i,e){const n=Wt(i),o=yield Gh(n.localStore,e.query,!0),u=e.view.ta(o);return n.isPrimaryClient&&vg(n,e.targetId,u.Xu),u}),Ig.apply(this,arguments)}function wg(i,e){return Ld.apply(this,arguments)}function Ld(){return Ld=(0,f.Z)(function*(i,e){const n=Wt(i);return Hm(n.localStore,e).then(o=>ja(n,o))}),Ld.apply(this,arguments)}function bg(i,e,n,o){return Af.apply(this,arguments)}function Af(){return Af=(0,f.Z)(function*(i,e,n,o){const u=Wt(i),d=yield function(g,D){const L=Wt(g),H=Wt(L.Bs);return L.persistence.runTransaction("Lookup mutation documents","readonly",pe=>H.fn(pe,D).next(Oe=>Oe?L.fi.Ks(pe,Oe):ct.resolve(null)))}(u.localStore,e);var D;null!==d?("pending"===n?yield kl(u.remoteStore):"acknowledged"===n||"rejected"===n?(kd(u,e,o||null),mg(u,e),D=e,Wt(Wt(u.localStore).Bs)._n(D)):nn(),yield ja(u,d)):Vt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Af.apply(this,arguments)}function Vd(){return Vd=(0,f.Z)(function*(i,e){const n=Wt(i);if(Rf(n),Ul(n),!0===e&&!0!==n.da){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield Ud(n,o.toArray());n.da=!0,yield og(n.remoteStore,!0);for(const d of u)Ad(n.remoteStore,d)}else if(!1===e&&!1!==n.da){const o=[];let u=Promise.resolve();n.ra.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?o.push(g):u=u.then(()=>(Vl(n,g),_c(n.localStore,g,!0))),Wu(n.remoteStore,g)}),yield u,yield Ud(n,o),function(d){const g=Wt(d);g.aa.forEach((D,L)=>{Wu(g.remoteStore,L)}),g.ca.Si(),g.aa=new Map,g.ua=new $r(Qt.comparator)}(n),n.da=!1,yield og(n.remoteStore,!1)}}),Vd.apply(this,arguments)}function Ud(i,e,n){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,f.Z)(function*(i,e,n){const o=Wt(i),u=[],d=[];for(const g of e){let D;const L=o.ra.get(g);if(L&&0!==L.length){D=yield vc(o.localStore,io(L[0]));for(const H of L){const pe=o.ia.get(H),Oe=yield Zv(o,pe);Oe.snapshot&&d.push(Oe.snapshot)}}else{const H=yield Gm(o.localStore,g);D=yield vc(o.localStore,H),yield If(o,Bd(H),g,!1)}u.push(D)}return o.sa.zo(d),u}),Sf.apply(this,arguments)}function Bd(i){return zr(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function uy(i){const e=Wt(i);return Wt(Wt(e.localStore).persistence).Fs()}function ly(i,e,n,o){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,f.Z)(function*(i,e,n,o){const u=Wt(i);if(u.da)return void Vt("SyncEngine","Ignoring unexpected query state notification.");const d=u.ra.get(e);if(d&&d.length>0)switch(n){case"current":case"not-current":{const g=yield Hm(u.localStore,qc(d[0])),D=eu.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield ja(u,g,D);break}case"rejected":yield _c(u.localStore,e,!0),Vl(u,e,o);break;default:nn()}}),Mf.apply(this,arguments)}function cy(i,e,n){return xf.apply(this,arguments)}function xf(){return xf=(0,f.Z)(function*(i,e,n){const o=Rf(i);if(o.da){for(const u of e){if(o.ra.has(u)){Vt("SyncEngine","Adding an already active target "+u);continue}const d=yield Gm(o.localStore,u),g=yield vc(o.localStore,d);yield If(o,Bd(d),g.targetId,!1),Ad(o.remoteStore,g)}for(const u of n)o.ra.has(u)&&(yield _c(o.localStore,u,!1).then(()=>{Wu(o.remoteStore,u),Vl(o,u)}).catch(au))}}),xf.apply(this,arguments)}function Rf(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lo.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vo.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pg.bind(null,e),e.sa.zo=ug.bind(null,e.eventManager),e.sa.wa=gf.bind(null,e.eventManager),e}function Ul(i){const e=Wt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oy.bind(null,e),e}class Dg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,f.Z)(function*(){n.M=Pl(e.databaseInfo.databaseId),n.sharedClientState=n.ga(e),n.persistence=n.ya(e),yield n.persistence.start(),n.gcScheduler=n.pa(e),n.localStore=n.Ia(e)})()}pa(e){return null}Ia(e){return Uh(this.persistence,new jp,e.initialUser,this.M)}ya(e){return new Wp(Kh.Yi,this.M)}ga(e){return new Dd}terminate(){var e=this;return(0,f.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jl extends Dg{constructor(e,n,o){super(),this.Ta=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield n().call(o,e),yield o.Ta.initialize(o,e),yield Ul(o.Ta.syncEngine),yield kl(o.Ta.remoteStore),yield o.persistence.Ts(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ia(e){return Uh(this.persistence,new jp,e.initialUser,this.M)}pa(e){return new Bm(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const n=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?Ys.withCacheSize(this.cacheSizeBytes):Ys.DEFAULT;return new Lh(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,Km(),wc(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new Dd}}class dy extends jl{constructor(e,n){super(e,n,!1),this.Ta=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,f.Z)(function*(){yield n().call(o,e);const u=o.Ta.syncEngine;o.sharedClientState instanceof bd&&(o.sharedClientState.syncEngine={$r:bg.bind(null,u),Br:ly.bind(null,u),Lr:cy.bind(null,u),Fs:uy.bind(null,u),Fr:wg.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Ts(function(){var d=(0,f.Z)(function*(g){yield function qv(i,e){return Vd.apply(this,arguments)}(o.Ta.syncEngine,g),o.gcScheduler&&(g&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):g||o.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}ga(e){const n=Km();if(!bd.vt(n))throw new vt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Vh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bd(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Of{initialize(e,n){var o=this;return(0,f.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Df(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=_g.bind(null,o.syncEngine),yield og(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rd}createDatastore(e){const n=Pl(e.databaseInfo.databaseId),o=new Zp(e.databaseInfo);return new oo(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,d=D=>Df(this.syncEngine,D,0),g=Jh.vt()?new Jh:new Qh,new Xm(n,o,u,d,g);var n,o,u,d,g}createSyncEngine(e,n){return function(o,u,d,g,D,L,H){const pe=new Ll(o,u,d,g,D,L);return H&&(pe.da=!0),pe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,f.Z)(function*(n){const o=Wt(n);Vt("RemoteStore","RemoteStore shutting down."),o.wu.add(5),yield zu(o),o.gu.shutdown(),o.yu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function jd(i,e=10240){let n=0;return{read:()=>(0,f.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,f.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class uo{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class xc{constructor(e,n){this.Ra=e,this.M=n,this.metadata=new _i,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(o=>{o&&o.Mu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,f.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,f.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,f.Z)(function*(){const n=yield e.Va();if(null===n)return null;const o=e.ba.decode(n),u=Number(o);isNaN(u)&&e.va(`length string (${o}) is not valid number`);const d=yield e.Sa(u);return new yf(JSON.parse(d),n.length+u)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,f.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const n=e.Da();n<0&&e.va("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Sa(e){var n=this;return(0,f.Z)(function*(){for(;n.buffer.length<e;)(yield n.Ca())&&n.va("Reached the end of bundle when more is expected.");const o=n.ba.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,f.Z)(function*(){const n=yield e.Ra.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class ks{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,f.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new vt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,f.Z)(function*(d,g){const D=Wt(d),L=Il(D.M)+"/documents",H={documents:g.map(Nt=>Ra(D.M,Nt))},pe=yield D._o("BatchGetDocuments",L,H),Oe=new Map;pe.forEach(Nt=>{const Ft=function Dm(i,e){return"found"in e?function(n,o){Pn(!!o.found);const u=di(n,o.found.name),d=fs(o.found.updateTime),g=new Xi({mapValue:{fields:o.found.fields}});return fr.newFoundDocument(u,d,g)}(i,e):"missing"in e?function(n,o){Pn(!!o.missing),Pn(!!o.readTime);const u=di(n,o.missing),d=fs(o.readTime);return fr.newNoDocument(u,d)}(i,e):nn()}(D.M,Nt);Oe.set(Ft.key.toString(),Ft)});const nt=[];return g.forEach(Nt=>{const Ft=Oe.get(Nt.toString());Pn(!!Ft),nt.push(Ft)}),nt}),function(d,g){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new w(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,f.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const d=Qt.fromPath(u);e.mutations.push(new j(d,e.precondition(d)))}),yield(o=(0,f.Z)(function*(u,d){const g=Wt(u),D=Il(g.M)+"/documents",L={writes:d.map(H=>bl(g.M,H))};yield g.co("Commit",D,L)}),function(u,d){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw nn();n=B.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new vt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?Mi.updateTime(n):Mi.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(B.min()))throw new vt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Mi.updateTime(n)}return Mi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Qu{constructor(e,n,o,u,d){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=d,this.xa=o.maxAttempts,this.No=new Xh(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,f.Z)(function*(){const n=new ks(e.datastore),o=e.ka(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(d=>{e.Ma(d)}))}).catch(u=>{e.Ma(u)})}))}ka(e){try{const n=this.updateFunction(e);return!Za(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!cn(n)}return!1}}class $d{constructor(e,n,o,u){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=qr.UNAUTHENTICATED,this.clientId=b.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var g=(0,f.Z)(function*(D){Vt("FirestoreClient","Received user=",D.uid),yield d.authCredentialListener(D),d.user=D});return function(D){return g.apply(this,arguments)}}()),this.appCheckCredentials.start(o,g=>(Vt("FirestoreClient","Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}getConfiguration(){var e=this;return(0,f.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Zu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function lo(i,e){return Rc.apply(this,arguments)}function Rc(){return Rc=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Vt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,f.Z)(function*(d){o.isEqual(d)||(yield Bh(e.localStore,d),o=d)});return function(d){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Rc.apply(this,arguments)}function Ju(i,e){return du.apply(this,arguments)}function du(){return du=(0,f.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield hu(i);Vt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>df(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,d)=>df(e.remoteStore,d)),i.onlineComponents=e}),du.apply(this,arguments)}function hu(i){return fu.apply(this,arguments)}function fu(){return fu=(0,f.Z)(function*(i){return i.offlineComponents||(Vt("FirestoreClient","Using default OfflineComponentProvider"),yield lo(i,new Dg)),i.offlineComponents}),fu.apply(this,arguments)}function $a(i){return pu.apply(this,arguments)}function pu(){return pu=(0,f.Z)(function*(i){return i.onlineComponents||(Vt("FirestoreClient","Using default OnlineComponentProvider"),yield Ju(i,new Of)),i.onlineComponents}),pu.apply(this,arguments)}function Xu(i){return hu(i).then(e=>e.persistence)}function gu(i){return hu(i).then(e=>e.localStore)}function el(i){return $a(i).then(e=>e.remoteStore)}function Gd(i){return $a(i).then(e=>e.syncEngine)}function tl(i){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,f.Z)(function*(i){const e=yield $a(i),n=e.eventManager;return n.onListen=fg.bind(null,e.syncEngine),n.onUnlisten=iy.bind(null,e.syncEngine),n}),Hd.apply(this,arguments)}function Nf(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,d,g,D,L){const H=new uo({next:Oe=>{d.enqueueAndForget(()=>ag(u,pe));const nt=Oe.docs.has(g);!nt&&Oe.fromCache?L.reject(new vt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):nt&&Oe.fromCache&&D&&"server"===D.source?L.reject(new vt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):L.resolve(Oe)},error:Oe=>L.reject(Oe)}),pe=new mf(Fr(g.path),H,{includeMetadataChanges:!0,ku:!0});return ff(u,pe)}(yield tl(i),i.asyncQueue,e,n,o)})),o.promise}function Pf(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function(u,d,g,D,L){const H=new uo({next:Oe=>{d.enqueueAndForget(()=>ag(u,pe)),Oe.fromCache&&"server"===D.source?L.reject(new vt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Oe)},error:Oe=>L.reject(Oe)}),pe=new mf(g,H,{includeMetadataChanges:!0,ku:!0});return ff(u,pe)}(yield tl(i),i.asyncQueue,e,n,o)})),o.promise}const kf=new Map;function Ff(i,e,n){if(!n)throw new vt(st.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function xg(i,e,n,o){if(!0===e&&!0===o)throw new vt(st.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Lf(i){if(!Qt.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Rg(i){if(Qt.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Oc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":nn()}function Tr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new vt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Oc(i);throw new vt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Og(i,e){if(e<=0)throw new vt(st.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class gy{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,xg("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,n,o){this._authCredentials=n,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gy({}),this._settingsFrozen=!1,e instanceof eo?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new vt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eo(u.options.projectId)}(e))}get app(){if(!this._app)throw new vt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gy(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new ya;switch(n.type){case"gapi":const o=n.client;return Pn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Zo(o,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new vt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=kf.get(e);n&&(Vt("ComponentProvider","Removing Datastore"),kf.delete(e),n.terminate())}(this),Promise.resolve()}}function Vf(i,e,n,o={}){var u;const d=(i=Tr(i,Nc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&yo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let g,D;if("string"==typeof o.mockUserToken)g=o.mockUserToken,D=qr.MOCK_USER;else{g=(0,V.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const L=o.mockUserToken.sub||o.mockUserToken.user_id;if(!L)throw new vt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");D=new qr(L)}i._authCredentials=new So(new Zs(g,D))}}class hi{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hi(this.firestore,e,this._key)}}class Fs{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Fs(this.firestore,e,this._query)}}class Ga extends Fs{constructor(e,n,o){super(e,n,Fr(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hi(this.firestore,null,new Qt(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Kv(i,e,...n){if(i=(0,V.m9)(i),Ff("collection","path",e),i instanceof Nc){const o=Zt.fromString(e,...n);return Rg(o),new Ga(i,null,o)}{if(!(i instanceof hi||i instanceof Ga))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zt.fromString(e,...n));return Rg(o),new Ga(i.firestore,null,o)}}function Yv(i,e){if(i=Tr(i,Nc),Ff("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Fs(i,null,(n=e,new kr(Zt.emptyPath(),n)));var n}function Ng(i,e,...n){if(i=(0,V.m9)(i),1===arguments.length&&(e=b.R()),Ff("doc","path",e),i instanceof Nc){const o=Zt.fromString(e,...n);return Lf(o),new hi(i,null,new Qt(o))}{if(!(i instanceof hi||i instanceof Ga))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Zt.fromString(e,...n));return Lf(o),new hi(i.firestore,i instanceof Ga?i.converter:null,new Qt(o))}}function Pg(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),(i instanceof hi||i instanceof Ga)&&(e instanceof hi||e instanceof Ga)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function my(i,e){return i=(0,V.m9)(i),e=(0,V.m9)(e),i instanceof Fs&&e instanceof Fs&&i.firestore===e.firestore&&Ru(i._query,e._query)&&i.converter===e.converter}class yy{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new Xh(this,"async_queue_retry"),this.Qa=()=>{const n=wc();n&&Vt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.No.Po()};const e=wc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const n=wc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const n=new _i;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,f.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(n){if(!Vu(n))throw n;Vt("AsyncQueue","Operation failed with retryable error: "+n)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const n=this.Fa.then(()=>(this.qa=!0,e().catch(o=>{throw this.Ua=o,this.qa=!1,li("INTERNAL UNHANDLED ERROR: ",function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),g}(o)),o}).then(o=>(this.qa=!1,o))));return this.Fa=n,n}enqueueAfterDelay(e,n,o){this.ja(),this.Ga.indexOf(e)>-1&&(n=0);const u=xd.createAndSchedule(this,e,n,o,d=>this.Ha(d));return this.La.push(u),u}ja(){this.Ua&&nn()}verifyOperationInProgress(){}Ja(){var e=this;return(0,f.Z)(function*(){let n;do{n=e.Fa,yield n}while(n!==e.Fa)})()}Ya(e){for(const n of this.La)if(n.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.La)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const n=this.La.indexOf(e);this.La.splice(n,1)}}function mu(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class vy{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const kg=-1;class fi extends Nc{constructor(e,n,o){super(e,n,o),this.type="firestore",this._queue=new yy,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Uf(this),this._firestoreClient.terminate()}}function zd(i=(0,m.getApp)()){return(0,m._getProvider)(i,"firestore").getImmediate()}function Gi(i){return i._firestoreClient||Uf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Uf(i){var e;const n=i._freezeSettings(),o=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new _a(i._databaseId,d,i._persistenceKey,(D=n).host,D.ssl,D.experimentalForceLongPolling,D.experimentalAutoDetectLongPolling,D.useFetchStreams));var d,D;i._firestoreClient=new $d(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Ey(i,e){Ty(i=Tr(i,fi));const n=Gi(i),o=i._freezeSettings(),u=new Of;return Fg(n,u,new jl(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}function Iy(i){Ty(i=Tr(i,fi));const e=Gi(i),n=i._freezeSettings(),o=new Of;return Fg(e,o,new dy(o,n.cacheSizeBytes))}function Fg(i,e,n){const o=new _i;return i.asyncQueue.enqueue((0,f.Z)(function*(){try{yield lo(i,n),yield Ju(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(d=u).name?d.code===st.FAILED_PRECONDITION||d.code===st.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var d})).then(()=>o.promise)}function wy(i){if(i._initialized&&!i._terminated)throw new vt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return i._queue.enqueueAndForgetEvenWhileRestricted((0,f.Z)(function*(){try{yield(n=(0,f.Z)(function*(o){if(!Ps.vt())return Promise.resolve();const u=o+"main";yield Ps.delete(u)}),function(o){return n.apply(this,arguments)})(Vh(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function by(i){return function(e){const n=new _i;return e.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function ay(i,e){return Pd.apply(this,arguments)}(yield Gd(e),n)})),n.promise}(Gi(i=Tr(i,fi)))}function Lg(i){return function Cg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Xu(i),n=yield el(i);return e.setNetworkEnabled(!0),function(o){const u=Wt(o);return u.wu.delete(0),Td(u)}(n)}))}(Gi(i=Tr(i,fi)))}function Dy(i){return function Tg(i){return i.asyncQueue.enqueue((0,f.Z)(function*(){const e=yield Xu(i),n=yield el(i);return e.setNetworkEnabled(!1),(o=(0,f.Z)(function*(u){const d=Wt(u);d.wu.add(0),yield zu(d),d.yu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}(Gi(i=Tr(i,fi)))}function Vg(i,e){const n=Gi(i=Tr(i,fi)),o=new vy;return function fy(i,e,n,o){const u=function(d,g){let D;return D="string"==typeof d?(new TextEncoder).encode(d):d,L=function(L,H){if(L instanceof Uint8Array)return jd(L,H);if(L instanceof ArrayBuffer)return jd(new Uint8Array(L),H);if(L instanceof ReadableStream)return L.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(D),new xc(L,g);var L}(n,Pl(e));i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){!function Bl(i,e,n){const o=Wt(i);var u;(u=(0,f.Z)(function*(d,g,D){try{const L=yield g.getMetadata();if(yield function(nt,Nt){const Ft=Wt(nt),vn=fs(Nt.createTime);return Ft.persistence.runTransaction("hasNewerBundle","readonly",Qn=>Ft._s.getBundleMetadata(Qn,Nt.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(vn)>=0)}(d.localStore,L))return yield g.close(),D._completeWith({taskState:"Success",documentsLoaded:(nt=L).totalDocuments,bytesLoaded:nt.totalBytes,totalDocuments:nt.totalDocuments,totalBytes:nt.totalBytes}),Promise.resolve(new Set);D._updateProgress(_f(L));const H=new lg(L,d.localStore,g.M);let pe=yield g.ma();for(;pe;){const nt=yield H.Fu(pe);nt&&D._updateProgress(nt),pe=yield g.ma()}const Oe=yield H.complete();return yield ja(d,Oe.Lu,void 0),yield function(nt,Nt){const Ft=Wt(nt);return Ft.persistence.runTransaction("Save bundle","readwrite",vn=>Ft._s.saveBundleMetadata(vn,Nt))}(d.localStore,L),D._completeWith(Oe.progress),Promise.resolve(Oe.Bu)}catch(L){return yo("SyncEngine",`Loading bundle failed with ${L}`),D._failWith(L),Promise.resolve(new Set)}var nt}),function(d,g,D){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Gd(i),u,o)}))}(n,i._databaseId,e,o),o}function Bf(i,e){return function py(i,e){return i.asyncQueue.enqueue((0,f.Z)(function*(){return function(n,o){const u=Wt(n);return u.persistence.runTransaction("Get named query","readonly",d=>u._s.getNamedQuery(d,o))}(yield gu(i),e)}))}(Gi(i=Tr(i,fi)),e).then(n=>n?new Fs(i,null,n.query):null)}function Ty(i){if(i._initialized||i._terminated)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class aa{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new vt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(Nr.fromBase64String(e))}catch(n){throw new vt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new nl(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uo{constructor(e){this._methodName=e}}class Pc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new vt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new vt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return _(this._lat,e._lat)||_(this._long,e._long)}}const jf=/^__.*__$/;class $f{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new xa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ku(e,this.data,n,this.fieldTransforms)}}class Ug{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new xa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function kc(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class rl{constructor(e,n,o,u,d,g){this.settings=e,this.databaseId=n,this.M=o,this.ignoreUndefinedProperties=u,void 0===d&&this.tc(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new rl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.nc({path:o,ic:!1});return u.rc(e),u}oc(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.nc({path:o,ic:!1});return u.tc(),u}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return Jd(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(kc(this.ec)&&jf.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class Gf{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.M=o||Pl(e)}lc(e,n,o,u=!1){return new rl({ec:e,methodName:n,hc:o,path:Fn.emptyPath(),ic:!1,cc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function $l(i){const e=i._freezeSettings(),n=Pl(i._databaseId);return new Gf(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wd(i,e,n,o,u,d={}){const g=i.lc(d.merge||d.mergeFields?2:0,e,n,u);Lc("Data must be an object, but it was:",g,o);const D=Wf(o,g);let L,H;if(d.merge)L=new cr(g.fieldMask),H=g.fieldTransforms;else if(d.mergeFields){const pe=[];for(const Oe of d.mergeFields){const nt=Yd(e,Oe,n);if(!g.contains(nt))throw new vt(st.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Xd(pe,nt)||pe.push(nt)}L=new cr(pe),H=g.fieldTransforms.filter(Oe=>L.covers(Oe.field))}else L=null,H=g.fieldTransforms;return new $f(new Xi(D),L,H)}class il extends Uo{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof il}}function Zd(i,e,n){return new rl({ec:3,hc:e.settings.hc,methodName:i._methodName,ic:n},e.databaseId,e.M,e.ignoreUndefinedProperties)}class qd extends Uo{_toFieldTransform(e){return new Ks(e.path,new Aa)}isEqual(e){return e instanceof qd}}class Bg extends Uo{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Zd(this,e,!0),o=this.fc.map(d=>sl(d,n)),u=new ea(o);return new Ks(e.path,u)}isEqual(e){return this===e}}class Hf extends Uo{constructor(e,n){super(e),this.fc=n}_toFieldTransform(e){const n=Zd(this,e,!0),o=this.fc.map(d=>sl(d,n)),u=new Sa(o);return new Ks(e.path,u)}isEqual(e){return this===e}}class jg extends Uo{constructor(e,n){super(e),this.dc=n}_toFieldTransform(e){const n=new Xa(e.M,Yc(e.M,this.dc));return new Ks(e.path,n)}isEqual(e){return this===e}}function Kd(i,e,n,o){const u=i.lc(1,e,n);Lc("Data must be an object, but it was:",u,o);const d=[],g=Xi.empty();Te(o,(L,H)=>{const pe=Qd(e,L,n);H=(0,V.m9)(H);const Oe=u.oc(pe);if(H instanceof il)d.push(pe);else{const nt=sl(H,Oe);null!=nt&&(d.push(pe),g.set(pe,nt))}});const D=new cr(d);return new Ug(g,D,u.fieldTransforms)}function Fc(i,e,n,o,u,d){const g=i.lc(1,e,n),D=[Yd(e,o,n)],L=[u];if(d.length%2!=0)throw new vt(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<d.length;nt+=2)D.push(Yd(e,d[nt])),L.push(d[nt+1]);const H=[],pe=Xi.empty();for(let nt=D.length-1;nt>=0;--nt)if(!Xd(H,D[nt])){const Nt=D[nt];let Ft=L[nt];Ft=(0,V.m9)(Ft);const vn=g.oc(Nt);if(Ft instanceof il)H.push(Nt);else{const Qn=sl(Ft,vn);null!=Qn&&(H.push(Nt),pe.set(Nt,Qn))}}const Oe=new cr(H);return new Ug(pe,Oe,g.fieldTransforms)}function zf(i,e,n,o=!1){return sl(n,i.lc(o?4:3,e))}function sl(i,e){if(Zf(i=(0,V.m9)(i)))return Lc("Unsupported field value:",e,i),Wf(i,e);if(i instanceof Uo)return function(n,o){if(!kc(o.ec))throw o.ac(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ac(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(n,o){const u=[];let d=0;for(const g of n){let D=sl(g,o.uc(d));null==D&&(D={nullValue:"NULL_VALUE"}),u.push(D),d++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,V.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Yc(o.M,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=P.fromDate(n);return{timestampValue:lc(o.M,u)}}if(n instanceof P){const u=new P(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:lc(o.M,u)}}if(n instanceof Pc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof nl)return{bytesValue:fp(o.M,n._byteString)};if(n instanceof hi){const u=o.databaseId,d=n.firestore._databaseId;if(!d.isEqual(u))throw o.ac(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pp(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.ac(`Unsupported field value: ${Oc(n)}`)}(i,e)}function Wf(i,e){const n={};return lt(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Te(i,(o,u)=>{const d=sl(u,e.sc(o));null!=d&&(n[o]=d)}),{mapValue:{fields:n}}}function Zf(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof P||i instanceof Pc||i instanceof nl||i instanceof hi||i instanceof Uo)}function Lc(i,e,n){if(!Zf(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Oc(n);throw e.ac("an object"===o?i+" a custom object":i+" "+o)}var o}function Yd(i,e,n){if((e=(0,V.m9)(e))instanceof aa)return e._internalPath;if("string"==typeof e)return Qd(i,e);throw Jd("Field path arguments must be of type string or ",i,!1,void 0,n)}const Ay=new RegExp("[~\\*/\\[\\]]");function Qd(i,e,n){if(e.search(Ay)>=0)throw Jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new aa(...e.split("."))._internalPath}catch(o){throw Jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Jd(i,e,n,o,u){const d=o&&!o.isEmpty(),g=void 0!==u;let D=`Function ${e}() called with invalid data`;n&&(D+=" (via `toFirestore()`)"),D+=". ";let L="";return(d||g)&&(L+=" (found",d&&(L+=` in field ${o}`),g&&(L+=` in document ${u}`),L+=")"),new vt(st.INVALID_ARGUMENT,D+i+L)}function Xd(i,e){return i.some(n=>n.isEqual(e))}class ol{constructor(e,n,o,u,d){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $g(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class $g extends ol{data(){return super.data()}}function Vc(i,e){return"string"==typeof e?Qd(i,e):e instanceof aa?e._internalPath:e._delegate._internalPath}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vu extends ol{constructor(e,n,o,u,d,g){super(e,n,o,u,g),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Gl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(Vc("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class Gl extends vu{data(e={}){return super.data(e)}}class _u{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new yu(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new Gl(this._firestore,this._userDataWriter,o.key,o,new yu(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new vt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>({type:"added",doc:new Gl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>u||3!==g.type).map(g=>{const D=new Gl(o._firestore,o._userDataWriter,g.doc.key,g.doc,new yu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let L=-1,H=-1;return 0!==g.type&&(L=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),H=d.indexOf(g.doc.key)),{type:Gg(g.type),doc:D,oldIndex:L,newIndex:H}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Gg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}function Hg(i,e){return i instanceof vu&&e instanceof vu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof _u&&e instanceof _u&&i._firestore===e._firestore&&my(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Sy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new vt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Uc{}function My(i,...e){for(const n of e)i=n._apply(i);return i}class zg extends Uc{constructor(e,n,o){super(),this._c=e,this.wc=n,this.mc=o,this.type="where"}_apply(e){const n=$l(e.firestore),o=function(u,d,g,D,L,H,pe){let Oe;if(L.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){Kf(pe,H);const Nt=[];for(const Ft of pe)Nt.push(Jg(D,u,Ft));Oe={arrayValue:{values:Nt}}}else Oe=Jg(D,u,pe)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||Kf(pe,H),Oe=zf(g,"where",pe,"in"===H||"not-in"===H);const nt=$.create(L,H,Oe);return function(Nt,Ft){if(Ft.S()){const Qn=Xo(Nt);if(null!==Qn&&!Qn.isEqual(Ft.field))throw new vt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Qn.toString()}' and '${Ft.field.toString()}'`);const wi=Eo(Nt);null!==wi&&Py(0,Ft.field,wi)}const vn=function(Qn,wi){for(const Hi of Qn.filters)if(wi.indexOf(Hi.op)>=0)return Hi.op;return null}(Nt,function(Qn){switch(Qn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ft.op));if(null!==vn)throw new vt(st.INVALID_ARGUMENT,vn===Ft.op?`Invalid query. You cannot use more than one '${Ft.op.toString()}' filter.`:`Invalid query. You cannot use '${Ft.op.toString()}' filters with '${vn.toString()}' filters.`)}(u,nt),nt}(e._query,0,n,e.firestore._databaseId,this._c,this.wc,this.mc);return new Fs(e.firestore,e.converter,function(u,d){const g=u.filters.concat([d]);return new kr(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function xy(i,e,n){const o=e,u=Vc("where",i);return new zg(u,o,n)}class es extends Uc{constructor(e,n){super(),this._c=e,this.gc=n,this.type="orderBy"}_apply(e){const n=function(o,u,d){if(null!==o.startAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new hs(u,d);return function(D,L){if(null===Eo(D)){const H=Xo(D);null!==H&&Py(0,H,L.field)}}(o,g),g}(e._query,this._c,this.gc);return new Fs(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new kr(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Wg(i,e="asc"){const n=e,o=Vc("orderBy",i);return new es(o,n)}class Zg extends Uc{constructor(e,n,o){super(),this.type=e,this.yc=n,this.Ic=o}_apply(e){return new Fs(e.firestore,e.converter,ml(e._query,this.yc,this.Ic))}}function Ry(i){return Og("limit",i),new Zg("limit",i,"F")}function qg(i){return Og("limitToLast",i),new Zg("limitToLast",i,"L")}class Kg extends Uc{constructor(e,n,o){super(),this.type=e,this.Tc=n,this.Ec=o}_apply(e){const n=qf(e,this.type,this.Tc,this.Ec);return new Fs(e.firestore,e.converter,(u=n,new kr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function Yg(...i){return new Kg("startAt",i,!0)}function Qg(...i){return new Kg("startAfter",i,!1)}class al extends Uc{constructor(e,n,o){super(),this.type=e,this.Tc=n,this.Ec=o}_apply(e){const n=qf(e,this.type,this.Tc,this.Ec);return new Fs(e.firestore,e.converter,(u=n,new kr((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function Oy(...i){return new al("endBefore",i,!1)}function Ny(...i){return new al("endAt",i,!0)}function qf(i,e,n,o){if(n[0]=(0,V.m9)(n[0]),n[0]instanceof ol)return function(u,d,g,D,L){if(!D)throw new vt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const H=[];for(const pe of Ja(u))if(pe.field.isKeyField())H.push(Rs(d,D.key));else{const Oe=D.data.field(pe.field);if(qs(Oe))throw new vt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+pe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Oe){const nt=pe.field.canonicalString();throw new vt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${nt}' (used as the orderBy) does not exist.`)}H.push(Oe)}return new Pr(H,L)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=$l(i.firestore);return function(d,g,D,L,H,pe){const Oe=d.explicitOrderBy;if(H.length>Oe.length)throw new vt(st.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const nt=[];for(let Nt=0;Nt<H.length;Nt++){const Ft=H[Nt];if(Oe[Nt].field.isKeyField()){if("string"!=typeof Ft)throw new vt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Ft}`);if(!ko(d)&&-1!==Ft.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Ft}' contains a slash.`);const vn=d.path.child(Zt.fromString(Ft));if(!Qt.isDocumentKey(vn))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${vn}' is not because it contains an odd number of segments.`);const Qn=new Qt(vn);nt.push(Rs(g,Qn))}else{const vn=zf(D,L,Ft);nt.push(vn)}}return new Pr(nt,pe)}(i._query,i.firestore._databaseId,u,e,n,o)}}function Jg(i,e,n){if("string"==typeof(n=(0,V.m9)(n))){if(""===n)throw new vt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ko(e)&&-1!==n.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Zt.fromString(n));if(!Qt.isDocumentKey(o))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Rs(i,new Qt(o))}if(n instanceof hi)return Rs(i,n._key);throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Oc(n)}.`)}function Kf(i,e){if(!Array.isArray(i)||0===i.length)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Py(i,e,n){if(!n.isEqual(e))throw new vt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const Xg={maxAttempts:5};class Bc{convertValue(e,n="none"){switch(Ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return br(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw nn()}}convertObject(e,n){const o={};return Te(e.fields,(u,d)=>{o[u]=this.convertValue(d,n)}),o}convertGeoPoint(e){return new Pc(br(e.latitude),br(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=dl(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Ko(e));default:return null}}convertTimestamp(e){const n=ds(e);return new P(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Zt.fromString(e);Pn(vp(o));const u=new eo(o.get(1),o.get(3)),d=new Qt(o.popFirst(5));return u.isEqual(n)||li(`Document ${d} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function co(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class ky extends Bc{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}class em{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$l(e)}set(e,n,o){this._verifyNotCommitted();const u=ws(e,this._firestore),d=co(u.converter,n,o),g=Wd(this._dataReader,"WriteBatch.set",u._key,d,null!==u.converter,o);return this._mutations.push(g.toMutation(u._key,Mi.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const d=ws(e,this._firestore);let g;return g="string"==typeof(n=(0,V.m9)(n))||n instanceof aa?Fc(this._dataReader,"WriteBatch.update",d._key,n,o,u):Kd(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,Mi.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=ws(e,this._firestore);return this._mutations=this._mutations.concat(new w(n._key,Mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ws(i,e){if((i=(0,V.m9)(i)).firestore!==e)throw new vt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function Bo(i){i=Tr(i,hi);const e=Tr(i.firestore,fi);return Nf(Gi(e),i._key).then(n=>eh(e,i,n))}class bs extends Bc{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hi(this.firestore,null,n)}}function tm(i){i=Tr(i,hi);const e=Tr(i.firestore,fi),n=Gi(e),o=new bs(e);return function Ag(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,d,g){try{const D=yield function(L,H){const pe=Wt(L);return pe.persistence.runTransaction("read document","readonly",Oe=>pe.fi.Ls(Oe,H))}(u,d);D.isFoundDocument()?g.resolve(D):D.isNoDocument()?g.resolve(null):g.reject(new vt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(D){const L=Zu(D,`Failed to get document '${d} from cache`);g.reject(L)}}),function(u,d,g){return o.apply(this,arguments)})(yield gu(i),e,n);var o})),n.promise}(n,i._key).then(u=>new vu(e,o,i._key,u,new yu(null!==u&&u.hasLocalMutations,!0),i.converter))}function nm(i){i=Tr(i,hi);const e=Tr(i.firestore,fi);return Nf(Gi(e),i._key,{source:"server"}).then(n=>eh(e,i,n))}function Fy(i){i=Tr(i,Fs);const e=Tr(i.firestore,fi),n=Gi(e),o=new bs(e);return Sy(i._query),Pf(n,i._query).then(u=>new _u(e,o,i,u))}function Ly(i){i=Tr(i,Fs);const e=Tr(i.firestore,fi),n=Gi(e),o=new bs(e);return function Sg(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return(o=(0,f.Z)(function*(u,d,g){try{const D=yield Gh(u,d,!0),L=new dg(d,D._i),H=L.Wu(D.documents),pe=L.applyChanges(H,!1);g.resolve(pe.snapshot)}catch(D){const L=Zu(D,`Failed to execute query '${d} against cache`);g.reject(L)}}),function(u,d,g){return o.apply(this,arguments)})(yield gu(i),e,n);var o})),n.promise}(n,i._query).then(u=>new _u(e,o,i,u))}function Vy(i){i=Tr(i,Fs);const e=Tr(i.firestore,fi),n=Gi(e),o=new bs(e);return Pf(n,i._query,{source:"server"}).then(u=>new _u(e,o,i,u))}function Uy(i,e,n){i=Tr(i,hi);const o=Tr(i.firestore,fi),u=co(i.converter,e,n);return ul(o,[Wd($l(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Mi.none())])}function Yf(i,e,n,...o){i=Tr(i,hi);const u=Tr(i.firestore,fi),d=$l(u);let g;return g="string"==typeof(e=(0,V.m9)(e))||e instanceof aa?Fc(d,"updateDoc",i._key,e,n,o):Kd(d,"updateDoc",i._key,e),ul(u,[g.toMutation(i._key,Mi.exists(!0))])}function jc(i){return ul(Tr(i.firestore,fi),[new w(i._key,Mi.none())])}function By(i,e){const n=Tr(i.firestore,fi),o=Ng(i),u=co(i.converter,e);return ul(n,[Wd($l(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Mi.exists(!1))]).then(()=>o)}function rm(i,...e){var n,o,u;i=(0,V.m9)(i);let d={includeMetadataChanges:!1},g=0;"object"!=typeof e[g]||mu(e[g])||(d=e[g],g++);const D={includeMetadataChanges:d.includeMetadataChanges};if(mu(e[g])){const Oe=e[g];e[g]=null===(n=Oe.next)||void 0===n?void 0:n.bind(Oe),e[g+1]=null===(o=Oe.error)||void 0===o?void 0:o.bind(Oe),e[g+2]=null===(u=Oe.complete)||void 0===u?void 0:u.bind(Oe)}let L,H,pe;if(i instanceof hi)H=Tr(i.firestore,fi),pe=Fr(i._key.path),L={next:Oe=>{e[g]&&e[g](eh(H,i,Oe))},error:e[g+1],complete:e[g+2]};else{const Oe=Tr(i,Fs);H=Tr(Oe.firestore,fi),pe=Oe._query;const nt=new bs(H);L={next:Nt=>{e[g]&&e[g](new _u(H,nt,Oe,Nt))},error:e[g+1],complete:e[g+2]},Sy(i._query)}return function(Oe,nt,Nt,Ft){const vn=new uo(Ft),Qn=new mf(nt,vn,Nt);return Oe.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return ff(yield tl(Oe),Qn)})),()=>{vn.Aa(),Oe.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return ag(yield tl(Oe),Qn)}))}}(Gi(H),pe,D,L)}function jy(i,e){return function hy(i,e){const n=new uo(e);return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield tl(i),u=n,Wt(o).bu.add(u),void u.next();var o,u})),()=>{n.Aa(),i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return o=yield tl(i),u=n,void Wt(o).bu.delete(u);var o,u}))}}(Gi(i=Tr(i,fi)),mu(e)?e:{next:e})}function ul(i,e){return function(n,o){const u=new _i;return n.asyncQueue.enqueueAndForget((0,f.Z)(function*(){return function sy(i,e,n){return bf.apply(this,arguments)}(yield Gd(n),o,u)})),u.promise}(Gi(i),e)}function eh(i,e,n){const o=n.docs.get(e._key),u=new bs(i);return new vu(i,u,e._key,o,new yu(n.hasPendingWrites,n.fromCache),e.converter)}class th extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=$l(e)}get(e){const n=ws(e,this._firestore),o=new ky(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return nn();const d=u[0];if(d.isFoundDocument())return new ol(this._firestore,o,d.key,d,n.converter);if(d.isNoDocument())return new ol(this._firestore,o,n._key,null,n.converter);throw nn()})}set(e,n,o){const u=ws(e,this._firestore),d=co(u.converter,n,o),g=Wd(this._dataReader,"Transaction.set",u._key,d,null!==u.converter,o);return this._transaction.set(u._key,g),this}update(e,n,o,...u){const d=ws(e,this._firestore);let g;return g="string"==typeof(n=(0,V.m9)(n))||n instanceof aa?Fc(this._dataReader,"Transaction.update",d._key,n,o,u):Kd(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(e){const n=ws(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=ws(e,this._firestore),o=new bs(this._firestore);return super.get(e).then(u=>new vu(this._firestore,o,n._key,u._document,new yu(!1,!1),n.converter))}}function $y(i,e,n){i=Tr(i,fi);const o=Object.assign(Object.assign({},Xg),n);return function(u){if(u.maxAttempts<1)throw new vt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Mg(i,e,n){const o=new _i;return i.asyncQueue.enqueueAndForget((0,f.Z)(function*(){const u=yield(d=i,$a(d).then(g=>g.datastore));var d;new Qu(i.asyncQueue,u,n,e,o).run()})),o.promise}(Gi(i),u=>e(new th(i,u)),o)}function im(){return new il("deleteField")}function sm(){return new qd("serverTimestamp")}function Qf(...i){return new Bg("arrayUnion",i)}function nh(...i){return new Hf("arrayRemove",i)}function om(i){return new jg("increment",i)}!function(i,e=!0){Bs=m.SDK_VERSION,(0,m._registerComponent)(new W.wA("firestore",(n,{options:o})=>{const u=n.getProvider("app").getImmediate(),d=new fi(u,new Wl(n.getProvider("auth-internal")),new va(n.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),d._setSettings(o),d},"PUBLIC")),(0,m.registerVersion)(xs,"3.4.9",i),(0,m.registerVersion)(xs,"3.4.9","esm2017")}()},2090:(kt,Ue,S)=>{S.d(Ue,{$s:()=>sn,BH:()=>Qe,G6:()=>le,L:()=>re,LL:()=>Le,Mn:()=>qe,Sg:()=>Ge,UG:()=>ce,US:()=>we,ZB:()=>ue,ZR:()=>He,b$:()=>At,d:()=>Ze,eu:()=>je,hl:()=>Re,jU:()=>et,m9:()=>dn,ne:()=>Wn,pd:()=>Yn,r3:()=>on,ru:()=>Ct,tV:()=>Ie,uI:()=>pt,vZ:()=>kn,w1:()=>Fe,xO:()=>Ln,xb:()=>pn,z$:()=>tt,zI:()=>de,zd:()=>qn});const ie=function(se){const me=[];let J=0;for(let k=0;k<se.length;k++){let N=se.charCodeAt(k);N<128?me[J++]=N:N<2048?(me[J++]=N>>6|192,me[J++]=63&N|128):55296==(64512&N)&&k+1<se.length&&56320==(64512&se.charCodeAt(k+1))?(N=65536+((1023&N)<<10)+(1023&se.charCodeAt(++k)),me[J++]=N>>18|240,me[J++]=N>>12&63|128,me[J++]=N>>6&63|128,me[J++]=63&N|128):(me[J++]=N>>12|224,me[J++]=N>>6&63|128,me[J++]=63&N|128)}return me},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,me){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=me?this.byteToCharMapWebSafe_:this.byteToCharMap_,k=[];for(let N=0;N<se.length;N+=3){const X=se[N],ee=N+1<se.length,Se=ee?se[N+1]:0,Ye=N+2<se.length,dt=Ye?se[N+2]:0;let Lt=(15&Se)<<2|dt>>6,ke=63&dt;Ye||(ke=64,ee||(Lt=64)),k.push(J[X>>2],J[(3&X)<<4|Se>>4],J[Lt],J[ke])}return k.join("")},encodeString(se,me){return this.HAS_NATIVE_SUPPORT&&!me?btoa(se):this.encodeByteArray(ie(se),me)},decodeString(se,me){return this.HAS_NATIVE_SUPPORT&&!me?atob(se):function(se){const me=[];let J=0,k=0;for(;J<se.length;){const N=se[J++];if(N<128)me[k++]=String.fromCharCode(N);else if(N>191&&N<224){const X=se[J++];me[k++]=String.fromCharCode((31&N)<<6|63&X)}else if(N>239&&N<365){const Ye=((7&N)<<18|(63&se[J++])<<12|(63&se[J++])<<6|63&se[J++])-65536;me[k++]=String.fromCharCode(55296+(Ye>>10)),me[k++]=String.fromCharCode(56320+(1023&Ye))}else{const X=se[J++],ee=se[J++];me[k++]=String.fromCharCode((15&N)<<12|(63&X)<<6|63&ee)}}return me.join("")}(this.decodeStringToByteArray(se,me))},decodeStringToByteArray(se,me){this.init_();const J=me?this.charToByteMapWebSafe_:this.charToByteMap_,k=[];for(let N=0;N<se.length;){const X=J[se.charAt(N++)],Se=N<se.length?J[se.charAt(N)]:0;++N;const dt=N<se.length?J[se.charAt(N)]:64;++N;const ht=N<se.length?J[se.charAt(N)]:64;if(++N,null==X||null==Se||null==dt||null==ht)throw Error();k.push(X<<2|Se>>4),64!==dt&&(k.push(Se<<4&240|dt>>2),64!==ht&&k.push(dt<<6&192|ht))}return k},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},re=function(se){return function(se){const me=ie(se);return we.encodeByteArray(me,!0)}(se).replace(/\./g,"")},Ie=function(se){try{return we.decodeString(se,!0)}catch(me){console.error("base64Decode failed: ",me)}return null};function ue(se,me){if(!(me instanceof Object))return me;switch(me.constructor){case Date:return new Date(me.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return me}for(const J in me)!me.hasOwnProperty(J)||!xe(J)||(se[J]=ue(se[J],me[J]));return se}function xe(se){return"__proto__"!==se}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((me,J)=>{this.resolve=me,this.reject=J})}wrapCallback(me){return(J,k)=>{J?this.reject(J):this.resolve(k),"function"==typeof me&&(this.promise.catch(()=>{}),1===me.length?me(J):me(J,k))}}}function Ge(se,me){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const k=me||"demo-project",N=se.iat||0,X=se.sub||se.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ee=Object.assign({iss:`https://securetoken.google.com/${k}`,aud:k,iat:N,exp:N+3600,auth_time:N,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},se);return[re(JSON.stringify({alg:"none",type:"JWT"})),re(JSON.stringify(ee)),""].join(".")}function tt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(se){return!1}}function et(){return"object"==typeof self&&self.self===self}function Ct(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function At(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ze(){return tt().indexOf("Electron/")>=0}function Fe(){const se=tt();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function qe(){return tt().indexOf("MSAppHost/")>=0}function le(){return!ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Re(){return"object"==typeof indexedDB}function je(){return new Promise((se,me)=>{try{let J=!0;const k="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(k);N.onsuccess=()=>{N.result.close(),J||self.indexedDB.deleteDatabase(k),se(!0)},N.onupgradeneeded=()=>{J=!1},N.onerror=()=>{var X;me((null===(X=N.error)||void 0===X?void 0:X.message)||"")}}catch(J){me(J)}})}function de(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class He extends Error{constructor(me,J,k){super(J),this.code=me,this.customData=k,this.name="FirebaseError",Object.setPrototypeOf(this,He.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Le.prototype.create)}}class Le{constructor(me,J,k){this.service=me,this.serviceName=J,this.errors=k}create(me,...J){const k=J[0]||{},N=`${this.service}/${me}`,X=this.errors[me],ee=X?function gt(se,me){return se.replace(Pt,(J,k)=>{const N=me[k];return null!=N?String(N):`<${k}?>`})}(X,k):"Error";return new He(N,`${this.serviceName}: ${ee} (${N}).`,k)}}const Pt=/\{\$([^}]+)}/g;function on(se,me){return Object.prototype.hasOwnProperty.call(se,me)}function pn(se){for(const me in se)if(Object.prototype.hasOwnProperty.call(se,me))return!1;return!0}function kn(se,me){if(se===me)return!0;const J=Object.keys(se),k=Object.keys(me);for(const N of J){if(!k.includes(N))return!1;const X=se[N],ee=me[N];if(_n(X)&&_n(ee)){if(!kn(X,ee))return!1}else if(X!==ee)return!1}for(const N of k)if(!J.includes(N))return!1;return!0}function _n(se){return null!==se&&"object"==typeof se}function Ln(se){const me=[];for(const[J,k]of Object.entries(se))Array.isArray(k)?k.forEach(N=>{me.push(encodeURIComponent(J)+"="+encodeURIComponent(N))}):me.push(encodeURIComponent(J)+"="+encodeURIComponent(k));return me.length?"&"+me.join("&"):""}function qn(se){const me={};return se.replace(/^\?/,"").split("&").forEach(k=>{if(k){const[N,X]=k.split("=");me[decodeURIComponent(N)]=decodeURIComponent(X)}}),me}function Yn(se){const me=se.indexOf("?");if(!me)return"";const J=se.indexOf("#",me);return se.substring(me,J>0?J:void 0)}function Wn(se,me){const J=new Ht(se,me);return J.subscribe.bind(J)}class Ht{constructor(me,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{me(this)}).catch(k=>{this.error(k)})}next(me){this.forEachObserver(J=>{J.next(me)})}error(me){this.forEachObserver(J=>{J.error(me)}),this.close(me)}complete(){this.forEachObserver(me=>{me.complete()}),this.close()}subscribe(me,J,k){let N;if(void 0===me&&void 0===J&&void 0===k)throw new Error("Missing Observer.");N=function Cn(se,me){if("object"!=typeof se||null===se)return!1;for(const J of me)if(J in se&&"function"==typeof se[J])return!0;return!1}(me,["next","error","complete"])?me:{next:me,error:J,complete:k},void 0===N.next&&(N.next=an),void 0===N.error&&(N.error=an),void 0===N.complete&&(N.complete=an);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch(ee){}}),this.observers.push(N),X}unsubscribeOne(me){void 0===this.observers||void 0===this.observers[me]||(delete this.observers[me],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(me){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,me)}sendOne(me,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[me])try{J(this.observers[me])}catch(k){"undefined"!=typeof console&&console.error&&console.error(k)}})}close(me){this.finalized||(this.finalized=!0,void 0!==me&&(this.finalError=me),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function an(){}function sn(se,me=1e3,J=2){const k=me*Math.pow(J,se),N=Math.round(.5*k*(Math.random()-.5)*2);return Math.min(144e5,k+N)}function dn(se){return se&&se._delegate?se._delegate:se}},5107:(kt,Ue,S)=>{S.d(Ue,{a:()=>ie});var f=S(5e3),m=S(6893),W=S(4410);let ie=(()=>{class V{constructor(ge,re){this.auth=ge,this.route=re,this.estaLoggeado=!1,this.authServiceSubscription=this.auth.currentUser.subscribe(Ie=>{this.estaLoggeado=Ie.isLogged})}canActivate(ge,re){return 1==this.estaLoggeado||(this.route.navigateByUrl("login"),!1)}}return V.\u0275fac=function(ge){return new(ge||V)(f.LFG(m.e),f.LFG(W.F0))},V.\u0275prov=f.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},6189:(kt,Ue,S)=>{S.d(Ue,{s:()=>Dt});var f=S(4410),m=S(5107),W=S(5861),ie=S(2382),V=S(5e3),we=S(8145),ge=S(7798),re=S(9808);const Ie=function(le){return[le]};function Q(le,Re){if(1&le){const je=V.EpF();V.TgZ(0,"ul",3)(1,"li",4),V.NdJ("click",function(){const Be=V.CHM(je).$implicit;return V.oxw().getPaisSeleccionado(Be)}),V.TgZ(2,"div")(3,"h6",5),V._uU(4),V.qZA(),V.TgZ(5,"small",6),V._uU(6),V.qZA()(),V.TgZ(7,"span",6),V._UZ(8,"img",7),V.qZA()()()}if(2&le){const je=Re.$implicit;V.xp6(4),V.Oqu(null==je.translations?null:je.translations.spa.common),V.xp6(2),V.Oqu(je.capital),V.xp6(2),V.Q6J("src",V.VKq(3,Ie,je.flags.png),V.LSH)}}let ue=(()=>{class le{constructor(je){this.http=je,this.paisSeleccionado=new V.vpe,je.getArrayPaisesEurope().subscribe(de=>{this.paises=de}),je.getArrayPaisesAfrica().subscribe(de=>{de.map(Ne=>{this.paises&&this.paises.push(Ne)})})}ngOnInit(){}getPaisSeleccionado(je){this.paisSeleccionado.emit(je)}}return le.\u0275fac=function(je){return new(je||le)(V.Y36(ge.O))},le.\u0275cmp=V.Xpm({type:le,selectors:[["app-paises-listado"]],outputs:{paisSeleccionado:"paisSeleccionado"},decls:3,vars:1,consts:[[1,"container"],[1,"col","listaPaises"],["class","list-group mb-3",4,"ngFor","ngForOf"],[1,"list-group","mb-3"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed","paisContainer",3,"click"],[1,"my-0"],[1,"text-muted"],["alt","","width","84px","height","56px",1,"float-right",3,"src"]],template:function(je,de){1&je&&(V.TgZ(0,"div",0)(1,"div",1),V.YNc(2,Q,9,5,"ul",2),V.qZA()()),2&je&&(V.xp6(2),V.Q6J("ngForOf",de.paises))},directives:[re.sg],styles:[".container[_ngcontent-%COMP%]{height:65vh;width:120%;margin-left:-50px}.listaPaises[_ngcontent-%COMP%]{height:75%;overflow-y:scroll}.paisContainer[_ngcontent-%COMP%]:hover{cursor:pointer;transform:scale(1.1)}"]}),le})();function xe(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"El DNI es requerido"),V.qZA())}function Qe(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"El DNI no puede ser mayor a 50 millones."),V.qZA())}function Ge(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"El nombre es requerido"),V.qZA())}function tt(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"La edad es requerida"),V.qZA())}function pt(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"Tiene que ser mayor de 18"),V.qZA())}function ce(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"La capacidad es requerida"),V.qZA())}function et(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"La capacidad no puede ser menor a 1"),V.qZA())}function Ct(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"Debe seleccionar una nacionalidad."),V.qZA())}function At(le,Re){if(1&le&&V._UZ(0,"img",40),2&le){const je=V.oxw();V.Q6J("src",je.bandera,V.LSH)}}function Ze(le,Re){1&le&&(V.TgZ(0,"small"),V._uU(1,"La unidad es requerida."),V.qZA())}const qe=[{path:"",component:(()=>{class le{constructor(je,de){this.fb=je,this.db=de,this.bandera="",this.repartidorGroup=this.fb.group({dni:["",[ie.kI.required,ie.kI.max(5e7)]],nombre:["",[ie.kI.required]],edad:["",[ie.kI.required,ie.kI.min(18)]],capacidadTransporte:["",[ie.kI.required,ie.kI.min(1)]],nacionalidad:["",[ie.kI.required]],unidadPropia:["",[ie.kI.required]]})}ngOnInit(){}obtenerNacionalidadRepartidor(je){this.nacionalidad=je,this.repartidorGroup.controls.nacionalidad.setValue(je.translations.spa.common),this.bandera=this.nacionalidad.flags.png}altaRepartidor(){var je=this;return(0,W.Z)(function*(){let de=je.repartidorGroup.value;console.log(de),de.nacionalidad=je.nacionalidad,(yield je.db.alta(de,"repartidor"))?(je.repartidorGroup.reset(),alert("Se dio de alta el repartidor.")):alert("No se dio de alta el repartidor.")})()}}return le.\u0275fac=function(je){return new(je||le)(V.Y36(ie.qu),V.Y36(we.T))},le.\u0275cmp=V.Xpm({type:le,selectors:[["app-alta-repartidor-pizza"]],decls:75,vars:12,consts:[[1,"container"],[1,"py-5","text-center"],["src","../../../assets/repartidor-pizzas.jpg","alt","","width","72","height","57",1,"d-block","mx-auto","mb-4"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"paisSeleccionado"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","submit"],[1,"row","g-3"],[1,"col-sm-6"],["for","dni",1,"form-label"],["type","number","id","dni","placeholder","","formControlName","dni",1,"form-control"],[4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","","formControlName","nombre",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","","formControlName","edad",1,"form-control"],["for","capacidadTransporte",1,"form-label"],["type","number","id","capacidadTransporte","placeholder","","formControlName","capacidadTransporte",1,"form-control"],[1,"col-sm-9"],["for","nacionalidad"],["type","text","id","nacionalidad","placeholder","Ingrese una nacionalidad","formControlName","nacionalidad","required","","readonly","",1,"form-control"],[1,"col-sm-3"],["alt","",3,"src",4,"ngIf"],[1,"col-md-12"],["for","unidadPropia",1,"form-label"],["id","unidadPropia","formControlName","unidadPropia",1,"form-select"],["value","","disabled",""],["value","true"],["value","false"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],["alt","",3,"src"]],template:function(je,de){1&je&&(V.TgZ(0,"div",0)(1,"main")(2,"div",1),V._UZ(3,"img",2),V.TgZ(4,"h2"),V._uU(5,"Alta Repartidor"),V.qZA()(),V.TgZ(6,"div",3)(7,"div",4)(8,"h4",5)(9,"span",6),V._uU(10,"Lista paises"),V.qZA()(),V.TgZ(11,"div")(12,"app-paises-listado",7),V.NdJ("paisSeleccionado",function(Be){return de.obtenerNacionalidadRepartidor(Be)}),V.qZA()()(),V.TgZ(13,"div",8)(14,"h4",9),V._uU(15,"Ingreso del repartidor"),V.qZA(),V.TgZ(16,"form",10),V.NdJ("submit",function(){return de.altaRepartidor()}),V.TgZ(17,"div",11)(18,"div",12)(19,"label",13),V._uU(20,"DNI"),V.qZA(),V._UZ(21,"input",14),V.YNc(22,xe,2,0,"small",15),V.YNc(23,Qe,2,0,"small",15),V.qZA(),V.TgZ(24,"div",12)(25,"label",16),V._uU(26,"Nombre"),V.qZA(),V._UZ(27,"input",17),V.YNc(28,Ge,2,0,"small",15),V.qZA(),V.TgZ(29,"div",12)(30,"label",18),V._uU(31,"Edad"),V.qZA(),V._UZ(32,"input",19),V.YNc(33,tt,2,0,"small",15),V.YNc(34,pt,2,0,"small",15),V.qZA(),V.TgZ(35,"div",12)(36,"label",20),V._uU(37,"Capacidad de transporte"),V.qZA(),V._UZ(38,"input",21),V.YNc(39,ce,2,0,"small",15),V.YNc(40,et,2,0,"small",15),V.qZA(),V.TgZ(41,"div",22)(42,"label",23),V._uU(43,"Nacionalidad"),V.qZA(),V._UZ(44,"input",24),V.YNc(45,Ct,2,0,"small",15),V.qZA(),V.TgZ(46,"div",25),V.YNc(47,At,1,1,"img",26),V.qZA(),V.TgZ(48,"div",27)(49,"label",28),V._uU(50,"Unidad propia"),V.qZA(),V.TgZ(51,"select",29)(52,"option",30),V._uU(53,"Choose..."),V.qZA(),V.TgZ(54,"option",31),V._uU(55,"Si"),V.qZA(),V.TgZ(56,"option",32),V._uU(57,"No"),V.qZA()(),V.YNc(58,Ze,2,0,"small",15),V.qZA()(),V._UZ(59,"hr",33),V.TgZ(60,"button",34),V._uU(61,"ALTA"),V.qZA()()()()(),V.TgZ(62,"footer",35)(63,"p",36),V._uU(64,"\xa9 Alejandro Javier Begue"),V.qZA(),V.TgZ(65,"ul",37)(66,"li",38)(67,"a",39),V._uU(68,"Privacy"),V.qZA()(),V.TgZ(69,"li",38)(70,"a",39),V._uU(71,"Terms"),V.qZA()(),V.TgZ(72,"li",38)(73,"a",39),V._uU(74,"Support"),V.qZA()()()()()),2&je&&(V.xp6(16),V.Q6J("formGroup",de.repartidorGroup),V.xp6(6),V.Q6J("ngIf",(null==de.repartidorGroup.controls.dni.errors?null:de.repartidorGroup.controls.dni.errors.required)&&de.repartidorGroup.controls.dni.touched),V.xp6(1),V.Q6J("ngIf",(null==de.repartidorGroup.controls.dni.errors?null:de.repartidorGroup.controls.dni.errors.max)&&de.repartidorGroup.controls.dni.touched),V.xp6(5),V.Q6J("ngIf",(null==de.repartidorGroup.controls.nombre.errors?null:de.repartidorGroup.controls.nombre.errors.required)&&de.repartidorGroup.controls.nombre.touched),V.xp6(5),V.Q6J("ngIf",(null==de.repartidorGroup.controls.edad.errors?null:de.repartidorGroup.controls.edad.errors.required)&&de.repartidorGroup.controls.edad.touched),V.xp6(1),V.Q6J("ngIf",(null==de.repartidorGroup.controls.edad.errors?null:de.repartidorGroup.controls.edad.errors.min)&&de.repartidorGroup.controls.edad.touched),V.xp6(5),V.Q6J("ngIf",(null==de.repartidorGroup.controls.capacidadTransporte.errors?null:de.repartidorGroup.controls.capacidadTransporte.errors.required)&&de.repartidorGroup.controls.capacidadTransporte.touched),V.xp6(1),V.Q6J("ngIf",(null==de.repartidorGroup.controls.capacidadTransporte.errors?null:de.repartidorGroup.controls.capacidadTransporte.errors.min)&&de.repartidorGroup.controls.capacidadTransporte.touched),V.xp6(5),V.Q6J("ngIf",(null==de.repartidorGroup.controls.nacionalidad.errors?null:de.repartidorGroup.controls.nacionalidad.errors.required)&&de.repartidorGroup.controls.nacionalidad.touched),V.xp6(2),V.Q6J("ngIf",de.bandera),V.xp6(11),V.Q6J("ngIf",(null==de.repartidorGroup.controls.unidadPropia.errors?null:de.repartidorGroup.controls.unidadPropia.errors.required)&&de.repartidorGroup.controls.unidadPropia.touched),V.xp6(2),V.Q6J("disabled",!de.repartidorGroup.valid))},directives:[ue,ie._Y,ie.JL,ie.sg,ie.wV,ie.Fj,ie.JJ,ie.u,re.O5,ie.Q7,ie.EJ,ie.YN,ie.Kr],styles:[".container[_ngcontent-%COMP%]{max-width:960px}img[_ngcontent-%COMP%]{height:6rem;width:7rem;margin-left:2rem}small[_ngcontent-%COMP%]{color:red}"]}),le})(),canActivate:[m.a]}];let Dt=(()=>{class le{}return le.\u0275fac=function(je){return new(je||le)},le.\u0275mod=V.oAB({type:le}),le.\u0275inj=V.cJS({imports:[[f.Bz.forChild(qe)],f.Bz]}),le})()},6893:(kt,Ue,S)=>{S.d(Ue,{e:()=>W});var f=S(1135),m=S(5e3);let W=(()=>{class ie{constructor(){this.isLogged=!1,this.perfil="",this.currentUserSubject=new f.X({}),this.currentUser=this.currentUserSubject.asObservable()}setCurrentUser(we){this.currentUserSubject.next(we)}}return ie.\u0275fac=function(we){return new(we||ie)},ie.\u0275prov=m.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},8145:(kt,Ue,S)=>{S.d(Ue,{T:()=>ie});var f=S(5861),m=S(5e3),W=S(3290);let ie=(()=>{class V{constructor(ge){this.db=ge}alta(ge,re){var Ie=this;return(0,f.Z)(function*(){try{return yield Ie.db.collection(re).add(ge)}catch(Q){return console.log("Error al realizar alta a Firebase: ",Q),Q}})()}delete(ge,re){var Ie=this;return(0,f.Z)(function*(){try{return yield Ie.db.collection(ge).doc(re).delete()}catch(Q){console.log("Error al realizar el delete: ",Q)}})()}getCollection(ge){var re=this;return(0,f.Z)(function*(){try{return yield re.db.collection(ge).snapshotChanges()}catch(Ie){return console.log("Error al obtener los objetos de Firebase: ",Ie),Ie}})()}getCollectionByField(ge,re,Ie,Q){var ue=this;return(0,f.Z)(function*(){try{return yield ue.db.collection(ge,xe=>xe.where(Ie,re,Q)).valueChanges()}catch(xe){return xe}})()}getDocById(ge,re){var Ie=this;return(0,f.Z)(function*(){try{return yield Ie.db.collection(ge).doc(re).get()}catch(Q){return console.log("Error al obtener el documento por el id: ",Q),Q}})()}update(ge,re,Ie){var Q=this;return(0,f.Z)(function*(){try{return yield Q.db.collection(ge).doc(re).set(Ie)}catch(ue){console.log("Error al realizar el update: ",ue)}})()}}return V.\u0275fac=function(ge){return new(ge||V)(m.LFG(W.ST))},V.\u0275prov=m.Yz7({token:V,factory:V.\u0275fac,providedIn:"root"}),V})()},7798:(kt,Ue,S)=>{S.d(Ue,{O:()=>W});var f=S(5e3),m=S(520);let W=(()=>{class ie{constructor(we){this.httpClient=we,this.url="https://api.github.com/users/ale0410",this.url2="https://restcountries.com/v3.1/region/europe",this.url3="https://restcountries.com/v3.1/region/Africa"}getDatosGit(){return this.httpClient.get(this.url)}getArrayPaisesEurope(){return this.httpClient.get(this.url2)}getArrayPaisesAfrica(){return this.httpClient.get(this.url3)}}return ie.\u0275fac=function(we){return new(we||ie)(f.LFG(m.eN))},ie.\u0275prov=f.Yz7({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie})()},8493:(kt,Ue,S)=>{var f=S(9808),m=S(5e3);class W extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ie extends W{static makeCurrent(){(0,f.HT)(new ie)}onAndCancel(te,U,ve){return te.addEventListener(U,ve,!1),()=>{te.removeEventListener(U,ve,!1)}}dispatchEvent(te,U){te.dispatchEvent(U)}remove(te){te.parentNode&&te.parentNode.removeChild(te)}createElement(te,U){return(U=U||this.getDefaultDocument()).createElement(te)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(te){return te.nodeType===Node.ELEMENT_NODE}isShadowRoot(te){return te instanceof DocumentFragment}getGlobalEventTarget(te,U){return"window"===U?window:"document"===U?te:"body"===U?te.body:null}getBaseHref(te){const U=function we(){return V=V||document.querySelector("base"),V?V.getAttribute("href"):null}();return null==U?null:function re($){ge=ge||document.createElement("a"),ge.setAttribute("href",$);const te=ge.pathname;return"/"===te.charAt(0)?te:`/${te}`}(U)}resetBaseElement(){V=null}getUserAgent(){return window.navigator.userAgent}getCookie(te){return(0,f.Mx)(document.cookie,te)}}let ge,V=null;const Ie=new m.OlP("TRANSITION_ID"),ue=[{provide:m.ip1,useFactory:function Q($,te,U){return()=>{U.get(m.CZH).donePromise.then(()=>{const ve=(0,f.q)(),Xe=te.querySelectorAll(`style[ng-transition="${$}"]`);for(let Xt=0;Xt<Xe.length;Xt++)ve.remove(Xe[Xt])})}},deps:[Ie,f.K0,m.zs3],multi:!0}];class xe{static init(){(0,m.VLi)(new xe)}addToWindow(te){m.dqk.getAngularTestability=(ve,Xe=!0)=>{const Xt=te.findTestabilityInTree(ve,Xe);if(null==Xt)throw new Error("Could not find testability for element.");return Xt},m.dqk.getAllAngularTestabilities=()=>te.getAllTestabilities(),m.dqk.getAllAngularRootElements=()=>te.getAllRootElements(),m.dqk.frameworkStabilizers||(m.dqk.frameworkStabilizers=[]),m.dqk.frameworkStabilizers.push(ve=>{const Xe=m.dqk.getAllAngularTestabilities();let Xt=Xe.length,xn=!1;const Kn=function(Mr){xn=xn||Mr,Xt--,0==Xt&&ve(xn)};Xe.forEach(function(Mr){Mr.whenStable(Kn)})})}findTestabilityInTree(te,U,ve){if(null==U)return null;const Xe=te.getTestability(U);return null!=Xe?Xe:ve?(0,f.q)().isShadowRoot(U)?this.findTestabilityInTree(te,U.host,!0):this.findTestabilityInTree(te,U.parentElement,!0):null}}let Qe=(()=>{class ${build(){return new XMLHttpRequest}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();const Ge=new m.OlP("EventManagerPlugins");let tt=(()=>{class ${constructor(U,ve){this._zone=ve,this._eventNameToPlugin=new Map,U.forEach(Xe=>Xe.manager=this),this._plugins=U.slice().reverse()}addEventListener(U,ve,Xe){return this._findPluginFor(ve).addEventListener(U,ve,Xe)}addGlobalEventListener(U,ve,Xe){return this._findPluginFor(ve).addGlobalEventListener(U,ve,Xe)}getZone(){return this._zone}_findPluginFor(U){const ve=this._eventNameToPlugin.get(U);if(ve)return ve;const Xe=this._plugins;for(let Xt=0;Xt<Xe.length;Xt++){const xn=Xe[Xt];if(xn.supports(U))return this._eventNameToPlugin.set(U,xn),xn}throw new Error(`No event manager plugin found for event ${U}`)}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(Ge),m.LFG(m.R0b))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();class pt{constructor(te){this._doc=te}addGlobalEventListener(te,U,ve){const Xe=(0,f.q)().getGlobalEventTarget(this._doc,te);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${U}`);return this.addEventListener(Xe,U,ve)}}let ce=(()=>{class ${constructor(){this._stylesSet=new Set}addStyles(U){const ve=new Set;U.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),ve.add(Xe))}),this.onStylesAdded(ve)}onStylesAdded(U){}getAllStyles(){return Array.from(this._stylesSet)}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})(),et=(()=>{class $ extends ce{constructor(U){super(),this._doc=U,this._hostNodes=new Map,this._hostNodes.set(U.head,[])}_addStylesToHost(U,ve,Xe){U.forEach(Xt=>{const xn=this._doc.createElement("style");xn.textContent=Xt,Xe.push(ve.appendChild(xn))})}addHost(U){const ve=[];this._addStylesToHost(this._stylesSet,U,ve),this._hostNodes.set(U,ve)}removeHost(U){const ve=this._hostNodes.get(U);ve&&ve.forEach(Ct),this._hostNodes.delete(U)}onStylesAdded(U){this._hostNodes.forEach((ve,Xe)=>{this._addStylesToHost(U,Xe,ve)})}ngOnDestroy(){this._hostNodes.forEach(U=>U.forEach(Ct))}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(f.K0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();function Ct($){(0,f.q)().remove($)}const At={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ze=/%COMP%/g;function de($,te,U){for(let ve=0;ve<te.length;ve++){let Xe=te[ve];Array.isArray(Xe)?de($,Xe,U):(Xe=Xe.replace(Ze,$),U.push(Xe))}return U}function Ne($){return te=>{if("__ngUnwrap__"===te)return $;!1===$(te)&&(te.preventDefault(),te.returnValue=!1)}}let He=(()=>{class ${constructor(U,ve,Xe){this.eventManager=U,this.sharedStylesHost=ve,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new Le(U)}createRenderer(U,ve){if(!U||!ve)return this.defaultRenderer;switch(ve.encapsulation){case m.ifc.Emulated:{let Xe=this.rendererByCompId.get(ve.id);return Xe||(Xe=new Bt(this.eventManager,this.sharedStylesHost,ve,this.appId),this.rendererByCompId.set(ve.id,Xe)),Xe.applyToHost(U),Xe}case 1:case m.ifc.ShadowDom:return new Ut(this.eventManager,this.sharedStylesHost,U,ve);default:if(!this.rendererByCompId.has(ve.id)){const Xe=de(ve.id,ve.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(ve.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(tt),m.LFG(et),m.LFG(m.AFp))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();class Le{constructor(te){this.eventManager=te,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(te,U){return U?document.createElementNS(At[U]||U,te):document.createElement(te)}createComment(te){return document.createComment(te)}createText(te){return document.createTextNode(te)}appendChild(te,U){te.appendChild(U)}insertBefore(te,U,ve){te&&te.insertBefore(U,ve)}removeChild(te,U){te&&te.removeChild(U)}selectRootElement(te,U){let ve="string"==typeof te?document.querySelector(te):te;if(!ve)throw new Error(`The selector "${te}" did not match any elements`);return U||(ve.textContent=""),ve}parentNode(te){return te.parentNode}nextSibling(te){return te.nextSibling}setAttribute(te,U,ve,Xe){if(Xe){U=Xe+":"+U;const Xt=At[Xe];Xt?te.setAttributeNS(Xt,U,ve):te.setAttribute(U,ve)}else te.setAttribute(U,ve)}removeAttribute(te,U,ve){if(ve){const Xe=At[ve];Xe?te.removeAttributeNS(Xe,U):te.removeAttribute(`${ve}:${U}`)}else te.removeAttribute(U)}addClass(te,U){te.classList.add(U)}removeClass(te,U){te.classList.remove(U)}setStyle(te,U,ve,Xe){Xe&(m.JOm.DashCase|m.JOm.Important)?te.style.setProperty(U,ve,Xe&m.JOm.Important?"important":""):te.style[U]=ve}removeStyle(te,U,ve){ve&m.JOm.DashCase?te.style.removeProperty(U):te.style[U]=""}setProperty(te,U,ve){te[U]=ve}setValue(te,U){te.nodeValue=U}listen(te,U,ve){return"string"==typeof te?this.eventManager.addGlobalEventListener(te,U,Ne(ve)):this.eventManager.addEventListener(te,U,Ne(ve))}}class Bt extends Le{constructor(te,U,ve,Xe){super(te),this.component=ve;const Xt=de(Xe+"-"+ve.id,ve.styles,[]);U.addStyles(Xt),this.contentAttr=function Re($){return"_ngcontent-%COMP%".replace(Ze,$)}(Xe+"-"+ve.id),this.hostAttr=function je($){return"_nghost-%COMP%".replace(Ze,$)}(Xe+"-"+ve.id)}applyToHost(te){super.setAttribute(te,this.hostAttr,"")}createElement(te,U){const ve=super.createElement(te,U);return super.setAttribute(ve,this.contentAttr,""),ve}}class Ut extends Le{constructor(te,U,ve,Xe){super(te),this.sharedStylesHost=U,this.hostEl=ve,this.shadowRoot=ve.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Xt=de(Xe.id,Xe.styles,[]);for(let xn=0;xn<Xt.length;xn++){const Kn=document.createElement("style");Kn.textContent=Xt[xn],this.shadowRoot.appendChild(Kn)}}nodeOrShadowRoot(te){return te===this.hostEl?this.shadowRoot:te}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(te,U){return super.appendChild(this.nodeOrShadowRoot(te),U)}insertBefore(te,U,ve){return super.insertBefore(this.nodeOrShadowRoot(te),U,ve)}removeChild(te,U){return super.removeChild(this.nodeOrShadowRoot(te),U)}parentNode(te){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(te)))}}let Tt=(()=>{class $ extends pt{constructor(U){super(U)}supports(U){return!0}addEventListener(U,ve,Xe){return U.addEventListener(ve,Xe,!1),()=>this.removeEventListener(U,ve,Xe)}removeEventListener(U,ve,Xe){return U.removeEventListener(ve,Xe)}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(f.K0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();const En=["alt","control","meta","shift"],Tn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},on={alt:$=>$.altKey,control:$=>$.ctrlKey,meta:$=>$.metaKey,shift:$=>$.shiftKey};let Kt=(()=>{class $ extends pt{constructor(U){super(U)}supports(U){return null!=$.parseEventName(U)}addEventListener(U,ve,Xe){const Xt=$.parseEventName(ve),xn=$.eventCallback(Xt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(U,Xt.domEventName,xn))}static parseEventName(U){const ve=U.toLowerCase().split("."),Xe=ve.shift();if(0===ve.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const Xt=$._normalizeKey(ve.pop());let xn="";if(En.forEach(Mr=>{const Pr=ve.indexOf(Mr);Pr>-1&&(ve.splice(Pr,1),xn+=Mr+".")}),xn+=Xt,0!=ve.length||0===Xt.length)return null;const Kn={};return Kn.domEventName=Xe,Kn.fullKey=xn,Kn}static getEventFullKey(U){let ve="",Xe=function pn($){let te=$.key;if(null==te){if(te=$.keyIdentifier,null==te)return"Unidentified";te.startsWith("U+")&&(te=String.fromCharCode(parseInt(te.substring(2),16)),3===$.location&&qt.hasOwnProperty(te)&&(te=qt[te]))}return Tn[te]||te}(U);return Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),En.forEach(Xt=>{Xt!=Xe&&on[Xt](U)&&(ve+=Xt+".")}),ve+=Xe,ve}static eventCallback(U,ve,Xe){return Xt=>{$.getEventFullKey(Xt)===U&&Xe.runGuarded(()=>ve(Xt))}}static _normalizeKey(U){return"esc"===U?"escape":U}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(f.K0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})();const qn=(0,m.eFA)(m._c5,"browser",[{provide:m.Lbi,useValue:f.bD},{provide:m.g9A,useValue:function Dn(){ie.makeCurrent(),xe.init()},multi:!0},{provide:f.K0,useFactory:function _n(){return(0,m.RDi)(document),document},deps:[]}]),Yn=[{provide:m.zSh,useValue:"root"},{provide:m.qLn,useFactory:function kn(){return new m.qLn},deps:[]},{provide:Ge,useClass:Tt,multi:!0,deps:[f.K0,m.R0b,m.Lbi]},{provide:Ge,useClass:Kt,multi:!0,deps:[f.K0]},{provide:He,useClass:He,deps:[tt,et,m.AFp]},{provide:m.FYo,useExisting:He},{provide:ce,useExisting:et},{provide:et,useClass:et,deps:[f.K0]},{provide:m.dDg,useClass:m.dDg,deps:[m.R0b]},{provide:tt,useClass:tt,deps:[Ge,m.R0b]},{provide:f.JF,useClass:Qe,deps:[]}];let tn=(()=>{class ${constructor(U){if(U)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(U){return{ngModule:$,providers:[{provide:m.AFp,useValue:U.appId},{provide:Ie,useExisting:m.AFp},ue]}}}return $.\u0275fac=function(U){return new(U||$)(m.LFG($,12))},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({providers:Yn,imports:[f.ez,m.hGG]}),$})(),an=(()=>{class ${constructor(U){this._doc=U}getTitle(){return this._doc.title}setTitle(U){this._doc.title=U||""}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(f.K0))},$.\u0275prov=m.Yz7({token:$,factory:function(U){let ve=null;return ve=U?new U:function Cn(){return new an((0,m.LFG)(f.K0))}(),ve},providedIn:"root"}),$})();"undefined"!=typeof window&&window;var ae=S(2382),rt=S(520),at=S(2011),$t=S(655),ln=S(9646),bn=S(515),wn=S(5363),tr=S(3900),ir=S(4004),On=S(3151),An=S(880),Ir=S(7982),jn=S(4410),Kr=S(3385),Sr=S(127),xt=S(9300),Ee=S(8306),Ke=S(8421),Et=S(7579),en=S(4482),Sn=S(5403);var Mn=S(5577),ur=S(1884),xr=S(8675),fn=S(1520),wr=S(3692),pi=S(5867);const Ds="firebase_screen_id",Qr="outlet",ns="screen_class",Fi="screen_name";let is=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Oi={},gi=$=>{const te=[$[ns],$[Qr]].join("#");if(Oi.hasOwnProperty(te))return Oi[te];{const U=is++;return Oi[te]=U,U}},qi=new m.OlP("angularfire2.analytics.analyticsCollectionEnabled"),ui=new m.OlP("angularfire2.analytics.appVersion"),Ci=new m.OlP("angularfire2.analytics.appName"),Zr=new m.OlP("angularfire2.analytics.debugMode"),lr=new m.OlP("angularfire2.analytics.config"),ms="dataLayer";let Ti=(()=>{class ${constructor(U,ve,Xe,Xt,xn,Kn,Mr,Pr,hs){if(this.analyticsInitialized=new Promise(()=>{}),(0,f.NF)(Mr)){window[ms]=window[ms]||[];const ri=(...zr)=>"config"===zr[0]&&"firebase"===zr[2].origin&&(this.measurementId=zr[1],!0),Hr=zr=>{window.gtag=(...Fr)=>{zr&&zr(...Fr),"event"===Fr[0]&&Fr[2].send_to===this.measurementId&&(Xt&&(Fr[2].app_name=Xt),Xe&&(Fr[2].app_version=Xe)),xn&&"undefined"!=typeof console&&console.info(...Fr),function(...Ca){window[ms].push(arguments)}(...Fr)}};window[ms].some(ri)?(this.analyticsInitialized=Promise.resolve(),Hr()):this.analyticsInitialized=new Promise(zr=>{Hr((...Fr)=>{ri(...Fr)&&zr()})}),Kn&&this.updateConfig(Kn),xn&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const Es=(0,ln.of)(void 0).pipe((0,wn.Q)(hs.outsideAngular),(0,tr.w)(Ir.Gb),(0,tr.w)(ri=>ri?Pr.runOutsideAngular(()=>S.e(643).then(S.bind(S,8643))):bn.E),(0,ir.U)(()=>(0,at.cc)("analytics","AngularFireAnalytics",U.name,()=>{const ri=U.analytics();return!1===ve&&ri.setAnalyticsCollectionEnabled(!1),ri},[U,ve,Kn,xn])),(0,On.d)({bufferSize:1,refCount:!1}));return(0,at.pX)(this,Es,Pr)}updateConfig(U){return(0,$t.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},U),{update:!0}))})}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(at.Ot),m.LFG(qi,8),m.LFG(ui,8),m.LFG(Ci,8),m.LFG(Zr,8),m.LFG(lr,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(An.HU))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac,providedIn:"any"}),$})(),os=(()=>{class ${constructor(U,ve,Xe,Xt){if(this.disposables=[],Sr.Z.registerVersion("angularfire",An.q4.full,"compat-user-tracking"),(0,f.PM)(ve))this.initialized=Promise.resolve();else{let xn;this.initialized=Xt.runOutsideAngular(()=>new Promise(Kn=>xn=Kn)),this.disposables=[Xe.authState.subscribe(Kn=>{U.setUserId(null==Kn?void 0:Kn.uid),xn()}),Xe.credential.subscribe(Kn=>{if(Kn){const Mr=Kn.user.isAnonymous?"anonymous":Kn.additionalUserInfo.providerId;Kn.additionalUserInfo.isNewUser&&U.logEvent("sign_up",{method:Mr}),U.logEvent("login",{method:Mr})}})]}}ngOnDestroy(){this.disposables.forEach(U=>U.unsubscribe())}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(Ti),m.LFG(m.Lbi),m.LFG(Kr.zQ),m.LFG(m.R0b))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})(),Ni=(()=>{class ${constructor(U,ve,Xe,Xt,xn,Kn){if(Sr.Z.registerVersion("angularfire",An.q4.full,"compat-screen-tracking"),!ve||!U)return this;xn.runOutsideAngular(()=>{this.disposable=(($,te,U)=>$.events.pipe((0,xt.h)(Xe=>Xe instanceof jn.jw)).pipe((0,tr.w)(Xe=>{var Xt;const Kn=(null===(Xt=$.parseUrl($.url.replace(/(?:\().+(?:\))/g,Hr=>Hr.replace("://",":///"))).root.children[Xe.snapshot.outlet])||void 0===Xt?void 0:Xt.toString())||"",Mr=$.routerState.root.children.map(Hr=>Hr).find(Hr=>Hr.outlet===Xe.snapshot.outlet);if(!Mr)return(0,ln.of)(null);let Pr=Mr;for(;Pr.firstChild;)Pr=Pr.firstChild;const hs=Pr.pathFromRoot.map(Hr=>{var kr;return null===(kr=Hr.routeConfig)||void 0===kr?void 0:kr.path}).filter(Hr=>Hr).join("/")||"/",Es={[Fi]:hs,page_path:`/${Kn}`,firebase_event_origin:"auto",firebase_screen:hs,[Qr]:Xe.snapshot.outlet};te&&(Es.page_title=te.getTitle());let ri=Mr.component;if(ri){if(ri===jn.fw){let Hr=Xe.snapshot;for(;Hr.firstChild;)Hr=Hr.firstChild;ri=Hr.component}}else ri=Xe.snapshot.component;if("string"==typeof ri)return(0,ln.of)(Object.assign(Object.assign({},Es),{[ns]:ri}));if(ri){const Hr=U.resolveComponentFactory(ri);return(0,ln.of)(Object.assign(Object.assign({},Es),{[ns]:Hr.selector}))}return(0,ln.of)(null)}),(0,xt.h)(Xe=>!!Xe),(0,ir.U)(Xe=>Object.assign({firebase_screen_class:Xe[ns],[Ds]:gi(Xe)},Xe)),function $n($,te,U,ve){return(0,en.e)((Xe,Xt)=>{let xn;te&&"function"!=typeof te?({duration:U,element:xn,connector:ve}=te):xn=te;const Kn=new Map,Mr=kr=>{Kn.forEach(kr),kr(Xt)},Pr=kr=>Mr(zr=>zr.error(kr));let hs=0,Es=!1;const ri=new Sn.Q(Xt,kr=>{try{const zr=$(kr);let Fr=Kn.get(zr);if(!Fr){Kn.set(zr,Fr=ve?ve():new Et.x);const Ca=function Hr(kr,zr){const Fr=new Ee.y(Ca=>{hs++;const Eo=zr.subscribe(Ca);return()=>{Eo.unsubscribe(),0==--hs&&Es&&ri.unsubscribe()}});return Fr.key=kr,Fr}(zr,Fr);if(Xt.next(Ca),U){const Eo=(0,Sn.x)(Fr,()=>{Fr.complete(),null==Eo||Eo.unsubscribe()},void 0,void 0,()=>Kn.delete(zr));ri.add((0,Ke.Xf)(U(Ca)).subscribe(Eo))}}Fr.next(xn?xn(kr):kr)}catch(zr){Pr(zr)}},()=>Mr(kr=>kr.complete()),Pr,()=>Kn.clear(),()=>(Es=!0,0===hs));Xe.subscribe(ri)})}(Xe=>Xe[Qr]),(0,Mn.z)(Xe=>Xe.pipe((0,ur.x)((Xt,xn)=>JSON.stringify(Xt)===JSON.stringify(xn)),(0,xr.O)(void 0),(0,fn.G)(),(0,ir.U)(([Xt,xn])=>Xt?Object.assign({firebase_previous_class:Xt[ns],firebase_previous_screen:Xt[Fi],firebase_previous_id:Xt[Ds]},xn):xn)))))(ve,Xe,Xt).pipe((0,tr.w)(Mr=>(0,$t.mG)(this,void 0,void 0,function*(){return Kn&&(yield Kn.initialized),yield U.logEvent("screen_view",Mr)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(Ti),m.LFG(jn.F0,8),m.LFG(an,8),m.LFG(m._Vd),m.LFG(m.R0b),m.LFG(os,8))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac}),$})(),Yi=(()=>{class ${constructor(U,ve,Xe){Sr.Z.registerVersion("angularfire",An.q4.full,"analytics-compat"),U.app.then(()=>{})}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(Ti),m.LFG(Ni,8),m.LFG(os,8))},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({providers:[Ti]}),$})();var nr=S(3290),R=S(6893);let G=(()=>{class ${constructor(U,ve){this.auth=U,this.route=ve,this.estaLoggeado=!1,this.authServiceSubscription=this.auth.currentUser.subscribe(Xe=>{this.estaLoggeado=Xe.isLogged})}canActivate(U,ve){return!this.estaLoggeado||(this.route.navigateByUrl("altaRepartidor"),!1)}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(R.e),m.LFG(jn.F0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})(),x=(()=>{class ${constructor(U,ve){this.auth=U,this.route=ve,this.perfil="",this.authServiceSubscription=this.auth.currentUser.subscribe(Xe=>{this.perfil=Xe.perfil})}canActivate(U,ve){return"admin"==this.perfil||(this.route.navigateByUrl(""),!1)}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(R.e),m.LFG(jn.F0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})();var q=S(5107),Ae=S(7798);const it=function(){return["/login"]};function wt($,te){if(1&$&&(m.TgZ(0,"div",2),m._UZ(1,"img",3),m.TgZ(2,"h1",4),m._uU(3),m.qZA(),m.TgZ(4,"h4",5),m._uU(5),m.qZA(),m.TgZ(6,"div",6)(7,"p",7),m._uU(8),m.qZA(),m.TgZ(9,"div",8)(10,"button",9),m._uU(11,"LOGIN"),m.qZA()()()()),2&$){const U=m.oxw();m.xp6(1),m.s9C("src",U.datosGit.avatar_url,m.LSH),m.xp6(2),m.Oqu(U.datosGit.name),m.xp6(2),m.Oqu(U.datosGit.login),m.xp6(3),m.Oqu(U.datosGit.bio),m.xp6(2),m.Q6J("routerLink",m.DdM(5,it))}}let un=(()=>{class ${constructor(U){this.http=U}ngOnInit(){this.http.getDatosGit().subscribe(U=>{this.datosGit=U})}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(Ae.O))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-bienvenida"]],decls:4,vars:1,consts:[["class","px-4 py-5 my-5 text-center",4,"ngIf"],[1,"b-example-divider"],[1,"px-4","py-5","my-5","text-center"],["alt","avatar",1,"d-block","mx-auto","mb-4","avatar",3,"src"],[1,"display-5","fw-bold"],[1,"display-5"],[1,"col-lg-6","mx-auto"],[1,"lead","mb-4"],[1,"d-grid","gap-2","d-sm-flex","justify-content-sm-center"],["type","button",1,"btn","btn-primary","btn-lg","px-4","gap-3",3,"routerLink"]],template:function(U,ve){1&U&&(m.TgZ(0,"body")(1,"main"),m.YNc(2,wt,12,6,"div",0),m._UZ(3,"div",1),m.qZA()()),2&U&&(m.xp6(2),m.Q6J("ngIf",ve.datosGit))},directives:[f.O5,jn.rH],styles:[".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}.avatar[_ngcontent-%COMP%]{border-radius:100%;width:20%}"]}),$})();var sr=S(8145);function or($,te){if(1&$){const U=m.EpF();m.TgZ(0,"tr")(1,"td"),m._uU(2),m.qZA(),m.TgZ(3,"td"),m._uU(4),m.qZA(),m.TgZ(5,"td")(6,"button",4),m.NdJ("click",function(){const Xt=m.CHM(U).$implicit;return m.oxw().getRepartidorSeleccionado(Xt)}),m._uU(7,"VER DETALLE"),m.qZA()()()}if(2&$){const U=te.$implicit;m.xp6(2),m.Oqu(U.dni),m.xp6(2),m.Oqu(U.nombre)}}let K=(()=>{class ${constructor(U){this.db=U,this.listadoRepartidor=[],this.repartidorSeleccionado=new m.vpe}ngOnInit(){this.db.getCollection("repartidor").then(U=>U.subscribe(ve=>{ve.forEach(Xe=>{this.listadoRepartidor.push(Xe.payload.doc.data())})}))}getRepartidorSeleccionado(U){this.repartidorSeleccionado.emit(U)}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(sr.T))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-listado-repartidor"]],outputs:{repartidorSeleccionado:"repartidorSeleccionado"},decls:13,vars:1,consts:[[1,"display-5","fw-bold"],[1,"table","table-striped","table-dark"],["scope","col"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-outline-secondary",3,"click"]],template:function(U,ve){1&U&&(m.TgZ(0,"h1",0),m._uU(1,"Listado productos"),m.qZA(),m.TgZ(2,"table",1)(3,"thead")(4,"tr")(5,"th",2),m._uU(6,"DNI"),m.qZA(),m.TgZ(7,"th",2),m._uU(8,"Nombre"),m.qZA(),m.TgZ(9,"th",2),m._uU(10,"Detalle"),m.qZA()()(),m.TgZ(11,"tbody"),m.YNc(12,or,8,2,"tr",3),m.qZA()()),2&U&&(m.xp6(12),m.Q6J("ngForOf",ve.listadoRepartidor))},directives:[f.sg],styles:[""]}),$})(),Y=(()=>{class ${transform(U,...ve){return"true"===U?"Si":"No"}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275pipe=m.Yjl({name:"transformBoolean",type:$,pure:!0}),$})();function Ce($,te){if(1&$&&(m.TgZ(0,"div",1)(1,"h4",2)(2,"b"),m._uU(3),m.qZA()(),m.TgZ(4,"h6",3)(5,"span"),m._uU(6,"DNI: "),m.qZA(),m._uU(7),m.qZA(),m.TgZ(8,"p",4)(9,"span"),m._uU(10,"Edad: "),m.qZA(),m._uU(11),m.qZA(),m.TgZ(12,"p",4)(13,"span"),m._uU(14,"Transporte: "),m.qZA(),m._uU(15),m.qZA(),m.TgZ(16,"p",4)(17,"span"),m._uU(18,"Unidad propia: "),m.qZA(),m.TgZ(19,"b"),m._uU(20),m.ALo(21,"transformBoolean"),m.qZA()()()),2&$){const U=m.oxw();m.xp6(3),m.Oqu(U.inputRepartidor.nombre),m.xp6(4),m.Oqu(U.inputRepartidor.dni),m.xp6(4),m.Oqu(U.inputRepartidor.edad),m.xp6(4),m.Oqu(U.inputRepartidor.capacidadTransporte),m.xp6(5),m.Oqu(m.lcZ(21,5,U.inputRepartidor.unidadPropia))}}let ze=(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-detalle"]],inputs:{inputRepartidor:"inputRepartidor"},decls:3,vars:1,consts:[["class","card-body",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle","mb-4","text-muted"],[1,"card-text"]],template:function(U,ve){1&U&&(m.TgZ(0,"h2"),m._uU(1,"Detalle repartidor"),m.qZA(),m.YNc(2,Ce,22,7,"div",0)),2&U&&(m.xp6(2),m.Q6J("ngIf",ve.inputRepartidor))},directives:[f.O5],pipes:[Y],styles:[""]}),$})();function It($,te){if(1&$&&(m.TgZ(0,"ul",1)(1,"li",2)(2,"b"),m._uU(3),m.qZA(),m.TgZ(4,"span"),m._UZ(5,"img",3),m.qZA()(),m.TgZ(6,"li",4)(7,"div",5)(8,"div",6)(9,"p",7),m._uU(10,"Capital:"),m.qZA()(),m.TgZ(11,"div",8)(12,"p",9),m._uU(13),m.qZA()()()(),m.TgZ(14,"li",4)(15,"div",5)(16,"div",6)(17,"p",7),m._uU(18,"Continente:"),m.qZA()(),m.TgZ(19,"div",8)(20,"p",9),m._uU(21),m.qZA()()()(),m.TgZ(22,"li",4)(23,"div",5)(24,"div",6)(25,"p",7),m._uU(26,"Cantidad de poblaci\xf3n:"),m.qZA()(),m.TgZ(27,"div",8)(28,"p",9),m._uU(29),m.qZA()()()()()),2&$){const U=m.oxw();m.xp6(3),m.Oqu(U.inputPaises.nacionalidad.translations.spa.common),m.xp6(2),m.Q6J("src",U.inputPaises.nacionalidad.flags.png,m.LSH),m.xp6(8),m.Oqu(U.inputPaises.nacionalidad.capital),m.xp6(8),m.Oqu(U.inputPaises.nacionalidad.continents[0]),m.xp6(8),m.Oqu(U.inputPaises.nacionalidad.population)}}let jt=(()=>{class ${constructor(){}ngOnInit(){}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-detalle-pais"]],inputs:{inputPaises:"inputPaises"},decls:1,vars:1,consts:[["class","list-group",4,"ngIf"],[1,"list-group"],[1,"list-group-item","list-group-item-primary","d-flex"],["alt","",3,"src"],[1,"list-group-item"],[1,"row"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"]],template:function(U,ve){1&U&&m.YNc(0,It,30,5,"ul",0),2&U&&m.Q6J("ngIf",ve.inputPaises)},directives:[f.O5],styles:["img[_ngcontent-%COMP%]{width:30%;margin-left:70%}b[_ngcontent-%COMP%]{font-size:25px}"]}),$})(),mn=(()=>{class ${constructor(){}ngOnInit(){}tomarRepartidorParaMostrar(U){this.repartidorSeleccionado=U}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-detalle-repartidor"]],decls:20,vars:2,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],["src","../../../assets/repartidor-pizzas.jpg","alt","repartidor",1,"logo"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[3,"repartidorSeleccionado"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[3,"inputRepartidor"],[1,"h-100","p-5","bg-light","border","rounded-3"],[3,"inputPaises"],[1,"pt-3","mt-4","text-muted","border-top"]],template:function(U,ve){1&U&&(m.TgZ(0,"div",0)(1,"header",1)(2,"a",2),m._UZ(3,"img",3),m.TgZ(4,"span",4),m._uU(5,"Repartidor detalle"),m.qZA()()(),m.TgZ(6,"div",5)(7,"div",6)(8,"app-listado-repartidor",7),m.NdJ("repartidorSeleccionado",function(Xt){return ve.tomarRepartidorParaMostrar(Xt)}),m.qZA()()(),m.TgZ(9,"div",8)(10,"div",9)(11,"div",10),m._UZ(12,"app-detalle",11),m.qZA()(),m.TgZ(13,"div",9)(14,"div",12)(15,"h2"),m._uU(16,"Detalle pa\xeds"),m.qZA(),m._UZ(17,"app-detalle-pais",13),m.qZA()()(),m.TgZ(18,"footer",14),m._uU(19," \xa9 2021 "),m.qZA()()),2&U&&(m.xp6(12),m.Q6J("inputRepartidor",ve.repartidorSeleccionado),m.xp6(5),m.Q6J("inputPaises",ve.repartidorSeleccionado))},directives:[K,ze,jt],styles:[".logo[_ngcontent-%COMP%]{width:4rem;margin-right:1rem}"]}),$})(),Yt=(()=>{class ${constructor(U,ve,Xe){this.fb=U,this.route=ve,this.auth=Xe,this.loginGroup=U.group({email:"",password:""}),this.listadoUsuarios=[{email:"rosasanchez@gmail.com",password:"123456ad",perfil:"admin"},{email:"juanperez@gmail.com",password:"lalalaemp",perfil:"empleado"}]}ngOnInit(){}cargarEmpleado(){this.loginGroup.controls.email.setValue(this.listadoUsuarios[1].email),this.loginGroup.controls.password.setValue(this.listadoUsuarios[1].password)}cargarAdmin(){this.loginGroup.controls.email.setValue(this.listadoUsuarios[0].email),this.loginGroup.controls.password.setValue(this.listadoUsuarios[0].password)}login(){"rosasanchez@gmail.com"===this.loginGroup.value.email&&"123456ad"===this.loginGroup.value.password?(this.auth.setCurrentUser({perfil:"admin",isLogged:!0}),this.route.navigate(["altaRepartidorPizza"])):"juanperez@gmail.com"===this.loginGroup.value.password||"lalalaemp"===this.loginGroup.value.password?(this.auth.setCurrentUser({perfil:"empleado",isLogged:!0}),this.route.navigate(["altaRepartidorPizza"])):alert("No es un usuario v\xe1lido")}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(ae.qu),m.Y36(jn.F0),m.Y36(R.e))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-login"]],decls:22,vars:1,consts:[[1,"container","col-xl-10","col-xxl-8","px-4","py-5"],[1,"row","align-items-center","g-lg-5","py-5"],[1,"col-lg-7","text-center","text-lg-start"],[1,"display-4","fw-bold","lh-1","mb-3"],[1,"col-md-10","mx-auto","col-lg-5"],[1,"p-4","p-md-5","border","rounded-3","bg-light",3,"formGroup","submit"],[1,"form-floating","mb-3"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-primary"],[1,"d-flex","justify-content-between","mt-3"],["type","button",1,"w-50","btn","btn-secondary","btn-lg","mr-1",3,"click"],["type","button",1,"w-50","btn","btn-warning","btn-lg",3,"click"]],template:function(U,ve){1&U&&(m.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),m._uU(4,"Login"),m.qZA()(),m.TgZ(5,"div",4)(6,"form",5),m.NdJ("submit",function(){return ve.login()}),m.TgZ(7,"div",6),m._UZ(8,"input",7),m.TgZ(9,"label",8),m._uU(10,"Email"),m.qZA()(),m.TgZ(11,"div",6),m._UZ(12,"input",9),m.TgZ(13,"label",10),m._uU(14,"Password"),m.qZA()(),m.TgZ(15,"button",11),m._uU(16,"Ingresar"),m.qZA(),m.TgZ(17,"div",12)(18,"button",13),m.NdJ("click",function(){return ve.cargarAdmin()}),m._uU(19,"Admin"),m.qZA(),m.TgZ(20,"button",14),m.NdJ("click",function(){return ve.cargarEmpleado()}),m._uU(21,"Empleado"),m.qZA()()()()()()),2&U&&(m.xp6(6),m.Q6J("formGroup",ve.loginGroup))},directives:[ae._Y,ae.JL,ae.sg,ae.Fj,ae.JJ,ae.u],styles:[".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}"]}),$})();var hr=S(5861);function gr($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"El DNI es requerido"),m.qZA())}function mr($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"El DNI no puede ser mayor a 50 millones."),m.qZA())}function Vn($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"El nombre es requerido"),m.qZA())}function O($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"La edad es requerida"),m.qZA())}function A($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"Tiene que ser mayor de 18"),m.qZA())}function T($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"El email es requerido"),m.qZA())}function Z($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"Debe seleccionar una nacionalidad."),m.qZA())}function he($,te){1&$&&(m.TgZ(0,"small"),m._uU(1,"La contrase\xf1a es requerida"),m.qZA())}function St($,te){if(1&$&&m._UZ(0,"img",32),2&$){const U=m.oxw();m.Q6J("src",U.bandera,m.LSH)}}const Vi=[{path:"bienvenida",component:un,canActivate:[G]},{path:"login",component:Yt,canActivate:[G]},{path:"register",component:(()=>{class ${constructor(U,ve){this.fb=U,this.db=ve,this.bandera="",this.registerGroup=this.fb.group({dni:["",[ae.kI.required,ae.kI.max(5e7)]],nombre:["",[ae.kI.required]],edad:["",[ae.kI.required,ae.kI.min(18)]],email:["",[ae.kI.required]],nacionalidad:["",[ae.kI.required]],password:["",[ae.kI.required]]})}ngOnInit(){}obtenerNacionalidadRepartidor(U){this.nacionalidad=U,this.registerGroup.controls.nacionalidad.setValue(U.translations.spa.common),this.bandera=this.nacionalidad.flags.png}altaRepartidor(){var U=this;return(0,hr.Z)(function*(){let ve=U.registerGroup.value;console.log(ve),ve.nacionalidad=U.nacionalidad,(yield U.db.alta(ve,"register"))?(U.registerGroup.reset(),alert("Se dio de alta el usuario.")):alert("No se dio de alta el usuario.")})()}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(ae.qu),m.Y36(sr.T))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-register"]],decls:62,vars:11,consts:[[1,"container"],[1,"py-5","text-center"],["src","../../../assets/repartidor-pizzas.jpg","alt","","width","72","height","57",1,"d-block","mx-auto","mb-4"],[1,"row","g-5"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],["novalidate","",1,"needs-validation",3,"formGroup","submit"],[1,"row","g-3"],[1,"col-sm-6"],["for","dni",1,"form-label"],["type","number","id","dni","placeholder","","formControlName","dni",1,"form-control"],[4,"ngIf"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","","formControlName","nombre",1,"form-control"],["for","edad",1,"form-label"],["type","number","id","edad","placeholder","","formControlName","edad",1,"form-control"],["for","email",1,"form-label"],["type","text","id","email","placeholder","","formControlName","email",1,"form-control"],[1,"col-sm-9"],["for","nacionalidad"],["type","text","id","nacionalidad","placeholder","Ingrese una nacionalidad","formControlName","nacionalidad","required","","readonly","",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","placeholder","password","formControlName","password",1,"form-control"],[1,"col-sm-3"],["alt","",3,"src",4,"ngIf"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"],["alt","",3,"src"]],template:function(U,ve){1&U&&(m.TgZ(0,"div",0)(1,"main")(2,"div",1),m._UZ(3,"img",2),m.TgZ(4,"h2"),m._uU(5,"Alta Usuarios"),m.qZA()(),m.TgZ(6,"div",3)(7,"div",4)(8,"h4",5),m._uU(9,"Ingreso del usuario"),m.qZA(),m.TgZ(10,"form",6),m.NdJ("submit",function(){return ve.altaRepartidor()}),m.TgZ(11,"div",7)(12,"div",8)(13,"label",9),m._uU(14,"DNI"),m.qZA(),m._UZ(15,"input",10),m.YNc(16,gr,2,0,"small",11),m.YNc(17,mr,2,0,"small",11),m.qZA(),m.TgZ(18,"div",8)(19,"label",12),m._uU(20,"Nombre"),m.qZA(),m._UZ(21,"input",13),m.YNc(22,Vn,2,0,"small",11),m.qZA(),m.TgZ(23,"div",8)(24,"label",14),m._uU(25,"Edad"),m.qZA(),m._UZ(26,"input",15),m.YNc(27,O,2,0,"small",11),m.YNc(28,A,2,0,"small",11),m.qZA(),m.TgZ(29,"div",8)(30,"label",16),m._uU(31,"Email"),m.qZA(),m._UZ(32,"input",17),m.YNc(33,T,2,0,"small",11),m.qZA(),m.TgZ(34,"div",18)(35,"label",19),m._uU(36,"Nacionalidad"),m.qZA(),m._UZ(37,"input",20),m.YNc(38,Z,2,0,"small",11),m.qZA(),m.TgZ(39,"div",8)(40,"label",21),m._uU(41,"Password"),m.qZA(),m._UZ(42,"input",22),m.YNc(43,he,2,0,"small",11),m.qZA(),m.TgZ(44,"div",23),m.YNc(45,St,1,1,"img",24),m.qZA()(),m._UZ(46,"hr",25),m.TgZ(47,"button",26),m._uU(48,"ALTA"),m.qZA()()()()(),m.TgZ(49,"footer",27)(50,"p",28),m._uU(51,"\xa9 Alejandro Javier Begue"),m.qZA(),m.TgZ(52,"ul",29)(53,"li",30)(54,"a",31),m._uU(55,"Privacy"),m.qZA()(),m.TgZ(56,"li",30)(57,"a",31),m._uU(58,"Terms"),m.qZA()(),m.TgZ(59,"li",30)(60,"a",31),m._uU(61,"Support"),m.qZA()()()()()),2&U&&(m.xp6(10),m.Q6J("formGroup",ve.registerGroup),m.xp6(6),m.Q6J("ngIf",(null==ve.registerGroup.controls.dni.errors?null:ve.registerGroup.controls.dni.errors.required)&&ve.registerGroup.controls.dni.touched),m.xp6(1),m.Q6J("ngIf",(null==ve.registerGroup.controls.dni.errors?null:ve.registerGroup.controls.dni.errors.max)&&ve.registerGroup.controls.dni.touched),m.xp6(5),m.Q6J("ngIf",(null==ve.registerGroup.controls.nombre.errors?null:ve.registerGroup.controls.nombre.errors.required)&&ve.registerGroup.controls.nombre.touched),m.xp6(5),m.Q6J("ngIf",(null==ve.registerGroup.controls.edad.errors?null:ve.registerGroup.controls.edad.errors.required)&&ve.registerGroup.controls.edad.touched),m.xp6(1),m.Q6J("ngIf",(null==ve.registerGroup.controls.edad.errors?null:ve.registerGroup.controls.edad.errors.min)&&ve.registerGroup.controls.edad.touched),m.xp6(5),m.Q6J("ngIf",(null==ve.registerGroup.controls.email.errors?null:ve.registerGroup.controls.email.errors.required)&&ve.registerGroup.controls.email.touched),m.xp6(5),m.Q6J("ngIf",(null==ve.registerGroup.controls.nacionalidad.errors?null:ve.registerGroup.controls.nacionalidad.errors.required)&&ve.registerGroup.controls.nacionalidad.touched),m.xp6(5),m.Q6J("ngIf",(null==ve.registerGroup.controls.password.errors?null:ve.registerGroup.controls.password.errors.required)&&ve.registerGroup.controls.password.touched),m.xp6(2),m.Q6J("ngIf",ve.bandera),m.xp6(2),m.Q6J("disabled",!ve.registerGroup.valid))},directives:[ae._Y,ae.JL,ae.sg,ae.wV,ae.Fj,ae.JJ,ae.u,f.O5,ae.Q7],styles:[""]}),$})(),canDeactivate:[(()=>{class ${constructor(U,ve){this.auth=U,this.route=ve,this.authServiceSubscription=this.auth.currentUser.subscribe(Xe=>{this.estaRegistrado=Xe.perfil})}canActivate(U,ve){return!0}canDeactivate(U,ve,Xe,Xt){return null!==this.estaRegistrado||(this.route.navigateByUrl("register"),!1)}}return $.\u0275fac=function(U){return new(U||$)(m.LFG(R.e),m.LFG(jn.F0))},$.\u0275prov=m.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()]},{path:"detalle",component:mn,canActivate:[q.a]},{path:"altaRepartidorPizza",loadChildren:()=>S.e(232).then(S.bind(S,4232)).then($=>$.AltaRepartidorPizzaModule),canActivate:[q.a]},{path:"pizzas",loadChildren:()=>S.e(2).then(S.bind(S,7002)).then($=>$.SalenPizzasModule),canActivate:[q.a,x]},{path:"",redirectTo:"bienvenida",pathMatch:"full"}];let Ui=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({imports:[[jn.Bz.forRoot(Vi)],jn.Bz]}),$})();const Ai=function(){return["pizzas"]};function as($,te){1&$&&(m.TgZ(0,"a",9),m._uU(1,"Pizzas"),m.qZA()),2&$&&m.Q6J("routerLink",m.DdM(1,Ai))}const Hs=function(){return[""]},ua=function(){return["altaRepartidorPizza"]},za=function(){return["detalle"]};function As($,te){if(1&$){const U=m.EpF();m.TgZ(0,"nav",1)(1,"a",2),m._UZ(2,"img",3),m.qZA(),m.TgZ(3,"button",4),m._UZ(4,"span",5),m.qZA(),m.TgZ(5,"div",6)(6,"ul",7)(7,"li",8)(8,"a",9),m._uU(9,"Alta repartidor"),m.qZA()(),m.TgZ(10,"li",8)(11,"a",9),m._uU(12,"Detalle repartidor"),m.qZA()(),m.TgZ(13,"li",8),m.YNc(14,as,2,2,"a",10),m.qZA()()(),m.TgZ(15,"div")(16,"button",11),m.NdJ("click",function(){return m.CHM(U),m.oxw().logOut()}),m._UZ(17,"i",12),m._uU(18," Sign Out"),m.qZA()()()}if(2&$){const U=m.oxw();m.xp6(1),m.Q6J("routerLink",m.DdM(4,Hs)),m.xp6(7),m.Q6J("routerLink",m.DdM(5,ua)),m.xp6(3),m.Q6J("routerLink",m.DdM(6,za)),m.xp6(3),m.Q6J("ngIf","admin"==U.perfil)}}let Do=(()=>{class ${constructor(U,ve){this.auth=U,this.route=ve,this.estaLoggeado=!1,this.perfil="",this.authServiceSubscription=this.auth.currentUser.subscribe(Xe=>{this.estaLoggeado=Xe.isLogged,this.perfil=Xe.perfil})}ngOnInit(){}logOut(){this.auth.setCurrentUser({perfil:"",isLogged:!1}),this.route.navigateByUrl("login")}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(R.e),m.Y36(jn.F0))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["class","navbar navbar-expand-lg navbar-dark bg-dark px-5",4,"ngIf"],[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","px-5"],[1,"navbar-brand",3,"routerLink"],["src","../../../assets/caja-de-pizza.jpg","alt","PizzaHOME"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link",3,"routerLink"],["class","nav-link","routerLinkActive","active",3,"routerLink",4,"ngIf"],[1,"btn","btn-primary",3,"click"],[1,"bi","bi-box-arrow-left"]],template:function(U,ve){1&U&&m.YNc(0,As,19,7,"nav",0),2&U&&m.Q6J("ngIf",ve.estaLoggeado)},directives:[f.O5,jn.yS,jn.Od],styles:["img[_ngcontent-%COMP%]{width:80%}.navbar-brand[_ngcontent-%COMP%]{width:5%}.active[_ngcontent-%COMP%]{color:#fdfd5b!important}"]}),$})();function vi($,te){if(1&$&&(m.TgZ(0,"li",1),m._uU(1),m.qZA()),2&$){const U=te.$implicit;m.xp6(1),m.hij(" ",U.name," ")}}let ys=(()=>{class ${constructor(U){this.title="begue-alejandro-PPLaboIV",this.items=U.collection("items").valueChanges()}}return $.\u0275fac=function(U){return new(U||$)(m.Y36(nr.ST))},$.\u0275cmp=m.Xpm({type:$,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(U,ve){1&U&&(m.TgZ(0,"ul"),m.YNc(1,vi,2,1,"li",0),m.ALo(2,"async"),m.qZA(),m._UZ(3,"app-navbar")(4,"router-outlet")),2&U&&(m.xp6(1),m.Q6J("ngForOf",m.lcZ(2,1,ve.items)))},directives:[f.sg,Do,jn.lC],pipes:[f.Ov],styles:[""]}),$})();const Ss_firebase={projectId:"begue-alejandro-pplaboiv",appId:"1:448800622917:web:afb16d34f441b03b3a562c",storageBucket:"begue-alejandro-pplaboiv.appspot.com",apiKey:"AIzaSyD-3iOKw4oE74b_FmOtJW4e4P4aTKHSf4A",authDomain:"begue-alejandro-pplaboiv.firebaseapp.com",messagingSenderId:"448800622917"};var zs=S(7128),Bi=S(198);S(2090),S(9681),S(1877),S(4859);class Us{constructor(te){return te}}class po{constructor(){return(0,An.vb)("auth")}}const go=new m.OlP("angularfire2.auth-instances");function Js($){return(te,U)=>{const ve=te.runOutsideAngular(()=>$(U));return new Us(ve)}}const Ws={provide:po,deps:[[new m.FiY,go]]},mo={provide:Us,useFactory:function Qs($,te){const U=(0,An.JM)("auth",$,te);return U&&new Us(U)},deps:[[new m.FiY,go],wr.Ot]};let ca=(()=>{class ${constructor(){(0,pi.KN)("angularfire",An.q4.full,"auth")}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({providers:[mo,Ws]}),$})();function da($,...te){return{ngModule:ca,providers:[{provide:go,useFactory:Js($),multi:!0,deps:[m.R0b,m.zs3,An.HU,wr.z6,[new m.FiY,zs.nm],...te]}]}}const fa=(0,An.u3)(Bi.n,!0);var fe=S(5525);class Te{constructor(te){return te}}const lt="firestore",yn=new m.OlP("angularfire2.firestore-instances");function cr($){return(te,U)=>{const ve=te.runOutsideAngular(()=>$(U));return new Te(ve)}}const Ei={provide:class Jt{constructor(){return(0,An.vb)(lt)}},deps:[[new m.FiY,yn]]},Nr={provide:Te,useFactory:function Fn($,te){const U=(0,An.JM)(lt,$,te);return U&&new Te(U)},deps:[[new m.FiY,yn],wr.Ot]};let vo=(()=>{class ${constructor(){(0,pi.KN)("angularfire",An.q4.full,"fst")}}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=m.oAB({type:$}),$.\u0275inj=m.cJS({providers:[Nr,Ei]}),$})();function ds($,...te){return{ngModule:vo,providers:[{provide:yn,useFactory:cr($),multi:!0,deps:[m.R0b,m.zs3,An.HU,wr.z6,[new m.FiY,po],[new m.FiY,zs.nm],...te]}]}}const Xi=(0,An.u3)(fe.ad,!0);var xu=S(6189);let gl=(()=>{class ${}return $.\u0275fac=function(U){return new(U||$)},$.\u0275mod=m.oAB({type:$,bootstrap:[ys]}),$.\u0275inj=m.cJS({providers:[],imports:[[tn,Ui,ae.u5,ae.UX,rt.JF,at.hO.initializeApp(Ss_firebase),Yi,nr.yb,xu.s,(0,wr.hX)(()=>(0,wr.ZF)(Ss_firebase)),da(()=>fa()),ds(()=>Xi())]]}),$})();(0,m.G48)(),qn().bootstrapModule(gl).catch($=>console.error($))},7982:(kt,Ue,S)=>{S.d(Ue,{Gb:()=>f.Gb});var f=S(579)},5867:(kt,Ue,S)=>{S.d(Ue,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=S(9681);(0,f.registerVersion)("firebase","9.8.1","app")},127:(kt,Ue,S)=>{S.d(Ue,{Z:()=>f.Z});var f=S(3942);f.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(kt,Ue,S)=>{S.r(Ue);var f=S(5861),m=S(3942),W=S(198),ie=S(2090),ge=(S(9681),S(1877),S(4859));function re(){return window}function ue(){return(ue=(0,f.Z)(function*(ke,_e,ae){var rt;const{BuildInfo:at}=re();(0,W.aq)(_e.sessionId,"AuthEvent did not contain a session ID");const $t=yield et(_e.sessionId),ln={};return(0,W.ar)()?ln.ibi=at.packageName:(0,W.as)()?ln.apn=at.packageName:(0,W.at)(ke,"operation-not-supported-in-this-environment"),at.displayName&&(ln.appDisplayName=at.displayName),ln.sessionId=$t,(0,W.au)(ke,ae,_e.type,void 0,null!==(rt=_e.eventId)&&void 0!==rt?rt:void 0,ln)})).apply(this,arguments)}function Qe(){return(Qe=(0,f.Z)(function*(ke){const{BuildInfo:_e}=re(),ae={};(0,W.ar)()?ae.iosBundleId=_e.packageName:(0,W.as)()?ae.androidPackageName=_e.packageName:(0,W.at)(ke,"operation-not-supported-in-this-environment"),yield(0,W.av)(ke,ae)})).apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(ke,_e,ae){const{cordova:rt}=re();let at=()=>{};try{yield new Promise(($t,ln)=>{let bn=null;function wn(){var On;$t();const An=null===(On=rt.plugins.browsertab)||void 0===On?void 0:On.close;"function"==typeof An&&An(),"function"==typeof(null==ae?void 0:ae.close)&&ae.close()}function tr(){bn||(bn=window.setTimeout(()=>{ln((0,W.aw)(ke,"redirect-cancelled-by-user"))},2e3))}function ir(){"visible"===(null==document?void 0:document.visibilityState)&&tr()}_e.addPassiveListener(wn),document.addEventListener("resume",tr,!1),(0,W.as)()&&document.addEventListener("visibilitychange",ir,!1),at=()=>{_e.removePassiveListener(wn),document.removeEventListener("resume",tr,!1),document.removeEventListener("visibilitychange",ir,!1),bn&&window.clearTimeout(bn)}})}finally{at()}})).apply(this,arguments)}function et(ke){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(ke){const _e=At(ke),ae=yield crypto.subtle.digest("SHA-256",_e);return Array.from(new Uint8Array(ae)).map(at=>at.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function At(ke){if((0,W.aq)(/[0-9a-zA-Z]+/.test(ke),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(ke);const _e=new ArrayBuffer(ke.length),ae=new Uint8Array(_e);for(let rt=0;rt<ke.length;rt++)ae[rt]=ke.charCodeAt(rt);return ae}class Fe extends W.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(_e=>{this.resolveInialized=_e})}addPassiveListener(_e){this.passiveListeners.add(_e)}removePassiveListener(_e){this.passiveListeners.delete(_e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(_e){return this.resolveInialized(),this.passiveListeners.forEach(ae=>ae(_e)),super.onEvent(_e)}initialized(){var _e=this;return(0,f.Z)(function*(){yield _e.initPromise})()}}function le(ke){return Re.apply(this,arguments)}function Re(){return(Re=(0,f.Z)(function*(ke){const _e=yield Ne()._get(Be(ke));return _e&&(yield Ne()._remove(Be(ke))),_e})).apply(this,arguments)}function de(){const ke=[],_e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ae=0;ae<20;ae++){const rt=Math.floor(Math.random()*_e.length);ke.push(_e.charAt(rt))}return ke.join("")}function Ne(){return(0,W.ay)(W.b)}function Be(ke){return(0,W.az)("authEvent",ke.config.apiKey,ke.name)}function gt(ke){if(!(null==ke?void 0:ke.includes("?")))return{};const[_e,...ae]=ke.split("?");return(0,ie.zd)(ae.join("?"))}function Tt(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,W.aw)("no-auth-event")}}function on(){var ke;return(null===(ke=null==self?void 0:self.location)||void 0===ke?void 0:ke.protocol)||null}function pn(ke=(0,ie.z$)()){return!("file:"!==on()&&"ionic:"!==on()||!ke.toLowerCase().match(/iphone|ipad|ipod|android/))}function qn(){try{const ke=self.localStorage,_e=W.aI();if(ke)return ke.setItem(_e,"1"),ke.removeItem(_e),!function Ln(ke=(0,ie.z$)()){return function kn(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function _n(ke=(0,ie.z$)()){return/Edge\/\d+/.test(ke)}(ke)}()||(0,ie.hl)()}catch(ke){return Yn()&&(0,ie.hl)()}return!1}function Yn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function tn(){return(function Kt(){return"http:"===on()||"https:"===on()}()||(0,ie.ru)()||pn())&&!function Dn(){return(0,ie.b$)()||(0,ie.UG)()}()&&qn()&&!Yn()}function Wn(){return pn()&&"undefined"!=typeof document}function Er(){return(Er=(0,f.Z)(function*(){return!!Wn()&&new Promise(ke=>{const _e=setTimeout(()=>{ke(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(_e),ke(!0)})})})).apply(this,arguments)}const an={LOCAL:"local",NONE:"none",SESSION:"session"},er=W.ax,pr="persistence";function ye(ke){return De.apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(ke){yield ke._initializationPromise;const _e=Ve(),ae=W.az(pr,ke.config.apiKey,ke.name);_e&&_e.setItem(ae,ke._getPersistence())})).apply(this,arguments)}function Ve(){var ke;try{return(null===(ke=function Cn(){return"undefined"!=typeof window?window:null}())||void 0===ke?void 0:ke.sessionStorage)||null}catch(_e){return null}}const _t=W.ax;class yt{constructor(){this.browserResolver=W.ay(W.k),this.cordovaResolver=W.ay(class Bt{constructor(){this._redirectPersistence=W.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(_e){var ae=this;return(0,f.Z)(function*(){const rt=_e._key();let at=ae.eventManagers.get(rt);return at||(at=new Fe(_e),ae.eventManagers.set(rt,at),ae.attachCallbackListeners(_e,at)),at})()}_openPopup(_e){(0,W.at)(_e,"operation-not-supported-in-this-environment")}_openRedirect(_e,ae,rt,at){var $t=this;return(0,f.Z)(function*(){!function ce(ke){var _e,ae,rt,at,$t,ln,bn,wn,tr,ir;const On=re();(0,W.ax)("function"==typeof(null===(_e=null==On?void 0:On.universalLinks)||void 0===_e?void 0:_e.subscribe),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,W.ax)(void 0!==(null===(ae=null==On?void 0:On.BuildInfo)||void 0===ae?void 0:ae.packageName),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,W.ax)("function"==typeof(null===($t=null===(at=null===(rt=null==On?void 0:On.cordova)||void 0===rt?void 0:rt.plugins)||void 0===at?void 0:at.browsertab)||void 0===$t?void 0:$t.openUrl),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(wn=null===(bn=null===(ln=null==On?void 0:On.cordova)||void 0===ln?void 0:ln.plugins)||void 0===bn?void 0:bn.browsertab)||void 0===wn?void 0:wn.isAvailable),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,W.ax)("function"==typeof(null===(ir=null===(tr=null==On?void 0:On.cordova)||void 0===tr?void 0:tr.InAppBrowser)||void 0===ir?void 0:ir.open),ke,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(_e);const ln=yield $t._initialize(_e);yield ln.initialized(),ln.resetRedirect(),(0,W.aD)(),yield $t._originValidation(_e);const bn=function qe(ke,_e,ae=null){return{type:_e,eventId:ae,urlResponse:null,sessionId:de(),postBody:null,tenantId:ke.tenantId,error:(0,W.aw)(ke,"no-auth-event")}}(_e,rt,at);yield function Dt(ke,_e){return Ne()._set(Be(ke),_e)}(_e,bn);const wn=yield function Q(ke,_e,ae){return ue.apply(this,arguments)}(_e,bn,ae),tr=yield function Ge(ke){const{cordova:_e}=re();return new Promise(ae=>{_e.plugins.browsertab.isAvailable(rt=>{let at=null;rt?_e.plugins.browsertab.openUrl(ke):at=_e.InAppBrowser.open(ke,(0,W.ap)()?"_blank":"_system","location=yes"),ae(at)})})}(wn);return function tt(ke,_e,ae){return pt.apply(this,arguments)}(_e,ln,tr)})()}_isIframeWebStorageSupported(_e,ae){throw new Error("Method not implemented.")}_originValidation(_e){const ae=_e._key();return this.originValidationPromises[ae]||(this.originValidationPromises[ae]=function xe(ke){return Qe.apply(this,arguments)}(_e)),this.originValidationPromises[ae]}attachCallbackListeners(_e,ae){const{universalLinks:rt,handleOpenURL:at,BuildInfo:$t}=re(),ln=setTimeout((0,f.Z)(function*(){yield le(_e),ae.onEvent(Tt())}),500),bn=function(){var ir=(0,f.Z)(function*(On){clearTimeout(ln);const An=yield le(_e);let Ir=null;An&&(null==On?void 0:On.url)&&(Ir=function je(ke,_e){var ae,rt;const at=function Le(ke){const _e=gt(ke),ae=_e.link?decodeURIComponent(_e.link):void 0,rt=gt(ae).link,at=_e.deep_link_id?decodeURIComponent(_e.deep_link_id):void 0;return gt(at).link||at||rt||ae||ke}(_e);if(at.includes("/__/auth/callback")){const $t=gt(at),ln=$t.firebaseError?function He(ke){try{return JSON.parse(ke)}catch(_e){return null}}(decodeURIComponent($t.firebaseError)):null,bn=null===(rt=null===(ae=null==ln?void 0:ln.code)||void 0===ae?void 0:ae.split("auth/"))||void 0===rt?void 0:rt[1],wn=bn?(0,W.aw)(bn):null;return wn?{type:ke.type,eventId:ke.eventId,tenantId:ke.tenantId,error:wn,urlResponse:null,sessionId:null,postBody:null}:{type:ke.type,eventId:ke.eventId,tenantId:ke.tenantId,sessionId:ke.sessionId,urlResponse:at,postBody:null}}return null}(An,On.url)),ae.onEvent(Ir||Tt())});return function(An){return ir.apply(this,arguments)}}();void 0!==rt&&"function"==typeof rt.subscribe&&rt.subscribe(null,bn);const wn=at,tr=`${$t.packageName.toLowerCase()}://`;re().handleOpenURL=function(){var ir=(0,f.Z)(function*(On){if(On.toLowerCase().startsWith(tr)&&bn({url:On}),"function"==typeof wn)try{wn(On)}catch(An){console.error(An)}});return function(On){return ir.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=W.a,this._completeRedirectFn=W.aB,this._overrideRedirectResult=W.aC}_initialize(_e){var ae=this;return(0,f.Z)(function*(){return yield ae.selectUnderlyingResolver(),ae.assertedUnderlyingResolver._initialize(_e)})()}_openPopup(_e,ae,rt,at){var $t=this;return(0,f.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openPopup(_e,ae,rt,at)})()}_openRedirect(_e,ae,rt,at){var $t=this;return(0,f.Z)(function*(){return yield $t.selectUnderlyingResolver(),$t.assertedUnderlyingResolver._openRedirect(_e,ae,rt,at)})()}_isIframeWebStorageSupported(_e,ae){this.assertedUnderlyingResolver._isIframeWebStorageSupported(_e,ae)}_originValidation(_e){return this.assertedUnderlyingResolver._originValidation(_e)}get _shouldInitProactively(){return Wn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return _t(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var _e=this;return(0,f.Z)(function*(){if(_e.underlyingResolver)return;const ae=yield function Ht(){return Er.apply(this,arguments)}();_e.underlyingResolver=ae?_e.cordovaResolver:_e.browserResolver})()}}function gn(ke){return ke.unwrap()}function sn(ke){return Bn(ke)}function Bn(ke){const{_tokenResponse:_e}=ke instanceof ie.ZR?ke.customData:ke;if(!_e)return null;if(!(ke instanceof ie.ZR)&&"temporaryProof"in _e&&"phoneNumber"in _e)return W.P.credentialFromResult(ke);const ae=_e.providerId;if(!ae||ae===W.o.PASSWORD)return null;let rt;switch(ae){case W.o.GOOGLE:rt=W.Q;break;case W.o.FACEBOOK:rt=W.N;break;case W.o.GITHUB:rt=W.T;break;case W.o.TWITTER:rt=W.W;break;default:const{oauthIdToken:at,oauthAccessToken:$t,oauthTokenSecret:ln,pendingToken:bn,nonce:wn}=_e;return $t||ln||at||bn?bn?ae.startsWith("saml.")?W.aL._create(ae,bn):W.J._fromParams({providerId:ae,signInMethod:ae,pendingToken:bn,idToken:at,accessToken:$t}):new W.U(ae).credential({idToken:at,accessToken:$t,rawNonce:wn}):null}return ke instanceof ie.ZR?rt.credentialFromError(ke):rt.credentialFromResult(ke)}function dn(ke,_e){return _e.catch(ae=>{throw ae instanceof ie.ZR&&function ar(ke,_e){var ae;const rt=null===(ae=_e.customData)||void 0===ae?void 0:ae._tokenResponse;if("auth/multi-factor-auth-required"===_e.code)_e.resolver=new J(ke,W.an(ke,_e));else if(rt){const at=Bn(_e),$t=_e;at&&($t.credential=at,$t.tenantId=rt.tenantId||void 0,$t.email=rt.email||void 0,$t.phoneNumber=rt.phoneNumber||void 0)}}(ke,ae),ae}).then(ae=>{const at=ae.user;return{operationType:ae.operationType,credential:sn(ae),additionalUserInfo:W.al(ae),user:k.getOrCreate(at)}})}function se(ke,_e){return me.apply(this,arguments)}function me(){return(me=(0,f.Z)(function*(ke,_e){const ae=yield _e;return{verificationId:ae.verificationId,confirm:rt=>dn(ke,ae.confirm(rt))}})).apply(this,arguments)}class J{constructor(_e,ae){this.resolver=ae,this.auth=function hn(ke){return ke.wrapped()}(_e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(_e){return dn(gn(this.auth),this.resolver.resolveSignIn(_e))}}class k{constructor(_e){this._delegate=_e,this.multiFactor=W.ao(_e)}static getOrCreate(_e){return k.USER_MAP.has(_e)||k.USER_MAP.set(_e,new k(_e)),k.USER_MAP.get(_e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(_e){return this._delegate.getIdTokenResult(_e)}getIdToken(_e){return this._delegate.getIdToken(_e)}linkAndRetrieveDataWithCredential(_e){return this.linkWithCredential(_e)}linkWithCredential(_e){var ae=this;return(0,f.Z)(function*(){return dn(ae.auth,W.Z(ae._delegate,_e))})()}linkWithPhoneNumber(_e,ae){var rt=this;return(0,f.Z)(function*(){return se(rt.auth,W.l(rt._delegate,_e,ae))})()}linkWithPopup(_e){var ae=this;return(0,f.Z)(function*(){return dn(ae.auth,W.d(ae._delegate,_e,yt))})()}linkWithRedirect(_e){var ae=this;return(0,f.Z)(function*(){return yield ye(W.aE(ae.auth)),W.g(ae._delegate,_e,yt)})()}reauthenticateAndRetrieveDataWithCredential(_e){return this.reauthenticateWithCredential(_e)}reauthenticateWithCredential(_e){var ae=this;return(0,f.Z)(function*(){return dn(ae.auth,W._(ae._delegate,_e))})()}reauthenticateWithPhoneNumber(_e,ae){return se(this.auth,W.r(this._delegate,_e,ae))}reauthenticateWithPopup(_e){return dn(this.auth,W.e(this._delegate,_e,yt))}reauthenticateWithRedirect(_e){var ae=this;return(0,f.Z)(function*(){return yield ye(W.aE(ae.auth)),W.h(ae._delegate,_e,yt)})()}sendEmailVerification(_e){return W.ab(this._delegate,_e)}unlink(_e){var ae=this;return(0,f.Z)(function*(){return yield W.ak(ae._delegate,_e),ae})()}updateEmail(_e){return W.ag(this._delegate,_e)}updatePassword(_e){return W.ah(this._delegate,_e)}updatePhoneNumber(_e){return W.u(this._delegate,_e)}updateProfile(_e){return W.af(this._delegate,_e)}verifyBeforeUpdateEmail(_e,ae){return W.ac(this._delegate,_e,ae)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}k.USER_MAP=new WeakMap;const N=W.ax;let X=(()=>{class ke{constructor(ae,rt){if(this.app=ae,rt.isInitialized())return this._delegate=rt.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:at}=ae.options;N(at,"invalid-api-key",{appName:ae.name}),N(at,"invalid-api-key",{appName:ae.name});const $t="undefined"!=typeof window?yt:void 0;this._delegate=rt.initialize({options:{persistence:Se(at,ae.name),popupRedirectResolver:$t}}),this._delegate._updateErrorMap(W.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?k.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ae){this._delegate.languageCode=ae}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ae){this._delegate.tenantId=ae}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ae,rt){W.G(this._delegate,ae,rt)}applyActionCode(ae){return W.a2(this._delegate,ae)}checkActionCode(ae){return W.a3(this._delegate,ae)}confirmPasswordReset(ae,rt){return W.a1(this._delegate,ae,rt)}createUserWithEmailAndPassword(ae,rt){var at=this;return(0,f.Z)(function*(){return dn(at._delegate,W.a5(at._delegate,ae,rt))})()}fetchProvidersForEmail(ae){return this.fetchSignInMethodsForEmail(ae)}fetchSignInMethodsForEmail(ae){return W.aa(this._delegate,ae)}isSignInWithEmailLink(ae){return W.a8(this._delegate,ae)}getRedirectResult(){var ae=this;return(0,f.Z)(function*(){N(tn(),ae._delegate,"operation-not-supported-in-this-environment");const rt=yield W.j(ae._delegate,yt);return rt?dn(ae._delegate,Promise.resolve(rt)):{credential:null,user:null}})()}addFrameworkForLogging(ae){!function En(ke,_e){(0,W.aE)(ke)._logFramework(_e)}(this._delegate,ae)}onAuthStateChanged(ae,rt,at){const{next:$t,error:ln,complete:bn}=ee(ae,rt,at);return this._delegate.onAuthStateChanged($t,ln,bn)}onIdTokenChanged(ae,rt,at){const{next:$t,error:ln,complete:bn}=ee(ae,rt,at);return this._delegate.onIdTokenChanged($t,ln,bn)}sendSignInLinkToEmail(ae,rt){return W.a7(this._delegate,ae,rt)}sendPasswordResetEmail(ae,rt){return W.a0(this._delegate,ae,rt||void 0)}setPersistence(ae){var rt=this;return(0,f.Z)(function*(){let at;switch(function ut(ke,_e){er(Object.values(an).includes(_e),ke,"invalid-persistence-type"),(0,ie.b$)()?er(_e!==an.SESSION,ke,"unsupported-persistence-type"):(0,ie.UG)()?er(_e===an.NONE,ke,"unsupported-persistence-type"):Yn()?er(_e===an.NONE||_e===an.LOCAL&&(0,ie.hl)(),ke,"unsupported-persistence-type"):er(_e===an.NONE||qn(),ke,"unsupported-persistence-type")}(rt._delegate,ae),ae){case an.SESSION:at=W.a;break;case an.LOCAL:at=(yield W.ay(W.i)._isAvailable())?W.i:W.b;break;case an.NONE:at=W.L;break;default:return W.at("argument-error",{appName:rt._delegate.name})}return rt._delegate.setPersistence(at)})()}signInAndRetrieveDataWithCredential(ae){return this.signInWithCredential(ae)}signInAnonymously(){return dn(this._delegate,W.X(this._delegate))}signInWithCredential(ae){return dn(this._delegate,W.Y(this._delegate,ae))}signInWithCustomToken(ae){return dn(this._delegate,W.$(this._delegate,ae))}signInWithEmailAndPassword(ae,rt){return dn(this._delegate,W.a6(this._delegate,ae,rt))}signInWithEmailLink(ae,rt){return dn(this._delegate,W.a9(this._delegate,ae,rt))}signInWithPhoneNumber(ae,rt){return se(this._delegate,W.s(this._delegate,ae,rt))}signInWithPopup(ae){var rt=this;return(0,f.Z)(function*(){return N(tn(),rt._delegate,"operation-not-supported-in-this-environment"),dn(rt._delegate,W.c(rt._delegate,ae,yt))})()}signInWithRedirect(ae){var rt=this;return(0,f.Z)(function*(){return N(tn(),rt._delegate,"operation-not-supported-in-this-environment"),yield ye(rt._delegate),W.f(rt._delegate,ae,yt)})()}updateCurrentUser(ae){return this._delegate.updateCurrentUser(ae)}verifyPasswordResetCode(ae){return W.a4(this._delegate,ae)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ke.Persistence=an,ke})();function ee(ke,_e,ae){let rt=ke;"function"!=typeof ke&&({next:rt,error:_e,complete:ae}=ke);const at=rt;return{next:ln=>at(ln&&k.getOrCreate(ln)),error:_e,complete:ae}}function Se(ke,_e){const ae=function mt(ke,_e){const ae=Ve();if(!ae)return[];const rt=W.az(pr,ke,_e);switch(ae.getItem(rt)){case an.NONE:return[W.L];case an.LOCAL:return[W.i,W.a];case an.SESSION:return[W.a];default:return[]}}(ke,_e);if("undefined"!=typeof self&&!ae.includes(W.i)&&ae.push(W.i),"undefined"!=typeof window)for(const rt of[W.b,W.a])ae.includes(rt)||ae.push(rt);return ae.includes(W.L)||ae.push(W.L),ae}class Ye{constructor(){this.providerId="phone",this._delegate=new W.P(gn(m.Z.auth()))}static credential(_e,ae){return W.P.credential(_e,ae)}verifyPhoneNumber(_e,ae){return this._delegate.verifyPhoneNumber(_e,ae)}unwrap(){return this._delegate}}Ye.PHONE_SIGN_IN_METHOD=W.P.PHONE_SIGN_IN_METHOD,Ye.PROVIDER_ID=W.P.PROVIDER_ID;const dt=W.ax;class Mt{constructor(_e,ae,rt=m.Z.app()){var at;dt(null===(at=rt.options)||void 0===at?void 0:at.apiKey,"invalid-api-key",{appName:rt.name}),this._delegate=new W.R(_e,ae,rt.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Lt(ke){ke.INTERNAL.registerComponent(new ge.wA("auth-compat",_e=>{const ae=_e.getProvider("app-compat").getImmediate(),rt=_e.getProvider("auth");return new X(ae,rt)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:W.A.EMAIL_SIGNIN,PASSWORD_RESET:W.A.PASSWORD_RESET,RECOVER_EMAIL:W.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:W.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:W.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:W.A.VERIFY_EMAIL}},EmailAuthProvider:W.M,FacebookAuthProvider:W.N,GithubAuthProvider:W.T,GoogleAuthProvider:W.Q,OAuthProvider:W.U,SAMLAuthProvider:W.V,PhoneAuthProvider:Ye,PhoneMultiFactorGenerator:W.m,RecaptchaVerifier:Mt,TwitterAuthProvider:W.W,Auth:X,AuthCredential:W.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ke.registerVersion("@firebase/auth-compat","0.2.14")}(m.Z)},1135:(kt,Ue,S)=>{S.d(Ue,{X:()=>m});var f=S(7579);class m extends f.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const V=super._subscribe(ie);return!V.closed&&ie.next(this._value),V}getValue(){const{hasError:ie,thrownError:V,_value:we}=this;if(ie)throw V;return this._throwIfClosed(),we}next(ie){super.next(this._value=ie)}}},8306:(kt,Ue,S)=>{S.d(Ue,{y:()=>Q});var f=S(2961),m=S(727),W=S(8822),ie=S(4671);var ge=S(2416),re=S(576),Ie=S(2806);let Q=(()=>{class Ge{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const ce=new Ge;return ce.source=this,ce.operator=pt,ce}subscribe(pt,ce,et){const Ct=function Qe(Ge){return Ge&&Ge instanceof f.Lv||function xe(Ge){return Ge&&(0,re.m)(Ge.next)&&(0,re.m)(Ge.error)&&(0,re.m)(Ge.complete)}(Ge)&&(0,m.Nn)(Ge)}(pt)?pt:new f.Hp(pt,ce,et);return(0,Ie.x)(()=>{const{operator:At,source:Ze}=this;Ct.add(At?At.call(Ct,Ze):Ze?this._subscribe(Ct):this._trySubscribe(Ct))}),Ct}_trySubscribe(pt){try{return this._subscribe(pt)}catch(ce){pt.error(ce)}}forEach(pt,ce){return new(ce=ue(ce))((et,Ct)=>{const At=new f.Hp({next:Ze=>{try{pt(Ze)}catch(Fe){Ct(Fe),At.unsubscribe()}},error:Ct,complete:et});this.subscribe(At)})}_subscribe(pt){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(pt)}[W.L](){return this}pipe(...pt){return function we(Ge){return 0===Ge.length?ie.y:1===Ge.length?Ge[0]:function(pt){return Ge.reduce((ce,et)=>et(ce),pt)}}(pt)(this)}toPromise(pt){return new(pt=ue(pt))((ce,et)=>{let Ct;this.subscribe(At=>Ct=At,At=>et(At),()=>ce(Ct))})}}return Ge.create=tt=>new Ge(tt),Ge})();function ue(Ge){var tt;return null!==(tt=null!=Ge?Ge:ge.v.Promise)&&void 0!==tt?tt:Promise}},7579:(kt,Ue,S)=>{S.d(Ue,{x:()=>ge});var f=S(8306),m=S(727);const ie=(0,S(3888).d)(Ie=>function(){Ie(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var V=S(8737),we=S(2806);let ge=(()=>{class Ie extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ue){const xe=new re(this,this);return xe.operator=ue,xe}_throwIfClosed(){if(this.closed)throw new ie}next(ue){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(ue)}})}error(ue){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ue;const{observers:xe}=this;for(;xe.length;)xe.shift().error(ue)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ue}=this;for(;ue.length;)ue.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ue;return(null===(ue=this.observers)||void 0===ue?void 0:ue.length)>0}_trySubscribe(ue){return this._throwIfClosed(),super._trySubscribe(ue)}_subscribe(ue){return this._throwIfClosed(),this._checkFinalizedStatuses(ue),this._innerSubscribe(ue)}_innerSubscribe(ue){const{hasError:xe,isStopped:Qe,observers:Ge}=this;return xe||Qe?m.Lc:(this.currentObservers=null,Ge.push(ue),new m.w0(()=>{this.currentObservers=null,(0,V.P)(Ge,ue)}))}_checkFinalizedStatuses(ue){const{hasError:xe,thrownError:Qe,isStopped:Ge}=this;xe?ue.error(Qe):Ge&&ue.complete()}asObservable(){const ue=new f.y;return ue.source=this,ue}}return Ie.create=(Q,ue)=>new re(Q,ue),Ie})();class re extends ge{constructor(Q,ue){super(),this.destination=Q,this.source=ue}next(Q){var ue,xe;null===(xe=null===(ue=this.destination)||void 0===ue?void 0:ue.next)||void 0===xe||xe.call(ue,Q)}error(Q){var ue,xe;null===(xe=null===(ue=this.destination)||void 0===ue?void 0:ue.error)||void 0===xe||xe.call(ue,Q)}complete(){var Q,ue;null===(ue=null===(Q=this.destination)||void 0===Q?void 0:Q.complete)||void 0===ue||ue.call(Q)}_subscribe(Q){var ue,xe;return null!==(xe=null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(Q))&&void 0!==xe?xe:m.Lc}}},2961:(kt,Ue,S)=>{S.d(Ue,{Hp:()=>pt,Lv:()=>xe});var f=S(576),m=S(727),W=S(2416),ie=S(7849);function V(){}const we=Ie("C",void 0,void 0);function Ie(Ze,Fe,qe){return{kind:Ze,value:Fe,error:qe}}var Q=S(3410),ue=S(2806);class xe extends m.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,m.Nn)(Fe)&&Fe.add(this)):this.destination=At}static create(Fe,qe,Dt){return new pt(Fe,qe,Dt)}next(Fe){this.isStopped?Ct(function re(Ze){return Ie("N",Ze,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?Ct(function ge(Ze){return Ie("E",void 0,Ze)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?Ct(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Ge(Ze,Fe){return Qe.call(Ze,Fe)}class tt{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:qe}=this;if(qe.next)try{qe.next(Fe)}catch(Dt){ce(Dt)}}error(Fe){const{partialObserver:qe}=this;if(qe.error)try{qe.error(Fe)}catch(Dt){ce(Dt)}else ce(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(qe){ce(qe)}}}class pt extends xe{constructor(Fe,qe,Dt){let le;if(super(),(0,f.m)(Fe)||!Fe)le={next:null!=Fe?Fe:void 0,error:null!=qe?qe:void 0,complete:null!=Dt?Dt:void 0};else{let Re;this&&W.v.useDeprecatedNextContext?(Re=Object.create(Fe),Re.unsubscribe=()=>this.unsubscribe(),le={next:Fe.next&&Ge(Fe.next,Re),error:Fe.error&&Ge(Fe.error,Re),complete:Fe.complete&&Ge(Fe.complete,Re)}):le=Fe}this.destination=new tt(le)}}function ce(Ze){W.v.useDeprecatedSynchronousErrorHandling?(0,ue.O)(Ze):(0,ie.h)(Ze)}function Ct(Ze,Fe){const{onStoppedNotification:qe}=W.v;qe&&Q.z.setTimeout(()=>qe(Ze,Fe))}const At={closed:!0,next:V,error:function et(Ze){throw Ze},complete:V}},727:(kt,Ue,S)=>{S.d(Ue,{Lc:()=>we,w0:()=>V,Nn:()=>ge});var f=S(576);const W=(0,S(3888).d)(Ie=>function(ue){Ie(this),this.message=ue?`${ue.length} errors occurred during unsubscription:\n${ue.map((xe,Qe)=>`${Qe+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ue});var ie=S(8737);class V{constructor(Q){this.initialTeardown=Q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Q;if(!this.closed){this.closed=!0;const{_parentage:ue}=this;if(ue)if(this._parentage=null,Array.isArray(ue))for(const Ge of ue)Ge.remove(this);else ue.remove(this);const{initialTeardown:xe}=this;if((0,f.m)(xe))try{xe()}catch(Ge){Q=Ge instanceof W?Ge.errors:[Ge]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Ge of Qe)try{re(Ge)}catch(tt){Q=null!=Q?Q:[],tt instanceof W?Q=[...Q,...tt.errors]:Q.push(tt)}}if(Q)throw new W(Q)}}add(Q){var ue;if(Q&&Q!==this)if(this.closed)re(Q);else{if(Q instanceof V){if(Q.closed||Q._hasParent(this))return;Q._addParent(this)}(this._finalizers=null!==(ue=this._finalizers)&&void 0!==ue?ue:[]).push(Q)}}_hasParent(Q){const{_parentage:ue}=this;return ue===Q||Array.isArray(ue)&&ue.includes(Q)}_addParent(Q){const{_parentage:ue}=this;this._parentage=Array.isArray(ue)?(ue.push(Q),ue):ue?[ue,Q]:Q}_removeParent(Q){const{_parentage:ue}=this;ue===Q?this._parentage=null:Array.isArray(ue)&&(0,ie.P)(ue,Q)}remove(Q){const{_finalizers:ue}=this;ue&&(0,ie.P)(ue,Q),Q instanceof V&&Q._removeParent(this)}}V.EMPTY=(()=>{const Ie=new V;return Ie.closed=!0,Ie})();const we=V.EMPTY;function ge(Ie){return Ie instanceof V||Ie&&"closed"in Ie&&(0,f.m)(Ie.remove)&&(0,f.m)(Ie.add)&&(0,f.m)(Ie.unsubscribe)}function re(Ie){(0,f.m)(Ie)?Ie():Ie.unsubscribe()}},2416:(kt,Ue,S)=>{S.d(Ue,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(kt,Ue,S)=>{S.d(Ue,{z:()=>V});var f=S(8189),W=S(7669),ie=S(8996);function V(...we){return function m(){return(0,f.J)(1)}()((0,ie.D)(we,(0,W.yG)(we)))}},515:(kt,Ue,S)=>{S.d(Ue,{E:()=>m});const m=new(S(8306).y)(V=>V.complete())},8996:(kt,Ue,S)=>{S.d(Ue,{D:()=>Fe});var f=S(8421),m=S(5363),W=S(9468),we=S(8306),re=S(2202),Ie=S(576),Q=S(9672);function xe(qe,Dt){if(!qe)throw new Error("Iterable cannot be null");return new we.y(le=>{(0,Q.f)(le,Dt,()=>{const Re=qe[Symbol.asyncIterator]();(0,Q.f)(le,Dt,()=>{Re.next().then(je=>{je.done?le.complete():le.next(je.value)})},0,!0)})})}var Qe=S(3670),Ge=S(8239),tt=S(1144),pt=S(6495),ce=S(2206),et=S(4532),Ct=S(3260);function Fe(qe,Dt){return Dt?function Ze(qe,Dt){if(null!=qe){if((0,Qe.c)(qe))return function ie(qe,Dt){return(0,f.Xf)(qe).pipe((0,W.R)(Dt),(0,m.Q)(Dt))}(qe,Dt);if((0,tt.z)(qe))return function ge(qe,Dt){return new we.y(le=>{let Re=0;return Dt.schedule(function(){Re===qe.length?le.complete():(le.next(qe[Re++]),le.closed||this.schedule())})})}(qe,Dt);if((0,Ge.t)(qe))return function V(qe,Dt){return(0,f.Xf)(qe).pipe((0,W.R)(Dt),(0,m.Q)(Dt))}(qe,Dt);if((0,ce.D)(qe))return xe(qe,Dt);if((0,pt.T)(qe))return function ue(qe,Dt){return new we.y(le=>{let Re;return(0,Q.f)(le,Dt,()=>{Re=qe[re.h](),(0,Q.f)(le,Dt,()=>{let je,de;try{({value:je,done:de}=Re.next())}catch(Ne){return void le.error(Ne)}de?le.complete():le.next(je)},0,!0)}),()=>(0,Ie.m)(null==Re?void 0:Re.return)&&Re.return()})}(qe,Dt);if((0,Ct.L)(qe))return function At(qe,Dt){return xe((0,Ct.Q)(qe),Dt)}(qe,Dt)}throw(0,et.z)(qe)}(qe,Dt):(0,f.Xf)(qe)}},8421:(kt,Ue,S)=>{S.d(Ue,{Xf:()=>Qe});var f=S(655),m=S(1144),W=S(8239),ie=S(8306),V=S(3670),we=S(2206),ge=S(4532),re=S(6495),Ie=S(3260),Q=S(576),ue=S(7849),xe=S(8822);function Qe(Ze){if(Ze instanceof ie.y)return Ze;if(null!=Ze){if((0,V.c)(Ze))return function Ge(Ze){return new ie.y(Fe=>{const qe=Ze[xe.L]();if((0,Q.m)(qe.subscribe))return qe.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ze);if((0,m.z)(Ze))return function tt(Ze){return new ie.y(Fe=>{for(let qe=0;qe<Ze.length&&!Fe.closed;qe++)Fe.next(Ze[qe]);Fe.complete()})}(Ze);if((0,W.t)(Ze))return function pt(Ze){return new ie.y(Fe=>{Ze.then(qe=>{Fe.closed||(Fe.next(qe),Fe.complete())},qe=>Fe.error(qe)).then(null,ue.h)})}(Ze);if((0,we.D)(Ze))return et(Ze);if((0,re.T)(Ze))return function ce(Ze){return new ie.y(Fe=>{for(const qe of Ze)if(Fe.next(qe),Fe.closed)return;Fe.complete()})}(Ze);if((0,Ie.L)(Ze))return function Ct(Ze){return et((0,Ie.Q)(Ze))}(Ze)}throw(0,ge.z)(Ze)}function et(Ze){return new ie.y(Fe=>{(function At(Ze,Fe){var qe,Dt,le,Re;return(0,f.mG)(this,void 0,void 0,function*(){try{for(qe=(0,f.KL)(Ze);!(Dt=yield qe.next()).done;)if(Fe.next(Dt.value),Fe.closed)return}catch(je){le={error:je}}finally{try{Dt&&!Dt.done&&(Re=qe.return)&&(yield Re.call(qe))}finally{if(le)throw le.error}}Fe.complete()})})(Ze,Fe).catch(qe=>Fe.error(qe))})}},6451:(kt,Ue,S)=>{S.d(Ue,{T:()=>we});var f=S(8189),m=S(8421),W=S(515),ie=S(7669),V=S(8996);function we(...ge){const re=(0,ie.yG)(ge),Ie=(0,ie._6)(ge,1/0),Q=ge;return Q.length?1===Q.length?(0,m.Xf)(Q[0]):(0,f.J)(Ie)((0,V.D)(Q,re)):W.E}},9646:(kt,Ue,S)=>{S.d(Ue,{of:()=>W});var f=S(7669),m=S(8996);function W(...ie){const V=(0,f.yG)(ie);return(0,m.D)(ie,V)}},5403:(kt,Ue,S)=>{S.d(Ue,{Q:()=>W,x:()=>m});var f=S(2961);function m(ie,V,we,ge,re){return new W(ie,V,we,ge,re)}class W extends f.Lv{constructor(V,we,ge,re,Ie,Q){super(V),this.onFinalize=Ie,this.shouldUnsubscribe=Q,this._next=we?function(ue){try{we(ue)}catch(xe){V.error(xe)}}:super._next,this._error=re?function(ue){try{re(ue)}catch(xe){V.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(ue){V.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var V;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(V=this.onFinalize)||void 0===V||V.call(this))}}}},4351:(kt,Ue,S)=>{S.d(Ue,{b:()=>W});var f=S(5577),m=S(576);function W(ie,V){return(0,m.m)(V)?(0,f.z)(ie,V,1):(0,f.z)(ie,1)}},6590:(kt,Ue,S)=>{S.d(Ue,{d:()=>W});var f=S(4482),m=S(5403);function W(ie){return(0,f.e)((V,we)=>{let ge=!1;V.subscribe((0,m.x)(we,re=>{ge=!0,we.next(re)},()=>{ge||we.next(ie),we.complete()}))})}},1884:(kt,Ue,S)=>{S.d(Ue,{x:()=>ie});var f=S(4671),m=S(4482),W=S(5403);function ie(we,ge=f.y){return we=null!=we?we:V,(0,m.e)((re,Ie)=>{let Q,ue=!0;re.subscribe((0,W.x)(Ie,xe=>{const Qe=ge(xe);(ue||!we(Q,Qe))&&(ue=!1,Q=Qe,Ie.next(xe))}))})}function V(we,ge){return we===ge}},9300:(kt,Ue,S)=>{S.d(Ue,{h:()=>W});var f=S(4482),m=S(5403);function W(ie,V){return(0,f.e)((we,ge)=>{let re=0;we.subscribe((0,m.x)(ge,Ie=>ie.call(V,Ie,re++)&&ge.next(Ie)))})}},590:(kt,Ue,S)=>{S.d(Ue,{P:()=>ge});var f=S(6805),m=S(9300),W=S(5698),ie=S(6590),V=S(8068),we=S(4671);function ge(re,Ie){const Q=arguments.length>=2;return ue=>ue.pipe(re?(0,m.h)((xe,Qe)=>re(xe,Qe,ue)):we.y,(0,W.q)(1),Q?(0,ie.d)(Ie):(0,V.T)(()=>new f.K))}},4004:(kt,Ue,S)=>{S.d(Ue,{U:()=>W});var f=S(4482),m=S(5403);function W(ie,V){return(0,f.e)((we,ge)=>{let re=0;we.subscribe((0,m.x)(ge,Ie=>{ge.next(ie.call(V,Ie,re++))}))})}},8189:(kt,Ue,S)=>{S.d(Ue,{J:()=>W});var f=S(5577),m=S(4671);function W(ie=1/0){return(0,f.z)(m.y,ie)}},5577:(kt,Ue,S)=>{S.d(Ue,{z:()=>re});var f=S(4004),m=S(8421),W=S(4482),ie=S(9672),V=S(5403),ge=S(576);function re(Ie,Q,ue=1/0){return(0,ge.m)(Q)?re((xe,Qe)=>(0,f.U)((Ge,tt)=>Q(xe,Ge,Qe,tt))((0,m.Xf)(Ie(xe,Qe))),ue):("number"==typeof Q&&(ue=Q),(0,W.e)((xe,Qe)=>function we(Ie,Q,ue,xe,Qe,Ge,tt,pt){const ce=[];let et=0,Ct=0,At=!1;const Ze=()=>{At&&!ce.length&&!et&&Q.complete()},Fe=Dt=>et<xe?qe(Dt):ce.push(Dt),qe=Dt=>{Ge&&Q.next(Dt),et++;let le=!1;(0,m.Xf)(ue(Dt,Ct++)).subscribe((0,V.x)(Q,Re=>{null==Qe||Qe(Re),Ge?Fe(Re):Q.next(Re)},()=>{le=!0},void 0,()=>{if(le)try{for(et--;ce.length&&et<xe;){const Re=ce.shift();tt?(0,ie.f)(Q,tt,()=>qe(Re)):qe(Re)}Ze()}catch(Re){Q.error(Re)}}))};return Ie.subscribe((0,V.x)(Q,Fe,()=>{At=!0,Ze()})),()=>{null==pt||pt()}}(xe,Qe,Ie,ue)))}},5363:(kt,Ue,S)=>{S.d(Ue,{Q:()=>ie});var f=S(9672),m=S(4482),W=S(5403);function ie(V,we=0){return(0,m.e)((ge,re)=>{ge.subscribe((0,W.x)(re,Ie=>(0,f.f)(re,V,()=>re.next(Ie),we),()=>(0,f.f)(re,V,()=>re.complete(),we),Ie=>(0,f.f)(re,V,()=>re.error(Ie),we)))})}},1520:(kt,Ue,S)=>{S.d(Ue,{G:()=>W});var f=S(4482),m=S(5403);function W(){return(0,f.e)((ie,V)=>{let we,ge=!1;ie.subscribe((0,m.x)(V,re=>{const Ie=we;we=re,ge&&V.next([Ie,re]),ge=!0}))})}},5026:(kt,Ue,S)=>{S.d(Ue,{R:()=>ie});var f=S(4482),m=S(5403);function W(V,we,ge,re,Ie){return(Q,ue)=>{let xe=ge,Qe=we,Ge=0;Q.subscribe((0,m.x)(ue,tt=>{const pt=Ge++;Qe=xe?V(Qe,tt,pt):(xe=!0,tt),re&&ue.next(Qe)},Ie&&(()=>{xe&&ue.next(Qe),ue.complete()})))}}function ie(V,we){return(0,f.e)(W(V,we,arguments.length>=2,!0))}},3099:(kt,Ue,S)=>{S.d(Ue,{B:()=>we});var f=S(8996),m=S(5698),W=S(7579),ie=S(2961),V=S(4482);function we(re={}){const{connector:Ie=(()=>new W.x),resetOnError:Q=!0,resetOnComplete:ue=!0,resetOnRefCountZero:xe=!0}=re;return Qe=>{let Ge=null,tt=null,pt=null,ce=0,et=!1,Ct=!1;const At=()=>{null==tt||tt.unsubscribe(),tt=null},Ze=()=>{At(),Ge=pt=null,et=Ct=!1},Fe=()=>{const qe=Ge;Ze(),null==qe||qe.unsubscribe()};return(0,V.e)((qe,Dt)=>{ce++,!Ct&&!et&&At();const le=pt=null!=pt?pt:Ie();Dt.add(()=>{ce--,0===ce&&!Ct&&!et&&(tt=ge(Fe,xe))}),le.subscribe(Dt),Ge||(Ge=new ie.Hp({next:Re=>le.next(Re),error:Re=>{Ct=!0,At(),tt=ge(Ze,Q,Re),le.error(Re)},complete:()=>{et=!0,At(),tt=ge(Ze,ue),le.complete()}}),(0,f.D)(qe).subscribe(Ge))})(Qe)}}function ge(re,Ie,...Q){return!0===Ie?(re(),null):!1===Ie?null:Ie(...Q).pipe((0,m.q)(1)).subscribe(()=>re())}},3151:(kt,Ue,S)=>{S.d(Ue,{d:()=>V});var f=S(7579),m=S(6063);class W extends f.x{constructor(ge=1/0,re=1/0,Ie=m.l){super(),this._bufferSize=ge,this._windowTime=re,this._timestampProvider=Ie,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=re===1/0,this._bufferSize=Math.max(1,ge),this._windowTime=Math.max(1,re)}next(ge){const{isStopped:re,_buffer:Ie,_infiniteTimeWindow:Q,_timestampProvider:ue,_windowTime:xe}=this;re||(Ie.push(ge),!Q&&Ie.push(ue.now()+xe)),this._trimBuffer(),super.next(ge)}_subscribe(ge){this._throwIfClosed(),this._trimBuffer();const re=this._innerSubscribe(ge),{_infiniteTimeWindow:Ie,_buffer:Q}=this,ue=Q.slice();for(let xe=0;xe<ue.length&&!ge.closed;xe+=Ie?1:2)ge.next(ue[xe]);return this._checkFinalizedStatuses(ge),re}_trimBuffer(){const{_bufferSize:ge,_timestampProvider:re,_buffer:Ie,_infiniteTimeWindow:Q}=this,ue=(Q?1:2)*ge;if(ge<1/0&&ue<Ie.length&&Ie.splice(0,Ie.length-ue),!Q){const xe=re.now();let Qe=0;for(let Ge=1;Ge<Ie.length&&Ie[Ge]<=xe;Ge+=2)Qe=Ge;Qe&&Ie.splice(0,Qe+1)}}}var ie=S(3099);function V(we,ge,re){let Ie,Q=!1;return we&&"object"==typeof we?({bufferSize:Ie=1/0,windowTime:ge=1/0,refCount:Q=!1,scheduler:re}=we):Ie=null!=we?we:1/0,(0,ie.B)({connector:()=>new W(Ie,ge,re),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Q})}},8675:(kt,Ue,S)=>{S.d(Ue,{O:()=>ie});var f=S(7272),m=S(7669),W=S(4482);function ie(...V){const we=(0,m.yG)(V);return(0,W.e)((ge,re)=>{(we?(0,f.z)(V,ge,we):(0,f.z)(V,ge)).subscribe(re)})}},9468:(kt,Ue,S)=>{S.d(Ue,{R:()=>m});var f=S(4482);function m(W,ie=0){return(0,f.e)((V,we)=>{we.add(W.schedule(()=>V.subscribe(we),ie))})}},3900:(kt,Ue,S)=>{S.d(Ue,{w:()=>ie});var f=S(8421),m=S(4482),W=S(5403);function ie(V,we){return(0,m.e)((ge,re)=>{let Ie=null,Q=0,ue=!1;const xe=()=>ue&&!Ie&&re.complete();ge.subscribe((0,W.x)(re,Qe=>{null==Ie||Ie.unsubscribe();let Ge=0;const tt=Q++;(0,f.Xf)(V(Qe,tt)).subscribe(Ie=(0,W.x)(re,pt=>re.next(we?we(Qe,pt,tt,Ge++):pt),()=>{Ie=null,xe()}))},()=>{ue=!0,xe()}))})}},5698:(kt,Ue,S)=>{S.d(Ue,{q:()=>ie});var f=S(515),m=S(4482),W=S(5403);function ie(V){return V<=0?()=>f.E:(0,m.e)((we,ge)=>{let re=0;we.subscribe((0,W.x)(ge,Ie=>{++re<=V&&(ge.next(Ie),V<=re&&ge.complete())}))})}},8505:(kt,Ue,S)=>{S.d(Ue,{b:()=>V});var f=S(576),m=S(4482),W=S(5403),ie=S(4671);function V(we,ge,re){const Ie=(0,f.m)(we)||ge||re?{next:we,error:ge,complete:re}:we;return Ie?(0,m.e)((Q,ue)=>{var xe;null===(xe=Ie.subscribe)||void 0===xe||xe.call(Ie);let Qe=!0;Q.subscribe((0,W.x)(ue,Ge=>{var tt;null===(tt=Ie.next)||void 0===tt||tt.call(Ie,Ge),ue.next(Ge)},()=>{var Ge;Qe=!1,null===(Ge=Ie.complete)||void 0===Ge||Ge.call(Ie),ue.complete()},Ge=>{var tt;Qe=!1,null===(tt=Ie.error)||void 0===tt||tt.call(Ie,Ge),ue.error(Ge)},()=>{var Ge,tt;Qe&&(null===(Ge=Ie.unsubscribe)||void 0===Ge||Ge.call(Ie)),null===(tt=Ie.finalize)||void 0===tt||tt.call(Ie)}))}):ie.y}},8068:(kt,Ue,S)=>{S.d(Ue,{T:()=>ie});var f=S(6805),m=S(4482),W=S(5403);function ie(we=V){return(0,m.e)((ge,re)=>{let Ie=!1;ge.subscribe((0,W.x)(re,Q=>{Ie=!0,re.next(Q)},()=>Ie?re.complete():re.error(we())))})}function V(){return new f.K}},4408:(kt,Ue,S)=>{S.d(Ue,{o:()=>V});var f=S(727);class m extends f.w0{constructor(ge,re){super()}schedule(ge,re=0){return this}}const W={setInterval(we,ge,...re){const{delegate:Ie}=W;return(null==Ie?void 0:Ie.setInterval)?Ie.setInterval(we,ge,...re):setInterval(we,ge,...re)},clearInterval(we){const{delegate:ge}=W;return((null==ge?void 0:ge.clearInterval)||clearInterval)(we)},delegate:void 0};var ie=S(8737);class V extends m{constructor(ge,re){super(ge,re),this.scheduler=ge,this.work=re,this.pending=!1}schedule(ge,re=0){if(this.closed)return this;this.state=ge;const Ie=this.id,Q=this.scheduler;return null!=Ie&&(this.id=this.recycleAsyncId(Q,Ie,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(Q,this.id,re),this}requestAsyncId(ge,re,Ie=0){return W.setInterval(ge.flush.bind(ge,this),Ie)}recycleAsyncId(ge,re,Ie=0){if(null!=Ie&&this.delay===Ie&&!1===this.pending)return re;W.clearInterval(re)}execute(ge,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ie=this._execute(ge,re);if(Ie)return Ie;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,re){let Q,Ie=!1;try{this.work(ge)}catch(ue){Ie=!0,Q=ue||new Error("Scheduled action threw falsy error")}if(Ie)return this.unsubscribe(),Q}unsubscribe(){if(!this.closed){const{id:ge,scheduler:re}=this,{actions:Ie}=re;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Ie,this),null!=ge&&(this.id=this.recycleAsyncId(re,ge,null)),this.delay=null,super.unsubscribe()}}}},7565:(kt,Ue,S)=>{S.d(Ue,{v:()=>W});var f=S(6063);class m{constructor(V,we=m.now){this.schedulerActionCtor=V,this.now=we}schedule(V,we=0,ge){return new this.schedulerActionCtor(this,V).schedule(ge,we)}}m.now=f.l.now;class W extends m{constructor(V,we=m.now){super(V,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(V){const{actions:we}=this;if(this._active)return void we.push(V);let ge;this._active=!0;do{if(ge=V.execute(V.state,V.delay))break}while(V=we.shift());if(this._active=!1,ge){for(;V=we.shift();)V.unsubscribe();throw ge}}}},4986:(kt,Ue,S)=>{S.d(Ue,{z:()=>W});var f=S(4408);const W=new(S(7565).v)(f.o)},6063:(kt,Ue,S)=>{S.d(Ue,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(kt,Ue,S)=>{S.d(Ue,{z:()=>f});const f={setTimeout(m,W,...ie){const{delegate:V}=f;return(null==V?void 0:V.setTimeout)?V.setTimeout(m,W,...ie):setTimeout(m,W,...ie)},clearTimeout(m){const{delegate:W}=f;return((null==W?void 0:W.clearTimeout)||clearTimeout)(m)},delegate:void 0}},2202:(kt,Ue,S)=>{S.d(Ue,{h:()=>m});const m=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(kt,Ue,S)=>{S.d(Ue,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(kt,Ue,S)=>{S.d(Ue,{K:()=>m});const m=(0,S(3888).d)(W=>function(){W(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(kt,Ue,S)=>{S.d(Ue,{_6:()=>we,jO:()=>ie,yG:()=>V});var f=S(576);function W(ge){return ge[ge.length-1]}function ie(ge){return(0,f.m)(W(ge))?ge.pop():void 0}function V(ge){return function m(ge){return ge&&(0,f.m)(ge.schedule)}(W(ge))?ge.pop():void 0}function we(ge,re){return"number"==typeof W(ge)?ge.pop():re}},4742:(kt,Ue,S)=>{S.d(Ue,{D:()=>V});const{isArray:f}=Array,{getPrototypeOf:m,prototype:W,keys:ie}=Object;function V(ge){if(1===ge.length){const re=ge[0];if(f(re))return{args:re,keys:null};if(function we(ge){return ge&&"object"==typeof ge&&m(ge)===W}(re)){const Ie=ie(re);return{args:Ie.map(Q=>re[Q]),keys:Ie}}}return{args:ge,keys:null}}},8737:(kt,Ue,S)=>{function f(m,W){if(m){const ie=m.indexOf(W);0<=ie&&m.splice(ie,1)}}S.d(Ue,{P:()=>f})},3888:(kt,Ue,S)=>{function f(m){const ie=m(V=>{Error.call(V),V.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}S.d(Ue,{d:()=>f})},1810:(kt,Ue,S)=>{function f(m,W){return m.reduce((ie,V,we)=>(ie[V]=W[we],ie),{})}S.d(Ue,{n:()=>f})},2806:(kt,Ue,S)=>{S.d(Ue,{O:()=>ie,x:()=>W});var f=S(2416);let m=null;function W(V){if(f.v.useDeprecatedSynchronousErrorHandling){const we=!m;if(we&&(m={errorThrown:!1,error:null}),V(),we){const{errorThrown:ge,error:re}=m;if(m=null,ge)throw re}}else V()}function ie(V){f.v.useDeprecatedSynchronousErrorHandling&&m&&(m.errorThrown=!0,m.error=V)}},9672:(kt,Ue,S)=>{function f(m,W,ie,V=0,we=!1){const ge=W.schedule(function(){ie(),we?m.add(this.schedule(null,V)):this.unsubscribe()},V);if(m.add(ge),!we)return ge}S.d(Ue,{f:()=>f})},4671:(kt,Ue,S)=>{function f(m){return m}S.d(Ue,{y:()=>f})},1144:(kt,Ue,S)=>{S.d(Ue,{z:()=>f});const f=m=>m&&"number"==typeof m.length&&"function"!=typeof m},2206:(kt,Ue,S)=>{S.d(Ue,{D:()=>m});var f=S(576);function m(W){return Symbol.asyncIterator&&(0,f.m)(null==W?void 0:W[Symbol.asyncIterator])}},576:(kt,Ue,S)=>{function f(m){return"function"==typeof m}S.d(Ue,{m:()=>f})},3670:(kt,Ue,S)=>{S.d(Ue,{c:()=>W});var f=S(8822),m=S(576);function W(ie){return(0,m.m)(ie[f.L])}},6495:(kt,Ue,S)=>{S.d(Ue,{T:()=>W});var f=S(2202),m=S(576);function W(ie){return(0,m.m)(null==ie?void 0:ie[f.h])}},8239:(kt,Ue,S)=>{S.d(Ue,{t:()=>m});var f=S(576);function m(W){return(0,f.m)(null==W?void 0:W.then)}},3260:(kt,Ue,S)=>{S.d(Ue,{L:()=>ie,Q:()=>W});var f=S(655),m=S(576);function W(V){return(0,f.FC)(this,arguments,function*(){const ge=V.getReader();try{for(;;){const{value:re,done:Ie}=yield(0,f.qq)(ge.read());if(Ie)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(re)}}finally{ge.releaseLock()}})}function ie(V){return(0,m.m)(null==V?void 0:V.getReader)}},4482:(kt,Ue,S)=>{S.d(Ue,{A:()=>m,e:()=>W});var f=S(576);function m(ie){return(0,f.m)(null==ie?void 0:ie.lift)}function W(ie){return V=>{if(m(V))return V.lift(function(we){try{return ie(we,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(kt,Ue,S)=>{S.d(Ue,{Z:()=>ie});var f=S(4004);const{isArray:m}=Array;function ie(V){return(0,f.U)(we=>function W(V,we){return m(we)?V(...we):V(we)}(V,we))}},7849:(kt,Ue,S)=>{S.d(Ue,{h:()=>W});var f=S(2416),m=S(3410);function W(ie){m.z.setTimeout(()=>{const{onUnhandledError:V}=f.v;if(!V)throw ie;V(ie)})}},4532:(kt,Ue,S)=>{function f(m){return new TypeError(`You provided ${null!==m&&"object"==typeof m?"an invalid object":`'${m}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}S.d(Ue,{z:()=>f})},655:(kt,Ue,S)=>{function ie(de,Ne){var Be={};for(var He in de)Object.prototype.hasOwnProperty.call(de,He)&&Ne.indexOf(He)<0&&(Be[He]=de[He]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Le=0;for(He=Object.getOwnPropertySymbols(de);Le<He.length;Le++)Ne.indexOf(He[Le])<0&&Object.prototype.propertyIsEnumerable.call(de,He[Le])&&(Be[He[Le]]=de[He[Le]])}return Be}function re(de,Ne,Be,He){return new(Be||(Be=Promise))(function(gt,Pt){function Bt(En){try{Tt(He.next(En))}catch(Nn){Pt(Nn)}}function Ut(En){try{Tt(He.throw(En))}catch(Nn){Pt(Nn)}}function Tt(En){En.done?gt(En.value):function Le(gt){return gt instanceof Be?gt:new Be(function(Pt){Pt(gt)})}(En.value).then(Bt,Ut)}Tt((He=He.apply(de,Ne||[])).next())})}function ce(de){return this instanceof ce?(this.v=de,this):new ce(de)}function et(de,Ne,Be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Le,He=Be.apply(de,Ne||[]),gt=[];return Le={},Pt("next"),Pt("throw"),Pt("return"),Le[Symbol.asyncIterator]=function(){return this},Le;function Pt(Tn){He[Tn]&&(Le[Tn]=function(qt){return new Promise(function(on,Kt){gt.push([Tn,qt,on,Kt])>1||Bt(Tn,qt)})})}function Bt(Tn,qt){try{!function Ut(Tn){Tn.value instanceof ce?Promise.resolve(Tn.value.v).then(Tt,En):Nn(gt[0][2],Tn)}(He[Tn](qt))}catch(on){Nn(gt[0][3],on)}}function Tt(Tn){Bt("next",Tn)}function En(Tn){Bt("throw",Tn)}function Nn(Tn,qt){Tn(qt),gt.shift(),gt.length&&Bt(gt[0][0],gt[0][1])}}function At(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Be,Ne=de[Symbol.asyncIterator];return Ne?Ne.call(de):(de=function xe(de){var Ne="function"==typeof Symbol&&Symbol.iterator,Be=Ne&&de[Ne],He=0;if(Be)return Be.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&He>=de.length&&(de=void 0),{value:de&&de[He++],done:!de}}};throw new TypeError(Ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),Be={},He("next"),He("throw"),He("return"),Be[Symbol.asyncIterator]=function(){return this},Be);function He(gt){Be[gt]=de[gt]&&function(Pt){return new Promise(function(Bt,Ut){!function Le(gt,Pt,Bt,Ut){Promise.resolve(Ut).then(function(Tt){gt({value:Tt,done:Bt})},Pt)}(Bt,Ut,(Pt=de[gt](Pt)).done,Pt.value)})}}}S.d(Ue,{FC:()=>et,KL:()=>At,_T:()=>ie,mG:()=>re,qq:()=>ce})},9808:(kt,Ue,S)=>{S.d(Ue,{Do:()=>Ze,EM:()=>Ti,H9:()=>Zi,HT:()=>V,JF:()=>nr,K0:()=>ge,Mx:()=>wr,NF:()=>Gr,O5:()=>Pe,Ov:()=>Di,PM:()=>Cr,S$:()=>ce,V_:()=>Q,Ye:()=>Fe,b0:()=>At,bD:()=>Zr,ez:()=>Ci,lw:()=>re,mr:()=>Ct,q:()=>W,sg:()=>yr,w_:()=>we});var f=S(5e3);let m=null;function W(){return m}function V(R){m||(m=R)}class we{}const ge=new f.OlP("DocumentToken");let re=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Ie(){return(0,f.LFG)(ue)}()},providedIn:"platform"}),R})();const Q=new f.OlP("Location Initialized");let ue=(()=>{class R extends re{constructor(x){super(),this._doc=x,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return W().getBaseHref(this._doc)}onPopState(x){const q=W().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",x,!1),()=>q.removeEventListener("popstate",x)}onHashChange(x){const q=W().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",x,!1),()=>q.removeEventListener("hashchange",x)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(x){this.location.pathname=x}pushState(x,q,Ae){xe()?this._history.pushState(x,q,Ae):this.location.hash=Ae}replaceState(x,q,Ae){xe()?this._history.replaceState(x,q,Ae):this.location.hash=Ae}forward(){this._history.forward()}back(){this._history.back()}historyGo(x=0){this._history.go(x)}getState(){return this._history.state}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(ge))},R.\u0275prov=f.Yz7({token:R,factory:function(){return function Qe(){return new ue((0,f.LFG)(ge))}()},providedIn:"platform"}),R})();function xe(){return!!window.history.pushState}function Ge(R,G){if(0==R.length)return G;if(0==G.length)return R;let x=0;return R.endsWith("/")&&x++,G.startsWith("/")&&x++,2==x?R+G.substring(1):1==x?R+G:R+"/"+G}function tt(R){const G=R.match(/#|\?|$/),x=G&&G.index||R.length;return R.slice(0,x-("/"===R[x-1]?1:0))+R.slice(x)}function pt(R){return R&&"?"!==R[0]?"?"+R:R}let ce=(()=>{class R{historyGo(x){throw new Error("Not implemented")}}return R.\u0275fac=function(x){return new(x||R)},R.\u0275prov=f.Yz7({token:R,factory:function(){return function et(R){const G=(0,f.LFG)(ge).location;return new At((0,f.LFG)(re),G&&G.origin||"")}()},providedIn:"root"}),R})();const Ct=new f.OlP("appBaseHref");let At=(()=>{class R extends ce{constructor(x,q){if(super(),this._platformLocation=x,this._removeListenerFns=[],null==q&&(q=this._platformLocation.getBaseHrefFromDOM()),null==q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}prepareExternalUrl(x){return Ge(this._baseHref,x)}path(x=!1){const q=this._platformLocation.pathname+pt(this._platformLocation.search),Ae=this._platformLocation.hash;return Ae&&x?`${q}${Ae}`:q}pushState(x,q,Ae,it){const wt=this.prepareExternalUrl(Ae+pt(it));this._platformLocation.pushState(x,q,wt)}replaceState(x,q,Ae,it){const wt=this.prepareExternalUrl(Ae+pt(it));this._platformLocation.replaceState(x,q,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var q,Ae;null===(Ae=(q=this._platformLocation).historyGo)||void 0===Ae||Ae.call(q,x)}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(re),f.LFG(Ct,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),Ze=(()=>{class R extends ce{constructor(x,q){super(),this._platformLocation=x,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(x){this._removeListenerFns.push(this._platformLocation.onPopState(x),this._platformLocation.onHashChange(x))}getBaseHref(){return this._baseHref}path(x=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(x){const q=Ge(this._baseHref,x);return q.length>0?"#"+q:q}pushState(x,q,Ae,it){let wt=this.prepareExternalUrl(Ae+pt(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.pushState(x,q,wt)}replaceState(x,q,Ae,it){let wt=this.prepareExternalUrl(Ae+pt(it));0==wt.length&&(wt=this._platformLocation.pathname),this._platformLocation.replaceState(x,q,wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(x=0){var q,Ae;null===(Ae=(q=this._platformLocation).historyGo)||void 0===Ae||Ae.call(q,x)}}return R.\u0275fac=function(x){return new(x||R)(f.LFG(re),f.LFG(Ct,8))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac}),R})(),Fe=(()=>{class R{constructor(x,q){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=x;const Ae=this._platformStrategy.getBaseHref();this._platformLocation=q,this._baseHref=tt(le(Ae)),this._platformStrategy.onPopState(it=>{this._subject.emit({url:this.path(!0),pop:!0,state:it.state,type:it.type})})}path(x=!1){return this.normalize(this._platformStrategy.path(x))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(x,q=""){return this.path()==this.normalize(x+pt(q))}normalize(x){return R.stripTrailingSlash(function Dt(R,G){return R&&G.startsWith(R)?G.substring(R.length):G}(this._baseHref,le(x)))}prepareExternalUrl(x){return x&&"/"!==x[0]&&(x="/"+x),this._platformStrategy.prepareExternalUrl(x)}go(x,q="",Ae=null){this._platformStrategy.pushState(Ae,"",x,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+pt(q)),Ae)}replaceState(x,q="",Ae=null){this._platformStrategy.replaceState(Ae,"",x,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(x+pt(q)),Ae)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(x=0){var q,Ae;null===(Ae=(q=this._platformStrategy).historyGo)||void 0===Ae||Ae.call(q,x)}onUrlChange(x){this._urlChangeListeners.push(x),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)}))}_notifyUrlChangeListeners(x="",q){this._urlChangeListeners.forEach(Ae=>Ae(x,q))}subscribe(x,q,Ae){return this._subject.subscribe({next:x,error:q,complete:Ae})}}return R.normalizeQueryParams=pt,R.joinWithSlash=Ge,R.stripTrailingSlash=tt,R.\u0275fac=function(x){return new(x||R)(f.LFG(ce),f.LFG(re))},R.\u0275prov=f.Yz7({token:R,factory:function(){return function qe(){return new Fe((0,f.LFG)(ce),(0,f.LFG)(re))}()},providedIn:"root"}),R})();function le(R){return R.replace(/\/index.html$/,"")}const Re={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var je=(()=>((je=je||{})[je.Decimal=0]="Decimal",je[je.Percent=1]="Percent",je[je.Currency=2]="Currency",je[je.Scientific=3]="Scientific",je))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function pn(R,G){const x=(0,f.cg1)(R),q=x[f.wAp.NumberSymbols][G];if(void 0===q){if(G===Le.CurrencyDecimal)return x[f.wAp.NumberSymbols][Le.Decimal];if(G===Le.CurrencyGroup)return x[f.wAp.NumberSymbols][Le.Group]}return q}const ln=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Sr(R,G,x,q,Ae){const wt=function Ke(R,G="-"){const x={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},q=R.split(";"),Ae=q[0],it=q[1],wt=-1!==Ae.indexOf(".")?Ae.split("."):[Ae.substring(0,Ae.lastIndexOf("0")+1),Ae.substring(Ae.lastIndexOf("0")+1)],un=wt[0],sr=wt[1]||"";x.posPre=un.substr(0,un.indexOf("#"));for(let K=0;K<sr.length;K++){const Y=sr.charAt(K);"0"===Y?x.minFrac=x.maxFrac=K+1:"#"===Y?x.maxFrac=K+1:x.posSuf+=Y}const or=un.split(",");if(x.gSize=or[1]?or[1].length:0,x.lgSize=or[2]||or[1]?(or[2]||or[1]).length:0,it){const K=Ae.length-x.posPre.length-x.posSuf.length,Y=it.indexOf("#");x.negPre=it.substr(0,Y).replace(/'/g,""),x.negSuf=it.substr(Y+K).replace(/'/g,"")}else x.negPre=G+x.posPre,x.negSuf=x.posSuf;return x}(function Dn(R,G){return(0,f.cg1)(R)[f.wAp.NumberFormats][G]}(G,je.Currency),pn(G,Le.MinusSign));return wt.minFrac=function ut(R){let G;const x=Re[R];return x&&(G=x[2]),"number"==typeof G?G:2}(q),wt.maxFrac=wt.minFrac,function Kr(R,G,x,q,Ae,it,wt=!1){let un="",sr=!1;if(isFinite(R)){let or=function en(R){let q,Ae,it,wt,un,G=Math.abs(R)+"",x=0;for((Ae=G.indexOf("."))>-1&&(G=G.replace(".","")),(it=G.search(/e/i))>0?(Ae<0&&(Ae=it),Ae+=+G.slice(it+1),G=G.substring(0,it)):Ae<0&&(Ae=G.length),it=0;"0"===G.charAt(it);it++);if(it===(un=G.length))q=[0],Ae=1;else{for(un--;"0"===G.charAt(un);)un--;for(Ae-=it,q=[],wt=0;it<=un;it++,wt++)q[wt]=Number(G.charAt(it))}return Ae>22&&(q=q.splice(0,21),x=Ae-1,Ae=1),{digits:q,exponent:x,integerLen:Ae}}(R);wt&&(or=function Et(R){if(0===R.digits[0])return R;const G=R.digits.length-R.integerLen;return R.exponent?R.exponent+=2:(0===G?R.digits.push(0,0):1===G&&R.digits.push(0),R.integerLen+=2),R}(or));let K=G.minInt,Y=G.minFrac,Ce=G.maxFrac;if(it){const hr=it.match(ln);if(null===hr)throw new Error(`${it} is not a valid digit info`);const gr=hr[1],mr=hr[3],Vn=hr[5];null!=gr&&(K=$n(gr)),null!=mr&&(Y=$n(mr)),null!=Vn?Ce=$n(Vn):null!=mr&&Y>Ce&&(Ce=Y)}!function Sn(R,G,x){if(G>x)throw new Error(`The minimum number of digits after fraction (${G}) is higher than the maximum (${x}).`);let q=R.digits,Ae=q.length-R.integerLen;const it=Math.min(Math.max(G,Ae),x);let wt=it+R.integerLen,un=q[wt];if(wt>0){q.splice(Math.max(R.integerLen,wt));for(let Y=wt;Y<q.length;Y++)q[Y]=0}else{Ae=Math.max(0,Ae),R.integerLen=1,q.length=Math.max(1,wt=it+1),q[0]=0;for(let Y=1;Y<wt;Y++)q[Y]=0}if(un>=5)if(wt-1<0){for(let Y=0;Y>wt;Y--)q.unshift(0),R.integerLen++;q.unshift(1),R.integerLen++}else q[wt-1]++;for(;Ae<Math.max(0,it);Ae++)q.push(0);let sr=0!==it;const or=G+R.integerLen,K=q.reduceRight(function(Y,Ce,ze,It){return It[ze]=(Ce+=Y)<10?Ce:Ce-10,sr&&(0===It[ze]&&ze>=or?It.pop():sr=!1),Ce>=10?1:0},0);K&&(q.unshift(K),R.integerLen++)}(or,Y,Ce);let ze=or.digits,It=or.integerLen;const jt=or.exponent;let mn=[];for(sr=ze.every(hr=>!hr);It<K;It++)ze.unshift(0);for(;It<0;It++)ze.unshift(0);It>0?mn=ze.splice(It,ze.length):(mn=ze,ze=[0]);const Yt=[];for(ze.length>=G.lgSize&&Yt.unshift(ze.splice(-G.lgSize,ze.length).join(""));ze.length>G.gSize;)Yt.unshift(ze.splice(-G.gSize,ze.length).join(""));ze.length&&Yt.unshift(ze.join("")),un=Yt.join(pn(x,q)),mn.length&&(un+=pn(x,Ae)+mn.join("")),jt&&(un+=pn(x,Le.Exponential)+"+"+jt)}else un=pn(x,Le.Infinity);return un=R<0&&!sr?G.negPre+un+G.negSuf:G.posPre+un+G.posSuf,un}(R,wt,G,Le.CurrencyGroup,Le.CurrencyDecimal,Ae).replace("\xa4",x).replace("\xa4","").trim()}function $n(R){const G=parseInt(R);if(isNaN(G))throw new Error("Invalid integer literal when parsing "+R);return G}function wr(R,G){G=encodeURIComponent(G);for(const x of R.split(";")){const q=x.indexOf("="),[Ae,it]=-1==q?[x,""]:[x.slice(0,q),x.slice(q+1)];if(Ae.trim()===G)return decodeURIComponent(it)}return null}class ai{constructor(G,x,q,Ae){this.$implicit=G,this.ngForOf=x,this.index=q,this.count=Ae}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yr=(()=>{class R{constructor(x,q,Ae){this._viewContainer=x,this._template=q,this._differs=Ae,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(x){this._ngForOf=x,this._ngForOfDirty=!0}set ngForTrackBy(x){this._trackByFn=x}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(x){x&&(this._template=x)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const x=this._ngForOf;!this._differ&&x&&(this._differ=this._differs.find(x).create(this.ngForTrackBy))}if(this._differ){const x=this._differ.diff(this._ngForOf);x&&this._applyChanges(x)}}_applyChanges(x){const q=this._viewContainer;x.forEachOperation((Ae,it,wt)=>{if(null==Ae.previousIndex)q.createEmbeddedView(this._template,new ai(Ae.item,this._ngForOf,-1,-1),null===wt?void 0:wt);else if(null==wt)q.remove(null===it?void 0:it);else if(null!==it){const un=q.get(it);q.move(un,wt),Or(un,Ae)}});for(let Ae=0,it=q.length;Ae<it;Ae++){const un=q.get(Ae).context;un.index=Ae,un.count=it,un.ngForOf=this._ngForOf}x.forEachIdentityChange(Ae=>{Or(q.get(Ae.currentIndex),Ae)})}static ngTemplateContextGuard(x,q){return!0}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),R})();function Or(R,G){R.context.$implicit=G.item}let Pe=(()=>{class R{constructor(x,q){this._viewContainer=x,this._context=new be,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(x){this._context.$implicit=this._context.ngIf=x,this._updateView()}set ngIfThen(x){Je("ngIfThen",x),this._thenTemplateRef=x,this._thenViewRef=null,this._updateView()}set ngIfElse(x){Je("ngIfElse",x),this._elseTemplateRef=x,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(x,q){return!0}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.s_b),f.Y36(f.Rgc))},R.\u0275dir=f.lG2({type:R,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),R})();class be{constructor(){this.$implicit=null,this.ngIf=null}}function Je(R,G){if(G&&!G.createEmbeddedView)throw new Error(`${R} must be a TemplateRef, but received '${(0,f.AaK)(G)}'.`)}function _r(R,G){return new f.vHH(2100,"")}class Ds{createSubscription(G,x){return G.subscribe({next:x,error:q=>{throw q}})}dispose(G){G.unsubscribe()}onDestroy(G){G.unsubscribe()}}class Vs{createSubscription(G,x){return G.then(x,q=>{throw q})}dispose(G){}onDestroy(G){}}const Qr=new Vs,ki=new Ds;let Di=(()=>{class R{constructor(x){this._ref=x,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(x){return this._obj?x!==this._obj?(this._dispose(),this.transform(x)):this._latestValue:(x&&this._subscribe(x),this._latestValue)}_subscribe(x){this._obj=x,this._strategy=this._selectStrategy(x),this._subscription=this._strategy.createSubscription(x,q=>this._updateLatestValue(x,q))}_selectStrategy(x){if((0,f.QGY)(x))return Qr;if((0,f.F4k)(x))return ki;throw _r()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(x,q){x===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.sBO,16))},R.\u0275pipe=f.Yjl({name:"async",type:R,pure:!1}),R})(),Zi=(()=>{class R{constructor(x,q="USD"){this._locale=x,this._defaultCurrencyCode=q}transform(x,q=this._defaultCurrencyCode,Ae="symbol",it,wt){if(!function mi(R){return!(null==R||""===R||R!=R)}(x))return null;wt=wt||this._locale,"boolean"==typeof Ae&&(Ae=Ae?"symbol":"code");let un=q||this._defaultCurrencyCode;"code"!==Ae&&(un="symbol"===Ae||"symbol-narrow"===Ae?function er(R,G,x="en"){const q=function qn(R){return(0,f.cg1)(R)[f.wAp.Currencies]}(x)[R]||Re[R]||[],Ae=q[1];return"narrow"===G&&"string"==typeof Ae?Ae:q[0]||R}(un,"symbol"===Ae?"wide":"narrow",wt):Ae);try{return Sr(function ti(R){if("string"==typeof R&&!isNaN(Number(R)-parseFloat(R)))return Number(R);if("number"!=typeof R)throw new Error(`${R} is not a number`);return R}(x),wt,un,q,it)}catch(sr){throw _r()}}}return R.\u0275fac=function(x){return new(x||R)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},R.\u0275pipe=f.Yjl({name:"currency",type:R,pure:!0}),R})();let Ci=(()=>{class R{}return R.\u0275fac=function(x){return new(x||R)},R.\u0275mod=f.oAB({type:R}),R.\u0275inj=f.cJS({}),R})();const Zr="browser";function Gr(R){return R===Zr}function Cr(R){return"server"===R}let Ti=(()=>{class R{}return R.\u0275prov=(0,f.Yz7)({token:R,providedIn:"root",factory:()=>new os((0,f.LFG)(ge),window)}),R})();class os{constructor(G,x){this.document=G,this.window=x,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const x=function Ni(R,G){const x=R.getElementById(G)||R.getElementsByName(G)[0];if(x)return x;if("function"==typeof R.createTreeWalker&&R.body&&(R.body.createShadowRoot||R.body.attachShadow)){const q=R.createTreeWalker(R.body,NodeFilter.SHOW_ELEMENT);let Ae=q.currentNode;for(;Ae;){const it=Ae.shadowRoot;if(it){const wt=it.getElementById(G)||it.querySelector(`[name="${G}"]`);if(wt)return wt}Ae=q.nextNode()}}return null}(this.document,G);x&&(this.scrollToElement(x),x.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const x=this.window.history;x&&x.scrollRestoration&&(x.scrollRestoration=G)}}scrollToElement(G){const x=G.getBoundingClientRect(),q=x.left+this.window.pageXOffset,Ae=x.top+this.window.pageYOffset,it=this.offset();this.window.scrollTo(q-it[0],Ae-it[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=yi(this.window.history)||yi(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function yi(R){return Object.getOwnPropertyDescriptor(R,"scrollRestoration")}class nr{}},520:(kt,Ue,S)=>{S.d(Ue,{JF:()=>an,eN:()=>Le});var f=S(9808),m=S(5e3),W=S(9646),ie=S(8306),V=S(4351),we=S(9300),ge=S(4004);class re{}class Ie{}class Q{constructor(ye){this.normalizedNames=new Map,this.lazyUpdate=null,ye?this.lazyInit="string"==typeof ye?()=>{this.headers=new Map,ye.split("\n").forEach(De=>{const mt=De.indexOf(":");if(mt>0){const Ve=De.slice(0,mt),_t=Ve.toLowerCase(),yt=De.slice(mt+1).trim();this.maybeSetNormalizedName(Ve,_t),this.headers.has(_t)?this.headers.get(_t).push(yt):this.headers.set(_t,[yt])}})}:()=>{this.headers=new Map,Object.keys(ye).forEach(De=>{let mt=ye[De];const Ve=De.toLowerCase();"string"==typeof mt&&(mt=[mt]),mt.length>0&&(this.headers.set(Ve,mt),this.maybeSetNormalizedName(De,Ve))})}:this.headers=new Map}has(ye){return this.init(),this.headers.has(ye.toLowerCase())}get(ye){this.init();const De=this.headers.get(ye.toLowerCase());return De&&De.length>0?De[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ye){return this.init(),this.headers.get(ye.toLowerCase())||null}append(ye,De){return this.clone({name:ye,value:De,op:"a"})}set(ye,De){return this.clone({name:ye,value:De,op:"s"})}delete(ye,De){return this.clone({name:ye,value:De,op:"d"})}maybeSetNormalizedName(ye,De){this.normalizedNames.has(De)||this.normalizedNames.set(De,ye)}init(){this.lazyInit&&(this.lazyInit instanceof Q?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ye=>this.applyUpdate(ye)),this.lazyUpdate=null))}copyFrom(ye){ye.init(),Array.from(ye.headers.keys()).forEach(De=>{this.headers.set(De,ye.headers.get(De)),this.normalizedNames.set(De,ye.normalizedNames.get(De))})}clone(ye){const De=new Q;return De.lazyInit=this.lazyInit&&this.lazyInit instanceof Q?this.lazyInit:this,De.lazyUpdate=(this.lazyUpdate||[]).concat([ye]),De}applyUpdate(ye){const De=ye.name.toLowerCase();switch(ye.op){case"a":case"s":let mt=ye.value;if("string"==typeof mt&&(mt=[mt]),0===mt.length)return;this.maybeSetNormalizedName(ye.name,De);const Ve=("a"===ye.op?this.headers.get(De):void 0)||[];Ve.push(...mt),this.headers.set(De,Ve);break;case"d":const _t=ye.value;if(_t){let yt=this.headers.get(De);if(!yt)return;yt=yt.filter(gn=>-1===_t.indexOf(gn)),0===yt.length?(this.headers.delete(De),this.normalizedNames.delete(De)):this.headers.set(De,yt)}else this.headers.delete(De),this.normalizedNames.delete(De)}}forEach(ye){this.init(),Array.from(this.normalizedNames.keys()).forEach(De=>ye(this.normalizedNames.get(De),this.headers.get(De)))}}class ue{encodeKey(ye){return tt(ye)}encodeValue(ye){return tt(ye)}decodeKey(ye){return decodeURIComponent(ye)}decodeValue(ye){return decodeURIComponent(ye)}}const Qe=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function tt(ut){return encodeURIComponent(ut).replace(Qe,(ye,De)=>{var mt;return null!==(mt=Ge[De])&&void 0!==mt?mt:ye})}function pt(ut){return`${ut}`}class ce{constructor(ye={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ye.encoder||new ue,ye.fromString){if(ye.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function xe(ut,ye){const De=new Map;return ut.length>0&&ut.replace(/^\?/,"").split("&").forEach(Ve=>{const _t=Ve.indexOf("="),[yt,gn]=-1==_t?[ye.decodeKey(Ve),""]:[ye.decodeKey(Ve.slice(0,_t)),ye.decodeValue(Ve.slice(_t+1))],hn=De.get(yt)||[];hn.push(gn),De.set(yt,hn)}),De}(ye.fromString,this.encoder)}else ye.fromObject?(this.map=new Map,Object.keys(ye.fromObject).forEach(De=>{const mt=ye.fromObject[De];this.map.set(De,Array.isArray(mt)?mt:[mt])})):this.map=null}has(ye){return this.init(),this.map.has(ye)}get(ye){this.init();const De=this.map.get(ye);return De?De[0]:null}getAll(ye){return this.init(),this.map.get(ye)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ye,De){return this.clone({param:ye,value:De,op:"a"})}appendAll(ye){const De=[];return Object.keys(ye).forEach(mt=>{const Ve=ye[mt];Array.isArray(Ve)?Ve.forEach(_t=>{De.push({param:mt,value:_t,op:"a"})}):De.push({param:mt,value:Ve,op:"a"})}),this.clone(De)}set(ye,De){return this.clone({param:ye,value:De,op:"s"})}delete(ye,De){return this.clone({param:ye,value:De,op:"d"})}toString(){return this.init(),this.keys().map(ye=>{const De=this.encoder.encodeKey(ye);return this.map.get(ye).map(mt=>De+"="+this.encoder.encodeValue(mt)).join("&")}).filter(ye=>""!==ye).join("&")}clone(ye){const De=new ce({encoder:this.encoder});return De.cloneFrom=this.cloneFrom||this,De.updates=(this.updates||[]).concat(ye),De}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ye=>this.map.set(ye,this.cloneFrom.map.get(ye))),this.updates.forEach(ye=>{switch(ye.op){case"a":case"s":const De=("a"===ye.op?this.map.get(ye.param):void 0)||[];De.push(pt(ye.value)),this.map.set(ye.param,De);break;case"d":if(void 0===ye.value){this.map.delete(ye.param);break}{let mt=this.map.get(ye.param)||[];const Ve=mt.indexOf(pt(ye.value));-1!==Ve&&mt.splice(Ve,1),mt.length>0?this.map.set(ye.param,mt):this.map.delete(ye.param)}}}),this.cloneFrom=this.updates=null)}}class Ct{constructor(){this.map=new Map}set(ye,De){return this.map.set(ye,De),this}get(ye){return this.map.has(ye)||this.map.set(ye,ye.defaultValue()),this.map.get(ye)}delete(ye){return this.map.delete(ye),this}has(ye){return this.map.has(ye)}keys(){return this.map.keys()}}function Ze(ut){return"undefined"!=typeof ArrayBuffer&&ut instanceof ArrayBuffer}function Fe(ut){return"undefined"!=typeof Blob&&ut instanceof Blob}function qe(ut){return"undefined"!=typeof FormData&&ut instanceof FormData}class le{constructor(ye,De,mt,Ve){let _t;if(this.url=De,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ye.toUpperCase(),function At(ut){switch(ut){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ve?(this.body=void 0!==mt?mt:null,_t=Ve):_t=mt,_t&&(this.reportProgress=!!_t.reportProgress,this.withCredentials=!!_t.withCredentials,_t.responseType&&(this.responseType=_t.responseType),_t.headers&&(this.headers=_t.headers),_t.context&&(this.context=_t.context),_t.params&&(this.params=_t.params)),this.headers||(this.headers=new Q),this.context||(this.context=new Ct),this.params){const yt=this.params.toString();if(0===yt.length)this.urlWithParams=De;else{const gn=De.indexOf("?");this.urlWithParams=De+(-1===gn?"?":gn<De.length-1?"&":"")+yt}}else this.params=new ce,this.urlWithParams=De}serializeBody(){return null===this.body?null:Ze(this.body)||Fe(this.body)||qe(this.body)||function Dt(ut){return"undefined"!=typeof URLSearchParams&&ut instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||qe(this.body)?null:Fe(this.body)?this.body.type||null:Ze(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ye={}){var De;const mt=ye.method||this.method,Ve=ye.url||this.url,_t=ye.responseType||this.responseType,yt=void 0!==ye.body?ye.body:this.body,gn=void 0!==ye.withCredentials?ye.withCredentials:this.withCredentials,hn=void 0!==ye.reportProgress?ye.reportProgress:this.reportProgress;let sn=ye.headers||this.headers,ar=ye.params||this.params;const Bn=null!==(De=ye.context)&&void 0!==De?De:this.context;return void 0!==ye.setHeaders&&(sn=Object.keys(ye.setHeaders).reduce((dn,se)=>dn.set(se,ye.setHeaders[se]),sn)),ye.setParams&&(ar=Object.keys(ye.setParams).reduce((dn,se)=>dn.set(se,ye.setParams[se]),ar)),new le(mt,Ve,yt,{params:ar,headers:sn,context:Bn,reportProgress:hn,responseType:_t,withCredentials:gn})}}var Re=(()=>((Re=Re||{})[Re.Sent=0]="Sent",Re[Re.UploadProgress=1]="UploadProgress",Re[Re.ResponseHeader=2]="ResponseHeader",Re[Re.DownloadProgress=3]="DownloadProgress",Re[Re.Response=4]="Response",Re[Re.User=5]="User",Re))();class je{constructor(ye,De=200,mt="OK"){this.headers=ye.headers||new Q,this.status=void 0!==ye.status?ye.status:De,this.statusText=ye.statusText||mt,this.url=ye.url||null,this.ok=this.status>=200&&this.status<300}}class de extends je{constructor(ye={}){super(ye),this.type=Re.ResponseHeader}clone(ye={}){return new de({headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Ne extends je{constructor(ye={}){super(ye),this.type=Re.Response,this.body=void 0!==ye.body?ye.body:null}clone(ye={}){return new Ne({body:void 0!==ye.body?ye.body:this.body,headers:ye.headers||this.headers,status:void 0!==ye.status?ye.status:this.status,statusText:ye.statusText||this.statusText,url:ye.url||this.url||void 0})}}class Be extends je{constructor(ye){super(ye,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ye.url||"(unknown url)"}`:`Http failure response for ${ye.url||"(unknown url)"}: ${ye.status} ${ye.statusText}`,this.error=ye.error||null}}function He(ut,ye){return{body:ye,headers:ut.headers,context:ut.context,observe:ut.observe,params:ut.params,reportProgress:ut.reportProgress,responseType:ut.responseType,withCredentials:ut.withCredentials}}let Le=(()=>{class ut{constructor(De){this.handler=De}request(De,mt,Ve={}){let _t;if(De instanceof le)_t=De;else{let hn,sn;hn=Ve.headers instanceof Q?Ve.headers:new Q(Ve.headers),Ve.params&&(sn=Ve.params instanceof ce?Ve.params:new ce({fromObject:Ve.params})),_t=new le(De,mt,void 0!==Ve.body?Ve.body:null,{headers:hn,context:Ve.context,params:sn,reportProgress:Ve.reportProgress,responseType:Ve.responseType||"json",withCredentials:Ve.withCredentials})}const yt=(0,W.of)(_t).pipe((0,V.b)(hn=>this.handler.handle(hn)));if(De instanceof le||"events"===Ve.observe)return yt;const gn=yt.pipe((0,we.h)(hn=>hn instanceof Ne));switch(Ve.observe||"body"){case"body":switch(_t.responseType){case"arraybuffer":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return hn.body}));case"blob":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&!(hn.body instanceof Blob))throw new Error("Response is not a Blob.");return hn.body}));case"text":return gn.pipe((0,ge.U)(hn=>{if(null!==hn.body&&"string"!=typeof hn.body)throw new Error("Response is not a string.");return hn.body}));default:return gn.pipe((0,ge.U)(hn=>hn.body))}case"response":return gn;default:throw new Error(`Unreachable: unhandled observe type ${Ve.observe}}`)}}delete(De,mt={}){return this.request("DELETE",De,mt)}get(De,mt={}){return this.request("GET",De,mt)}head(De,mt={}){return this.request("HEAD",De,mt)}jsonp(De,mt){return this.request("JSONP",De,{params:(new ce).append(mt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(De,mt={}){return this.request("OPTIONS",De,mt)}patch(De,mt,Ve={}){return this.request("PATCH",De,He(Ve,mt))}post(De,mt,Ve={}){return this.request("POST",De,He(Ve,mt))}put(De,mt,Ve={}){return this.request("PUT",De,He(Ve,mt))}}return ut.\u0275fac=function(De){return new(De||ut)(m.LFG(re))},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})();class gt{constructor(ye,De){this.next=ye,this.interceptor=De}handle(ye){return this.interceptor.intercept(ye,this.next)}}const Pt=new m.OlP("HTTP_INTERCEPTORS");let Bt=(()=>{class ut{intercept(De,mt){return mt.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const pn=/^\)\]\}',?\n/;let kn=(()=>{class ut{constructor(De){this.xhrFactory=De}handle(De){if("JSONP"===De.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ie.y(mt=>{const Ve=this.xhrFactory.build();if(Ve.open(De.method,De.urlWithParams),De.withCredentials&&(Ve.withCredentials=!0),De.headers.forEach((se,me)=>Ve.setRequestHeader(se,me.join(","))),De.headers.has("Accept")||Ve.setRequestHeader("Accept","application/json, text/plain, */*"),!De.headers.has("Content-Type")){const se=De.detectContentTypeHeader();null!==se&&Ve.setRequestHeader("Content-Type",se)}if(De.responseType){const se=De.responseType.toLowerCase();Ve.responseType="json"!==se?se:"text"}const _t=De.serializeBody();let yt=null;const gn=()=>{if(null!==yt)return yt;const se=Ve.statusText||"OK",me=new Q(Ve.getAllResponseHeaders()),J=function Dn(ut){return"responseURL"in ut&&ut.responseURL?ut.responseURL:/^X-Request-URL:/m.test(ut.getAllResponseHeaders())?ut.getResponseHeader("X-Request-URL"):null}(Ve)||De.url;return yt=new de({headers:me,status:Ve.status,statusText:se,url:J}),yt},hn=()=>{let{headers:se,status:me,statusText:J,url:k}=gn(),N=null;204!==me&&(N=void 0===Ve.response?Ve.responseText:Ve.response),0===me&&(me=N?200:0);let X=me>=200&&me<300;if("json"===De.responseType&&"string"==typeof N){const ee=N;N=N.replace(pn,"");try{N=""!==N?JSON.parse(N):null}catch(Se){N=ee,X&&(X=!1,N={error:Se,text:N})}}X?(mt.next(new Ne({body:N,headers:se,status:me,statusText:J,url:k||void 0})),mt.complete()):mt.error(new Be({error:N,headers:se,status:me,statusText:J,url:k||void 0}))},sn=se=>{const{url:me}=gn(),J=new Be({error:se,status:Ve.status||0,statusText:Ve.statusText||"Unknown Error",url:me||void 0});mt.error(J)};let ar=!1;const Bn=se=>{ar||(mt.next(gn()),ar=!0);let me={type:Re.DownloadProgress,loaded:se.loaded};se.lengthComputable&&(me.total=se.total),"text"===De.responseType&&!!Ve.responseText&&(me.partialText=Ve.responseText),mt.next(me)},dn=se=>{let me={type:Re.UploadProgress,loaded:se.loaded};se.lengthComputable&&(me.total=se.total),mt.next(me)};return Ve.addEventListener("load",hn),Ve.addEventListener("error",sn),Ve.addEventListener("timeout",sn),Ve.addEventListener("abort",sn),De.reportProgress&&(Ve.addEventListener("progress",Bn),null!==_t&&Ve.upload&&Ve.upload.addEventListener("progress",dn)),Ve.send(_t),mt.next({type:Re.Sent}),()=>{Ve.removeEventListener("error",sn),Ve.removeEventListener("abort",sn),Ve.removeEventListener("load",hn),Ve.removeEventListener("timeout",sn),De.reportProgress&&(Ve.removeEventListener("progress",Bn),null!==_t&&Ve.upload&&Ve.upload.removeEventListener("progress",dn)),Ve.readyState!==Ve.DONE&&Ve.abort()}})}}return ut.\u0275fac=function(De){return new(De||ut)(m.LFG(f.JF))},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})();const _n=new m.OlP("XSRF_COOKIE_NAME"),Ln=new m.OlP("XSRF_HEADER_NAME");class qn{}let Yn=(()=>{class ut{constructor(De,mt,Ve){this.doc=De,this.platform=mt,this.cookieName=Ve,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const De=this.doc.cookie||"";return De!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(De,this.cookieName),this.lastCookieString=De),this.lastToken}}return ut.\u0275fac=function(De){return new(De||ut)(m.LFG(f.K0),m.LFG(m.Lbi),m.LFG(_n))},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),tn=(()=>{class ut{constructor(De,mt){this.tokenService=De,this.headerName=mt}intercept(De,mt){const Ve=De.url.toLowerCase();if("GET"===De.method||"HEAD"===De.method||Ve.startsWith("http://")||Ve.startsWith("https://"))return mt.handle(De);const _t=this.tokenService.getToken();return null!==_t&&!De.headers.has(this.headerName)&&(De=De.clone({headers:De.headers.set(this.headerName,_t)})),mt.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)(m.LFG(qn),m.LFG(Ln))},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),Wn=(()=>{class ut{constructor(De,mt){this.backend=De,this.injector=mt,this.chain=null}handle(De){if(null===this.chain){const mt=this.injector.get(Pt,[]);this.chain=mt.reduceRight((Ve,_t)=>new gt(Ve,_t),this.backend)}return this.chain.handle(De)}}return ut.\u0275fac=function(De){return new(De||ut)(m.LFG(Ie),m.LFG(m.zs3))},ut.\u0275prov=m.Yz7({token:ut,factory:ut.\u0275fac}),ut})(),Cn=(()=>{class ut{static disable(){return{ngModule:ut,providers:[{provide:tn,useClass:Bt}]}}static withOptions(De={}){return{ngModule:ut,providers:[De.cookieName?{provide:_n,useValue:De.cookieName}:[],De.headerName?{provide:Ln,useValue:De.headerName}:[]]}}}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=m.oAB({type:ut}),ut.\u0275inj=m.cJS({providers:[tn,{provide:Pt,useExisting:tn,multi:!0},{provide:qn,useClass:Yn},{provide:_n,useValue:"XSRF-TOKEN"},{provide:Ln,useValue:"X-XSRF-TOKEN"}]}),ut})(),an=(()=>{class ut{}return ut.\u0275fac=function(De){return new(De||ut)},ut.\u0275mod=m.oAB({type:ut}),ut.\u0275inj=m.cJS({providers:[Le,{provide:re,useClass:Wn},kn,{provide:Ie,useExisting:kn}],imports:[[Cn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),ut})()},5e3:(kt,Ue,S)=>{S.d(Ue,{$8M:()=>ds,$Z:()=>Pc,AFp:()=>M0,ALo:()=>J_,AaK:()=>re,CHM:()=>Xn,CRH:()=>u0,CZH:()=>pv,CqO:()=>Kd,DdM:()=>z_,EJc:()=>gw,EpF:()=>Bg,F4k:()=>jg,FYo:()=>F_,FiY:()=>Pr,G48:()=>Vw,GfV:()=>L_,Gpc:()=>ue,JOm:()=>sa,LFG:()=>$,LSH:()=>ch,Lbi:()=>hw,NdJ:()=>Fc,OlP:()=>Br,Oqu:()=>Qf,PXZ:()=>xw,Q6J:()=>jf,QGY:()=>Hf,Qsj:()=>lI,R0b:()=>Ha,RDi:()=>yi,Rgc:()=>ap,SBq:()=>rp,Sil:()=>yw,Suo:()=>a0,TTD:()=>mi,TgZ:()=>kc,VKq:()=>W_,VLi:()=>Aw,X6Q:()=>Lw,XFs:()=>Ht,Xpm:()=>Ye,Y36:()=>Uo,YKP:()=>j_,YNc:()=>Mg,Yjl:()=>at,Yz7:()=>qt,ZZ4:()=>Sv,_Bn:()=>N_,_UZ:()=>Gf,_Vd:()=>hm,_c5:()=>eb,_uU:()=>sm,aQg:()=>Mv,c2e:()=>fw,cJS:()=>Kt,cg1:()=>zy,dDg:()=>k0,deG:()=>Zl,dqk:()=>sn,eFA:()=>V0,ekj:()=>Bc,g9A:()=>R0,h0i:()=>oh,hGG:()=>tb,hij:()=>nh,iGM:()=>o0,ifc:()=>Ve,ip1:()=>S0,kL8:()=>o_,lG2:()=>rt,lcZ:()=>X_,n5z:()=>Nr,oAB:()=>ke,oxw:()=>Yd,q4F:()=>V_,qLn:()=>od,qOj:()=>Ud,qZA:()=>rl,s9C:()=>Xd,sBO:()=>Uw,sIi:()=>jl,s_b:()=>gm,soG:()=>mv,tBr:()=>Mr,tb:()=>O0,tp0:()=>Es,uIk:()=>Rc,vHH:()=>tt,vpe:()=>Eu,wAp:()=>Hn,xp6:()=>Rh,z2F:()=>wv,zSh:()=>gf,zs3:()=>Lo});var f=S(7579),m=S(727),W=S(8306),ie=S(6451),V=S(3099);function we(t){for(let r in t)if(t[r]===we)return r;throw Error("Could not find renamed property on target object.")}function ge(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Ie(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Q=we({__forward_ref__:we});function ue(t){return t.__forward_ref__=ue,t.toString=function(){return re(this())},t}function xe(t){return Qe(t)?t():t}function Qe(t){return"function"==typeof t&&t.hasOwnProperty(Q)&&t.__forward_ref__===ue}class tt extends Error{constructor(r,s){super(function pt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,s)),this.code=r}}function ce(t){return"string"==typeof t?t:null==t?"":String(t)}function et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ce(t)}function Fe(t,r){const s=r?` in ${r}`:"";throw new tt(-201,`No provider for ${et(t)} found${s}`)}function Ut(t,r){null==t&&function Tt(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function qt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Kt(t){return{providers:t.providers||[],imports:t.imports||[]}}function pn(t){return Dn(t,qn)||Dn(t,tn)}function Dn(t,r){return t.hasOwnProperty(r)?t[r]:null}function Ln(t){return t&&(t.hasOwnProperty(Yn)||t.hasOwnProperty(Wn))?t[Yn]:null}const qn=we({\u0275prov:we}),Yn=we({\u0275inj:we}),tn=we({ngInjectableDef:we}),Wn=we({ngInjectorDef:we});var Ht=(()=>((Ht=Ht||{})[Ht.Default=0]="Default",Ht[Ht.Host=1]="Host",Ht[Ht.Self=2]="Self",Ht[Ht.SkipSelf=4]="SkipSelf",Ht[Ht.Optional=8]="Optional",Ht))();let Er;function an(t){const r=Er;return Er=t,r}function er(t,r,s){const a=pn(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Ht.Optional?null:void 0!==r?r:void Fe(re(t),"Injector")}function ut(t){return{toString:t}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Ve=(()=>{return(t=Ve||(Ve={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ve;var t})();const _t="undefined"!=typeof globalThis&&globalThis,yt="undefined"!=typeof window&&window,gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,sn=_t||"undefined"!=typeof global&&global||yt||gn,dn={},se=[],me=we({\u0275cmp:we}),J=we({\u0275dir:we}),k=we({\u0275pipe:we}),N=we({\u0275mod:we}),X=we({\u0275fac:we}),ee=we({__NG_ELEMENT_ID__:we});let Se=0;function Ye(t){return ut(()=>{const s={},a={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||se,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ve.Emulated,id:"c",styles:t.styles||se,_:null,setInput:null,schemas:t.schemas||null,tView:null},l=t.directives,c=t.features,y=t.pipes;return a.id+=Se++,a.inputs=ae(t.inputs,s),a.outputs=ae(t.outputs),c&&c.forEach(I=>I(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(Mt):null,a.pipeDefs=y?()=>("function"==typeof y?y():y).map(ht):null,a})}function Mt(t){return $t(t)||function ln(t){return t[J]||null}(t)}function ht(t){return function bn(t){return t[k]||null}(t)}const Lt={};function ke(t){return ut(()=>{const r={type:t.type,bootstrap:t.bootstrap||se,declarations:t.declarations||se,imports:t.imports||se,exports:t.exports||se,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(Lt[t.id]=t.type),r})}function ae(t,r){if(null==t)return dn;const s={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],c=l;Array.isArray(l)&&(c=l[1],l=l[0]),s[l]=a,r&&(r[l]=c)}return s}const rt=Ye;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function $t(t){return t[me]||null}function wn(t,r){const s=t[N]||null;if(!s&&!0===r)throw new Error(`Type ${re(t)} does not have '\u0275mod' property.`);return s}function Rt(t){return Array.isArray(t)&&"object"==typeof t[1]}function zt(t){return Array.isArray(t)&&!0===t[1]}function Jn(t){return 0!=(8&t.flags)}function vr(t){return 2==(2&t.flags)}function Gn(t){return 1==(1&t.flags)}function Dr(t){return null!==t.template}function Pi(t){return 0!=(512&t[2])}function ei(t,r){return t.hasOwnProperty(X)?t[X]:null}class Zi{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function mi(){return ti}function ti(t){return t.type.prototype.ngOnChanges&&(t.setInput=ui),qi}function qi(){const t=Zr(this),r=null==t?void 0:t.current;if(r){const s=t.previous;if(s===dn)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function ui(t,r,s,a){const l=Zr(t)||function lr(t,r){return t[Ci]=r}(t,{previous:dn,current:null}),c=l.current||(l.current={}),y=l.previous,I=this.declaredInputs[s],C=y[I];c[I]=new Zi(C&&C.currentValue,r,y===dn),t[a]=r}mi.ngInherit=!0;const Ci="__ngSimpleChanges__";function Zr(t){return t[Ci]||null}let os;function yi(t){os=t}function nr(t){return!!t.listen}const R={createRenderer:(t,r)=>function Ni(){return void 0!==os?os:"undefined"!=typeof document?document:void 0}()};function x(t){for(;Array.isArray(t);)t=t[0];return t}function it(t,r){return x(r[t])}function wt(t,r){return x(r[t.index])}function sr(t,r){return t.data[r]}function K(t,r){const s=r[t];return Rt(s)?s:s[0]}function Y(t){return 4==(4&t[2])}function Ce(t){return 128==(128&t[2])}function It(t,r){return null==r?null:t[r]}function jt(t){t[18]=0}function mn(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Yt={lFrame:mo(null),bindingsEnabled:!0};function A(){return Yt.bindingsEnabled}function he(){return Yt.lFrame.lView}function St(){return Yt.lFrame.tView}function Xn(t){return Yt.lFrame.contextLView=t,t[8]}function rr(){let t=Vi();for(;null!==t&&64===t.type;)t=t.parent;return t}function Vi(){return Yt.lFrame.currentTNode}function Ai(t,r){const s=Yt.lFrame;s.currentTNode=t,s.isParent=r}function as(){return Yt.lFrame.isParent}function vi(){const t=Yt.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function zs(){return Yt.lFrame.bindingIndex++}function Wa(t,r){const s=Yt.lFrame;s.bindingIndex=s.bindingRootIndex=t,Go(r)}function Go(t){Yt.lFrame.currentDirectiveIndex=t}function po(){return Yt.lFrame.currentQueryIndex}function Ho(t){Yt.lFrame.currentQueryIndex=t}function go(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Qs(t,r,s){if(s&Ht.SkipSelf){let l=r,c=t;for(;!(l=l.parent,null!==l||s&Ht.Host||(l=go(c),null===l||(c=c[15],10&l.type))););if(null===l)return!1;r=l,t=c}const a=Yt.lFrame=Ws();return a.currentTNode=r,a.lView=t,!0}function Js(t){const r=Ws(),s=t[1];Yt.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ws(){const t=Yt.lFrame,r=null===t?null:t.child;return null===r?mo(t):r}function mo(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function ca(){const t=Yt.lFrame;return Yt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const da=ca;function Ms(){const t=ca();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ji(){return Yt.lFrame.selectedIndex}function Xs(t){Yt.lFrame.selectedIndex=t}function Ur(){const t=Yt.lFrame;return sr(t.tView,t.selectedIndex)}function us(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const c=t.data[s].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:I,ngAfterViewInit:C,ngAfterViewChecked:F,ngOnDestroy:z}=c;y&&(t.contentHooks||(t.contentHooks=[])).push(-s,y),I&&((t.contentHooks||(t.contentHooks=[])).push(s,I),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,I)),C&&(t.viewHooks||(t.viewHooks=[])).push(-s,C),F&&((t.viewHooks||(t.viewHooks=[])).push(s,F),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,F)),null!=z&&(t.destroyHooks||(t.destroyHooks=[])).push(s,z)}}function To(t,r,s){bu(t,r,3,s)}function pa(t,r,s,a){(3&t[2])===s&&bu(t,r,s,a)}function Si(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function bu(t,r,s,a){const c=null!=a?a:-1,y=r.length-1;let I=0;for(let C=void 0!==a?65535&t[18]:0;C<y;C++)if("number"==typeof r[C+1]){if(I=r[C],null!=a&&I>=a)break}else r[C]<0&&(t[18]+=65536),(I<c||-1==c)&&(Wo(t,s,r,C),t[18]=(4294901760&t[18])+C+2),C++}function Wo(t,r,s,a){const l=s[a]<0,c=s[a+1],I=t[l?-s[a]:s[a]];if(l){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{c.call(I)}finally{}}}else try{c.call(I)}finally{}}class xs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function ga(t,r,s){const a=nr(t);let l=0;for(;l<s.length;){const c=s[l];if("number"==typeof c){if(0!==c)break;l++;const y=s[l++],I=s[l++],C=s[l++];a?t.setAttribute(r,I,C,y):r.setAttributeNS(y,I,C)}else{const y=c,I=s[++l];Pn(y)?a&&t.setProperty(r,y,I):a?t.setAttribute(r,y,I):r.setAttribute(y,I),l++}}return l}function nn(t){return 3===t||4===t||6===t}function Pn(t){return 64===t.charCodeAt(0)}function ma(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Wt(t,s,l,null,-1===s||2===s?r[++a]:null)}}return t}function Wt(t,r,s,a,l){let c=0,y=t.length;if(-1===r)y=-1;else for(;c<t.length;){const I=t[c++];if("number"==typeof I){if(I===r){y=-1;break}if(I>r){y=c-1;break}}}for(;c<t.length;){const I=t[c];if("number"==typeof I)break;if(I===s){if(null===a)return void(null!==l&&(t[c+1]=l));if(a===t[c+1])return void(t[c+2]=l)}c++,null!==a&&c++,null!==l&&c++}-1!==y&&(t.splice(y,0,r),c=y+1),t.splice(c++,0,s),null!==a&&t.splice(c++,0,a),null!==l&&t.splice(c++,0,l)}function st(t){return-1!==t}function vt(t){return 32767&t}function Zs(t,r){let s=function _i(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let ya=!0;function So(t){const r=ya;return ya=t,r}let Cu=0;function Mo(t,r){const s=qo(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,ci(a.data,t),ci(r,null),ci(a.blueprint,null));const l=b(t,r),c=t.injectorIndex;if(st(l)){const y=vt(l),I=Zs(l,r),C=I[1].data;for(let F=0;F<8;F++)r[c+F]=I[y+F]|C[y+F]}return r[c+8]=l,c}function ci(t,r){t.push(0,0,0,0,0,0,0,0,r)}function qo(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function b(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const c=l[1],y=c.type;if(a=2===y?c.declTNode:1===y?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function _(t,r,s){!function va(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(ee)&&(a=s[ee]),null==a&&(a=s[ee]=Cu++);const l=255&a;r.data[t+(l>>5)]|=1<<l}(t,r,s)}function M(t,r,s){if(s&Ht.Optional)return t;Fe(r,"NodeInjector")}function P(t,r,s,a){if(s&Ht.Optional&&void 0===a&&(a=null),0==(s&(Ht.Self|Ht.Host))){const l=t[9],c=an(void 0);try{return l?l.get(r,a,s&Ht.Optional):er(r,a,s&Ht.Optional)}finally{an(c)}}return M(a,r,s)}function B(t,r,s,a=Ht.Default,l){if(null!==t){const c=function yn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(ee)?t[ee]:void 0;return"number"==typeof r?r>=0?255&r:Te:r}(s);if("function"==typeof c){if(!Qs(r,t,a))return a&Ht.Host?M(l,s,a):P(r,s,a,l);try{const y=c(a);if(null!=y||a&Ht.Optional)return y;Fe(s)}finally{da()}}else if("number"==typeof c){let y=null,I=qo(t,r),C=-1,F=a&Ht.Host?r[16][6]:null;for((-1===I||a&Ht.SkipSelf)&&(C=-1===I?b(t,r):r[I+8],-1!==C&&cr(a,!1)?(y=r[1],I=vt(C),r=Zs(C,r)):I=-1);-1!==I;){const z=r[1];if(Fn(c,I,z.data)){const oe=lt(I,r,s,y,a,F);if(oe!==fe)return oe}C=r[I+8],-1!==C&&cr(a,r[1].data[I+8]===F)&&Fn(c,I,r)?(y=z,I=vt(C),r=Zs(C,r)):I=-1}}}return P(r,s,a,l)}const fe={};function Te(){return new Ei(rr(),he())}function lt(t,r,s,a,l,c){const y=r[1],I=y.data[t+8],z=Jt(I,y,s,null==a?vr(I)&&ya:a!=y&&0!=(3&I.type),l&Ht.Host&&c===I);return null!==z?Zt(r,y,z,I):fe}function Jt(t,r,s,a,l){const c=t.providerIndexes,y=r.data,I=1048575&c,C=t.directiveStart,z=c>>20,Me=l?I+z:t.directiveEnd;for(let We=a?I:I+z;We<Me;We++){const bt=y[We];if(We<C&&s===bt||We>=C&&bt.type===s)return We}if(l){const We=y[C];if(We&&Dr(We)&&We.type===s)return C}return null}function Zt(t,r,s,a){let l=t[s];const c=r.data;if(function qr(t){return t instanceof xs}(l)){const y=l;y.resolving&&function Ct(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new tt(-200,`Circular dependency in DI detected for ${t}${s}`)}(et(c[s]));const I=So(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?an(y.injectImpl):null;Qs(t,a,Ht.Default);try{l=t[s]=y.factory(void 0,c,t,a),r.firstCreatePass&&s>=a.directiveStart&&function fa(t,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:c}=r.type.prototype;if(a){const y=ti(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,y),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,y)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,l),c&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,c),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,c))}(s,c[s],r)}finally{null!==C&&an(C),So(I),y.resolving=!1,da()}}return l}function Fn(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function cr(t,r){return!(t&Ht.Self||t&Ht.Host&&r)}class Ei{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return B(this._tNode,this._lView,r,a,s)}}function Nr(t){return ut(()=>{const r=t.prototype.constructor,s=r[X]||vo(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const c=l[X]||vo(l);if(c&&c!==s)return c;l=Object.getPrototypeOf(l)}return c=>new c})}function vo(t){return Qe(t)?()=>{const r=vo(xe(t));return r&&r()}:ei(t)}function ds(t){return function v(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const c=s[l];if(nn(c))break;if(0===c)l+=2;else if("number"==typeof c)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(c===r)return s[l+1];l+=2}}}return null}(rr(),t)}const vs="__parameters__";function _a(t,r,s){return ut(()=>{const a=function Ko(t){return function(...s){if(t){const a=t(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...c){if(this instanceof l)return a.apply(this,c),this;const y=new l(...c);return I.annotation=y,I;function I(C,F,z){const oe=C.hasOwnProperty(vs)?C[vs]:Object.defineProperty(C,vs,{value:[]})[vs];for(;oe.length<=z;)oe.push(null);return(oe[z]=oe[z]||[]).push(y),C}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}class Br{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=qt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zl=new Br("AnalyzeForEntryComponents");function Ji(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),Ji(a,r)):r!==t&&r.push(a)}return r}function Os(t,r){t.forEach(s=>Array.isArray(s)?Os(s,r):r(s))}function Ka(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function to(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function fr(t,r,s){let a=Ro(t,r);return a>=0?t[1|a]=s:(a=~a,function Kl(t,r,s,a){let l=t.length;if(l==r)t.push(s,a);else if(1===l)t.push(a,t[0]),t[0]=s;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function wa(t,r){const s=Ro(t,r);if(s>=0)return t[1|s]}function Ro(t,r){return function Qa(t,r,s){let a=0,l=t.length>>s;for(;l!==a;){const c=a+(l-a>>1),y=t[c<<s];if(r===y)return c<<s;y>r?l=c:a=c+1}return~(l<<s)}(t,r,1)}const No={},no="__NG_DI_FLAG__",Su="ngTempTokenPath",Po=/\n/gm,Da="__source",Mu=we({provide:String,useValue:we});let ro;function xu(t){const r=ro;return ro=t,r}function gl(t,r=Ht.Default){if(void 0===ro)throw new tt(203,"");return null===ro?er(t,void 0,r):ro.get(t,r&Ht.Optional?null:void 0,r)}function $(t,r=Ht.Default){return(function Cn(){return Er}()||gl)(xe(t),r)}const U=$;function ve(t){const r=[];for(let s=0;s<t.length;s++){const a=xe(t[s]);if(Array.isArray(a)){if(0===a.length)throw new tt(900,"");let l,c=Ht.Default;for(let y=0;y<a.length;y++){const I=a[y],C=Xt(I);"number"==typeof C?-1===C?l=I.token:c|=C:l=I}r.push($(l,c))}else r.push($(a))}return r}function Xe(t,r){return t[no]=r,t.prototype[no]=r,t}function Xt(t){return t[no]}const Mr=Xe(_a("Inject",t=>({token:t})),-1),Pr=Xe(_a("Optional"),8),Es=Xe(_a("SkipSelf"),4);class _l{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ks(t){return t instanceof _l?t.changingThisBreaksApplicationSecurity:t}const xa=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var $i=(()=>(($i=$i||{})[$i.NONE=0]="NONE",$i[$i.HTML=1]="HTML",$i[$i.STYLE=2]="STYLE",$i[$i.SCRIPT=3]="SCRIPT",$i[$i.URL=4]="URL",$i[$i.RESOURCE_URL=5]="RESOURCE_URL",$i))();function ch(t){const r=function Ra(){const t=he();return t&&t[12]}();return r?r.sanitize($i.URL,t)||"":function Ma(t,r){const s=function lh(t){return t instanceof _l&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(t,"URL")?Ks(t):function p(t){return(t=String(t)).match(xa)||t.match(h)?t:"unsafe:"+t}(ce(t))}const Il="__ngContext__";function Is(t,r){t[Il]=r}function id(t){const r=function wl(t){return t[Il]||null}(t);return r?Array.isArray(r)?r:r.lView:null}function nu(t){return t.ngOriginalError}function Mm(t,...r){t.error(...r)}class od{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function Dl(t){return t&&t.ngErrorLogger||Mm}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&nu(r);for(;s&&nu(s);)s=nu(s);return s||null}}const Nm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(sn))();function ia(t){return t instanceof Function?t():t}var sa=(()=>((sa=sa||{})[sa.Important=1]="Important",sa[sa.DashCase=2]="DashCase",sa))();function gh(t,r){return undefined(t,r)}function dc(t){const r=t[3];return zt(r)?r[3]:r}function ud(t){return ct(t[13])}function ld(t){return ct(t[4])}function ct(t){for(;null!==t&&!zt(t);)t=t[4];return t}function Ps(t,r,s,a,l){if(null!=a){let c,y=!1;zt(a)?c=a:Rt(a)&&(y=!0,a=a[0]);const I=x(a);0===t&&null!==s?null==l?Bu(r,s,I):so(r,s,I,l||null,!0):1===t&&null!==s?so(r,s,I,l||null,!0):2===t?function xp(t,r,s){const a=Sl(t,r);a&&function Ap(t,r,s,a){nr(t)?t.removeChild(r,s,a):r.removeChild(s)}(t,a,r,s)}(r,I,y):3===t&&r.destroyNode(I),null!=c&&function ju(t,r,s,a,l){const c=s[7];c!==x(s)&&Ps(r,t,a,c,l);for(let I=10;I<s.length;I++){const C=s[I];pc(C[1],C,t,r,a,c)}}(r,t,c,s,l)}}function Eh(t,r,s){if(nr(t))return t.createElement(r,s);{const a=null!==s?function Ti(t){const r=t.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?t.createElement(r):t.createElementNS(a,r)}}function cd(t,r){const s=t[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,mn(l,-1)),s.splice(a,1)}function hc(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const l=a[17];null!==l&&l!==t&&cd(l,a),r>0&&(t[s-1][4]=a[4]);const c=to(t,10+r);!function Uu(t,r){pc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const y=c[19];null!==y&&y.detachView(c[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function Oa(t,r){if(!(256&r[2])){const s=r[11];nr(s)&&s.destroyNode&&pc(t,r,s,3,null,null),function Cp(t){let r=t[13];if(!r)return dd(t[1],t);for(;r;){let s=null;if(Rt(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Rt(r)&&dd(r[1],r),r=r[3];null===r&&(r=t),Rt(r)&&dd(r[1],r),s=r&&r[4]}r=s}}(r)}}function dd(t,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function Tp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof xs)){const c=s[a+1];if(Array.isArray(c))for(let y=0;y<c.length;y+=2){const I=l[c[y]],C=c[y+1];try{C.call(I)}finally{}}else try{c.call(l)}finally{}}}}(t,r),function Vm(t,r){const s=t.cleanup,a=r[7];let l=-1;if(null!==s)for(let c=0;c<s.length-1;c+=2)if("string"==typeof s[c]){const y=s[c+1],I="function"==typeof y?y(r):x(r[y]),C=a[l=s[c+2]],F=s[c+3];"boolean"==typeof F?I.removeEventListener(s[c],C,F):F>=0?a[l=F]():a[l=-F].unsubscribe(),c+=2}else{const y=a[l=s[c+1]];s[c].call(y)}if(null!==a){for(let c=l+1;c<a.length;c++)a[c]();r[7]=null}}(t,r),1===r[1].type&&nr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&zt(r[3])){s!==r[3]&&cd(s,r);const a=r[19];null!==a&&a.detachView(t)}}}function fc(t,r,s){return function ru(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=t.data[a.directiveStart].encapsulation;if(l===Ve.None||l===Ve.Emulated)return null}return wt(a,s)}(t,r.parent,s)}function so(t,r,s,a,l){nr(t)?t.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function Bu(t,r,s){nr(t)?t.appendChild(r,s):r.appendChild(s)}function Al(t,r,s,a,l){null!==a?so(t,r,s,a,l):Bu(t,r,s)}function Sl(t,r){return nr(t)?t.parentNode(r):r.parentNode}let Ch=function Sp(t,r,s){return 40&t.type?wt(t,s):null};function iu(t,r,s,a){const l=fc(t,a,r),c=r[11],I=function Dh(t,r,s){return Ch(t,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let C=0;C<s.length;C++)Al(c,l,s[C],I,!1);else Al(c,l,s,I,!1)}function oa(t,r){if(null!==r){const s=r.type;if(3&s)return wt(r,t);if(4&s)return pd(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return oa(t,a);{const l=t[r.index];return zt(l)?pd(-1,l):x(l)}}if(32&s)return gh(r,t)()||x(t[r.index]);{const a=Mp(t,r);return null!==a?Array.isArray(a)?a[0]:oa(dc(t[16]),a):oa(t,r.next)}}return null}function Mp(t,r){return null!==r?t[16][6].projection[r.projection]:null}function pd(t,r){const s=10+t+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return oa(a,l)}return r[7]}function Th(t,r,s,a,l,c,y){for(;null!=s;){const I=a[s.index],C=s.type;if(y&&0===r&&(I&&Is(x(I),a),s.flags|=4),64!=(64&s.flags))if(8&C)Th(t,r,s.child,a,l,c,!1),Ps(r,t,l,I,c);else if(32&C){const F=gh(s,a);let z;for(;z=F();)Ps(r,t,l,z,c);Ps(r,t,l,I,c)}else 16&C?su(t,r,a,s,l,c):Ps(r,t,l,I,c);s=y?s.projectionNext:s.next}}function pc(t,r,s,a,l,c){Th(s,a,t.firstChild,r,l,c,!1)}function su(t,r,s,a,l,c){const y=s[16],C=y[6].projection[a.projection];if(Array.isArray(C))for(let F=0;F<C.length;F++)Ps(r,t,l,C[F],c);else Th(t,r,C,y[3],l,c,!0)}function Op(t,r,s){nr(t)?t.setAttribute(r,"style",s):r.style.cssText=s}function Ah(t,r,s){nr(t)?""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s):r.className=s}function gd(t,r,s){let a=t.length;for(;;){const l=t.indexOf(r,s);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const c=r.length;if(l+c===a||t.charCodeAt(l+c)<=32)return l}s=l+1}}const Np="ng-template";function Pp(t,r,s){let a=0;for(;a<t.length;){let l=t[a++];if(s&&"class"===l){if(l=t[a],-1!==gd(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<t.length&&"string"==typeof(l=t[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function Ml(t){return 4===t.type&&t.value!==Np}function md(t,r,s){return r===(4!==t.type||s?t.value:Np)}function yd(t,r,s){let a=4;const l=t.attrs||[],c=function xh(t){for(let r=0;r<t.length;r++)if(nn(t[r]))return r;return t.length}(l);let y=!1;for(let I=0;I<r.length;I++){const C=r[I];if("number"!=typeof C){if(!y)if(4&a){if(a=2|1&a,""!==C&&!md(t,C,s)||""===C&&1===r.length){if(wo(a))return!1;y=!0}}else{const F=8&a?C:r[++I];if(8&a&&null!==t.attrs){if(!Pp(t.attrs,F,s)){if(wo(a))return!1;y=!0}continue}const oe=Ys(8&a?"class":C,l,Ml(t),s);if(-1===oe){if(wo(a))return!1;y=!0;continue}if(""!==F){let Me;Me=oe>c?"":l[oe+1].toLowerCase();const We=8&a?Me:null;if(We&&-1!==gd(We,F,0)||2&a&&F!==Me){if(wo(a))return!1;y=!0}}}}else{if(!y&&!wo(a)&&!wo(C))return!1;if(y&&wo(C))continue;y=!1,a=C|1&a}}return wo(a)||y}function wo(t){return 0==(1&t)}function Ys(t,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let c=!1;for(;l<r.length;){const y=r[l];if(y===t)return l;if(3===y||6===y)c=!0;else{if(1===y||2===y){let I=r[++l];for(;"string"==typeof I;)I=r[++l];continue}if(4===y)break;if(0===y){l+=4;continue}}l+=c?1:2}return-1}return function kp(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function Mh(t,r,s=!1){for(let a=0;a<r.length;a++)if(yd(t,r[a],s))return!0;return!1}function $u(t,r){return t?":not("+r.trim()+")":r}function Fp(t){let r=t[0],s=1,a=2,l="",c=!1;for(;s<t.length;){let y=t[s];if("string"==typeof y)if(2&a){const I=t[++s];l+="["+y+(I.length>0?'="'+I+'"':"")+"]"}else 8&a?l+="."+y:4&a&&(l+=" "+y);else""!==l&&!wo(y)&&(r+=$u(c,l),l=""),a=y,c=c||!wo(a);s++}return""!==l&&(r+=$u(c,l)),r}const zn={};function Rh(t){Na(St(),he(),ji()+t,!1)}function Na(t,r,s,a){if(!a)if(3==(3&r[2])){const c=t.preOrderCheckHooks;null!==c&&To(r,c,s)}else{const c=t.preOrderHooks;null!==c&&pa(r,c,0,s)}Xs(s)}function xl(t,r){return t<<17|r<<2}function bo(t){return t>>17&32767}function Oh(t){return 2|t}function Pa(t){return(131068&t)>>2}function Rl(t,r){return-131069&t|r<<2}function Ph(t){return 1|t}function Wp(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],c=s[a+1];if(-1!==c){const y=t.data[c];Ho(l),y.contentQueries(2,r[c],c)}}}function Nl(t,r,s,a,l,c,y,I,C,F){const z=r.blueprint.slice();return z[0]=l,z[2]=140|a,jt(z),z[3]=z[15]=t,z[8]=s,z[10]=y||t&&t[10],z[11]=I||t&&t[11],z[12]=C||t&&t[12]||null,z[9]=F||t&&t[9]||null,z[6]=c,z[16]=2==r.type?t[16]:z,z}function Hu(t,r,s,a,l){let c=t.data[r];if(null===c)c=function Ic(t,r,s,a,l){const c=Vi(),y=as(),C=t.data[r]=function Xh(t,r,s,a,l,c){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?c:c&&c.parent,s,r,a,l);return null===t.firstChild&&(t.firstChild=C),null!==c&&(y?null==c.child&&null!==C.parent&&(c.child=C):null===c.next&&(c.next=C)),C}(t,r,s,a,l),function la(){return Yt.lFrame.inI18n}()&&(c.flags|=64);else if(64&c.type){c.type=s,c.value=a,c.attrs=l;const y=function Ui(){const t=Yt.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();c.injectorIndex=null===y?-1:y.injectorIndex}return Ai(c,!0),c}function Fa(t,r,s,a){if(0===s)return-1;const l=r.length;for(let c=0;c<s;c++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function La(t,r,s){Js(r);try{const a=t.viewQuery;null!==a&&Cc(1,a,s);const l=t.template;null!==l&&wd(t,r,l,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Wp(t,r),t.staticViewQueries&&Cc(2,t.viewQuery,s);const c=t.components;null!==c&&function Kh(t,r){for(let s=0;s<r.length;s++)af(t,r[s])}(r,c)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,Ms()}}function Va(t,r,s,a){const l=r[2];if(256!=(256&l)){Js(r);try{jt(r),function Ss(t){return Yt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&wd(t,r,s,2,a);const y=3==(3&l);if(y){const F=t.preOrderCheckHooks;null!==F&&To(r,F,null)}else{const F=t.preOrderHooks;null!==F&&pa(r,F,0,null),Si(r,0)}if(function rg(t){for(let r=ud(t);null!==r;r=ld(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],c=l[3];0==(1024&l[2])&&mn(c,1),l[2]|=1024}}}(r),function ty(t){for(let r=ud(t);null!==r;r=ld(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];Ce(a)&&Va(l,a,l.template,a[8])}}(r),null!==t.contentQueries&&Wp(t,r),y){const F=t.contentCheckHooks;null!==F&&To(r,F)}else{const F=t.contentHooks;null!==F&&pa(r,F,1),Si(r,1)}!function Wm(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)Xs(~l);else{const c=l,y=s[++a],I=s[++a];Wa(y,c),I(2,r[c])}}}finally{Xs(-1)}}(t,r);const I=t.components;null!==I&&function Zm(t,r){for(let s=0;s<r.length;s++)ig(t,r[s])}(r,I);const C=t.viewQuery;if(null!==C&&Cc(2,C,a),y){const F=t.viewCheckHooks;null!==F&&To(r,F)}else{const F=t.viewHooks;null!==F&&pa(r,F,2),Si(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-73,1024&r[2]&&(r[2]&=-1025,mn(r[3],-1))}finally{Ms()}}}function Yh(t,r,s,a){const l=r[10],y=Y(r);try{!y&&l.begin&&l.begin(),y&&La(t,r,a),Va(t,r,s,a)}finally{!y&&l.end&&l.end()}}function wd(t,r,s,a,l){const c=ji(),y=2&a;try{Xs(-1),y&&r.length>20&&Na(t,r,20,!1),s(a,l)}finally{Xs(c)}}function Dd(t,r,s){!A()||(function tf(t,r,s,a){const l=s.directiveStart,c=s.directiveEnd;t.firstCreatePass||Mo(s,r),Is(a,r);const y=s.initialInputs;for(let I=l;I<c;I++){const C=t.data[I],F=Dr(C);F&&sf(r,s,C);const z=Zt(r,t,I,s);Is(z,r),null!==y&&eg(0,I-l,z,C,0,y),F&&(K(s.index,r)[8]=z)}}(t,r,s,wt(s,r)),128==(128&s.flags)&&function nf(t,r,s){const a=s.directiveStart,l=s.directiveEnd,y=s.index,I=function Co(){return Yt.lFrame.currentDirectiveIndex}();try{Xs(y);for(let C=a;C<l;C++){const F=t.data[C],z=r[C];Go(C),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&Ua(F,z)}}finally{Xs(-1),Go(I)}}(t,r,s))}function Qh(t,r,s=wt){const a=r.localNames;if(null!==a){let l=r.index+1;for(let c=0;c<a.length;c+=2){const y=a[c+1],I=-1===y?s(r,t):t[y];t[l++]=I}}}function Jh(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Cd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function Cd(t,r,s,a,l,c,y,I,C,F){const z=20+a,oe=z+l,Me=function qm(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:zn);return s}(z,oe),We="function"==typeof F?F():F;return Me[1]={type:t,blueprint:Me,template:s,queries:null,viewQuery:I,declTNode:r,data:Me.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:We,incompleteFirstPass:!1}}function Pl(t,r,s,a){const l=xd(r);null===s?l.push(a):(l.push(s),t.firstCreatePass&&Zu(t).push(a,l.length-1))}function ef(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const l=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function oo(t,r,s,a,l,c,y,I){const C=wt(r,s);let z,F=r.inputs;!I&&null!=F&&(z=F[a])?(Ku(t,s,z,a,l),vr(r)&&function Jm(t,r){const s=K(r,t);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Qm(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=y?y(l,r.value||"",a):l,nr(c)?c.setProperty(C,a,l):Pn(a)||(C.setProperty?C.setProperty(a,l):C[a]=l))}function Wu(t,r,s,a){let l=!1;if(A()){const c=function Qp(t,r,s){const a=t.directiveRegistry;let l=null;if(a)for(let c=0;c<a.length;c++){const y=a[c];Mh(s,y.selectors,!1)&&(l||(l=[]),_(Mo(s,r),t,y.type),Dr(y)?(Jp(t,s),l.unshift(y)):l.push(y))}return l}(t,r,s),y=null===a?null:{"":-1};if(null!==c){l=!0,Md(s,t.data.length,c.length);for(let z=0;z<c.length;z++){const oe=c[z];oe.providersResolver&&oe.providersResolver(oe)}let I=!1,C=!1,F=Fa(t,r,c.length,null);for(let z=0;z<c.length;z++){const oe=c[z];s.mergedAttrs=ma(s.mergedAttrs,oe.hostAttrs),Xp(t,s,r,F,oe),ey(F,oe,y),null!==oe.contentQueries&&(s.flags|=8),(null!==oe.hostBindings||null!==oe.hostAttrs||0!==oe.hostVars)&&(s.flags|=128);const Me=oe.type.prototype;!I&&(Me.ngOnChanges||Me.ngOnInit||Me.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),I=!0),!C&&(Me.ngOnChanges||Me.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),C=!0),F++}!function Ym(t,r){const a=r.directiveEnd,l=t.data,c=r.attrs,y=[];let I=null,C=null;for(let F=r.directiveStart;F<a;F++){const z=l[F],oe=z.inputs,Me=null===c||Ml(r)?null:kl(oe,c);y.push(Me),I=ef(oe,F,I),C=ef(z.outputs,F,C)}null!==I&&(I.hasOwnProperty("class")&&(r.flags|=16),I.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=y,r.inputs=I,r.outputs=C}(t,s)}y&&function rf(t,r,s){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const c=s[r[l+1]];if(null==c)throw new tt(-301,!1);a.push(r[l],c)}}}(s,a,y)}return s.mergedAttrs=ma(s.mergedAttrs,s.attrs),l}function Sd(t,r,s,a,l,c){const y=c.hostBindings;if(y){let I=t.hostBindingOpCodes;null===I&&(I=t.hostBindingOpCodes=[]);const C=~r.index;(function Yp(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(I)!=C&&I.push(C),I.push(a,l,y)}}function Ua(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Jp(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function ey(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Dr(r)&&(s[""]=t)}}function Md(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Xp(t,r,s,a,l){t.data[a]=l;const c=l.factory||(l.factory=ei(l.type)),y=new xs(c,Dr(l),null);t.blueprint[a]=y,s[a]=y,Sd(t,r,0,a,Fa(t,s,l.hostVars,zn),l)}function sf(t,r,s){const a=wt(r,t),l=Jh(s),c=t[10],y=Fl(t,Nl(t,l,null,s.onPush?64:16,a,r,c,c.createRenderer(a,s),null,null));t[r.index]=y}function ao(t,r,s,a,l,c){const y=wt(t,r);!function bc(t,r,s,a,l,c,y){if(null==c)nr(t)?t.removeAttribute(r,l,s):r.removeAttribute(l);else{const I=null==y?ce(c):y(c,a||"",l);nr(t)?t.setAttribute(r,l,I,s):s?r.setAttributeNS(s,l,I):r.setAttribute(l,I)}}(r[11],y,c,t.value,s,a,l)}function eg(t,r,s,a,l,c){const y=c[r];if(null!==y){const I=a.setInput;for(let C=0;C<y.length;){const F=y[C++],z=y[C++],oe=y[C++];null!==I?a.setInput(s,oe,F,z):s[z]=oe}}}function kl(t,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;t.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,t[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function ng(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function ig(t,r){const s=K(r,t);if(Ce(s)){const a=s[1];80&s[2]?Va(a,s,a.template,s[8]):s[5]>0&&of(s)}}function of(t){for(let a=ud(t);null!==a;a=ld(a))for(let l=10;l<a.length;l++){const c=a[l];if(1024&c[2]){const y=c[1];Va(y,c,y.template,c[8])}else c[5]>0&&of(c)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=K(s[a],t);Ce(l)&&l[5]>0&&of(l)}}function af(t,r){const s=K(r,t),a=s[1];(function ny(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),La(a,s,s[8])}function Fl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function uf(t){for(;t;){t[2]|=64;const r=dc(t);if(Pi(t)&&!r)return t;t=r}return null}function df(t){!function cf(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=id(s),l=a[1];Yh(l,a,l.template,s)}}(t[8])}function Cc(t,r,s){Ho(0),r(t,s)}const lu=(()=>Promise.resolve(null))();function xd(t){return t[7]||(t[7]=[])}function Zu(t){return t.cleanup||(t.cleanup=[])}function hf(t,r){const s=t[9],a=s?s.get(od,null):null;a&&a.handleError(r)}function Ku(t,r,s,a,l){for(let c=0;c<s.length;){const y=s[c++],I=s[c++],C=r[y],F=t.data[y];null!==F.setInput?F.setInput(C,l,a,I):C[I]=l}}function Ba(t,r,s){const a=it(r,t);!function Tl(t,r,s){nr(t)?t.setValue(r,s):r.textContent=s}(t[11],a,s)}function Rd(t,r,s){let a=s?t.styles:null,l=s?t.classes:null,c=0;if(null!==r)for(let y=0;y<r.length;y++){const I=r[y];"number"==typeof I?c=I:1==c?l=Ie(l,I):2==c&&(a=Ie(a,I+": "+r[++y]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=l:t.classesWithoutHost=l}const Ac=new Br("INJECTOR",-1);class ug{get(r,s=No){if(s===No){const a=new Error(`NullInjectorError: No provider for ${re(r)}!`);throw a.name="NullInjectorError",a}return s}}const gf=new Br("Set Injector scope."),Yu={},mf={};let yf;function vf(){return void 0===yf&&(yf=new ug),yf}function lg(t,r=null,s=null,a){const l=_f(t,r,s,a);return l._resolveInjectorDefTypes(),l}function _f(t,r=null,s=null,a){return new cg(t,s,r||vf(),a)}class cg{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const c=[];s&&Os(s,I=>this.processProvider(I,r,s)),Os([r],I=>this.processInjectorType(I,[],c)),this.records.set(Ac,Ll(void 0,this));const y=this.records.get(gf);this.scope=null!=y?y.value:null,this.source=l||("object"==typeof r?null:re(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=No,a=Ht.Default){this.assertNotDestroyed();const l=xu(this),c=an(void 0);try{if(!(a&Ht.SkipSelf)){let I=this.records.get(r);if(void 0===I){const C=function bf(t){return"function"==typeof t||"object"==typeof t&&t instanceof Br}(r)&&pn(r);I=C&&this.injectableDefInScope(C)?Ll(Od(r),Yu):null,this.records.set(r,I)}if(null!=I)return this.hydrate(r,I)}return(a&Ht.Self?vf():this.parent).get(r,s=a&Ht.Optional&&s===No?null:s)}catch(y){if("NullInjectorError"===y.name){if((y[Su]=y[Su]||[]).unshift(re(r)),l)throw y;return function xn(t,r,s,a){const l=t[Su];throw r[Da]&&l.unshift(r[Da]),t.message=function Kn(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let l=re(r);if(Array.isArray(r))l=r.map(re).join(" -> ");else if("object"==typeof r){let c=[];for(let y in r)if(r.hasOwnProperty(y)){let I=r[y];c.push(y+":"+("string"==typeof I?JSON.stringify(I):re(I)))}l=`{${c.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${t.replace(Po,"\n  ")}`}("\n"+t.message,l,s,a),t.ngTokenPath=l,t[Su]=null,t}(y,r,"R3InjectorError",this.source)}throw y}finally{an(c),xu(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(re(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new tt(205,!1)}processInjectorType(r,s,a){if(!(r=xe(r)))return!1;let l=Ln(r);const c=null==l&&r.ngModule||void 0,y=void 0===c?r:c,I=-1!==a.indexOf(y);if(void 0!==c&&(l=Ln(c)),null==l)return!1;if(null!=l.imports&&!I){let z;a.push(y);try{Os(l.imports,oe=>{this.processInjectorType(oe,s,a)&&(void 0===z&&(z=[]),z.push(oe))})}finally{}if(void 0!==z)for(let oe=0;oe<z.length;oe++){const{ngModule:Me,providers:We}=z[oe];Os(We,bt=>this.processProvider(bt,Me,We||se))}}this.injectorDefTypes.add(y);const C=ei(y)||(()=>new y);this.records.set(y,Ll(C,Yu));const F=l.providers;if(null!=F&&!I){const z=r;Os(F,oe=>this.processProvider(oe,z,F))}return void 0!==c&&void 0!==r.providers}processProvider(r,s,a){let l=cu(r=xe(r))?r:xe(r&&r.provide);const c=function ry(t,r,s){return fg(t)?Ll(void 0,t.useValue):Ll(hg(t),Yu)}(r);if(cu(r)||!0!==r.multi)this.records.get(l);else{let y=this.records.get(l);y||(y=Ll(void 0,Yu,!0),y.factory=()=>ve(y.multi),this.records.set(l,y)),l=r,y.multi.push(r)}this.records.set(l,c)}hydrate(r,s){return s.value===Yu&&(s.value=mf,s.value=s.factory()),"object"==typeof s.value&&s.value&&function sy(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=xe(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function Od(t){const r=pn(t),s=null!==r?r.factory:ei(t);if(null!==s)return s;if(t instanceof Br)throw new tt(204,!1);if(t instanceof Function)return function dg(t){const r=t.length;if(r>0)throw function Ia(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}(r,"?"),new tt(204,!1);const s=function kn(t){const r=t&&(t[qn]||t[tn]);if(r){const s=function _n(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new tt(204,!1)}function hg(t,r,s){let a;if(cu(t)){const l=xe(t);return ei(l)||Od(l)}if(fg(t))a=()=>xe(t.useValue);else if(function If(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...ve(t.deps||[]));else if(function Ef(t){return!(!t||!t.useExisting)}(t))a=()=>$(xe(t.useExisting));else{const l=xe(t&&(t.useClass||t.provide));if(!function wf(t){return!!t.deps}(t))return ei(l)||Od(l);a=()=>new l(...ve(t.deps))}return a}function Ll(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function fg(t){return null!==t&&"object"==typeof t&&Mu in t}function cu(t){return"function"==typeof t}let Lo=(()=>{class t{static create(s,a){var l;if(Array.isArray(s))return lg({name:""},a,s,"");{const c=null!==(l=s.name)&&void 0!==l?l:"";return lg({name:c},s.parent,s.providers,c)}}}return t.THROW_IF_NOT_FOUND=No,t.NULL=new ug,t.\u0275prov=qt({token:t,providedIn:"any",factory:()=>$(Ac)}),t.__NG_ELEMENT_ID__=-1,t})();function Af(t,r){us(id(t)[1],rr())}function Ud(t){let r=function Vd(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let l;if(Dr(t))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new tt(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const y=t;y.inputs=Bd(t.inputs),y.declaredInputs=Bd(t.declaredInputs),y.outputs=Bd(t.outputs);const I=l.hostBindings;I&&Mf(t,I);const C=l.viewQuery,F=l.contentQueries;if(C&&uy(t,C),F&&ly(t,F),ge(t.inputs,l.inputs),ge(t.declaredInputs,l.declaredInputs),ge(t.outputs,l.outputs),Dr(l)&&l.data.animation){const z=t.data;z.animation=(z.animation||[]).concat(l.data.animation)}}const c=l.features;if(c)for(let y=0;y<c.length;y++){const I=c[y];I&&I.ngInherit&&I(t),I===Ud&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Sf(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const l=t[a];l.hostVars=r+=l.hostVars,l.hostAttrs=ma(l.hostAttrs,s=ma(s,l.hostAttrs))}}(a)}function Bd(t){return t===dn?{}:t===se?[]:t}function uy(t,r){const s=t.viewQuery;t.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function ly(t,r){const s=t.contentQueries;t.contentQueries=s?(a,l,c)=>{r(a,l,c),s(a,l,c)}:r}function Mf(t,r){const s=t.hostBindings;t.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Ul=null;function Bl(){if(!Ul){const t=sn.Symbol;if(t&&t.iterator)Ul=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Ul=a)}}}return Ul}function jl(t){return!!jd(t)&&(Array.isArray(t)||!(t instanceof Map)&&Bl()in t)}function jd(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function uo(t,r,s){return t[r]=s}function ks(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function Rc(t,r,s,a){const l=he();return ks(l,zs(),r)&&(St(),ao(Ur(),l,t,r,s,a)),Rc}function du(t,r,s,a){return ks(t,zs(),s)?r+ce(s)+a:zn}function Mg(t,r,s,a,l,c,y,I){const C=he(),F=St(),z=t+20,oe=F.firstCreatePass?function hy(t,r,s,a,l,c,y,I,C){const F=r.consts,z=Hu(r,t,4,y||null,It(F,I));Wu(r,s,z,It(F,C)),us(r,z);const oe=z.tViews=Cd(2,z,a,l,c,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F);return null!==r.queries&&(r.queries.template(r,z),oe.queries=r.queries.embeddedTView(z)),z}(z,F,C,r,s,a,l,c,y):F.data[z];Ai(oe,!1);const Me=C[11].createComment("");iu(F,C,Me,oe),Is(Me,C),Fl(C,C[z]=ng(Me,C,Me,oe)),Gn(oe)&&Dd(F,C,oe),null!=y&&Qh(C,oe,I)}function Uo(t,r=Ht.Default){const s=he();return null===s?$(t,r):B(rr(),s,xe(t),r)}function Pc(){throw new Error("invalid")}function jf(t,r,s){const a=he();return ks(a,zs(),r)&&oo(St(),Ur(),a,t,r,a[11],s,!1),jf}function $f(t,r,s,a,l){const y=l?"class":"style";Ku(t,s,r.inputs[y],y,a)}function kc(t,r,s,a){const l=he(),c=St(),y=20+t,I=l[11],C=l[y]=Eh(I,r,function zl(){return Yt.lFrame.currentNamespace}()),F=c.firstCreatePass?function Ug(t,r,s,a,l,c,y){const I=r.consts,F=Hu(r,t,2,l,It(I,c));return Wu(r,s,F,It(I,y)),null!==F.attrs&&Rd(F,F.attrs,!1),null!==F.mergedAttrs&&Rd(F,F.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,F),F}(y,c,l,0,r,s,a):c.data[y];Ai(F,!0);const z=F.mergedAttrs;null!==z&&ga(I,C,z);const oe=F.classes;null!==oe&&Ah(I,C,oe);const Me=F.styles;return null!==Me&&Op(I,C,Me),64!=(64&F.flags)&&iu(c,l,C,F),0===function mr(){return Yt.lFrame.elementDepthCount}()&&Is(C,l),function Vn(){Yt.lFrame.elementDepthCount++}(),Gn(F)&&(Dd(c,l,F),function bd(t,r,s){if(Jn(r)){const l=r.directiveEnd;for(let c=r.directiveStart;c<l;c++){const y=t.data[c];y.contentQueries&&y.contentQueries(1,s[c],c)}}}(c,F,l)),null!==a&&Qh(l,F),kc}function rl(){let t=rr();as()?function Hs(){Yt.lFrame.isParent=!1}():(t=t.parent,Ai(t,!1));const r=t;!function O(){Yt.lFrame.elementDepthCount--}();const s=St();return s.firstCreatePass&&(us(s,t),Jn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function cl(t){return 0!=(16&t.flags)}(r)&&$f(s,r,he(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Vt(t){return 0!=(32&t.flags)}(r)&&$f(s,r,he(),r.stylesWithoutHost,!1),rl}function Gf(t,r,s,a){return kc(t,r,s,a),rl(),Gf}function Bg(){return he()}function Hf(t){return!!t&&"function"==typeof t.then}function jg(t){return!!t&&"function"==typeof t.subscribe}const Kd=jg;function Fc(t,r,s,a){const l=he(),c=St(),y=rr();return function Wf(t,r,s,a,l,c,y,I){const C=Gn(a),z=t.firstCreatePass&&Zu(t),oe=r[8],Me=xd(r);let We=!0;if(3&a.type||I){const rn=wt(a,r),In=I?I(rn):rn,Ot=Me.length,Un=I?Ar=>I(x(Ar[a.index])):a.index;if(nr(s)){let Ar=null;if(!I&&C&&(Ar=function sl(t,r,s,a){const l=t.cleanup;if(null!=l)for(let c=0;c<l.length-1;c+=2){const y=l[c];if(y===s&&l[c+1]===a){const I=r[7],C=l[c+2];return I.length>C?I[C]:null}"string"==typeof y&&(c+=2)}return null}(t,r,l,a.index)),null!==Ar)(Ar.__ngLastListenerFn__||Ar).__ngNextListenerFn__=c,Ar.__ngLastListenerFn__=c,We=!1;else{c=Lc(a,r,oe,c,!1);const Wr=s.listen(In,l,c);Me.push(c,Wr),z&&z.push(l,Un,Ot,Ot+1)}}else c=Lc(a,r,oe,c,!0),In.addEventListener(l,c,y),Me.push(c),z&&z.push(l,Un,Ot,y)}else c=Lc(a,r,oe,c,!1);const bt=a.outputs;let Gt;if(We&&null!==bt&&(Gt=bt[l])){const rn=Gt.length;if(rn)for(let In=0;In<rn;In+=2){const jo=r[Gt[In]][Gt[In+1]].subscribe(c),zc=Me.length;Me.push(c,jo),z&&z.push(l,a.index,zc,-(zc+1))}}}(c,l,l[11],y,t,r,!!s,a),Fc}function Zf(t,r,s,a){try{return!1!==s(a)}catch(l){return hf(t,l),!1}}function Lc(t,r,s,a,l){return function c(y){if(y===Function)return a;const I=2&t.flags?K(t.index,r):r;0==(32&r[2])&&uf(I);let C=Zf(r,0,a,y),F=c.__ngNextListenerFn__;for(;F;)C=Zf(r,0,F,y)&&C,F=F.__ngNextListenerFn__;return l&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function Yd(t=1){return function Iu(t){return(Yt.lFrame.contextLView=function ha(t,r){for(;t>0;)r=r[15],t--;return r}(t,Yt.lFrame.contextLView))[8]}(t)}function Xd(t,r,s){return ol(t,"",r,"",s),Xd}function ol(t,r,s,a,l){const c=he(),y=du(c,r,s,a);return y!==zn&&oo(St(),Ur(),c,t,y,c[11],l,!1),ol}function zg(t,r,s,a,l){const c=t[s+1],y=null===r;let I=a?bo(c):Pa(c),C=!1;for(;0!==I&&(!1===C||y);){const z=t[I+1];xy(t[I],r)&&(C=!0,t[I+1]=a?Ph(z):Oh(z)),I=a?bo(z):Pa(z)}C&&(t[s+1]=a?Oh(c):Ph(c))}function xy(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Ro(t,r)>=0}function Bc(t,r){return function Bo(t,r,s,a){const l=he(),c=St(),y=function Bi(t){const r=Yt.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}(2);c.firstUpdatePass&&function nm(t,r,s,a){const l=t.data;if(null===l[s+1]){const c=l[ji()],y=function tm(t,r){return r>=t.expandoStartIndex}(t,s);(function im(t,r){return 0!=(t.flags&(r?16:32))})(c,a)&&null===r&&!y&&(r=!1),r=function Fy(t,r,s,a){const l=function Us(t){const r=Yt.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let c=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=jc(s=Yf(null,t,r,s,a),r.attrs,a),c=null);else{const y=r.directiveStylingLast;if(-1===y||t[y]!==l)if(s=Yf(l,t,r,s,a),null===c){let C=function Ly(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Pa(a))return t[bo(a)]}(t,r,a);void 0!==C&&Array.isArray(C)&&(C=Yf(null,t,r,C[1],a),C=jc(C,r.attrs,a),function Vy(t,r,s,a){t[bo(s?r.classBindings:r.styleBindings)]=a}(t,r,a,C))}else c=function Uy(t,r,s){let a;const l=r.directiveEnd;for(let c=1+r.directiveStylingLast;c<l;c++)a=jc(a,t[c].hostAttrs,s);return jc(a,r.attrs,s)}(t,r,a)}return void 0!==c&&(a?r.residualClasses=c:r.residualStyles=c),s}(l,c,r,a),function Uc(t,r,s,a,l,c){let y=c?r.classBindings:r.styleBindings,I=bo(y),C=Pa(y);t[a]=s;let z,F=!1;if(Array.isArray(s)){const oe=s;z=oe[1],(null===z||Ro(oe,z)>0)&&(F=!0)}else z=s;if(l)if(0!==C){const Me=bo(t[I+1]);t[a+1]=xl(Me,I),0!==Me&&(t[Me+1]=Rl(t[Me+1],a)),t[I+1]=function Bm(t,r){return 131071&t|r<<17}(t[I+1],a)}else t[a+1]=xl(I,0),0!==I&&(t[I+1]=Rl(t[I+1],a)),I=a;else t[a+1]=xl(C,0),0===I?I=a:t[C+1]=Rl(t[C+1],a),C=a;F&&(t[a+1]=Oh(t[a+1])),zg(t,z,a,!0),zg(t,z,a,!1),function My(t,r,s,a,l){const c=l?t.residualClasses:t.residualStyles;null!=c&&"string"==typeof r&&Ro(c,r)>=0&&(s[a+1]=Ph(s[a+1]))}(r,z,t,a,c),y=xl(I,C),c?r.classBindings=y:r.styleBindings=y}(l,c,r,s,y,a)}}(c,t,y,a),r!==zn&&ks(l,y,r)&&function ul(t,r,s,a,l,c,y,I){if(!(3&r.type))return;const C=t.data,F=C[I+1];th(function Nh(t){return 1==(1&t)}(F)?eh(C,r,s,l,Pa(F),y):void 0)||(th(c)||function Lp(t){return 2==(2&t)}(F)&&(c=eh(C,null,s,l,I,y)),function Rp(t,r,s,a,l){const c=nr(t);if(r)l?c?t.addClass(s,a):s.classList.add(a):c?t.removeClass(s,a):s.classList.remove(a);else{let y=-1===a.indexOf("-")?void 0:sa.DashCase;if(null==l)c?t.removeStyle(s,a,y):s.style.removeProperty(a);else{const I="string"==typeof l&&l.endsWith("!important");I&&(l=l.slice(0,-10),y|=sa.Important),c?t.setStyle(s,a,l,y):s.style.setProperty(a,l,I?"important":"")}}}(a,y,it(ji(),s),l,c))}(c,c.data[ji()],l,l[11],t,l[y+1]=function $y(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=re(Ks(t)))),t}(r,s),a,y)}(t,r,null,!0),Bc}function Yf(t,r,s,a,l){let c=null;const y=s.directiveEnd;let I=s.directiveStylingLast;for(-1===I?I=s.directiveStart:I++;I<y&&(c=r[I],a=jc(a,c.hostAttrs,l),c!==t);)I++;return null!==t&&(s.directiveStylingLast=I),a}function jc(t,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let c=0;c<r.length;c++){const y=r[c];"number"==typeof y?l=y:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fr(t,y,!!s||r[++c]))}return void 0===t?null:t}function eh(t,r,s,a,l,c){const y=null===r;let I;for(;l>0;){const C=t[l],F=Array.isArray(C),z=F?C[1]:C,oe=null===z;let Me=s[l+1];Me===zn&&(Me=oe?se:void 0);let We=oe?wa(Me,a):z===a?Me:void 0;if(F&&!th(We)&&(We=wa(C,a)),th(We)&&(I=We,y))return I;const bt=t[l+1];l=y?bo(bt):Pa(bt)}if(null!==r){let C=c?r.residualClasses:r.residualStyles;null!=C&&(I=wa(C,a))}return I}function th(t){return void 0!==t}function sm(t,r=""){const s=he(),a=St(),l=t+20,c=a.firstCreatePass?Hu(a,l,1,r,null):a.data[l],y=s[l]=function _h(t,r){return nr(t)?t.createText(r):t.createTextNode(r)}(s[11],r);iu(a,s,y,c),Ai(c,!1)}function Qf(t){return nh("",t,""),Qf}function nh(t,r,s){const a=he(),l=du(a,t,r,s);return l!==zn&&Ba(a,ji(),l),nh}const $c=void 0;var iE=["en",[["a","p"],["AM","PM"],$c],[["AM","PM"],$c,$c],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$c,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$c,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$c,"{1} 'at' {0}",$c],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function rE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let rh={};function zy(t){const r=function sE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=a_(r);if(s)return s;const a=r.split("-")[0];if(s=a_(a),s)return s;if("en"===a)return iE;throw new Error(`Missing locale data for the locale "${t}".`)}function o_(t){return zy(t)[Hn.PluralCase]}function a_(t){return t in rh||(rh[t]=sn.ng&&sn.ng.common&&sn.ng.common.locales&&sn.ng.common.locales[t]),rh[t]}var Hn=(()=>((Hn=Hn||{})[Hn.LocaleId=0]="LocaleId",Hn[Hn.DayPeriodsFormat=1]="DayPeriodsFormat",Hn[Hn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Hn[Hn.DaysFormat=3]="DaysFormat",Hn[Hn.DaysStandalone=4]="DaysStandalone",Hn[Hn.MonthsFormat=5]="MonthsFormat",Hn[Hn.MonthsStandalone=6]="MonthsStandalone",Hn[Hn.Eras=7]="Eras",Hn[Hn.FirstDayOfWeek=8]="FirstDayOfWeek",Hn[Hn.WeekendRange=9]="WeekendRange",Hn[Hn.DateFormat=10]="DateFormat",Hn[Hn.TimeFormat=11]="TimeFormat",Hn[Hn.DateTimeFormat=12]="DateTimeFormat",Hn[Hn.NumberSymbols=13]="NumberSymbols",Hn[Hn.NumberFormats=14]="NumberFormats",Hn[Hn.CurrencyCode=15]="CurrencyCode",Hn[Hn.CurrencySymbol=16]="CurrencySymbol",Hn[Hn.CurrencyName=17]="CurrencyName",Hn[Hn.Currencies=18]="Currencies",Hn[Hn.Directionality=19]="Directionality",Hn[Hn.PluralCase=20]="PluralCase",Hn[Hn.ExtraData=21]="ExtraData",Hn))();const am="en-US";let u_=am;function qy(t,r,s,a,l){if(t=xe(t),Array.isArray(t))for(let c=0;c<t.length;c++)qy(t[c],r,s,a,l);else{const c=St(),y=he();let I=cu(t)?t:xe(t.provide),C=hg(t);const F=rr(),z=1048575&F.providerIndexes,oe=F.directiveStart,Me=F.providerIndexes>>20;if(cu(t)||!t.multi){const We=new xs(C,l,Uo),bt=Yy(I,r,l?z:z+Me,oe);-1===bt?(_(Mo(F,y),c,I),Ky(c,t,r.length),r.push(I),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),s.push(We),y.push(We)):(s[bt]=We,y[bt]=We)}else{const We=Yy(I,r,z+Me,oe),bt=Yy(I,r,z,z+Me),Gt=We>=0&&s[We],rn=bt>=0&&s[bt];if(l&&!rn||!l&&!Gt){_(Mo(F,y),c,I);const In=function rI(t,r,s,a,l){const c=new xs(t,s,Uo);return c.multi=[],c.index=r,c.componentProviders=0,O_(c,l,a&&!s),c}(l?nI:tI,s.length,l,a,C);!l&&rn&&(s[bt].providerFactory=In),Ky(c,t,r.length,0),r.push(I),F.directiveStart++,F.directiveEnd++,l&&(F.providerIndexes+=1048576),s.push(In),y.push(In)}else Ky(c,t,We>-1?We:bt,O_(s[l?bt:We],C,!l&&a));!l&&a&&rn&&s[bt].componentProviders++}}}function Ky(t,r,s,a){const l=cu(r),c=function iy(t){return!!t.useClass}(r);if(l||c){const C=(c?xe(r.useClass):r).prototype.ngOnDestroy;if(C){const F=t.destroyHooks||(t.destroyHooks=[]);if(!l&&r.multi){const z=F.indexOf(s);-1===z?F.push(s,[a,C]):F[z+1].push(a,C)}else F.push(s,C)}}}function O_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Yy(t,r,s,a){for(let l=s;l<a;l++)if(r[l]===t)return l;return-1}function tI(t,r,s,a){return Qy(this.multi,[])}function nI(t,r,s,a){const l=this.multi;let c;if(this.providerFactory){const y=this.providerFactory.componentProviders,I=Zt(s,s[1],this.providerFactory.index,a);c=I.slice(0,y),Qy(l,c);for(let C=y;C<I.length;C++)c.push(I[C])}else c=[],Qy(l,c);return c}function Qy(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function N_(t,r=[]){return s=>{s.providersResolver=(a,l)=>function eI(t,r,s){const a=St();if(a.firstCreatePass){const l=Dr(t);qy(s,a.data,a.blueprint,l,!0),qy(r,a.data,a.blueprint,l,!1)}}(a,l?l(t):t,r)}}class P_{}class oI{resolveComponentFactory(r){throw function sI(t){const r=Error(`No component factory found for ${re(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let hm=(()=>{class t{}return t.NULL=new oI,t})();function aI(){return sh(rr(),he())}function sh(t,r){return new rp(wt(t,r))}let rp=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=aI,t})();function uI(t){return t instanceof rp?t.nativeElement:t}class F_{}let lI=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function dI(){const t=he(),s=K(rr().index,t);return function cI(t){return t[11]}(Rt(s)?s:t)}(),t})(),hI=(()=>{class t{}return t.\u0275prov=qt({token:t,providedIn:"root",factory:()=>null}),t})();class L_{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const V_=new L_("13.3.9"),Jy={};function fm(t,r,s,a,l=!1){for(;null!==s;){const c=r[s.index];if(null!==c&&a.push(x(c)),zt(c))for(let I=10;I<c.length;I++){const C=c[I],F=C[1].firstChild;null!==F&&fm(C[1],C,F,a)}const y=s.type;if(8&y)fm(t,r,s.child,a);else if(32&y){const I=gh(s,r);let C;for(;C=I();)a.push(C)}else if(16&y){const I=Mp(r,s);if(Array.isArray(I))a.push(...I);else{const C=dc(r[16]);fm(C[1],C,I,a,!0)}}s=l?s.projectionNext:s.next}return a}class ip{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return fm(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(zt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(hc(r,a),to(s,a))}this._attachedToViewContainer=!1}Oa(this._lView[1],this._lView)}onDestroy(r){Pl(this._lView[1],this._lView,null,r)}markForCheck(){uf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Dc(t,r,s){const a=r[10];a.begin&&a.begin();try{Va(t,r,t.template,s)}catch(l){throw hf(r,l),l}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new tt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ih(t,r){pc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new tt(902,"");this._appRef=r}}class fI extends ip{constructor(r){super(r),this._view=r}detectChanges(){df(this._view)}checkNoChanges(){}get context(){return null}}class U_ extends hm{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=$t(r);return new Xy(s,this.ngModule)}}function B_(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Xy extends P_{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Gu(t){return t.map(Fp).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return B_(this.componentDef.inputs)}get outputs(){return B_(this.componentDef.outputs)}create(r,s,a,l){const c=(l=l||this.ngModule)?function gI(t,r){return{get:(s,a,l)=>{const c=t.get(s,Jy,l);return c!==Jy||a===Jy?c:r.get(s,a,l)}}}(r,l.injector):r,y=c.get(F_,R),I=c.get(hI,null),C=y.createRenderer(null,this.componentDef),F=this.componentDef.selectors[0][0]||"div",z=a?function wc(t,r,s){if(nr(t))return t.selectRootElement(r,s===Ve.ShadowDom);let a="string"==typeof r?t.querySelector(r):r;return a.textContent="",a}(C,a,this.componentDef.encapsulation):Eh(y.createRenderer(null,this.componentDef),F,function pI(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(F)),oe=this.componentDef.onPush?576:528,Me=function bg(t,r){return{components:[],scheduler:t||Nm,clean:lu,playerHandler:r||null,flags:0}}(),We=Cd(0,null,null,1,0,null,null,null,null,null),bt=Nl(null,We,Me,oe,null,null,y,C,I,c);let Gt,rn;Js(bt);try{const In=function wg(t,r,s,a,l,c){const y=s[1];s[20]=t;const C=Hu(y,20,2,"#host",null),F=C.mergedAttrs=r.hostAttrs;null!==F&&(Rd(C,F,!0),null!==t&&(ga(l,t,F),null!==C.classes&&Ah(l,t,C.classes),null!==C.styles&&Op(l,t,C.styles)));const z=a.createRenderer(t,r),oe=Nl(s,Jh(r),null,r.onPush?64:16,s[20],C,a,z,c||null,null);return y.firstCreatePass&&(_(Mo(C,s),y,r.type),Jp(y,C),Md(C,s.length,1)),Fl(s,oe),s[20]=oe}(z,this.componentDef,bt,y,C);if(z)if(a)ga(C,z,["ng-version",V_.full]);else{const{attrs:Ot,classes:Un}=function Um(t){const r=[],s=[];let a=1,l=2;for(;a<t.length;){let c=t[a];if("string"==typeof c)2===l?""!==c&&r.push(c,t[++a]):8===l&&s.push(c);else{if(!wo(l))break;l=c}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Ot&&ga(C,z,Ot),Un&&Un.length>0&&Ah(C,z,Un.join(" "))}if(rn=sr(We,20),void 0!==s){const Ot=rn.projection=[];for(let Un=0;Un<this.ngContentSelectors.length;Un++){const Ar=s[Un];Ot.push(null!=Ar?Array.from(Ar):null)}}Gt=function Ld(t,r,s,a,l){const c=s[1],y=function Ad(t,r,s){const a=rr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Xp(t,a,r,Fa(t,r,1,null),s));const l=Zt(r,t,a.directiveStart,a);Is(l,r);const c=wt(a,r);return c&&Is(c,r),l}(c,s,r);if(a.components.push(y),t[8]=y,l&&l.forEach(C=>C(y,r)),r.contentQueries){const C=rr();r.contentQueries(1,y,C.directiveStart)}const I=rr();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(Xs(I.index),Sd(s[1],I,0,I.directiveStart,I.directiveEnd,r),Ua(r,y)),y}(In,this.componentDef,bt,Me,[Af]),La(We,bt,null)}finally{Ms()}return new yI(this.componentType,Gt,sh(rn,bt),bt,rn)}}class yI extends class iI{}{constructor(r,s,a,l,c){super(),this.location=a,this._rootLView=l,this._tNode=c,this.instance=s,this.hostView=this.changeDetectorRef=new fI(l),this.componentType=r}get injector(){return new Ei(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class oh{}class j_{}const ah=new Map;class H_ extends oh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new U_(this);const a=wn(r);this._bootstrapComponents=ia(a.bootstrap),this._r3Injector=_f(r,s,[{provide:oh,useValue:this},{provide:hm,useValue:this.componentFactoryResolver}],re(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Lo.THROW_IF_NOT_FOUND,a=Ht.Default){return r===Lo||r===oh||r===Ac?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class ev extends j_{constructor(r){super(),this.moduleType=r,null!==wn(r)&&function _I(t){const r=new Set;!function s(a){const l=wn(a,!0),c=l.id;null!==c&&(function $_(t,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${t} - ${re(r)} vs ${re(r.name)}`)}(c,ah.get(c),a),ah.set(c,a));const y=ia(l.imports);for(const I of y)r.has(I)||(r.add(I),s(I))}(t)}(r)}create(r){return new H_(this.moduleType,r)}}function z_(t,r,s){const a=vi()+t,l=he();return l[a]===zn?uo(l,a,s?r.call(s):r()):function xc(t,r){return t[r]}(l,a)}function W_(t,r,s,a){return Z_(he(),vi(),t,r,s,a)}function Z_(t,r,s,a,l,c){const y=r+s;return ks(t,y,l)?uo(t,y+1,c?a.call(c,l):a(l)):function sp(t,r){const s=t[r];return s===zn?void 0:s}(t,y+1)}function J_(t,r){const s=St();let a;const l=t+20;s.firstCreatePass?(a=function SI(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const c=a.factory||(a.factory=ei(a.type)),y=an(Uo);try{const I=So(!1),C=c();return So(I),function fy(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,he(),l,C),C}finally{an(y)}}function X_(t,r,s){const a=t+20,l=he(),c=function or(t,r){return t[r]}(l,a);return function op(t,r){return t[1].data[r].pure}(l,a)?Z_(l,vi(),r,c.transform,s,c):c.transform(s)}function tv(t){return r=>{setTimeout(t,void 0,r)}}const Eu=class NI extends f.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,c,y;let I=r,C=s||(()=>null),F=a;if(r&&"object"==typeof r){const oe=r;I=null===(l=oe.next)||void 0===l?void 0:l.bind(oe),C=null===(c=oe.error)||void 0===c?void 0:c.bind(oe),F=null===(y=oe.complete)||void 0===y?void 0:y.bind(oe)}this.__isAsync&&(C=tv(C),I&&(I=tv(I)),F&&(F=tv(F)));const z=super.subscribe({next:I,error:C,complete:F});return r instanceof m.w0&&r.add(z),z}};function PI(){return this._results[Bl()]()}class nv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Bl(),a=nv.prototype;a[s]||(a[s]=PI)}get changes(){return this._changes||(this._changes=new Eu)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=Ji(r);(this._changesDetected=!function Qo(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],c=r[a];if(s&&(l=s(l),c=s(c)),c!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ap=(()=>{class t{}return t.__NG_ELEMENT_ID__=LI,t})();const kI=ap,FI=class extends kI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=Nl(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const c=this._declarationLView[19];return null!==c&&(a[19]=c.createEmbeddedView(s)),La(s,a,r),new ip(a)}};function LI(){return pm(rr(),he())}function pm(t,r){return 4&t.type?new FI(r,t,sh(t,r)):null}let gm=(()=>{class t{}return t.__NG_ELEMENT_ID__=VI,t})();function VI(){return n0(rr(),he())}const UI=gm,e0=class extends UI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new Ei(this._hostTNode,this._hostLView)}get parentInjector(){const r=b(this._hostTNode,this._hostLView);if(st(r)){const s=Zs(r,this._hostLView),a=vt(r);return new Ei(s[1].data[a+8],s)}return new Ei(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=t0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,c){const y=r&&!function Rs(t){return"function"==typeof t}(r);let I;if(y)I=s;else{const oe=s||{};I=oe.index,a=oe.injector,l=oe.projectableNodes,c=oe.ngModuleRef}const C=y?r:new Xy($t(r)),F=a||this.parentInjector;if(!c&&null==C.ngModule){const Me=(y?F:this.parentInjector).get(oh,null);Me&&(c=Me)}const z=C.create(F,l,void 0,c);return this.insert(z.hostView,I),z}insert(r,s){const a=r._lView,l=a[1];if(function ze(t){return zt(t[3])}(a)){const z=this.indexOf(r);if(-1!==z)this.detach(z);else{const oe=a[3],Me=new e0(oe,oe[6],oe[3]);Me.detach(Me.indexOf(r))}}const c=this._adjustIndex(s),y=this._lContainer;!function ps(t,r,s,a){const l=10+a,c=s.length;a>0&&(s[l-1][4]=r),a<c-10?(r[4]=s[l],Ka(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const y=r[17];null!==y&&s!==y&&function wh(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(y,r);const I=r[19];null!==I&&I.insertView(t),r[2]|=128}(l,a,y,c);const I=pd(c,y),C=a[11],F=Sl(C,y[7]);return null!==F&&function Dp(t,r,s,a,l,c){a[0]=l,a[6]=r,pc(t,a,s,1,l,c)}(l,y[6],C,a,F,I),r.attachToViewContainerRef(),Ka(rv(y),c,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=t0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=hc(this._lContainer,s);a&&(to(rv(this._lContainer),s),Oa(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=hc(this._lContainer,s);return a&&null!=to(rv(this._lContainer),s)?new ip(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function t0(t){return t[8]}function rv(t){return t[8]||(t[8]=[])}function n0(t,r){let s;const a=r[t.index];if(zt(a))s=a;else{let l;if(8&t.type)l=x(a);else{const c=r[11];l=c.createComment("");const y=wt(t,r);so(c,Sl(c,y),l,function bh(t,r){return nr(t)?t.nextSibling(r):r.nextSibling}(c,y),!1)}r[t.index]=s=ng(a,r,l,t),Fl(r,s)}return new e0(s,t,r)}class iv{constructor(r){this.queryList=r,this.matches=null}clone(){return new iv(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let c=0;c<a;c++){const y=s.getByIndex(c);l.push(this.queries[y.indexInDeclarationView].clone())}return new sv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==d0(r,s).matches&&this.queries[s].setDirty()}}class r0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class ov{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,c=this.getByIndex(a).embeddedTView(r,l);c&&(c.indexInDeclarationView=a,null!==s?s.push(c):s=[c])}return null!==s?new ov(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class av{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new av(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const c=a[l];this.matchTNodeWithReadOption(r,s,$I(s,c)),this.matchTNodeWithReadOption(r,s,Jt(s,r,c,!1,!1))}else a===ap?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Jt(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===rp||l===gm||l===ap&&4&s.type)this.addMatch(s.index,-2);else{const c=Jt(s,r,l,!1,!1);null!==c&&this.addMatch(s.index,c)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function $I(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function HI(t,r,s,a){return-1===s?function GI(t,r){return 11&t.type?sh(t,r):4&t.type?pm(t,r):null}(r,t):-2===s?function zI(t,r,s){return s===rp?sh(r,t):s===ap?pm(r,t):s===gm?n0(r,t):void 0}(t,r,a):Zt(t,t[1],s,r)}function s0(t,r,s,a){const l=r[19].queries[a];if(null===l.matches){const c=t.data,y=s.matches,I=[];for(let C=0;C<y.length;C+=2){const F=y[C];I.push(F<0?null:HI(r,c[F],y[C+1],s.metadata.read))}l.matches=I}return l.matches}function uv(t,r,s,a){const l=t.queries.getByIndex(s),c=l.matches;if(null!==c){const y=s0(t,r,l,s);for(let I=0;I<c.length;I+=2){const C=c[I];if(C>0)a.push(y[I/2]);else{const F=c[I+1],z=r[-C];for(let oe=10;oe<z.length;oe++){const Me=z[oe];Me[17]===Me[3]&&uv(Me[1],Me,F,a)}if(null!==z[9]){const oe=z[9];for(let Me=0;Me<oe.length;Me++){const We=oe[Me];uv(We[1],We,F,a)}}}}}return a}function o0(t){const r=he(),s=St(),a=po();Ho(a+1);const l=d0(s,a);if(t.dirty&&Y(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const c=l.crossesNgTemplate?uv(s,r,a,[]):s0(s,r,l,a);t.reset(c,uI),t.notifyOnChanges()}return!0}return!1}function a0(t,r,s,a){const l=St();if(l.firstCreatePass){const c=rr();(function c0(t,r,s){null===t.queries&&(t.queries=new ov),t.queries.track(new av(r,s))})(l,new r0(r,s,a),c.index),function qI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(l,t),2==(2&s)&&(l.staticContentQueries=!0)}!function l0(t,r,s){const a=new nv(4==(4&s));Pl(t,r,a,a.destroy),null===r[19]&&(r[19]=new sv),r[19].queries.push(new iv(a))}(l,he(),s)}function u0(){return function ZI(t,r){return t[19].queries[r].queryList}(he(),po())}function d0(t,r){return t.queries.getByIndex(r)}function vm(...t){}const S0=new Br("Application Initializer");let pv=(()=>{class t{constructor(s){this.appInits=s,this.resolve=vm,this.reject=vm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const c=this.appInits[l]();if(Hf(c))s.push(c);else if(Kd(c)){const y=new Promise((I,C)=>{c.subscribe({complete:I,error:C})});s.push(y)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)($(S0,8))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const M0=new Br("AppId",{providedIn:"root",factory:function x0(){return`${gv()}${gv()}${gv()}`}});function gv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const R0=new Br("Platform Initializer"),hw=new Br("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O0=new Br("appBootstrapListener");let fw=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const mv=new Br("LocaleId",{providedIn:"root",factory:()=>U(mv,Ht.Optional|Ht.SkipSelf)||function pw(){return"undefined"!=typeof $localize&&$localize.locale||am}()}),gw=new Br("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class mw{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let yw=(()=>{class t{compileModuleSync(s){return new ev(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),c=ia(wn(s).declarations).reduce((y,I)=>{const C=$t(I);return C&&y.push(new Xy(C)),y},[]);return new mw(a,c)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _w=(()=>Promise.resolve(0))();function yv(t){"undefined"==typeof Zone?_w.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ha{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Eu(!1),this.onMicrotaskEmpty=new Eu(!1),this.onStable=new Eu(!1),this.onError=new Eu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Ew(){let t=sn.requestAnimationFrame,r=sn.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function bw(t){const r=()=>{!function ww(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(sn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_v(t),t.isCheckStableRunning=!0,vv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_v(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,c,y,I)=>{try{return N0(t),s.invokeTask(l,c,y,I)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===c.type||t.shouldCoalesceRunChangeDetection)&&r(),P0(t)}},onInvoke:(s,a,l,c,y,I,C)=>{try{return N0(t),s.invoke(l,c,y,I,C)}finally{t.shouldCoalesceRunChangeDetection&&r(),P0(t)}},onHasTask:(s,a,l,c)=>{s.hasTask(l,c),a===l&&("microTask"==c.change?(t._hasPendingMicrotasks=c.microTask,_v(t),vv(t)):"macroTask"==c.change&&(t.hasPendingMacrotasks=c.macroTask))},onHandleError:(s,a,l,c)=>(s.handleError(l,c),t.runOutsideAngular(()=>t.onError.emit(c)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ha.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ha.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const c=this._inner,y=c.scheduleEventTask("NgZoneEvent: "+l,r,Iw,vm,vm);try{return c.runTask(y,s,a)}finally{c.cancelTask(y)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const Iw={};function vv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _v(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function N0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function P0(t){t._nesting--,vv(t)}class Dw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Eu,this.onMicrotaskEmpty=new Eu,this.onStable=new Eu,this.onError=new Eu}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let k0=(()=>{class t{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ha.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let c=-1;a&&a>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==c),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:c,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return t.\u0275fac=function(s){return new(s||t)($(Ha))},t.\u0275prov=qt({token:t,factory:t.\u0275fac}),t})(),Cw=(()=>{class t{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ev.findTestabilityInTree(this,s,a)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();class Tw{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function Aw(t){Ev=t}let Ev=new Tw,Gc=null;const F0=new Br("AllowMultipleToken"),L0=new Br("PlatformOnDestroy");class xw{constructor(r,s){this.name=r,this.token=s}}function V0(t,r,s=[]){const a=`Platform: ${r}`,l=new Br(a);return(c=[])=>{let y=Iv();if(!y||y.injector.get(F0,!1)){const I=[...s,...c,{provide:l,useValue:!0}];t?t(I):function Rw(t){if(Gc&&!Gc.get(F0,!1))throw new tt(400,"");Gc=t;const r=t.get(U0),s=t.get(R0,null);s&&s.forEach(a=>a())}(function Nw(t=[],r){return Lo.create({name:r,providers:[{provide:gf,useValue:"platform"},{provide:L0,useValue:()=>Gc=null},...t]})}(I,a))}return function Ow(t){const r=Iv();if(!r)throw new tt(401,"");return r}()}}function Iv(){var t;return null!==(t=null==Gc?void 0:Gc.get(U0))&&void 0!==t?t:null}let U0=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const I=function Pw(t,r){let s;return s="noop"===t?new Dw:("zone.js"===t?void 0:t)||new Ha({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),C=[{provide:Ha,useValue:I}];return I.run(()=>{const F=Lo.create({providers:C,parent:this.injector,name:s.moduleType.name}),z=s.create(F),oe=z.injector.get(od,null);if(!oe)throw new tt(402,"");return I.runOutsideAngular(()=>{const Me=I.onError.subscribe({next:We=>{oe.handleError(We)}});z.onDestroy(()=>{bv(this._modules,z),Me.unsubscribe()})}),function kw(t,r,s){try{const a=s();return Hf(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(oe,I,()=>{const Me=z.injector.get(pv);return Me.runInitializers(),Me.donePromise.then(()=>(function lE(t){Ut(t,"Expected localeId to be defined"),"string"==typeof t&&(u_=t.toLowerCase().replace(/_/g,"-"))}(z.injector.get(mv,am)||am),this._moduleDoBootstrap(z),z))})})}bootstrapModule(s,a=[]){const l=B0({},a);return function Sw(t,r,s){const a=new ev(s);return Promise.resolve(a)}(0,0,s).then(c=>this.bootstrapModuleFactory(c,l))}_moduleDoBootstrap(s){const a=s.injector.get(wv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new tt(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new tt(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(L0,null);null==s||s(),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)($(Lo))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function B0(t,r){return Array.isArray(r)?r.reduce(B0,t):Object.assign(Object.assign({},t),r)}let wv=(()=>{class t{constructor(s,a,l,c){this._zone=s,this._injector=a,this._exceptionHandler=l,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new W.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),I=new W.y(C=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{Ha.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const z=this._zone.onUnstable.subscribe(()=>{Ha.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{F.unsubscribe(),z.unsubscribe()}});this.isStable=(0,ie.T)(y,I.pipe((0,V.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new tt(405,"");let l;l=s instanceof P_?s:this._injector.get(hm).resolveComponentFactory(s),this.componentTypes.push(l.componentType);const c=function Mw(t){return t.isBoundToModule}(l)?void 0:this._injector.get(oh),I=l.create(Lo.NULL,[],a||l.selector,c),C=I.location.nativeElement,F=I.injector.get(k0,null),z=F&&I.injector.get(Cw);return F&&z&&z.registerApplication(C,F),I.onDestroy(()=>{this.detachView(I.hostView),bv(this.components,I),z&&z.unregisterApplication(C)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new tt(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;bv(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(O0,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(s){return new(s||t)($(Ha),$(Lo),$(od),$(pv))},t.\u0275prov=qt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function bv(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let $0=!0,G0=!1;function Lw(){return G0=!0,$0}function Vw(){if(G0)throw new Error("Cannot enable prod mode after platform setup.");$0=!1}let Uw=(()=>{class t{}return t.__NG_ELEMENT_ID__=Bw,t})();function Bw(t){return function jw(t,r,s){if(vr(t)&&!s){const a=K(t.index,r);return new ip(a,a)}return 47&t.type?new ip(r[16],r):null}(rr(),he(),16==(16&t))}class Z0{constructor(){}supports(r){return jl(r)}create(r){return new Zw(r)}}const Ww=(t,r)=>r;class Zw{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||Ww}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,c=null;for(;s||a;){const y=!a||s&&s.currentIndex<K0(a,l,c)?s:a,I=K0(y,l,c),C=y.currentIndex;if(y===a)l--,a=a._nextRemoved;else if(s=s._next,null==y.previousIndex)l++;else{c||(c=[]);const F=I-l,z=C-l;if(F!=z){for(let Me=0;Me<F;Me++){const We=Me<c.length?c[Me]:c[Me]=0,bt=We+Me;z<=bt&&bt<F&&(c[Me]=We+1)}c[y.previousIndex]=z-F}}I!==C&&r(y,I,C)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!jl(r))throw new tt(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,c,y,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let I=0;I<this.length;I++)c=r[I],y=this._trackByFn(I,c),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,c,y,I)),Object.is(s.item,c)||this._addIdentityChange(s,c)):(s=this._mismatch(s,c,y,I),a=!0),s=s._next}else l=0,function Of(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Bl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,I=>{y=this._trackByFn(l,I),null!==s&&Object.is(s.trackById,y)?(a&&(s=this._verifyReinsertion(s,I,y,l)),Object.is(s.item,I)||this._addIdentityChange(s,I)):(s=this._mismatch(s,I,y,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let c;return null===r?c=this._itTail:(c=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,c,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,c,l)):r=this._addAfter(new qw(s,a),c,l),r}_verifyReinsertion(r,s,a,l){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==c?r=this._reinsertAfter(c,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,c=r._nextRemoved;return null===l?this._removalsHead=c:l._nextRemoved=c,null===c?this._removalsTail=l:c._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new q0),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new q0),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class qw{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Kw{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class q0{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new Kw,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function K0(t,r,s){const a=t.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class Y0{constructor(){}supports(r){return r instanceof Map||jd(r)}create(){return new Yw}}class Yw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||jd(r)))throw new tt(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const c=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,c)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const c=l._prev,y=l._next;return c&&(c._next=y),y&&(y._prev=c),l._next=null,l._prev=null,l}const a=new Qw(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class Qw{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Q0(){return new Sv([new Z0])}let Sv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||Q0()),deps:[[t,new Es,new Pr]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new tt(901,"")}}return t.\u0275prov=qt({token:t,providedIn:"root",factory:Q0}),t})();function J0(){return new Mv([new Y0])}let Mv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||J0()),deps:[[t,new Es,new Pr]]}}find(s){const a=this.factories.find(c=>c.supports(s));if(a)return a;throw new tt(901,"")}}return t.\u0275prov=qt({token:t,providedIn:"root",factory:J0}),t})();const eb=V0(null,"core",[]);let tb=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)($(wv))},t.\u0275mod=ke({type:t}),t.\u0275inj=Kt({}),t})()},2382:(kt,Ue,S)=>{S.d(Ue,{Wl:()=>ce,Fj:()=>Ze,qu:()=>mr,u:()=>ti,sg:()=>Jr,u5:()=>Yt,JJ:()=>ye,JL:()=>De,YN:()=>lr,wV:()=>ki,UX:()=>hr,Q7:()=>q,EJ:()=>Zr,kI:()=>je,_Y:()=>Vs,Kr:()=>ms});var f=S(5e3),m=S(9808),W=S(8306),ie=S(4742),V=S(8421),we=S(7669),ge=S(5403),re=S(3268),Ie=S(1810),ue=S(8996),xe=S(4004);let Qe=(()=>{class O{constructor(T,Z){this._renderer=T,this._elementRef=Z,this.onChange=he=>{},this.onTouched=()=>{}}setProperty(T,Z){this._renderer.setProperty(this._elementRef.nativeElement,T,Z)}registerOnTouched(T){this.onTouched=T}registerOnChange(T){this.onChange=T}setDisabledState(T){this.setProperty("disabled",T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.Qsj),f.Y36(f.SBq))},O.\u0275dir=f.lG2({type:O}),O})(),Ge=(()=>{class O extends Qe{}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,features:[f.qOj]}),O})();const tt=new f.OlP("NgValueAccessor"),pt={provide:tt,useExisting:(0,f.Gpc)(()=>ce),multi:!0};let ce=(()=>{class O extends Ge{writeValue(T){this.setProperty("checked",T)}}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(T,Z){1&T&&f.NdJ("change",function(St){return Z.onChange(St.target.checked)})("blur",function(){return Z.onTouched()})},features:[f._Bn([pt]),f.qOj]}),O})();const et={provide:tt,useExisting:(0,f.Gpc)(()=>Ze),multi:!0},At=new f.OlP("CompositionEventMode");let Ze=(()=>{class O extends Qe{constructor(T,Z,he){super(T,Z),this._compositionMode=he,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ct(){const O=(0,m.q)()?(0,m.q)().getUserAgent():"";return/android (\d+)/.test(O.toLowerCase())}())}writeValue(T){this.setProperty("value",null==T?"":T)}_handleInput(T){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(T)}_compositionStart(){this._composing=!0}_compositionEnd(T){this._composing=!1,this._compositionMode&&this.onChange(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(At,8))},O.\u0275dir=f.lG2({type:O,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(T,Z){1&T&&f.NdJ("input",function(St){return Z._handleInput(St.target.value)})("blur",function(){return Z.onTouched()})("compositionstart",function(){return Z._compositionStart()})("compositionend",function(St){return Z._compositionEnd(St.target.value)})},features:[f._Bn([et]),f.qOj]}),O})();function Fe(O){return null==O||0===O.length}function qe(O){return null!=O&&"number"==typeof O.length}const Dt=new f.OlP("NgValidators"),le=new f.OlP("NgAsyncValidators"),Re=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class je{static min(A){return function de(O){return A=>{if(Fe(A.value)||Fe(O))return null;const T=parseFloat(A.value);return!isNaN(T)&&T<O?{min:{min:O,actual:A.value}}:null}}(A)}static max(A){return function Ne(O){return A=>{if(Fe(A.value)||Fe(O))return null;const T=parseFloat(A.value);return!isNaN(T)&&T>O?{max:{max:O,actual:A.value}}:null}}(A)}static required(A){return Be(A)}static requiredTrue(A){return function He(O){return!0===O.value?null:{required:!0}}(A)}static email(A){return function Le(O){return Fe(O.value)||Re.test(O.value)?null:{email:!0}}(A)}static minLength(A){return function gt(O){return A=>Fe(A.value)||!qe(A.value)?null:A.value.length<O?{minlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static maxLength(A){return function Pt(O){return A=>qe(A.value)&&A.value.length>O?{maxlength:{requiredLength:O,actualLength:A.value.length}}:null}(A)}static pattern(A){return function Bt(O){if(!O)return Ut;let A,T;return"string"==typeof O?(T="","^"!==O.charAt(0)&&(T+="^"),T+=O,"$"!==O.charAt(O.length-1)&&(T+="$"),A=new RegExp(T)):(T=O.toString(),A=O),Z=>{if(Fe(Z.value))return null;const he=Z.value;return A.test(he)?null:{pattern:{requiredPattern:T,actualValue:he}}}}(A)}static nullValidator(A){return null}static compose(A){return Kt(A)}static composeAsync(A){return Dn(A)}}function Be(O){return Fe(O.value)?{required:!0}:null}function Ut(O){return null}function Tt(O){return null!=O}function En(O){const A=(0,f.QGY)(O)?(0,ue.D)(O):O;return(0,f.CqO)(A),A}function Nn(O){let A={};return O.forEach(T=>{A=null!=T?Object.assign(Object.assign({},A),T):A}),0===Object.keys(A).length?null:A}function Tn(O,A){return A.map(T=>T(O))}function on(O){return O.map(A=>function qt(O){return!O.validate}(A)?A:T=>A.validate(T))}function Kt(O){if(!O)return null;const A=O.filter(Tt);return 0==A.length?null:function(T){return Nn(Tn(T,A))}}function pn(O){return null!=O?Kt(on(O)):null}function Dn(O){if(!O)return null;const A=O.filter(Tt);return 0==A.length?null:function(T){return function Q(...O){const A=(0,we.jO)(O),{args:T,keys:Z}=(0,ie.D)(O),he=new W.y(St=>{const{length:Xn}=T;if(!Xn)return void St.complete();const rr=new Array(Xn);let Vi=Xn,Ui=Xn;for(let Ai=0;Ai<Xn;Ai++){let as=!1;(0,V.Xf)(T[Ai]).subscribe((0,ge.x)(St,Hs=>{as||(as=!0,Ui--),rr[Ai]=Hs},()=>Vi--,void 0,()=>{(!Vi||!as)&&(Ui||St.next(Z?(0,Ie.n)(Z,rr):rr),St.complete())}))}});return A?he.pipe((0,re.Z)(A)):he}(Tn(T,A).map(En)).pipe((0,xe.U)(Nn))}}function kn(O){return null!=O?Dn(on(O)):null}function _n(O,A){return null===O?[A]:Array.isArray(O)?[...O,A]:[O,A]}function Ln(O){return O._rawValidators}function qn(O){return O._rawAsyncValidators}function Yn(O){return O?Array.isArray(O)?O:[O]:[]}function tn(O,A){return Array.isArray(O)?O.includes(A):O===A}function Wn(O,A){const T=Yn(A);return Yn(O).forEach(he=>{tn(T,he)||T.push(he)}),T}function Ht(O,A){return Yn(A).filter(T=>!tn(O,T))}class Er{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(A){this._rawValidators=A||[],this._composedValidatorFn=pn(this._rawValidators)}_setAsyncValidators(A){this._rawAsyncValidators=A||[],this._composedAsyncValidatorFn=kn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(A){this._onDestroyCallbacks.push(A)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(A=>A()),this._onDestroyCallbacks=[]}reset(A){this.control&&this.control.reset(A)}hasError(A,T){return!!this.control&&this.control.hasError(A,T)}getError(A,T){return this.control?this.control.getError(A,T):null}}class Cn extends Er{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends Er{get formDirective(){return null}get path(){return null}}class er{constructor(A){this._cd=A}is(A){var T,Z,he;return"submitted"===A?!!(null===(T=this._cd)||void 0===T?void 0:T.submitted):!!(null===(he=null===(Z=this._cd)||void 0===Z?void 0:Z.control)||void 0===he?void 0:he[A])}}let ye=(()=>{class O extends er{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(Cn,2))},O.\u0275dir=f.lG2({type:O,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(T,Z){2&T&&f.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))},features:[f.qOj]}),O})(),De=(()=>{class O extends er{constructor(T){super(T)}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(an,10))},O.\u0275dir=f.lG2({type:O,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(T,Z){2&T&&f.ekj("ng-untouched",Z.is("untouched"))("ng-touched",Z.is("touched"))("ng-pristine",Z.is("pristine"))("ng-dirty",Z.is("dirty"))("ng-valid",Z.is("valid"))("ng-invalid",Z.is("invalid"))("ng-pending",Z.is("pending"))("ng-submitted",Z.is("submitted"))},features:[f.qOj]}),O})();function Se(O,A){ht(O,A),A.valueAccessor.writeValue(O.value),function ke(O,A){A.valueAccessor.registerOnChange(T=>{O._pendingValue=T,O._pendingChange=!0,O._pendingDirty=!0,"change"===O.updateOn&&ae(O,A)})}(O,A),function rt(O,A){const T=(Z,he)=>{A.valueAccessor.writeValue(Z),he&&A.viewToModelUpdate(Z)};O.registerOnChange(T),A._registerOnDestroy(()=>{O._unregisterOnChange(T)})}(O,A),function _e(O,A){A.valueAccessor.registerOnTouched(()=>{O._pendingTouched=!0,"blur"===O.updateOn&&O._pendingChange&&ae(O,A),"submit"!==O.updateOn&&O.markAsTouched()})}(O,A),function Mt(O,A){if(A.valueAccessor.setDisabledState){const T=Z=>{A.valueAccessor.setDisabledState(Z)};O.registerOnDisabledChange(T),A._registerOnDestroy(()=>{O._unregisterOnDisabledChange(T)})}}(O,A)}function Ye(O,A,T=!0){const Z=()=>{};A.valueAccessor&&(A.valueAccessor.registerOnChange(Z),A.valueAccessor.registerOnTouched(Z)),Lt(O,A),O&&(A._invokeOnDestroyCallbacks(),O._registerOnCollectionChange(()=>{}))}function dt(O,A){O.forEach(T=>{T.registerOnValidatorChange&&T.registerOnValidatorChange(A)})}function ht(O,A){const T=Ln(O);null!==A.validator?O.setValidators(_n(T,A.validator)):"function"==typeof T&&O.setValidators([T]);const Z=qn(O);null!==A.asyncValidator?O.setAsyncValidators(_n(Z,A.asyncValidator)):"function"==typeof Z&&O.setAsyncValidators([Z]);const he=()=>O.updateValueAndValidity();dt(A._rawValidators,he),dt(A._rawAsyncValidators,he)}function Lt(O,A){let T=!1;if(null!==O){if(null!==A.validator){const he=Ln(O);if(Array.isArray(he)&&he.length>0){const St=he.filter(Xn=>Xn!==A.validator);St.length!==he.length&&(T=!0,O.setValidators(St))}}if(null!==A.asyncValidator){const he=qn(O);if(Array.isArray(he)&&he.length>0){const St=he.filter(Xn=>Xn!==A.asyncValidator);St.length!==he.length&&(T=!0,O.setAsyncValidators(St))}}}const Z=()=>{};return dt(A._rawValidators,Z),dt(A._rawAsyncValidators,Z),T}function ae(O,A){O._pendingDirty&&O.markAsDirty(),O.setValue(O._pendingValue,{emitModelToViewChange:!1}),A.viewToModelUpdate(O._pendingValue),O._pendingChange=!1}function jn(O,A){const T=O.indexOf(A);T>-1&&O.splice(T,1)}const xt="VALID",Ee="INVALID",Ke="PENDING",Et="DISABLED";function Sn(O){return(xr(O)?O.validators:O)||null}function $n(O){return Array.isArray(O)?pn(O):O||null}function Mn(O,A){return(xr(A)?A.asyncValidators:O)||null}function ur(O){return Array.isArray(O)?kn(O):O||null}function xr(O){return null!=O&&!Array.isArray(O)&&"object"==typeof O}const fn=O=>O instanceof dr,wr=O=>O instanceof Pe,pi=O=>O instanceof be;function Yr(O){return fn(O)?O.value:O.getRawValue()}function ai(O,A){const T=wr(O),Z=O.controls;if(!(T?Object.keys(Z):Z).length)throw new f.vHH(1e3,"");if(!Z[A])throw new f.vHH(1001,"")}function yr(O,A){wr(O),O._forEachChild((Z,he)=>{if(void 0===A[he])throw new f.vHH(1002,"")})}class Or{constructor(A,T){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=A,this._rawAsyncValidators=T,this._composedValidatorFn=$n(this._rawValidators),this._composedAsyncValidatorFn=ur(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(A){this._rawValidators=this._composedValidatorFn=A}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(A){this._rawAsyncValidators=this._composedAsyncValidatorFn=A}get parent(){return this._parent}get valid(){return this.status===xt}get invalid(){return this.status===Ee}get pending(){return this.status==Ke}get disabled(){return this.status===Et}get enabled(){return this.status!==Et}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(A){this._rawValidators=A,this._composedValidatorFn=$n(A)}setAsyncValidators(A){this._rawAsyncValidators=A,this._composedAsyncValidatorFn=ur(A)}addValidators(A){this.setValidators(Wn(A,this._rawValidators))}addAsyncValidators(A){this.setAsyncValidators(Wn(A,this._rawAsyncValidators))}removeValidators(A){this.setValidators(Ht(A,this._rawValidators))}removeAsyncValidators(A){this.setAsyncValidators(Ht(A,this._rawAsyncValidators))}hasValidator(A){return tn(this._rawValidators,A)}hasAsyncValidator(A){return tn(this._rawAsyncValidators,A)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(A={}){this.touched=!0,this._parent&&!A.onlySelf&&this._parent.markAsTouched(A)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(A=>A.markAllAsTouched())}markAsUntouched(A={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(T=>{T.markAsUntouched({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}markAsDirty(A={}){this.pristine=!1,this._parent&&!A.onlySelf&&this._parent.markAsDirty(A)}markAsPristine(A={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(T=>{T.markAsPristine({onlySelf:!0})}),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}markAsPending(A={}){this.status=Ke,!1!==A.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!A.onlySelf&&this._parent.markAsPending(A)}disable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=Et,this.errors=null,this._forEachChild(Z=>{Z.disable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this._updateValue(),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(Z=>Z(!0))}enable(A={}){const T=this._parentMarkedDirty(A.onlySelf);this.status=xt,this._forEachChild(Z=>{Z.enable(Object.assign(Object.assign({},A),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},A),{skipPristineCheck:T})),this._onDisabledChange.forEach(Z=>Z(!1))}_updateAncestors(A){this._parent&&!A.onlySelf&&(this._parent.updateValueAndValidity(A),A.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(A){this._parent=A}updateValueAndValidity(A={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xt||this.status===Ke)&&this._runAsyncValidator(A.emitEvent)),!1!==A.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!A.onlySelf&&this._parent.updateValueAndValidity(A)}_updateTreeValidity(A={emitEvent:!0}){this._forEachChild(T=>T._updateTreeValidity(A)),this.updateValueAndValidity({onlySelf:!0,emitEvent:A.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Et:xt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(A){if(this.asyncValidator){this.status=Ke,this._hasOwnPendingAsyncValidator=!0;const T=En(this.asyncValidator(this));this._asyncValidationSubscription=T.subscribe(Z=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Z,{emitEvent:A})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(A,T={}){this.errors=A,this._updateControlsErrors(!1!==T.emitEvent)}get(A){return function en(O,A,T){if(null==A||(Array.isArray(A)||(A=A.split(T)),Array.isArray(A)&&0===A.length))return null;let Z=O;return A.forEach(he=>{Z=wr(Z)?Z.controls.hasOwnProperty(he)?Z.controls[he]:null:pi(Z)&&Z.at(he)||null}),Z}(this,A,".")}getError(A,T){const Z=T?this.get(T):this;return Z&&Z.errors?Z.errors[A]:null}hasError(A,T){return!!this.getError(A,T)}get root(){let A=this;for(;A._parent;)A=A._parent;return A}_updateControlsErrors(A){this.status=this._calculateStatus(),A&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(A)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Et:this.errors?Ee:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ke)?Ke:this._anyControlsHaveStatus(Ee)?Ee:xt}_anyControlsHaveStatus(A){return this._anyControls(T=>T.status===A)}_anyControlsDirty(){return this._anyControls(A=>A.dirty)}_anyControlsTouched(){return this._anyControls(A=>A.touched)}_updatePristine(A={}){this.pristine=!this._anyControlsDirty(),this._parent&&!A.onlySelf&&this._parent._updatePristine(A)}_updateTouched(A={}){this.touched=this._anyControlsTouched(),this._parent&&!A.onlySelf&&this._parent._updateTouched(A)}_isBoxedValue(A){return"object"==typeof A&&null!==A&&2===Object.keys(A).length&&"value"in A&&"disabled"in A}_registerOnCollectionChange(A){this._onCollectionChange=A}_setUpdateStrategy(A){xr(A)&&null!=A.updateOn&&(this._updateOn=A.updateOn)}_parentMarkedDirty(A){return!A&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class dr extends Or{constructor(A=null,T,Z){super(Sn(T),Mn(Z,T)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(A),this._setUpdateStrategy(T),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xr(T)&&T.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(A)?A.value:A)}setValue(A,T={}){this.value=this._pendingValue=A,this._onChange.length&&!1!==T.emitModelToViewChange&&this._onChange.forEach(Z=>Z(this.value,!1!==T.emitViewToModelChange)),this.updateValueAndValidity(T)}patchValue(A,T={}){this.setValue(A,T)}reset(A=this.defaultValue,T={}){this._applyFormState(A),this.markAsPristine(T),this.markAsUntouched(T),this.setValue(this.value,T),this._pendingChange=!1}_updateValue(){}_anyControls(A){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(A){this._onChange.push(A)}_unregisterOnChange(A){jn(this._onChange,A)}registerOnDisabledChange(A){this._onDisabledChange.push(A)}_unregisterOnDisabledChange(A){jn(this._onDisabledChange,A)}_forEachChild(A){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(A){this._isBoxedValue(A)?(this.value=this._pendingValue=A.value,A.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=A}}class Pe extends Or{constructor(A,T,Z){super(Sn(T),Mn(Z,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(A,T){return this.controls[A]?this.controls[A]:(this.controls[A]=T,T.setParent(this),T._registerOnCollectionChange(this._onCollectionChange),T)}addControl(A,T,Z={}){this.registerControl(A,T),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}removeControl(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}setControl(A,T,Z={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),delete this.controls[A],T&&this.registerControl(A,T),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}contains(A){return this.controls.hasOwnProperty(A)&&this.controls[A].enabled}setValue(A,T={}){yr(this,A),Object.keys(A).forEach(Z=>{ai(this,Z),this.controls[Z].setValue(A[Z],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(Object.keys(A).forEach(Z=>{this.controls[Z]&&this.controls[Z].patchValue(A[Z],{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A={},T={}){this._forEachChild((Z,he)=>{Z.reset(A[he],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this._reduceChildren({},(A,T,Z)=>(A[Z]=Yr(T),A))}_syncPendingControls(){let A=this._reduceChildren(!1,(T,Z)=>!!Z._syncPendingControls()||T);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){Object.keys(this.controls).forEach(T=>{const Z=this.controls[T];Z&&A(Z,T)})}_setUpControls(){this._forEachChild(A=>{A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(A){for(const T of Object.keys(this.controls)){const Z=this.controls[T];if(this.contains(T)&&A(Z))return!0}return!1}_reduceValue(){return this._reduceChildren({},(A,T,Z)=>((T.enabled||this.disabled)&&(A[Z]=T.value),A))}_reduceChildren(A,T){let Z=A;return this._forEachChild((he,St)=>{Z=T(Z,he,St)}),Z}_allControlsDisabled(){for(const A of Object.keys(this.controls))if(this.controls[A].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class be extends Or{constructor(A,T,Z){super(Sn(T),Mn(Z,T)),this.controls=A,this._initObservables(),this._setUpdateStrategy(T),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(A){return this.controls[A]}push(A,T={}){this.controls.push(A),this._registerControl(A),this.updateValueAndValidity({emitEvent:T.emitEvent}),this._onCollectionChange()}insert(A,T,Z={}){this.controls.splice(A,0,T),this._registerControl(T),this.updateValueAndValidity({emitEvent:Z.emitEvent})}removeAt(A,T={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),this.updateValueAndValidity({emitEvent:T.emitEvent})}setControl(A,T,Z={}){this.controls[A]&&this.controls[A]._registerOnCollectionChange(()=>{}),this.controls.splice(A,1),T&&(this.controls.splice(A,0,T),this._registerControl(T)),this.updateValueAndValidity({emitEvent:Z.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(A,T={}){yr(this,A),A.forEach((Z,he)=>{ai(this,he),this.at(he).setValue(Z,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T)}patchValue(A,T={}){null!=A&&(A.forEach((Z,he)=>{this.at(he)&&this.at(he).patchValue(Z,{onlySelf:!0,emitEvent:T.emitEvent})}),this.updateValueAndValidity(T))}reset(A=[],T={}){this._forEachChild((Z,he)=>{Z.reset(A[he],{onlySelf:!0,emitEvent:T.emitEvent})}),this._updatePristine(T),this._updateTouched(T),this.updateValueAndValidity(T)}getRawValue(){return this.controls.map(A=>Yr(A))}clear(A={}){this.controls.length<1||(this._forEachChild(T=>T._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:A.emitEvent}))}_syncPendingControls(){let A=this.controls.reduce((T,Z)=>!!Z._syncPendingControls()||T,!1);return A&&this.updateValueAndValidity({onlySelf:!0}),A}_forEachChild(A){this.controls.forEach((T,Z)=>{A(T,Z)})}_updateValue(){this.value=this.controls.filter(A=>A.enabled||this.disabled).map(A=>A.value)}_anyControls(A){return this.controls.some(T=>T.enabled&&A(T))}_setUpControls(){this._forEachChild(A=>this._registerControl(A))}_allControlsDisabled(){for(const A of this.controls)if(A.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(A){A.setParent(this),A._registerOnCollectionChange(this._onCollectionChange)}}let Vs=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=f.lG2({type:O,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),O})();const Qr={provide:tt,useExisting:(0,f.Gpc)(()=>ki),multi:!0};let ki=(()=>{class O extends Ge{writeValue(T){this.setProperty("value",null==T?"":T)}registerOnChange(T){this.onChange=Z=>{T(""==Z?null:parseFloat(Z))}}}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(T,Z){1&T&&f.NdJ("input",function(St){return Z.onChange(St.target.value)})("blur",function(){return Z.onTouched()})},features:[f._Bn([Qr]),f.qOj]}),O})(),Fi=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({}),O})();const Oi=new f.OlP("NgModelWithFormControlWarning"),Ts={provide:an,useExisting:(0,f.Gpc)(()=>Jr)};let Jr=(()=>{class O extends an{constructor(T,Z){super(),this.validators=T,this.asyncValidators=Z,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(T),this._setAsyncValidators(Z)}ngOnChanges(T){this._checkFormPresent(),T.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lt(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(T){const Z=this.form.get(T.path);return Se(Z,T),Z.updateValueAndValidity({emitEvent:!1}),this.directives.push(T),Z}getControl(T){return this.form.get(T.path)}removeControl(T){Ye(T.control||null,T,!1),jn(this.directives,T)}addFormGroup(T){this._setUpFormContainer(T)}removeFormGroup(T){this._cleanUpFormContainer(T)}getFormGroup(T){return this.form.get(T.path)}addFormArray(T){this._setUpFormContainer(T)}removeFormArray(T){this._cleanUpFormContainer(T)}getFormArray(T){return this.form.get(T.path)}updateModel(T,Z){this.form.get(T.path).setValue(Z)}onSubmit(T){return this.submitted=!0,function An(O,A){O._syncPendingControls(),A.forEach(T=>{const Z=T.control;"submit"===Z.updateOn&&Z._pendingChange&&(T.viewToModelUpdate(Z._pendingValue),Z._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(T),!1}onReset(){this.resetForm()}resetForm(T){this.form.reset(T),this.submitted=!1}_updateDomValue(){this.directives.forEach(T=>{const Z=T.control,he=this.form.get(T.path);Z!==he&&(Ye(Z||null,T),fn(he)&&(Se(he,T),T.control=he))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(T){const Z=this.form.get(T.path);(function at(O,A){ht(O,A)})(Z,T),Z.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(T){if(this.form){const Z=this.form.get(T.path);Z&&function $t(O,A){return Lt(O,A)}(Z,T)&&Z.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ht(this.form,this),this._oldForm&&Lt(this._oldForm,this)}_checkFormPresent(){}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(Dt,10),f.Y36(le,10))},O.\u0275dir=f.lG2({type:O,selectors:[["","formGroup",""]],hostBindings:function(T,Z){1&T&&f.NdJ("submit",function(St){return Z.onSubmit(St)})("reset",function(){return Z.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([Ts]),f.qOj,f.TTD]}),O})();const mi={provide:Cn,useExisting:(0,f.Gpc)(()=>ti)};let ti=(()=>{class O extends Cn{constructor(T,Z,he,St,Xn){super(),this._ngModelWarningConfig=Xn,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=T,this._setValidators(Z),this._setAsyncValidators(he),this.valueAccessor=function Ir(O,A){if(!A)return null;let T,Z,he;return Array.isArray(A),A.forEach(St=>{St.constructor===Ze?T=St:function On(O){return Object.getPrototypeOf(O.constructor)===Ge}(St)?Z=St:he=St}),he||Z||T||null}(0,St)}set isDisabled(T){}ngOnChanges(T){this._added||this._setUpControl(),function ir(O,A){if(!O.hasOwnProperty("model"))return!1;const T=O.model;return!!T.isFirstChange()||!Object.is(A,T.currentValue)}(T,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(T){this.viewModel=T,this.update.emit(T)}get path(){return function ee(O,A){return[...A.path,O]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return O._ngModelWarningSentOnce=!1,O.\u0275fac=function(T){return new(T||O)(f.Y36(an,13),f.Y36(Dt,10),f.Y36(le,10),f.Y36(tt,10),f.Y36(Oi,8))},O.\u0275dir=f.lG2({type:O,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([mi]),f.qOj,f.TTD]}),O})();const qi={provide:tt,useExisting:(0,f.Gpc)(()=>Zr),multi:!0};function ui(O,A){return null==O?`${A}`:(A&&"object"==typeof A&&(A="Object"),`${O}: ${A}`.slice(0,50))}let Zr=(()=>{class O extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){this.value=T;const he=ui(this._getOptionId(T),T);this.setProperty("value",he)}registerOnChange(T){this.onChange=Z=>{this.value=this._getOptionValue(Z),T(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(T){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z),T))return Z;return null}_getOptionValue(T){const Z=function Ci(O){return O.split(":")[0]}(T);return this._optionMap.has(Z)?this._optionMap.get(Z):T}}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(T,Z){1&T&&f.NdJ("change",function(St){return Z.onChange(St.target.value)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([qi]),f.qOj]}),O})(),lr=(()=>{class O{constructor(T,Z,he){this._element=T,this._renderer=Z,this._select=he,this._select&&(this.id=this._select._registerOption())}set ngValue(T){null!=this._select&&(this._select._optionMap.set(this.id,T),this._setElementValue(ui(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._setElementValue(T),this._select&&this._select.writeValue(this._select.value)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(Zr,9))},O.\u0275dir=f.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})();const Li={provide:tt,useExisting:(0,f.Gpc)(()=>ni),multi:!0};function gs(O,A){return null==O?`${A}`:("string"==typeof A&&(A=`'${A}'`),A&&"object"==typeof A&&(A="Object"),`${O}: ${A}`.slice(0,50))}let ni=(()=>{class O extends Ge{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(T){this._compareWith=T}writeValue(T){let Z;if(this.value=T,Array.isArray(T)){const he=T.map(St=>this._getOptionId(St));Z=(St,Xn)=>{St._setSelected(he.indexOf(Xn.toString())>-1)}}else Z=(he,St)=>{he._setSelected(!1)};this._optionMap.forEach(Z)}registerOnChange(T){this.onChange=Z=>{const he=[],St=Z.selectedOptions;if(void 0!==St){const Xn=St;for(let rr=0;rr<Xn.length;rr++){const Ui=this._getOptionValue(Xn[rr].value);he.push(Ui)}}else{const Xn=Z.options;for(let rr=0;rr<Xn.length;rr++){const Vi=Xn[rr];if(Vi.selected){const Ui=this._getOptionValue(Vi.value);he.push(Ui)}}}this.value=he,T(he)}}_registerOption(T){const Z=(this._idCounter++).toString();return this._optionMap.set(Z,T),Z}_getOptionId(T){for(const Z of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Z)._value,T))return Z;return null}_getOptionValue(T){const Z=function Gr(O){return O.split(":")[0]}(T);return this._optionMap.has(Z)?this._optionMap.get(Z)._value:T}}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(T,Z){1&T&&f.NdJ("change",function(St){return Z.onChange(St.target)})("blur",function(){return Z.onTouched()})},inputs:{compareWith:"compareWith"},features:[f._Bn([Li]),f.qOj]}),O})(),ms=(()=>{class O{constructor(T,Z,he){this._element=T,this._renderer=Z,this._select=he,this._select&&(this.id=this._select._registerOption(this))}set ngValue(T){null!=this._select&&(this._value=T,this._setElementValue(gs(this.id,T)),this._select.writeValue(this._select.value))}set value(T){this._select?(this._value=T,this._setElementValue(gs(this.id,T)),this._select.writeValue(this._select.value)):this._setElementValue(T)}_setElementValue(T){this._renderer.setProperty(this._element.nativeElement,"value",T)}_setSelected(T){this._renderer.setProperty(this._element.nativeElement,"selected",T)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return O.\u0275fac=function(T){return new(T||O)(f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(ni,9))},O.\u0275dir=f.lG2({type:O,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),O})(),yi=(()=>{class O{constructor(){this._validator=Ut}ngOnChanges(T){if(this.inputName in T){const Z=this.normalizeInput(T[this.inputName].currentValue);this._enabled=this.enabled(Z),this._validator=this._enabled?this.createValidator(Z):Ut,this._onChange&&this._onChange()}}validate(T){return this._validator(T)}registerOnValidatorChange(T){this._onChange=T}enabled(T){return null!=T}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275dir=f.lG2({type:O,features:[f.TTD]}),O})();const G={provide:Dt,useExisting:(0,f.Gpc)(()=>q),multi:!0};let q=(()=>{class O extends yi{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=T=>function Ti(O){return null!=O&&!1!==O&&"false"!=`${O}`}(T),this.createValidator=T=>Be}enabled(T){return T}}return O.\u0275fac=function(){let A;return function(Z){return(A||(A=f.n5z(O)))(Z||O)}}(),O.\u0275dir=f.lG2({type:O,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(T,Z){2&T&&f.uIk("required",Z._enabled?"":null)},inputs:{required:"required"},features:[f._Bn([G]),f.qOj]}),O})(),mn=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[[Fi]]}),O})(),Yt=(()=>{class O{}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[mn]}),O})(),hr=(()=>{class O{static withConfig(T){return{ngModule:O,providers:[{provide:Oi,useValue:T.warnOnNgModelWithFormControl}]}}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275mod=f.oAB({type:O}),O.\u0275inj=f.cJS({imports:[mn]}),O})(),mr=(()=>{class O{group(T,Z=null){const he=this._reduceControls(T);let rr,St=null,Xn=null;return null!=Z&&(function gr(O){return void 0!==O.asyncValidators||void 0!==O.validators||void 0!==O.updateOn}(Z)?(St=null!=Z.validators?Z.validators:null,Xn=null!=Z.asyncValidators?Z.asyncValidators:null,rr=null!=Z.updateOn?Z.updateOn:void 0):(St=null!=Z.validator?Z.validator:null,Xn=null!=Z.asyncValidator?Z.asyncValidator:null)),new Pe(he,{asyncValidators:Xn,updateOn:rr,validators:St})}control(T,Z,he){return new dr(T,Z,he)}array(T,Z,he){const St=T.map(Xn=>this._createControl(Xn));return new be(St,Z,he)}_reduceControls(T){const Z={};return Object.keys(T).forEach(he=>{Z[he]=this._createControl(T[he])}),Z}_createControl(T){return fn(T)||wr(T)||pi(T)?T:Array.isArray(T)?this.control(T[0],T.length>1?T[1]:null,T.length>2?T[2]:null):this.control(T)}}return O.\u0275fac=function(T){return new(T||O)},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:hr}),O})()},4410:(kt,Ue,S)=>{S.d(Ue,{jw:()=>De,F0:()=>Si,rH:()=>ls,Od:()=>Bs,yS:()=>xs,Bz:()=>st,lC:()=>Ti,fw:()=>yi});var f=S(5e3),m=S(8306),W=S(4742),ie=S(8996),V=S(4671),we=S(3268),ge=S(7669),re=S(1810),Ie=S(5403),Q=S(9672);function Qe(b,_,v){b?(0,Q.f)(v,b,_):_()}var Ge=S(576);function tt(b,_){const v=(0,Ge.m)(b)?b:()=>b,M=P=>P.error(v());return new m.y(_?P=>_.schedule(M,0,P):M)}var pt=S(8421);function ce(b){return new m.y(_=>{(0,pt.Xf)(b()).subscribe(_)})}var et=S(727),Ct=S(4482);function At(){return(0,Ct.e)((b,_)=>{let v=null;b._refCount++;const M=(0,Ie.x)(_,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(v=null);const P=b._connection,B=v;v=null,P&&(!B||P===B)&&P.unsubscribe(),_.unsubscribe()});b.subscribe(M),M.closed||(v=b.connect())})}class Ze extends m.y{constructor(_,v){super(),this.source=_,this.subjectFactory=v,this._subject=null,this._refCount=0,this._connection=null,(0,Ct.A)(_)&&(this.lift=_.lift)}_subscribe(_){return this.getSubject().subscribe(_)}getSubject(){const _=this._subject;return(!_||_.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:_}=this;this._subject=this._connection=null,null==_||_.unsubscribe()}connect(){let _=this._connection;if(!_){_=this._connection=new et.w0;const v=this.getSubject();_.add(this.source.subscribe((0,Ie.x)(v,void 0,()=>{this._teardown(),v.complete()},M=>{this._teardown(),v.error(M)},()=>this._teardown()))),_.closed&&(this._connection=null,_=et.w0.EMPTY)}return _}refCount(){return At()(this)}}var Fe=S(9646),qe=S(1135),Dt=S(6805),le=S(7272),Re=S(515),je=S(7579);function de(b){return(0,Ct.e)((_,v)=>{let B,M=null,P=!1;M=_.subscribe((0,Ie.x)(v,void 0,void 0,fe=>{B=(0,pt.Xf)(b(fe,de(b)(_))),M?(M.unsubscribe(),M=null,B.subscribe(v)):P=!0})),P&&(M.unsubscribe(),M=null,B.subscribe(v))})}var Ne=S(9300);function Be(b){return b<=0?()=>Re.E:(0,Ct.e)((_,v)=>{let M=[];_.subscribe((0,Ie.x)(v,P=>{M.push(P),b<M.length&&M.shift()},()=>{for(const P of M)v.next(P);v.complete()},void 0,()=>{M=null}))})}var He=S(8068),Le=S(6590),Bt=S(4004),Ut=S(3900),Tt=S(5698),En=S(8675),Nn=S(5026),Tn=S(4351),qt=S(590),on=S(5577),Kt=S(8505),pn=S(8189),Dn=S(9808);class kn{constructor(_,v){this.id=_,this.url=v}}class _n extends kn{constructor(_,v,M="imperative",P=null){super(_,v),this.navigationTrigger=M,this.restoredState=P}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ln extends kn{constructor(_,v,M){super(_,v),this.urlAfterRedirects=M}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qn extends kn{constructor(_,v,M){super(_,v),this.reason=M}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yn extends kn{constructor(_,v,M){super(_,v),this.error=M}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tn extends kn{constructor(_,v,M,P){super(_,v),this.urlAfterRedirects=M,this.state=P}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wn extends kn{constructor(_,v,M,P){super(_,v),this.urlAfterRedirects=M,this.state=P}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ht extends kn{constructor(_,v,M,P,B){super(_,v),this.urlAfterRedirects=M,this.state=P,this.shouldActivate=B}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends kn{constructor(_,v,M,P){super(_,v),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cn extends kn{constructor(_,v,M,P){super(_,v),this.urlAfterRedirects=M,this.state=P}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class an{constructor(_){this.route=_}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class er{constructor(_){this.route=_}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pr{constructor(_){this.snapshot=_}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ut{constructor(_){this.snapshot=_}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ye{constructor(_){this.snapshot=_}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(_){this.snapshot=_}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mt{constructor(_,v,M){this.routerEvent=_,this.position=v,this.anchor=M}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class _t{constructor(_){this.params=_||{}}has(_){return Object.prototype.hasOwnProperty.call(this.params,_)}get(_){if(this.has(_)){const v=this.params[_];return Array.isArray(v)?v[0]:v}return null}getAll(_){if(this.has(_)){const v=this.params[_];return Array.isArray(v)?v:[v]}return[]}get keys(){return Object.keys(this.params)}}function yt(b){return new _t(b)}const gn="ngNavigationCancelingError";function hn(b){const _=Error("NavigationCancelingError: "+b);return _[gn]=!0,_}function ar(b,_,v){const M=v.path.split("/");if(M.length>b.length||"full"===v.pathMatch&&(_.hasChildren()||M.length<b.length))return null;const P={};for(let B=0;B<M.length;B++){const fe=M[B],Te=b[B];if(fe.startsWith(":"))P[fe.substring(1)]=Te;else if(fe!==Te.path)return null}return{consumed:b.slice(0,M.length),posParams:P}}function dn(b,_){const v=b?Object.keys(b):void 0,M=_?Object.keys(_):void 0;if(!v||!M||v.length!=M.length)return!1;let P;for(let B=0;B<v.length;B++)if(P=v[B],!se(b[P],_[P]))return!1;return!0}function se(b,_){if(Array.isArray(b)&&Array.isArray(_)){if(b.length!==_.length)return!1;const v=[...b].sort(),M=[..._].sort();return v.every((P,B)=>M[B]===P)}return b===_}function me(b){return Array.prototype.concat.apply([],b)}function J(b){return b.length>0?b[b.length-1]:null}function N(b,_){for(const v in b)b.hasOwnProperty(v)&&_(b[v],v)}function X(b){return(0,f.CqO)(b)?b:(0,f.QGY)(b)?(0,ie.D)(Promise.resolve(b)):(0,Fe.of)(b)}const Se={exact:function ht(b,_,v){if(!bn(b.segments,_.segments)||!ae(b.segments,_.segments,v)||b.numberOfChildren!==_.numberOfChildren)return!1;for(const M in _.children)if(!b.children[M]||!ht(b.children[M],_.children[M],v))return!1;return!0},subset:ke},Ye={exact:function Mt(b,_){return dn(b,_)},subset:function Lt(b,_){return Object.keys(_).length<=Object.keys(b).length&&Object.keys(_).every(v=>se(b[v],_[v]))},ignored:()=>!0};function dt(b,_,v){return Se[v.paths](b.root,_.root,v.matrixParams)&&Ye[v.queryParams](b.queryParams,_.queryParams)&&!("exact"===v.fragment&&b.fragment!==_.fragment)}function ke(b,_,v){return _e(b,_,_.segments,v)}function _e(b,_,v,M){if(b.segments.length>v.length){const P=b.segments.slice(0,v.length);return!(!bn(P,v)||_.hasChildren()||!ae(P,v,M))}if(b.segments.length===v.length){if(!bn(b.segments,v)||!ae(b.segments,v,M))return!1;for(const P in _.children)if(!b.children[P]||!ke(b.children[P],_.children[P],M))return!1;return!0}{const P=v.slice(0,b.segments.length),B=v.slice(b.segments.length);return!!(bn(b.segments,P)&&ae(b.segments,P,M)&&b.children[Ve])&&_e(b.children[Ve],_,B,M)}}function ae(b,_,v){return _.every((M,P)=>Ye[v](b[P].parameters,M.parameters))}class rt{constructor(_,v,M){this.root=_,this.queryParams=v,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return On.serialize(this)}}class at{constructor(_,v){this.segments=_,this.children=v,this.parent=null,N(v,(M,P)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return An(this)}}class $t{constructor(_,v){this.path=_,this.parameters=v}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return Et(this)}}function bn(b,_){return b.length===_.length&&b.every((v,M)=>v.path===_[M].path)}class tr{}class ir{parse(_){const v=new pi(_);return new rt(v.parseRootSegment(),v.parseQueryParams(),v.parseFragment())}serialize(_){const v=`/${Ir(_.root,!0)}`,M=function Sn(b){const _=Object.keys(b).map(v=>{const M=b[v];return Array.isArray(M)?M.map(P=>`${Kr(v)}=${Kr(P)}`).join("&"):`${Kr(v)}=${Kr(M)}`}).filter(v=>!!v);return _.length?`?${_.join("&")}`:""}(_.queryParams);return`${v}${M}${"string"==typeof _.fragment?`#${function Sr(b){return encodeURI(b)}(_.fragment)}`:""}`}}const On=new ir;function An(b){return b.segments.map(_=>Et(_)).join("/")}function Ir(b,_){if(!b.hasChildren())return An(b);if(_){const v=b.children[Ve]?Ir(b.children[Ve],!1):"",M=[];return N(b.children,(P,B)=>{B!==Ve&&M.push(`${B}:${Ir(P,!1)}`)}),M.length>0?`${v}(${M.join("//")})`:v}{const v=function wn(b,_){let v=[];return N(b.children,(M,P)=>{P===Ve&&(v=v.concat(_(M,P)))}),N(b.children,(M,P)=>{P!==Ve&&(v=v.concat(_(M,P)))}),v}(b,(M,P)=>P===Ve?[Ir(b.children[Ve],!1)]:[`${P}:${Ir(M,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[Ve]?`${An(b)}/${v[0]}`:`${An(b)}/(${v.join("//")})`}}function jn(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kr(b){return jn(b).replace(/%3B/gi,";")}function xt(b){return jn(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ee(b){return decodeURIComponent(b)}function Ke(b){return Ee(b.replace(/\+/g,"%20"))}function Et(b){return`${xt(b.path)}${function en(b){return Object.keys(b).map(_=>`;${xt(_)}=${xt(b[_])}`).join("")}(b.parameters)}`}const $n=/^[^\/()?;=#]+/;function Mn(b){const _=b.match($n);return _?_[0]:""}const ur=/^[^=?&#]+/,fn=/^[^&#]+/;class pi{constructor(_){this.url=_,this.remaining=_}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new at([],{}):new at([],this.parseChildren())}parseQueryParams(){const _={};if(this.consumeOptional("?"))do{this.parseQueryParam(_)}while(this.consumeOptional("&"));return _}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const _=[];for(this.peekStartsWith("(")||_.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),_.push(this.parseSegment());let v={};this.peekStartsWith("/(")&&(this.capture("/"),v=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(_.length>0||Object.keys(v).length>0)&&(M[Ve]=new at(_,v)),M}parseSegment(){const _=Mn(this.remaining);if(""===_&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(_),new $t(Ee(_),this.parseMatrixParams())}parseMatrixParams(){const _={};for(;this.consumeOptional(";");)this.parseParam(_);return _}parseParam(_){const v=Mn(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const P=Mn(this.remaining);P&&(M=P,this.capture(M))}_[Ee(v)]=Ee(M)}parseQueryParam(_){const v=function xr(b){const _=b.match(ur);return _?_[0]:""}(this.remaining);if(!v)return;this.capture(v);let M="";if(this.consumeOptional("=")){const fe=function wr(b){const _=b.match(fn);return _?_[0]:""}(this.remaining);fe&&(M=fe,this.capture(M))}const P=Ke(v),B=Ke(M);if(_.hasOwnProperty(P)){let fe=_[P];Array.isArray(fe)||(fe=[fe],_[P]=fe),fe.push(B)}else _[P]=B}parseParens(_){const v={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Mn(this.remaining),P=this.remaining[M.length];if("/"!==P&&")"!==P&&";"!==P)throw new Error(`Cannot parse url '${this.url}'`);let B;M.indexOf(":")>-1?(B=M.substr(0,M.indexOf(":")),this.capture(B),this.capture(":")):_&&(B=Ve);const fe=this.parseChildren();v[B]=1===Object.keys(fe).length?fe[Ve]:new at([],fe),this.consumeOptional("//")}return v}peekStartsWith(_){return this.remaining.startsWith(_)}consumeOptional(_){return!!this.peekStartsWith(_)&&(this.remaining=this.remaining.substring(_.length),!0)}capture(_){if(!this.consumeOptional(_))throw new Error(`Expected "${_}".`)}}class Yr{constructor(_){this._root=_}get root(){return this._root.value}parent(_){const v=this.pathFromRoot(_);return v.length>1?v[v.length-2]:null}children(_){const v=ai(_,this._root);return v?v.children.map(M=>M.value):[]}firstChild(_){const v=ai(_,this._root);return v&&v.children.length>0?v.children[0].value:null}siblings(_){const v=yr(_,this._root);return v.length<2?[]:v[v.length-2].children.map(P=>P.value).filter(P=>P!==_)}pathFromRoot(_){return yr(_,this._root).map(v=>v.value)}}function ai(b,_){if(b===_.value)return _;for(const v of _.children){const M=ai(b,v);if(M)return M}return null}function yr(b,_){if(b===_.value)return[_];for(const v of _.children){const M=yr(b,v);if(M.length)return M.unshift(_),M}return[]}class Or{constructor(_,v){this.value=_,this.children=v}toString(){return`TreeNode(${this.value})`}}function dr(b){const _={};return b&&b.children.forEach(v=>_[v.value.outlet]=v),_}class Pe extends Yr{constructor(_,v){super(_),this.snapshot=v,Gn(this,_)}toString(){return this.snapshot.toString()}}function be(b,_){const v=function Je(b,_){const fe=new Jn([],{},{},"",{},Ve,_,null,b.root,-1,{});return new vr("",new Or(fe,[]))}(b,_),M=new qe.X([new $t("",{})]),P=new qe.X({}),B=new qe.X({}),fe=new qe.X({}),Te=new qe.X(""),lt=new ft(M,P,fe,Te,B,Ve,_,v.root);return lt.snapshot=v.root,new Pe(new Or(lt,[]),v)}class ft{constructor(_,v,M,P,B,fe,Te,lt){this.url=_,this.params=v,this.queryParams=M,this.fragment=P,this.data=B,this.outlet=fe,this.component=Te,this._futureSnapshot=lt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Bt.U)(_=>yt(_)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Bt.U)(_=>yt(_)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Rt(b,_="emptyOnly"){const v=b.pathFromRoot;let M=0;if("always"!==_)for(M=v.length-1;M>=1;){const P=v[M],B=v[M-1];if(P.routeConfig&&""===P.routeConfig.path)M--;else{if(B.component)break;M--}}return function zt(b){return b.reduce((_,v)=>({params:Object.assign(Object.assign({},_.params),v.params),data:Object.assign(Object.assign({},_.data),v.data),resolve:Object.assign(Object.assign({},_.resolve),v._resolvedData)}),{params:{},data:{},resolve:{}})}(v.slice(M))}class Jn{constructor(_,v,M,P,B,fe,Te,lt,Jt,Zt,yn){this.url=_,this.params=v,this.queryParams=M,this.fragment=P,this.data=B,this.outlet=fe,this.component=Te,this.routeConfig=lt,this._urlSegment=Jt,this._lastPathIndex=Zt,this._resolve=yn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vr extends Yr{constructor(_,v){super(v),this.url=_,Gn(this,v)}toString(){return Dr(this._root)}}function Gn(b,_){_.value._routerState=b,_.children.forEach(v=>Gn(b,v))}function Dr(b){const _=b.children.length>0?` { ${b.children.map(Dr).join(", ")} } `:"";return`${b.value}${_}`}function Pi(b){if(b.snapshot){const _=b.snapshot,v=b._futureSnapshot;b.snapshot=v,dn(_.queryParams,v.queryParams)||b.queryParams.next(v.queryParams),_.fragment!==v.fragment&&b.fragment.next(v.fragment),dn(_.params,v.params)||b.params.next(v.params),function Bn(b,_){if(b.length!==_.length)return!1;for(let v=0;v<b.length;++v)if(!dn(b[v],_[v]))return!1;return!0}(_.url,v.url)||b.url.next(v.url),dn(_.data,v.data)||b.data.next(v.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function Vr(b,_){const v=dn(b.params,_.params)&&function ln(b,_){return bn(b,_)&&b.every((v,M)=>dn(v.parameters,_[M].parameters))}(b.url,_.url);return v&&!(!b.parent!=!_.parent)&&(!b.parent||Vr(b.parent,_.parent))}function _r(b,_,v){if(v&&b.shouldReuseRoute(_.value,v.value.snapshot)){const M=v.value;M._futureSnapshot=_.value;const P=function Ds(b,_,v){return _.children.map(M=>{for(const P of v.children)if(b.shouldReuseRoute(M.value,P.value.snapshot))return _r(b,M,P);return _r(b,M)})}(b,_,v);return new Or(M,P)}{if(b.shouldAttach(_.value)){const B=b.retrieve(_.value);if(null!==B){const fe=B.route;return fe.value._futureSnapshot=_.value,fe.children=_.children.map(Te=>_r(b,Te)),fe}}const M=function Vs(b){return new ft(new qe.X(b.url),new qe.X(b.params),new qe.X(b.queryParams),new qe.X(b.fragment),new qe.X(b.data),b.outlet,b.component,b)}(_.value),P=_.children.map(B=>_r(b,B));return new Or(M,P)}}function ki(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Di(b){return"object"==typeof b&&null!=b&&b.outlets}function ns(b,_,v,M,P){let B={};if(M&&N(M,(Te,lt)=>{B[lt]=Array.isArray(Te)?Te.map(Jt=>`${Jt}`):`${Te}`}),b===_)return new rt(v,B,P);const fe=Fi(b,_,v);return new rt(fe,B,P)}function Fi(b,_,v){const M={};return N(b.children,(P,B)=>{M[B]=P===_?v:Fi(P,_,v)}),new at(b.segments,M)}class fo{constructor(_,v,M){if(this.isAbsolute=_,this.numberOfDoubleDots=v,this.commands=M,_&&M.length>0&&ki(M[0]))throw new Error("Root segment cannot have matrix parameters");const P=M.find(Di);if(P&&P!==J(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Gs{constructor(_,v,M){this.segmentGroup=_,this.processChildren=v,this.index=M}}function Cs(b,_,v){if(b||(b=new at([],{})),0===b.segments.length&&b.hasChildren())return Ts(b,_,v);const M=function Jr(b,_,v){let M=0,P=_;const B={match:!1,pathIndex:0,commandIndex:0};for(;P<b.segments.length;){if(M>=v.length)return B;const fe=b.segments[P],Te=v[M];if(Di(Te))break;const lt=`${Te}`,Jt=M<v.length-1?v[M+1]:null;if(P>0&&void 0===lt)break;if(lt&&Jt&&"object"==typeof Jt&&void 0===Jt.outlets){if(!ei(lt,Jt,fe))return B;M+=2}else{if(!ei(lt,{},fe))return B;M++}P++}return{match:!0,pathIndex:P,commandIndex:M}}(b,_,v),P=v.slice(M.commandIndex);if(M.match&&M.pathIndex<b.segments.length){const B=new at(b.segments.slice(0,M.pathIndex),{});return B.children[Ve]=new at(b.segments.slice(M.pathIndex),b.children),Ts(B,0,P)}return M.match&&0===P.length?new at(b.segments,{}):M.match&&!b.hasChildren()?ss(b,_,v):M.match?Ts(b,0,P):ss(b,_,v)}function Ts(b,_,v){if(0===v.length)return new at(b.segments,{});{const M=function gi(b){return Di(b[0])?b[0].outlets:{[Ve]:b}}(v),P={};return N(M,(B,fe)=>{"string"==typeof B&&(B=[B]),null!==B&&(P[fe]=Cs(b.children[fe],_,B))}),N(b.children,(B,fe)=>{void 0===M[fe]&&(P[fe]=B)}),new at(b.segments,P)}}function ss(b,_,v){const M=b.segments.slice(0,_);let P=0;for(;P<v.length;){const B=v[P];if(Di(B)){const lt=Wi(B.outlets);return new at(M,lt)}if(0===P&&ki(v[0])){M.push(new $t(b.segments[_].path,Xr(v[0]))),P++;continue}const fe=Di(B)?B.outlets[Ve]:`${B}`,Te=P<v.length-1?v[P+1]:null;fe&&Te&&ki(Te)?(M.push(new $t(fe,Xr(Te))),P+=2):(M.push(new $t(fe,{})),P++)}return new at(M,{})}function Wi(b){const _={};return N(b,(v,M)=>{"string"==typeof v&&(v=[v]),null!==v&&(_[M]=ss(new at([],{}),0,v))}),_}function Xr(b){const _={};return N(b,(v,M)=>_[M]=`${v}`),_}function ei(b,_,v){return b==v.path&&dn(_,v.parameters)}class mi{constructor(_,v,M,P){this.routeReuseStrategy=_,this.futureState=v,this.currState=M,this.forwardEvent=P}activate(_){const v=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(v,M,_),Pi(this.futureState.root),this.activateChildRoutes(v,M,_)}deactivateChildRoutes(_,v,M){const P=dr(v);_.children.forEach(B=>{const fe=B.value.outlet;this.deactivateRoutes(B,P[fe],M),delete P[fe]}),N(P,(B,fe)=>{this.deactivateRouteAndItsChildren(B,M)})}deactivateRoutes(_,v,M){const P=_.value,B=v?v.value:null;if(P===B)if(P.component){const fe=M.getContext(P.outlet);fe&&this.deactivateChildRoutes(_,v,fe.children)}else this.deactivateChildRoutes(_,v,M);else B&&this.deactivateRouteAndItsChildren(v,M)}deactivateRouteAndItsChildren(_,v){_.value.component&&this.routeReuseStrategy.shouldDetach(_.value.snapshot)?this.detachAndStoreRouteSubtree(_,v):this.deactivateRouteAndOutlet(_,v)}detachAndStoreRouteSubtree(_,v){const M=v.getContext(_.value.outlet),P=M&&_.value.component?M.children:v,B=dr(_);for(const fe of Object.keys(B))this.deactivateRouteAndItsChildren(B[fe],P);if(M&&M.outlet){const fe=M.outlet.detach(),Te=M.children.onOutletDeactivated();this.routeReuseStrategy.store(_.value.snapshot,{componentRef:fe,route:_,contexts:Te})}}deactivateRouteAndOutlet(_,v){const M=v.getContext(_.value.outlet),P=M&&_.value.component?M.children:v,B=dr(_);for(const fe of Object.keys(B))this.deactivateRouteAndItsChildren(B[fe],P);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(_,v,M){const P=dr(v);_.children.forEach(B=>{this.activateRoutes(B,P[B.value.outlet],M),this.forwardEvent(new De(B.value.snapshot))}),_.children.length&&this.forwardEvent(new ut(_.value.snapshot))}activateRoutes(_,v,M){const P=_.value,B=v?v.value:null;if(Pi(P),P===B)if(P.component){const fe=M.getOrCreateContext(P.outlet);this.activateChildRoutes(_,v,fe.children)}else this.activateChildRoutes(_,v,M);else if(P.component){const fe=M.getOrCreateContext(P.outlet);if(this.routeReuseStrategy.shouldAttach(P.snapshot)){const Te=this.routeReuseStrategy.retrieve(P.snapshot);this.routeReuseStrategy.store(P.snapshot,null),fe.children.onOutletReAttached(Te.contexts),fe.attachRef=Te.componentRef,fe.route=Te.route.value,fe.outlet&&fe.outlet.attach(Te.componentRef,Te.route.value),Pi(Te.route.value),this.activateChildRoutes(_,null,fe.children)}else{const Te=function ti(b){for(let _=b.parent;_;_=_.parent){const v=_.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig;if(v&&v.component)return null}return null}(P.snapshot),lt=Te?Te.module.componentFactoryResolver:null;fe.attachRef=null,fe.route=P,fe.resolver=lt,fe.outlet&&fe.outlet.activateWith(P,lt),this.activateChildRoutes(_,null,fe.children)}}else this.activateChildRoutes(_,null,M)}}class qi{constructor(_,v){this.routes=_,this.module=v}}function ui(b){return"function"==typeof b}function Zr(b){return b instanceof rt}const Cr=Symbol("INITIAL_VALUE");function ni(){return(0,Ut.w)(b=>function ue(...b){const _=(0,ge.yG)(b),v=(0,ge.jO)(b),{args:M,keys:P}=(0,W.D)(b);if(0===M.length)return(0,ie.D)([],_);const B=new m.y(function xe(b,_,v=V.y){return M=>{Qe(_,()=>{const{length:P}=b,B=new Array(P);let fe=P,Te=P;for(let lt=0;lt<P;lt++)Qe(_,()=>{const Jt=(0,ie.D)(b[lt],_);let Zt=!1;Jt.subscribe((0,Ie.x)(M,yn=>{B[lt]=yn,Zt||(Zt=!0,Te--),Te||M.next(v(B.slice()))},()=>{--fe||M.complete()}))},M)},M)}}(M,_,P?fe=>(0,re.n)(P,fe):V.y));return v?B.pipe((0,we.Z)(v)):B}(b.map(_=>_.pipe((0,Tt.q)(1),(0,En.O)(Cr)))).pipe((0,Nn.R)((_,v)=>{let M=!1;return v.reduce((P,B,fe)=>P!==Cr?P:(B===Cr&&(M=!0),M||!1!==B&&fe!==v.length-1&&!Zr(B)?P:B),_)},Cr),(0,Ne.h)(_=>_!==Cr),(0,Bt.U)(_=>Zr(_)?_:!0===_),(0,Tt.q)(1)))}class ms{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ki,this.attachRef=null}}class Ki{constructor(){this.contexts=new Map}onChildOutletCreated(_,v){const M=this.getOrCreateContext(_);M.outlet=v,this.contexts.set(_,M)}onChildOutletDestroyed(_){const v=this.getContext(_);v&&(v.outlet=null,v.attachRef=null)}onOutletDeactivated(){const _=this.contexts;return this.contexts=new Map,_}onOutletReAttached(_){this.contexts=_}getOrCreateContext(_){let v=this.getContext(_);return v||(v=new ms,this.contexts.set(_,v)),v}getContext(_){return this.contexts.get(_)||null}}let Ti=(()=>{class b{constructor(v,M,P,B,fe){this.parentContexts=v,this.location=M,this.resolver=P,this.changeDetector=fe,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=B||Ve,v.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const v=this.parentContexts.getContext(this.name);v&&v.route&&(v.attachRef?this.attach(v.attachRef,v.route):this.activateWith(v.route,v.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const v=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(v.instance),v}attach(v,M){this.activated=v,this._activatedRoute=M,this.location.insert(v.hostView),this.attachEvents.emit(v.instance)}deactivate(){if(this.activated){const v=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(v)}}activateWith(v,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=v;const fe=(M=M||this.resolver).resolveComponentFactory(v._futureSnapshot.routeConfig.component),Te=this.parentContexts.getOrCreateContext(this.name).children,lt=new os(v,Te,this.location.injector);this.activated=this.location.createComponent(fe,this.location.length,lt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(v){return new(v||b)(f.Y36(Ki),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},b.\u0275dir=f.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class os{constructor(_,v,M){this.route=_,this.childContexts=v,this.parent=M}get(_,v){return _===ft?this.route:_===Ki?this.childContexts:this.parent.get(_,v)}}let yi=(()=>{class b{}return b.\u0275fac=function(v){return new(v||b)},b.\u0275cmp=f.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(v,M){1&v&&f._UZ(0,"router-outlet")},directives:[Ti],encapsulation:2}),b})();function Ni(b,_=""){for(let v=0;v<b.length;v++){const M=b[v];Yi(M,nr(_,M))}}function Yi(b,_){b.children&&Ni(b.children,_)}function nr(b,_){return _?b||_.path?b&&!_.path?`${b}/`:!b&&_.path?_.path:`${b}/${_.path}`:"":b}function R(b){const _=b.children&&b.children.map(R),v=_?Object.assign(Object.assign({},b),{children:_}):Object.assign({},b);return!v.component&&(_||v.loadChildren)&&v.outlet&&v.outlet!==Ve&&(v.component=yi),v}function G(b){return b.outlet||Ve}function x(b,_){const v=b.filter(M=>G(M)===_);return v.push(...b.filter(M=>G(M)!==_)),v}const q={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ae(b,_,v){var M;if(""===_.path)return"full"===_.pathMatch&&(b.hasChildren()||v.length>0)?Object.assign({},q):{matched:!0,consumedSegments:[],remainingSegments:v,parameters:{},positionalParamSegments:{}};const B=(_.matcher||ar)(v,b,_);if(!B)return Object.assign({},q);const fe={};N(B.posParams,(lt,Jt)=>{fe[Jt]=lt.path});const Te=B.consumed.length>0?Object.assign(Object.assign({},fe),B.consumed[B.consumed.length-1].parameters):fe;return{matched:!0,consumedSegments:B.consumed,remainingSegments:v.slice(B.consumed.length),parameters:Te,positionalParamSegments:null!==(M=B.posParams)&&void 0!==M?M:{}}}function it(b,_,v,M,P="corrected"){if(v.length>0&&function sr(b,_,v){return v.some(M=>K(b,_,M)&&G(M)!==Ve)}(b,v,M)){const fe=new at(_,function un(b,_,v,M){const P={};P[Ve]=M,M._sourceSegment=b,M._segmentIndexShift=_.length;for(const B of v)if(""===B.path&&G(B)!==Ve){const fe=new at([],{});fe._sourceSegment=b,fe._segmentIndexShift=_.length,P[G(B)]=fe}return P}(b,_,M,new at(v,b.children)));return fe._sourceSegment=b,fe._segmentIndexShift=_.length,{segmentGroup:fe,slicedSegments:[]}}if(0===v.length&&function or(b,_,v){return v.some(M=>K(b,_,M))}(b,v,M)){const fe=new at(b.segments,function wt(b,_,v,M,P,B){const fe={};for(const Te of M)if(K(b,v,Te)&&!P[G(Te)]){const lt=new at([],{});lt._sourceSegment=b,lt._segmentIndexShift="legacy"===B?b.segments.length:_.length,fe[G(Te)]=lt}return Object.assign(Object.assign({},P),fe)}(b,_,v,M,b.children,P));return fe._sourceSegment=b,fe._segmentIndexShift=_.length,{segmentGroup:fe,slicedSegments:v}}const B=new at(b.segments,b.children);return B._sourceSegment=b,B._segmentIndexShift=_.length,{segmentGroup:B,slicedSegments:v}}function K(b,_,v){return(!(b.hasChildren()||_.length>0)||"full"!==v.pathMatch)&&""===v.path}function Y(b,_,v,M){return!!(G(b)===M||M!==Ve&&K(_,v,b))&&("**"===b.path||Ae(_,b,v).matched)}function Ce(b,_,v){return 0===_.length&&!b.children[v]}class ze{constructor(_){this.segmentGroup=_||null}}class It{constructor(_){this.urlTree=_}}function jt(b){return tt(new ze(b))}function mn(b){return tt(new It(b))}class mr{constructor(_,v,M,P,B){this.configLoader=v,this.urlSerializer=M,this.urlTree=P,this.config=B,this.allowRedirects=!0,this.ngModule=_.get(f.h0i)}apply(){const _=it(this.urlTree.root,[],[],this.config).segmentGroup,v=new at(_.segments,_.children);return this.expandSegmentGroup(this.ngModule,this.config,v,Ve).pipe((0,Bt.U)(B=>this.createUrlTree(O(B),this.urlTree.queryParams,this.urlTree.fragment))).pipe(de(B=>{if(B instanceof It)return this.allowRedirects=!1,this.match(B.urlTree);throw B instanceof ze?this.noMatchError(B):B}))}match(_){return this.expandSegmentGroup(this.ngModule,this.config,_.root,Ve).pipe((0,Bt.U)(P=>this.createUrlTree(O(P),_.queryParams,_.fragment))).pipe(de(P=>{throw P instanceof ze?this.noMatchError(P):P}))}noMatchError(_){return new Error(`Cannot match any routes. URL Segment: '${_.segmentGroup}'`)}createUrlTree(_,v,M){const P=_.segments.length>0?new at([],{[Ve]:_}):_;return new rt(P,v,M)}expandSegmentGroup(_,v,M,P){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(_,v,M).pipe((0,Bt.U)(B=>new at([],B))):this.expandSegment(_,M,v,M.segments,P,!0)}expandChildren(_,v,M){const P=[];for(const B of Object.keys(M.children))"primary"===B?P.unshift(B):P.push(B);return(0,ie.D)(P).pipe((0,Tn.b)(B=>{const fe=M.children[B],Te=x(v,B);return this.expandSegmentGroup(_,Te,fe,B).pipe((0,Bt.U)(lt=>({segment:lt,outlet:B})))}),(0,Nn.R)((B,fe)=>(B[fe.outlet]=fe.segment,B),{}),function gt(b,_){const v=arguments.length>=2;return M=>M.pipe(b?(0,Ne.h)((P,B)=>b(P,B,M)):V.y,Be(1),v?(0,Le.d)(_):(0,He.T)(()=>new Dt.K))}())}expandSegment(_,v,M,P,B,fe){return(0,ie.D)(M).pipe((0,Tn.b)(Te=>this.expandSegmentAgainstRoute(_,v,M,Te,P,B,fe).pipe(de(Jt=>{if(Jt instanceof ze)return(0,Fe.of)(null);throw Jt}))),(0,qt.P)(Te=>!!Te),de((Te,lt)=>{if(Te instanceof Dt.K||"EmptyError"===Te.name)return Ce(v,P,B)?(0,Fe.of)(new at([],{})):jt(v);throw Te}))}expandSegmentAgainstRoute(_,v,M,P,B,fe,Te){return Y(P,v,B,fe)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(_,v,P,B,fe):Te&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(_,v,M,P,B,fe):jt(v):jt(v)}expandSegmentAgainstRouteUsingRedirect(_,v,M,P,B,fe){return"**"===P.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(_,M,P,fe):this.expandRegularSegmentAgainstRouteUsingRedirect(_,v,M,P,B,fe)}expandWildCardWithParamsAgainstRouteUsingRedirect(_,v,M,P){const B=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?mn(B):this.lineralizeSegments(M,B).pipe((0,on.z)(fe=>{const Te=new at(fe,{});return this.expandSegment(_,Te,v,fe,P,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(_,v,M,P,B,fe){const{matched:Te,consumedSegments:lt,remainingSegments:Jt,positionalParamSegments:Zt}=Ae(v,P,B);if(!Te)return jt(v);const yn=this.applyRedirectCommands(lt,P.redirectTo,Zt);return P.redirectTo.startsWith("/")?mn(yn):this.lineralizeSegments(P,yn).pipe((0,on.z)(Fn=>this.expandSegment(_,v,M,Fn.concat(Jt),fe,!1)))}matchSegmentAgainstRoute(_,v,M,P,B){if("**"===M.path)return M.loadChildren?(M._loadedConfig?(0,Fe.of)(M._loadedConfig):this.configLoader.load(_.injector,M)).pipe((0,Bt.U)(yn=>(M._loadedConfig=yn,new at(P,{})))):(0,Fe.of)(new at(P,{}));const{matched:fe,consumedSegments:Te,remainingSegments:lt}=Ae(v,M,P);return fe?this.getChildConfig(_,M,P).pipe((0,on.z)(Zt=>{const yn=Zt.module,Fn=Zt.routes,{segmentGroup:cr,slicedSegments:Ei}=it(v,Te,lt,Fn),Nr=new at(cr.segments,cr.children);if(0===Ei.length&&Nr.hasChildren())return this.expandChildren(yn,Fn,Nr).pipe((0,Bt.U)(vs=>new at(Te,vs)));if(0===Fn.length&&0===Ei.length)return(0,Fe.of)(new at(Te,{}));const vo=G(M)===B;return this.expandSegment(yn,Nr,Fn,Ei,vo?Ve:B,!0).pipe((0,Bt.U)(br=>new at(Te.concat(br.segments),br.children)))})):jt(v)}getChildConfig(_,v,M){return v.children?(0,Fe.of)(new qi(v.children,_)):v.loadChildren?void 0!==v._loadedConfig?(0,Fe.of)(v._loadedConfig):this.runCanLoadGuards(_.injector,v,M).pipe((0,on.z)(P=>P?this.configLoader.load(_.injector,v).pipe((0,Bt.U)(B=>(v._loadedConfig=B,B))):function hr(b){return tt(hn(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))}(v))):(0,Fe.of)(new qi([],_))}runCanLoadGuards(_,v,M){const P=v.canLoad;if(!P||0===P.length)return(0,Fe.of)(!0);const B=P.map(fe=>{const Te=_.get(fe);let lt;if(function lr(b){return b&&ui(b.canLoad)}(Te))lt=Te.canLoad(v,M);else{if(!ui(Te))throw new Error("Invalid CanLoad guard");lt=Te(v,M)}return X(lt)});return(0,Fe.of)(B).pipe(ni(),(0,Kt.b)(fe=>{if(!Zr(fe))return;const Te=hn(`Redirecting to "${this.urlSerializer.serialize(fe)}"`);throw Te.url=fe,Te}),(0,Bt.U)(fe=>!0===fe))}lineralizeSegments(_,v){let M=[],P=v.root;for(;;){if(M=M.concat(P.segments),0===P.numberOfChildren)return(0,Fe.of)(M);if(P.numberOfChildren>1||!P.children[Ve])return tt(new Error(`Only absolute redirects can have named outlets. redirectTo: '${_.redirectTo}'`));P=P.children[Ve]}}applyRedirectCommands(_,v,M){return this.applyRedirectCreatreUrlTree(v,this.urlSerializer.parse(v),_,M)}applyRedirectCreatreUrlTree(_,v,M,P){const B=this.createSegmentGroup(_,v.root,M,P);return new rt(B,this.createQueryParams(v.queryParams,this.urlTree.queryParams),v.fragment)}createQueryParams(_,v){const M={};return N(_,(P,B)=>{if("string"==typeof P&&P.startsWith(":")){const Te=P.substring(1);M[B]=v[Te]}else M[B]=P}),M}createSegmentGroup(_,v,M,P){const B=this.createSegments(_,v.segments,M,P);let fe={};return N(v.children,(Te,lt)=>{fe[lt]=this.createSegmentGroup(_,Te,M,P)}),new at(B,fe)}createSegments(_,v,M,P){return v.map(B=>B.path.startsWith(":")?this.findPosParam(_,B,P):this.findOrReturn(B,M))}findPosParam(_,v,M){const P=M[v.path.substring(1)];if(!P)throw new Error(`Cannot redirect to '${_}'. Cannot find '${v.path}'.`);return P}findOrReturn(_,v){let M=0;for(const P of v){if(P.path===_.path)return v.splice(M),P;M++}return _}}function O(b){const _={};for(const M of Object.keys(b.children)){const B=O(b.children[M]);(B.segments.length>0||B.hasChildren())&&(_[M]=B)}return function Vn(b){if(1===b.numberOfChildren&&b.children[Ve]){const _=b.children[Ve];return new at(b.segments.concat(_.segments),_.children)}return b}(new at(b.segments,_))}class T{constructor(_){this.path=_,this.route=this.path[this.path.length-1]}}class Z{constructor(_,v){this.component=_,this.route=v}}function he(b,_,v){const M=b._root;return Vi(M,_?_._root:null,v,[M.value])}function Xn(b,_,v){const M=function rr(b){if(!b)return null;for(let _=b.parent;_;_=_.parent){const v=_.routeConfig;if(v&&v._loadedConfig)return v._loadedConfig}return null}(_);return(M?M.module.injector:v).get(b)}function Vi(b,_,v,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=dr(_);return b.children.forEach(fe=>{(function Ui(b,_,v,M,P={canDeactivateChecks:[],canActivateChecks:[]}){const B=b.value,fe=_?_.value:null,Te=v?v.getContext(b.value.outlet):null;if(fe&&B.routeConfig===fe.routeConfig){const lt=function Ai(b,_,v){if("function"==typeof v)return v(b,_);switch(v){case"pathParamsChange":return!bn(b.url,_.url);case"pathParamsOrQueryParamsChange":return!bn(b.url,_.url)||!dn(b.queryParams,_.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vr(b,_)||!dn(b.queryParams,_.queryParams);default:return!Vr(b,_)}}(fe,B,B.routeConfig.runGuardsAndResolvers);lt?P.canActivateChecks.push(new T(M)):(B.data=fe.data,B._resolvedData=fe._resolvedData),Vi(b,_,B.component?Te?Te.children:null:v,M,P),lt&&Te&&Te.outlet&&Te.outlet.isActivated&&P.canDeactivateChecks.push(new Z(Te.outlet.component,fe))}else fe&&as(_,Te,P),P.canActivateChecks.push(new T(M)),Vi(b,null,B.component?Te?Te.children:null:v,M,P)})(fe,B[fe.value.outlet],v,M.concat([fe.value]),P),delete B[fe.value.outlet]}),N(B,(fe,Te)=>as(fe,v.getContext(Te),P)),P}function as(b,_,v){const M=dr(b),P=b.value;N(M,(B,fe)=>{as(B,P.component?_?_.children.getContext(fe):null:_,v)}),v.canDeactivateChecks.push(new Z(P.component&&_&&_.outlet&&_.outlet.isActivated?_.outlet.component:null,P))}class zs{}function Bi(b){return new m.y(_=>_.error(b))}class $o{constructor(_,v,M,P,B,fe){this.rootComponentType=_,this.config=v,this.urlTree=M,this.url=P,this.paramsInheritanceStrategy=B,this.relativeLinkResolution=fe}recognize(){const _=it(this.urlTree.root,[],[],this.config.filter(fe=>void 0===fe.redirectTo),this.relativeLinkResolution).segmentGroup,v=this.processSegmentGroup(this.config,_,Ve);if(null===v)return null;const M=new Jn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),P=new Or(M,v),B=new vr(this.url,P);return this.inheritParamsAndData(B._root),B}inheritParamsAndData(_){const v=_.value,M=Rt(v,this.paramsInheritanceStrategy);v.params=Object.freeze(M.params),v.data=Object.freeze(M.data),_.children.forEach(P=>this.inheritParamsAndData(P))}processSegmentGroup(_,v,M){return 0===v.segments.length&&v.hasChildren()?this.processChildren(_,v):this.processSegment(_,v,v.segments,M)}processChildren(_,v){const M=[];for(const B of Object.keys(v.children)){const fe=v.children[B],Te=x(_,B),lt=this.processSegmentGroup(Te,fe,B);if(null===lt)return null;M.push(...lt)}const P=Us(M);return function Wa(b){b.sort((_,v)=>_.value.outlet===Ve?-1:v.value.outlet===Ve?1:_.value.outlet.localeCompare(v.value.outlet))}(P),P}processSegment(_,v,M,P){for(const B of _){const fe=this.processSegmentAgainstRoute(B,v,M,P);if(null!==fe)return fe}return Ce(v,M,P)?[]:null}processSegmentAgainstRoute(_,v,M,P){if(_.redirectTo||!Y(_,v,M,P))return null;let B,fe=[],Te=[];if("**"===_.path){const cr=M.length>0?J(M).parameters:{};B=new Jn(M,cr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qs(_),G(_),_.component,_,Ho(v),go(v)+M.length,Js(_))}else{const cr=Ae(v,_,M);if(!cr.matched)return null;fe=cr.consumedSegments,Te=cr.remainingSegments,B=new Jn(fe,cr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qs(_),G(_),_.component,_,Ho(v),go(v)+fe.length,Js(_))}const lt=function Co(b){return b.children?b.children:b.loadChildren?b._loadedConfig.routes:[]}(_),{segmentGroup:Jt,slicedSegments:Zt}=it(v,fe,Te,lt.filter(cr=>void 0===cr.redirectTo),this.relativeLinkResolution);if(0===Zt.length&&Jt.hasChildren()){const cr=this.processChildren(lt,Jt);return null===cr?null:[new Or(B,cr)]}if(0===lt.length&&0===Zt.length)return[new Or(B,[])];const yn=G(_)===P,Fn=this.processSegment(lt,Jt,Zt,yn?Ve:P);return null===Fn?null:[new Or(B,Fn)]}}function Go(b){const _=b.value.routeConfig;return _&&""===_.path&&void 0===_.redirectTo}function Us(b){const _=[],v=new Set;for(const M of b){if(!Go(M)){_.push(M);continue}const P=_.find(B=>M.value.routeConfig===B.value.routeConfig);void 0!==P?(P.children.push(...M.children),v.add(P)):_.push(M)}for(const M of v){const P=Us(M.children);_.push(new Or(M.value,P))}return _.filter(M=>!v.has(M))}function Ho(b){let _=b;for(;_._sourceSegment;)_=_._sourceSegment;return _}function go(b){let _=b,v=_._segmentIndexShift?_._segmentIndexShift:0;for(;_._sourceSegment;)_=_._sourceSegment,v+=_._segmentIndexShift?_._segmentIndexShift:0;return v-1}function Qs(b){return b.data||{}}function Js(b){return b.resolve||{}}function Ms(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function ha(b){return(0,Ut.w)(_=>{const v=b(_);return v?(0,ie.D)(v).pipe((0,Bt.U)(()=>_)):(0,Fe.of)(_)})}class Ur extends class Xs{shouldDetach(_){return!1}store(_,v){}shouldAttach(_){return!1}retrieve(_){return null}shouldReuseRoute(_,v){return _.routeConfig===v.routeConfig}}{}const Qi=new f.OlP("ROUTES");class wu{constructor(_,v,M,P){this.injector=_,this.compiler=v,this.onLoadStartListener=M,this.onLoadEndListener=P}load(_,v){if(v._loader$)return v._loader$;this.onLoadStartListener&&this.onLoadStartListener(v);const P=this.loadModuleFactory(v.loadChildren).pipe((0,Bt.U)(B=>{this.onLoadEndListener&&this.onLoadEndListener(v);const fe=B.create(_);return new qi(me(fe.injector.get(Qi,void 0,f.XFs.Self|f.XFs.Optional)).map(R),fe)}),de(B=>{throw v._loader$=void 0,B}));return v._loader$=new Ze(P,()=>new je.x).pipe(At()),v._loader$}loadModuleFactory(_){return X(_()).pipe((0,on.z)(v=>v instanceof f.YKP?(0,Fe.of)(v):(0,ie.D)(this.compiler.compileModuleAsync(v))))}}class zo{shouldProcessUrl(_){return!0}extract(_){return _}merge(_,v){return _}}function zl(b){throw b}function fa(b,_,v){return _.parse("/")}function us(b,_){return(0,Fe.of)(null)}const To={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pa={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Si=(()=>{class b{constructor(v,M,P,B,fe,Te,lt){this.rootComponentType=v,this.urlSerializer=M,this.rootContexts=P,this.location=B,this.config=lt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.x,this.errorHandler=zl,this.malformedUriErrorHandler=fa,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:us,afterPreactivation:us},this.urlHandlingStrategy=new zo,this.routeReuseStrategy=new Ur,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=fe.get(f.h0i),this.console=fe.get(f.c2e);const yn=fe.get(f.R0b);this.isNgZoneEnabled=yn instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(lt),this.currentUrlTree=function ee(){return new rt(new at([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wu(fe,Te,Fn=>this.triggerEvent(new an(Fn)),Fn=>this.triggerEvent(new er(Fn))),this.routerState=be(this.currentUrlTree,this.rootComponentType),this.transitions=new qe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var v;return null===(v=this.location.getState())||void 0===v?void 0:v.\u0275routerPageId}setupNavigations(v){const M=this.events;return v.pipe((0,Ne.h)(P=>0!==P.id),(0,Bt.U)(P=>Object.assign(Object.assign({},P),{extractedUrl:this.urlHandlingStrategy.extract(P.rawUrl)})),(0,Ut.w)(P=>{let B=!1,fe=!1;return(0,Fe.of)(P).pipe((0,Kt.b)(Te=>{this.currentNavigation={id:Te.id,initialUrl:Te.currentRawUrl,extractedUrl:Te.extractedUrl,trigger:Te.source,extras:Te.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ut.w)(Te=>{const lt=this.browserUrlTree.toString(),Jt=!this.navigated||Te.extractedUrl.toString()!==lt||lt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Jt)&&this.urlHandlingStrategy.shouldProcessUrl(Te.rawUrl))return Wo(Te.source)&&(this.browserUrlTree=Te.extractedUrl),(0,Fe.of)(Te).pipe((0,Ut.w)(yn=>{const Fn=this.transitions.getValue();return M.next(new _n(yn.id,this.serializeUrl(yn.extractedUrl),yn.source,yn.restoredState)),Fn!==this.transitions.getValue()?Re.E:Promise.resolve(yn)}),function A(b,_,v,M){return(0,Ut.w)(P=>function gr(b,_,v,M,P){return new mr(b,_,v,M,P).apply()}(b,_,v,P.extractedUrl,M).pipe((0,Bt.U)(B=>Object.assign(Object.assign({},P),{urlAfterRedirects:B}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kt.b)(yn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:yn.urlAfterRedirects})}),function Ws(b,_,v,M,P){return(0,on.z)(B=>function la(b,_,v,M,P="emptyOnly",B="legacy"){try{const fe=new $o(b,_,v,M,P,B).recognize();return null===fe?Bi(new zs):(0,Fe.of)(fe)}catch(fe){return Bi(fe)}}(b,_,B.urlAfterRedirects,v(B.urlAfterRedirects),M,P).pipe((0,Bt.U)(fe=>Object.assign(Object.assign({},B),{targetSnapshot:fe}))))}(this.rootComponentType,this.config,yn=>this.serializeUrl(yn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kt.b)(yn=>{if("eager"===this.urlUpdateStrategy){if(!yn.extras.skipLocationChange){const cr=this.urlHandlingStrategy.merge(yn.urlAfterRedirects,yn.rawUrl);this.setBrowserUrl(cr,yn)}this.browserUrlTree=yn.urlAfterRedirects}const Fn=new tn(yn.id,this.serializeUrl(yn.extractedUrl),this.serializeUrl(yn.urlAfterRedirects),yn.targetSnapshot);M.next(Fn)}));if(Jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Fn,extractedUrl:cr,source:Ei,restoredState:Nr,extras:vo}=Te,ds=new _n(Fn,this.serializeUrl(cr),Ei,Nr);M.next(ds);const br=be(cr,this.rootComponentType).snapshot;return(0,Fe.of)(Object.assign(Object.assign({},Te),{targetSnapshot:br,urlAfterRedirects:cr,extras:Object.assign(Object.assign({},vo),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=Te.rawUrl,Te.resolve(null),Re.E}),ha(Te=>{const{targetSnapshot:lt,id:Jt,extractedUrl:Zt,rawUrl:yn,extras:{skipLocationChange:Fn,replaceUrl:cr}}=Te;return this.hooks.beforePreactivation(lt,{navigationId:Jt,appliedUrlTree:Zt,rawUrlTree:yn,skipLocationChange:!!Fn,replaceUrl:!!cr})}),(0,Kt.b)(Te=>{const lt=new Wn(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot);this.triggerEvent(lt)}),(0,Bt.U)(Te=>Object.assign(Object.assign({},Te),{guards:he(Te.targetSnapshot,Te.currentSnapshot,this.rootContexts)})),function Hs(b,_){return(0,on.z)(v=>{const{targetSnapshot:M,currentSnapshot:P,guards:{canActivateChecks:B,canDeactivateChecks:fe}}=v;return 0===fe.length&&0===B.length?(0,Fe.of)(Object.assign(Object.assign({},v),{guardsResult:!0})):function ua(b,_,v,M){return(0,ie.D)(b).pipe((0,on.z)(P=>function Ss(b,_,v,M,P){const B=_&&_.routeConfig?_.routeConfig.canDeactivate:null;if(!B||0===B.length)return(0,Fe.of)(!0);const fe=B.map(Te=>{const lt=Xn(Te,_,P);let Jt;if(function Gr(b){return b&&ui(b.canDeactivate)}(lt))Jt=X(lt.canDeactivate(b,_,v,M));else{if(!ui(lt))throw new Error("Invalid CanDeactivate guard");Jt=X(lt(b,_,v,M))}return Jt.pipe((0,qt.P)())});return(0,Fe.of)(fe).pipe(ni())}(P.component,P.route,v,_,M)),(0,qt.P)(P=>!0!==P,!0))}(fe,M,P,b).pipe((0,on.z)(Te=>Te&&function Ci(b){return"boolean"==typeof b}(Te)?function za(b,_,v,M){return(0,ie.D)(_).pipe((0,Tn.b)(P=>(0,le.z)(function Do(b,_){return null!==b&&_&&_(new pr(b)),(0,Fe.of)(!0)}(P.route.parent,M),function As(b,_){return null!==b&&_&&_(new ye(b)),(0,Fe.of)(!0)}(P.route,M),function ys(b,_,v){const M=_[_.length-1],B=_.slice(0,_.length-1).reverse().map(fe=>function St(b){const _=b.routeConfig?b.routeConfig.canActivateChild:null;return _&&0!==_.length?{node:b,guards:_}:null}(fe)).filter(fe=>null!==fe).map(fe=>ce(()=>{const Te=fe.guards.map(lt=>{const Jt=Xn(lt,fe.node,v);let Zt;if(function gs(b){return b&&ui(b.canActivateChild)}(Jt))Zt=X(Jt.canActivateChild(M,b));else{if(!ui(Jt))throw new Error("Invalid CanActivateChild guard");Zt=X(Jt(M,b))}return Zt.pipe((0,qt.P)())});return(0,Fe.of)(Te).pipe(ni())}));return(0,Fe.of)(B).pipe(ni())}(b,P.path,v),function vi(b,_,v){const M=_.routeConfig?_.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Fe.of)(!0);const P=M.map(B=>ce(()=>{const fe=Xn(B,_,v);let Te;if(function Li(b){return b&&ui(b.canActivate)}(fe))Te=X(fe.canActivate(_,b));else{if(!ui(fe))throw new Error("Invalid CanActivate guard");Te=X(fe(_,b))}return Te.pipe((0,qt.P)())}));return(0,Fe.of)(P).pipe(ni())}(b,P.route,v))),(0,qt.P)(P=>!0!==P,!0))}(M,B,b,_):(0,Fe.of)(Te)),(0,Bt.U)(Te=>Object.assign(Object.assign({},v),{guardsResult:Te})))})}(this.ngModule.injector,Te=>this.triggerEvent(Te)),(0,Kt.b)(Te=>{if(Zr(Te.guardsResult)){const Jt=hn(`Redirecting to "${this.serializeUrl(Te.guardsResult)}"`);throw Jt.url=Te.guardsResult,Jt}const lt=new Ht(Te.id,this.serializeUrl(Te.extractedUrl),this.serializeUrl(Te.urlAfterRedirects),Te.targetSnapshot,!!Te.guardsResult);this.triggerEvent(lt)}),(0,Ne.h)(Te=>!!Te.guardsResult||(this.restoreHistory(Te),this.cancelNavigationTransition(Te,""),!1)),ha(Te=>{if(Te.guards.canActivateChecks.length)return(0,Fe.of)(Te).pipe((0,Kt.b)(lt=>{const Jt=new Er(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Jt)}),(0,Ut.w)(lt=>{let Jt=!1;return(0,Fe.of)(lt).pipe(function mo(b,_){return(0,on.z)(v=>{const{targetSnapshot:M,guards:{canActivateChecks:P}}=v;if(!P.length)return(0,Fe.of)(v);let B=0;return(0,ie.D)(P).pipe((0,Tn.b)(fe=>function ca(b,_,v,M){return function da(b,_,v,M){const P=Ms(b);if(0===P.length)return(0,Fe.of)({});const B={};return(0,ie.D)(P).pipe((0,on.z)(fe=>function Iu(b,_,v,M){const P=Xn(b,_,M);return X(P.resolve?P.resolve(_,v):P(_,v))}(b[fe],_,v,M).pipe((0,Kt.b)(Te=>{B[fe]=Te}))),Be(1),(0,on.z)(()=>Ms(B).length===P.length?(0,Fe.of)(B):Re.E))}(b._resolve,b,_,M).pipe((0,Bt.U)(B=>(b._resolvedData=B,b.data=Object.assign(Object.assign({},b.data),Rt(b,v).resolve),null)))}(fe.route,M,b,_)),(0,Kt.b)(()=>B++),Be(1),(0,on.z)(fe=>B===P.length?(0,Fe.of)(v):Re.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kt.b)({next:()=>Jt=!0,complete:()=>{Jt||(this.restoreHistory(lt),this.cancelNavigationTransition(lt,"At least one route resolver didn't emit any value."))}}))}),(0,Kt.b)(lt=>{const Jt=new Cn(lt.id,this.serializeUrl(lt.extractedUrl),this.serializeUrl(lt.urlAfterRedirects),lt.targetSnapshot);this.triggerEvent(Jt)}))}),ha(Te=>{const{targetSnapshot:lt,id:Jt,extractedUrl:Zt,rawUrl:yn,extras:{skipLocationChange:Fn,replaceUrl:cr}}=Te;return this.hooks.afterPreactivation(lt,{navigationId:Jt,appliedUrlTree:Zt,rawUrlTree:yn,skipLocationChange:!!Fn,replaceUrl:!!cr})}),(0,Bt.U)(Te=>{const lt=function Ri(b,_,v){const M=_r(b,_._root,v?v._root:void 0);return new Pe(M,_)}(this.routeReuseStrategy,Te.targetSnapshot,Te.currentRouterState);return Object.assign(Object.assign({},Te),{targetRouterState:lt})}),(0,Kt.b)(Te=>{this.currentUrlTree=Te.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Te.urlAfterRedirects,Te.rawUrl),this.routerState=Te.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Te.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Te),this.browserUrlTree=Te.urlAfterRedirects)}),((b,_,v)=>(0,Bt.U)(M=>(new mi(_,M.targetRouterState,M.currentRouterState,v).activate(b),M)))(this.rootContexts,this.routeReuseStrategy,Te=>this.triggerEvent(Te)),(0,Kt.b)({next(){B=!0},complete(){B=!0}}),function Pt(b){return(0,Ct.e)((_,v)=>{try{_.subscribe(v)}finally{v.add(b)}})}(()=>{var Te;B||fe||this.cancelNavigationTransition(P,`Navigation ID ${P.id} is not equal to the current navigation id ${this.navigationId}`),(null===(Te=this.currentNavigation)||void 0===Te?void 0:Te.id)===P.id&&(this.currentNavigation=null)}),de(Te=>{if(fe=!0,function sn(b){return b&&b[gn]}(Te)){const lt=Zr(Te.url);lt||(this.navigated=!0,this.restoreHistory(P,!0));const Jt=new qn(P.id,this.serializeUrl(P.extractedUrl),Te.message);M.next(Jt),lt?setTimeout(()=>{const Zt=this.urlHandlingStrategy.merge(Te.url,this.rawUrlTree),yn={skipLocationChange:P.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Wo(P.source)};this.scheduleNavigation(Zt,"imperative",null,yn,{resolve:P.resolve,reject:P.reject,promise:P.promise})},0):P.resolve(!1)}else{this.restoreHistory(P,!0);const lt=new Yn(P.id,this.serializeUrl(P.extractedUrl),Te);M.next(lt);try{P.resolve(this.errorHandler(Te))}catch(Jt){P.reject(Jt)}}return Re.E}))}))}resetRootComponentType(v){this.rootComponentType=v,this.routerState.root.component=this.rootComponentType}setTransition(v){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),v))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(v=>{const M="popstate"===v.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{var P;const B={replaceUrl:!0},fe=(null===(P=v.state)||void 0===P?void 0:P.navigationId)?v.state:null;if(fe){const lt=Object.assign({},fe);delete lt.navigationId,delete lt.\u0275routerPageId,0!==Object.keys(lt).length&&(B.state=lt)}const Te=this.parseUrl(v.url);this.scheduleNavigation(Te,M,fe,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(v){this.events.next(v)}resetConfig(v){Ni(v),this.config=v.map(R),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(v,M={}){const{relativeTo:P,queryParams:B,fragment:fe,queryParamsHandling:Te,preserveFragment:lt}=M,Jt=P||this.routerState.root,Zt=lt?this.currentUrlTree.fragment:fe;let yn=null;switch(Te){case"merge":yn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),B);break;case"preserve":yn=this.currentUrlTree.queryParams;break;default:yn=B||null}return null!==yn&&(yn=this.removeEmptyProps(yn)),function Qr(b,_,v,M,P){if(0===v.length)return ns(_.root,_.root,_.root,M,P);const B=function rs(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new fo(!0,0,b);let _=0,v=!1;const M=b.reduce((P,B,fe)=>{if("object"==typeof B&&null!=B){if(B.outlets){const Te={};return N(B.outlets,(lt,Jt)=>{Te[Jt]="string"==typeof lt?lt.split("/"):lt}),[...P,{outlets:Te}]}if(B.segmentPath)return[...P,B.segmentPath]}return"string"!=typeof B?[...P,B]:0===fe?(B.split("/").forEach((Te,lt)=>{0==lt&&"."===Te||(0==lt&&""===Te?v=!0:".."===Te?_++:""!=Te&&P.push(Te))}),P):[...P,B]},[]);return new fo(v,_,M)}(v);if(B.toRoot())return ns(_.root,_.root,new at([],{}),M,P);const fe=function is(b,_,v){if(b.isAbsolute)return new Gs(_.root,!0,0);if(-1===v.snapshot._lastPathIndex){const B=v.snapshot._urlSegment;return new Gs(B,B===_.root,0)}const M=ki(b.commands[0])?0:1;return function Oi(b,_,v){let M=b,P=_,B=v;for(;B>P;){if(B-=P,M=M.parent,!M)throw new Error("Invalid number of '../'");P=M.segments.length}return new Gs(M,!1,P-B)}(v.snapshot._urlSegment,v.snapshot._lastPathIndex+M,b.numberOfDoubleDots)}(B,_,b),Te=fe.processChildren?Ts(fe.segmentGroup,fe.index,B.commands):Cs(fe.segmentGroup,fe.index,B.commands);return ns(_.root,fe.segmentGroup,Te,M,P)}(Jt,this.currentUrlTree,v,yn,null!=Zt?Zt:null)}navigateByUrl(v,M={skipLocationChange:!1}){const P=Zr(v)?v:this.parseUrl(v),B=this.urlHandlingStrategy.merge(P,this.rawUrlTree);return this.scheduleNavigation(B,"imperative",null,M)}navigate(v,M={skipLocationChange:!1}){return function bu(b){for(let _=0;_<b.length;_++){const v=b[_];if(null==v)throw new Error(`The requested path contains ${v} segment at index ${_}`)}}(v),this.navigateByUrl(this.createUrlTree(v,M),M)}serializeUrl(v){return this.urlSerializer.serialize(v)}parseUrl(v){let M;try{M=this.urlSerializer.parse(v)}catch(P){M=this.malformedUriErrorHandler(P,this.urlSerializer,v)}return M}isActive(v,M){let P;if(P=!0===M?Object.assign({},To):!1===M?Object.assign({},pa):M,Zr(v))return dt(this.currentUrlTree,v,P);const B=this.parseUrl(v);return dt(this.currentUrlTree,B,P)}removeEmptyProps(v){return Object.keys(v).reduce((M,P)=>{const B=v[P];return null!=B&&(M[P]=B),M},{})}processNavigations(){this.navigations.subscribe(v=>{this.navigated=!0,this.lastSuccessfulId=v.id,this.currentPageId=v.targetPageId,this.events.next(new Ln(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,v.resolve(!0)},v=>{this.console.warn(`Unhandled Navigation Error: ${v}`)})}scheduleNavigation(v,M,P,B,fe){var Te,lt;if(this.disposed)return Promise.resolve(!1);let Jt,Zt,yn;fe?(Jt=fe.resolve,Zt=fe.reject,yn=fe.promise):yn=new Promise((Ei,Nr)=>{Jt=Ei,Zt=Nr});const Fn=++this.navigationId;let cr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(P=this.location.getState()),cr=P&&P.\u0275routerPageId?P.\u0275routerPageId:B.replaceUrl||B.skipLocationChange?null!==(Te=this.browserPageId)&&void 0!==Te?Te:0:(null!==(lt=this.browserPageId)&&void 0!==lt?lt:0)+1):cr=0,this.setTransition({id:Fn,targetPageId:cr,source:M,restoredState:P,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:v,extras:B,resolve:Jt,reject:Zt,promise:yn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),yn.catch(Ei=>Promise.reject(Ei))}setBrowserUrl(v,M){const P=this.urlSerializer.serialize(v),B=Object.assign(Object.assign({},M.extras.state),this.generateNgRouterState(M.id,M.targetPageId));this.location.isCurrentPathEqualTo(P)||M.extras.replaceUrl?this.location.replaceState(P,"",B):this.location.go(P,"",B)}restoreHistory(v,M=!1){var P,B;if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-v.targetPageId;"popstate"!==v.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(P=this.currentNavigation)||void 0===P?void 0:P.finalUrl)||0===fe?this.currentUrlTree===(null===(B=this.currentNavigation)||void 0===B?void 0:B.finalUrl)&&0===fe&&(this.resetState(v),this.browserUrlTree=v.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(fe)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(v),this.resetUrlToCurrentUrlTree())}resetState(v){this.routerState=v.currentRouterState,this.currentUrlTree=v.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(v,M){const P=new qn(v.id,this.serializeUrl(v.extractedUrl),M);this.triggerEvent(P),v.resolve(!1)}generateNgRouterState(v,M){return"computed"===this.canceledNavigationResolution?{navigationId:v,\u0275routerPageId:M}:{navigationId:v}}}return b.\u0275fac=function(v){f.$Z()},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();function Wo(b){return"imperative"!==b}let ls=(()=>{class b{constructor(v,M,P,B,fe){this.router=v,this.route=M,this.tabIndexAttribute=P,this.renderer=B,this.el=fe,this.commands=null,this.onChanges=new je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(v){if(null!=this.tabIndexAttribute)return;const M=this.renderer,P=this.el.nativeElement;null!==v?M.setAttribute(P,"tabindex",v):M.removeAttribute(P,"tabindex")}ngOnChanges(v){this.onChanges.next(this)}set routerLink(v){null!=v?(this.commands=Array.isArray(v)?v:[v],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const v={skipLocationChange:qr(this.skipLocationChange),replaceUrl:qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qr(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(f.Y36(Si),f.Y36(ft),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq))},b.\u0275dir=f.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(v,M){1&v&&f.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),b})(),xs=(()=>{class b{constructor(v,M,P){this.router=v,this.route=M,this.locationStrategy=P,this.commands=null,this.href=null,this.onChanges=new je.x,this.subscription=v.events.subscribe(B=>{B instanceof Ln&&this.updateTargetUrlAndHref()})}set routerLink(v){this.commands=null!=v?Array.isArray(v)?v:[v]:null}ngOnChanges(v){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(v,M,P,B,fe){if(0!==v||M||P||B||fe||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const Te={skipLocationChange:qr(this.skipLocationChange),replaceUrl:qr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,Te),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:qr(this.preserveFragment)})}}return b.\u0275fac=function(v){return new(v||b)(f.Y36(Si),f.Y36(ft),f.Y36(Dn.S$))},b.\u0275dir=f.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(v,M){1&v&&f.NdJ("click",function(B){return M.onClick(B.button,B.ctrlKey,B.shiftKey,B.altKey,B.metaKey)}),2&v&&f.uIk("target",M.target)("href",M.href,f.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[f.TTD]}),b})();function qr(b){return""===b||!!b}let Bs=(()=>{class b{constructor(v,M,P,B,fe,Te){this.router=v,this.element=M,this.renderer=P,this.cdr=B,this.link=fe,this.linkWithHref=Te,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new f.vpe,this.routerEventsSubscription=v.events.subscribe(lt=>{lt instanceof Ln&&this.update()})}ngAfterContentInit(){(0,Fe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Fe.of)(null)).pipe((0,pn.J)()).subscribe(v=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var v;null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe();const M=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(P=>!!P).map(P=>P.onChanges);this.linkInputChangesSubscription=(0,ie.D)(M).pipe((0,pn.J)()).subscribe(P=>{this.isActive!==this.isLinkActive(this.router)(P)&&this.update()})}set routerLinkActive(v){const M=Array.isArray(v)?v:v.split(" ");this.classes=M.filter(P=>!!P)}ngOnChanges(v){this.update()}ngOnDestroy(){var v;this.routerEventsSubscription.unsubscribe(),null===(v=this.linkInputChangesSubscription)||void 0===v||v.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const v=this.hasActiveLinks();this.isActive!==v&&(this.isActive=v,this.cdr.markForCheck(),this.classes.forEach(M=>{v?this.renderer.addClass(this.element.nativeElement,M):this.renderer.removeClass(this.element.nativeElement,M)}),this.isActiveChange.emit(v))})}isLinkActive(v){const M=function cs(b){return!!b.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return P=>!!P.urlTree&&v.isActive(P.urlTree,M)}hasActiveLinks(){const v=this.isLinkActive(this.router);return this.link&&v(this.link)||this.linkWithHref&&v(this.linkWithHref)||this.links.some(v)||this.linksWithHrefs.some(v)}}return b.\u0275fac=function(v){return new(v||b)(f.Y36(Si),f.Y36(f.SBq),f.Y36(f.Qsj),f.Y36(f.sBO),f.Y36(ls,8),f.Y36(xs,8))},b.\u0275dir=f.lG2({type:b,selectors:[["","routerLinkActive",""]],contentQueries:function(v,M,P){if(1&v&&(f.Suo(P,ls,5),f.Suo(P,xs,5)),2&v){let B;f.iGM(B=f.CRH())&&(M.links=B),f.iGM(B=f.CRH())&&(M.linksWithHrefs=B)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[f.TTD]}),b})();class Ao{}class Vt{preload(_,v){return(0,Fe.of)(null)}}let li=(()=>{class b{constructor(v,M,P,B){this.router=v,this.injector=P,this.preloadingStrategy=B,this.loader=new wu(P,M,lt=>v.triggerEvent(new an(lt)),lt=>v.triggerEvent(new er(lt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(v=>v instanceof Ln),(0,Tn.b)(()=>this.preload())).subscribe(()=>{})}preload(){const v=this.injector.get(f.h0i);return this.processRoutes(v,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(v,M){const P=[];for(const B of M)if(B.loadChildren&&!B.canLoad&&B._loadedConfig){const fe=B._loadedConfig;P.push(this.processRoutes(fe.module,fe.routes))}else B.loadChildren&&!B.canLoad?P.push(this.preloadConfig(v,B)):B.children&&P.push(this.processRoutes(v,B.children));return(0,ie.D)(P).pipe((0,pn.J)(),(0,Bt.U)(B=>{}))}preloadConfig(v,M){return this.preloadingStrategy.preload(M,()=>(M._loadedConfig?(0,Fe.of)(M._loadedConfig):this.loader.load(v.injector,M)).pipe((0,on.z)(B=>(M._loadedConfig=B,this.processRoutes(B.module,B.routes)))))}}return b.\u0275fac=function(v){return new(v||b)(f.LFG(Si),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(Ao))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})(),yo=(()=>{class b{constructor(v,M,P={}){this.router=v,this.viewportScroller=M,this.options=P,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},P.scrollPositionRestoration=P.scrollPositionRestoration||"disabled",P.anchorScrolling=P.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(v=>{v instanceof _n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=v.navigationTrigger,this.restoredId=v.restoredState?v.restoredState.navigationId:0):v instanceof Ln&&(this.lastId=v.id,this.scheduleScrollEvent(v,this.router.parseUrl(v.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(v=>{v instanceof mt&&(v.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(v.position):v.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(v.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(v,M){this.router.triggerEvent(new mt(v,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(v){f.$Z()},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();const nn=new f.OlP("ROUTER_CONFIGURATION"),Pn=new f.OlP("ROUTER_FORROOT_GUARD"),ma=[Dn.Ye,{provide:tr,useClass:ir},{provide:Si,useFactory:function So(b,_,v,M,P,B,fe={},Te,lt){const Jt=new Si(null,b,_,v,M,P,me(B));return Te&&(Jt.urlHandlingStrategy=Te),lt&&(Jt.routeReuseStrategy=lt),function Wl(b,_){b.errorHandler&&(_.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(_.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(_.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(_.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(_.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(_.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(_.canceledNavigationResolution=b.canceledNavigationResolution)}(fe,Jt),fe.enableTracing&&Jt.events.subscribe(Zt=>{var yn,Fn;null===(yn=console.group)||void 0===yn||yn.call(console,`Router Event: ${Zt.constructor.name}`),console.log(Zt.toString()),console.log(Zt),null===(Fn=console.groupEnd)||void 0===Fn||Fn.call(console)}),Jt},deps:[tr,Ki,Dn.Ye,f.zs3,f.Sil,Qi,nn,[class ll{},new f.FiY],[class ji{},new f.FiY]]},Ki,{provide:ft,useFactory:function Du(b){return b.routerState.root},deps:[Si]},li,Vt,class cl{preload(_,v){return v().pipe(de(()=>(0,Fe.of)(null)))}},{provide:nn,useValue:{enableTracing:!1}}];function Wt(){return new f.PXZ("Router",Si)}let st=(()=>{class b{constructor(v,M){}static forRoot(v,M){return{ngModule:b,providers:[ma,ya(v),{provide:Pn,useFactory:Zs,deps:[[Si,new f.FiY,new f.tp0]]},{provide:nn,useValue:M||{}},{provide:Dn.S$,useFactory:_i,deps:[Dn.lw,[new f.tBr(Dn.mr),new f.FiY],nn]},{provide:yo,useFactory:vt,deps:[Si,Dn.EM,nn]},{provide:Ao,useExisting:M&&M.preloadingStrategy?M.preloadingStrategy:Vt},{provide:f.PXZ,multi:!0,useFactory:Wt},[Zo,{provide:f.ip1,multi:!0,useFactory:Cu,deps:[Zo]},{provide:Mo,useFactory:va,deps:[Zo]},{provide:f.tb,multi:!0,useExisting:Mo}]]}}static forChild(v){return{ngModule:b,providers:[ya(v)]}}}return b.\u0275fac=function(v){return new(v||b)(f.LFG(Pn,8),f.LFG(Si,8))},b.\u0275mod=f.oAB({type:b}),b.\u0275inj=f.cJS({}),b})();function vt(b,_,v){return v.scrollOffset&&_.setOffset(v.scrollOffset),new yo(b,_,v)}function _i(b,_,v={}){return v.useHash?new Dn.Do(b,_):new Dn.b0(b,_)}function Zs(b){return"guarded"}function ya(b){return[{provide:f.deG,multi:!0,useValue:b},{provide:Qi,multi:!0,useValue:b}]}let Zo=(()=>{class b{constructor(v){this.injector=v,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.x}appInitializer(){return this.injector.get(Dn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let M=null;const P=new Promise(Te=>M=Te),B=this.injector.get(Si),fe=this.injector.get(nn);return"disabled"===fe.initialNavigation?(B.setUpLocationChangeListener(),M(!0)):"enabled"===fe.initialNavigation||"enabledBlocking"===fe.initialNavigation?(B.hooks.afterPreactivation=()=>this.initNavigation?(0,Fe.of)(null):(this.initNavigation=!0,M(!0),this.resultOfPreactivationDone),B.initialNavigation()):M(!0),P})}bootstrapListener(v){const M=this.injector.get(nn),P=this.injector.get(li),B=this.injector.get(yo),fe=this.injector.get(Si),Te=this.injector.get(f.z2F);v===Te.components[0]&&(("enabledNonBlocking"===M.initialNavigation||void 0===M.initialNavigation)&&fe.initialNavigation(),P.setUpPreloading(),B.init(),fe.resetRootComponentType(Te.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(v){return new(v||b)(f.LFG(f.zs3))},b.\u0275prov=f.Yz7({token:b,factory:b.\u0275fac}),b})();function Cu(b){return b.appInitializer.bind(b)}function va(b){return b.bootstrapListener.bind(b)}const Mo=new f.OlP("Router Initializer")},579:(kt,Ue,S)=>{S.d(Ue,{EI:()=>me,Gb:()=>sn,Iv:()=>dn,Kz:()=>J,Xd:()=>Ht,lT:()=>Bn,xP:()=>se});var f=S(5861),m=S(9681),W=S(1877),ie=S(2090),V=S(4859);S(2833);const ge="analytics",re="firebase_id",ue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xe="https://www.googletagmanager.com/gtag/js",Qe=new W.Yd("@firebase/analytics");function Ge(ee){return Promise.all(ee.map(Se=>Se.catch(Ye=>Ye)))}function tt(ee,Se){const Ye=document.createElement("script");Ye.src=`${xe}?l=${ee}&id=${Se}`,Ye.async=!0,document.head.appendChild(Ye)}function ce(ee,Se,Ye,dt,Mt,ht){return et.apply(this,arguments)}function et(){return(et=(0,f.Z)(function*(ee,Se,Ye,dt,Mt,ht){const Lt=dt[Mt];try{if(Lt)yield Se[Lt];else{const _e=(yield Ge(Ye)).find(ae=>ae.measurementId===Mt);_e&&(yield Se[_e.appId])}}catch(ke){Qe.error(ke)}ee("config",Mt,ht)})).apply(this,arguments)}function Ct(ee,Se,Ye,dt,Mt){return At.apply(this,arguments)}function At(){return(At=(0,f.Z)(function*(ee,Se,Ye,dt,Mt){try{let ht=[];if(Mt&&Mt.send_to){let Lt=Mt.send_to;Array.isArray(Lt)||(Lt=[Lt]);const ke=yield Ge(Ye);for(const _e of Lt){const ae=ke.find(at=>at.measurementId===_e),rt=ae&&Se[ae.appId];if(!rt){ht=[];break}ht.push(rt)}}0===ht.length&&(ht=Object.values(Se)),yield Promise.all(ht),ee("event",dt,Mt||{})}catch(ht){Qe.error(ht)}})).apply(this,arguments)}function qe(){const ee=window.document.getElementsByTagName("script");for(const Se of Object.values(ee))if(Se.src&&Se.src.includes(xe))return Se;return null}const le=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ne=new class de{constructor(Se={},Ye=1e3){this.throttleMetadata=Se,this.intervalMillis=Ye}getThrottleMetadata(Se){return this.throttleMetadata[Se]}setThrottleMetadata(Se,Ye){this.throttleMetadata[Se]=Ye}deleteThrottleMetadata(Se){delete this.throttleMetadata[Se]}};function Be(ee){return new Headers({Accept:"application/json","x-goog-api-key":ee})}function He(ee){return Le.apply(this,arguments)}function Le(){return(Le=(0,f.Z)(function*(ee){var Se;const{appId:Ye,apiKey:dt}=ee,Mt={method:"GET",headers:Be(dt)},ht=ue.replace("{app-id}",Ye),Lt=yield fetch(ht,Mt);if(200!==Lt.status&&304!==Lt.status){let ke="";try{const _e=yield Lt.json();(null===(Se=_e.error)||void 0===Se?void 0:Se.message)&&(ke=_e.error.message)}catch(_e){}throw le.create("config-fetch-failed",{httpStatus:Lt.status,responseMessage:ke})}return Lt.json()})).apply(this,arguments)}function gt(ee){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(ee,Se=Ne,Ye){const{appId:dt,apiKey:Mt,measurementId:ht}=ee.options;if(!dt)throw le.create("no-app-id");if(!Mt){if(ht)return{measurementId:ht,appId:dt};throw le.create("no-api-key")}const Lt=Se.getThrottleMetadata(dt)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new Nn;return setTimeout((0,f.Z)(function*(){ke.abort()}),void 0!==Ye?Ye:6e4),Bt({appId:dt,apiKey:Mt,measurementId:ht},Lt,ke,Se)})).apply(this,arguments)}function Bt(ee,Se,Ye){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,f.Z)(function*(ee,{throttleEndTimeMillis:Se,backoffCount:Ye},dt,Mt=Ne){const{appId:ht,measurementId:Lt}=ee;try{yield Tt(dt,Se)}catch(ke){if(Lt)return Qe.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:ht,measurementId:Lt};throw ke}try{const ke=yield He(ee);return Mt.deleteThrottleMetadata(ht),ke}catch(ke){if(!En(ke)){if(Mt.deleteThrottleMetadata(ht),Lt)return Qe.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Lt} provided in the "measurementId" field in the local Firebase config. [${ke.message}]`),{appId:ht,measurementId:Lt};throw ke}const _e=503===Number(ke.customData.httpStatus)?(0,ie.$s)(Ye,Mt.intervalMillis,30):(0,ie.$s)(Ye,Mt.intervalMillis),ae={throttleEndTimeMillis:Date.now()+_e,backoffCount:Ye+1};return Mt.setThrottleMetadata(ht,ae),Qe.debug(`Calling attemptFetch again in ${_e} millis`),Bt(ee,ae,dt,Mt)}})).apply(this,arguments)}function Tt(ee,Se){return new Promise((Ye,dt)=>{const Mt=Math.max(Se-Date.now(),0),ht=setTimeout(Ye,Mt);ee.addEventListener(()=>{clearTimeout(ht),dt(le.create("fetch-throttle",{throttleEndTimeMillis:Se}))})})}function En(ee){if(!(ee instanceof ie.ZR&&ee.customData))return!1;const Se=Number(ee.customData.httpStatus);return 429===Se||500===Se||503===Se||504===Se}class Nn{constructor(){this.listeners=[]}addEventListener(Se){this.listeners.push(Se)}abort(){this.listeners.forEach(Se=>Se())}}function Tn(){return qt.apply(this,arguments)}function qt(){return(qt=(0,f.Z)(function*(){if(!(0,ie.hl)())return Qe.warn(le.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(ee){return Qe.warn(le.create("indexeddb-unavailable",{errorInfo:ee}).message),!1}return!0})).apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(ee,Se,Ye,dt,Mt,ht,Lt){var ke;const _e=gt(ee);_e.then(ln=>{Ye[ln.measurementId]=ln.appId,ee.options.measurementId&&ln.measurementId!==ee.options.measurementId&&Qe.warn(`The measurement ID in the local Firebase config (${ee.options.measurementId}) does not match the measurement ID fetched from the server (${ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ln=>Qe.error(ln)),Se.push(_e);const ae=Tn().then(ln=>{if(ln)return dt.getId()}),[rt,at]=yield Promise.all([_e,ae]);qe()||tt(ht,rt.measurementId),Mt("js",new Date);const $t=null!==(ke=null==Lt?void 0:Lt.config)&&void 0!==ke?ke:{};return $t.origin="firebase",$t.update=!0,null!=at&&($t[re]=at),Mt("config",rt.measurementId,$t),rt.measurementId})).apply(this,arguments)}class pn{constructor(Se){this.app=Se}_delete(){return delete Dn[this.app.options.appId],Promise.resolve()}}let Dn={},kn=[];const _n={};let Yn,tn,Ln="dataLayer",qn="gtag",Wn=!1;function Ht(ee){if(Wn)throw le.create("already-initialized");ee.dataLayerName&&(Ln=ee.dataLayerName),ee.gtagName&&(qn=ee.gtagName)}function Cn(ee,Se,Ye){!function Er(){const ee=[];if((0,ie.ru)()&&ee.push("This is a browser extension environment."),(0,ie.zI)()||ee.push("Cookies are not available."),ee.length>0){const Se=ee.map((dt,Mt)=>`(${Mt+1}) ${dt}`).join(" "),Ye=le.create("invalid-analytics-context",{errorInfo:Se});Qe.warn(Ye.message)}}();const dt=ee.options.appId;if(!dt)throw le.create("no-app-id");if(!ee.options.apiKey){if(!ee.options.measurementId)throw le.create("no-api-key");Qe.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${ee.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Dn[dt])throw le.create("already-exists",{id:dt});if(!Wn){!function pt(ee){let Se=[];Array.isArray(window[ee])?Se=window[ee]:window[ee]=Se}(Ln);const{wrappedGtag:ht,gtagCore:Lt}=function Fe(ee,Se,Ye,dt,Mt){let ht=function(...Lt){window[dt].push(arguments)};return window[Mt]&&"function"==typeof window[Mt]&&(ht=window[Mt]),window[Mt]=function Ze(ee,Se,Ye,dt){function ht(){return(ht=(0,f.Z)(function*(Lt,ke,_e){try{"event"===Lt?yield Ct(ee,Se,Ye,ke,_e):"config"===Lt?yield ce(ee,Se,Ye,dt,ke,_e):ee("set",ke)}catch(ae){Qe.error(ae)}})).apply(this,arguments)}return function Mt(Lt,ke,_e){return ht.apply(this,arguments)}}(ht,ee,Se,Ye),{gtagCore:ht,wrappedGtag:window[Mt]}}(Dn,kn,_n,Ln,qn);tn=ht,Yn=Lt,Wn=!0}return Dn[dt]=function on(ee,Se,Ye,dt,Mt,ht,Lt){return Kt.apply(this,arguments)}(ee,kn,_n,Se,Yn,Ln,Ye),new pn(ee)}function er(){return(er=(0,f.Z)(function*(ee,Se,Ye,dt,Mt){if(Mt&&Mt.global)ee("event",Ye,dt);else{const ht=yield Se;ee("event",Ye,Object.assign(Object.assign({},dt),{send_to:ht}))}})).apply(this,arguments)}function ut(){return(ut=(0,f.Z)(function*(ee,Se,Ye,dt){if(dt&&dt.global)return ee("set",{screen_name:Ye}),Promise.resolve();ee("config",yield Se,{update:!0,screen_name:Ye})})).apply(this,arguments)}function De(){return(De=(0,f.Z)(function*(ee,Se,Ye,dt){if(dt&&dt.global)return ee("set",{user_id:Ye}),Promise.resolve();ee("config",yield Se,{update:!0,user_id:Ye})})).apply(this,arguments)}function Ve(){return(Ve=(0,f.Z)(function*(ee,Se,Ye,dt){if(dt&&dt.global){const Mt={};for(const ht of Object.keys(Ye))Mt[`user_properties.${ht}`]=Ye[ht];return ee("set",Mt),Promise.resolve()}ee("config",yield Se,{update:!0,user_properties:Ye})})).apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(ee,Se){const Ye=yield ee;window[`ga-disable-${Ye}`]=!Se})).apply(this,arguments)}function sn(){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(ee){return!1}})).apply(this,arguments)}function Bn(ee,Se,Ye){ee=(0,ie.m9)(ee),function pr(ee,Se,Ye,dt){return ut.apply(this,arguments)}(tn,Dn[ee.app.options.appId],Se,Ye).catch(dt=>Qe.error(dt))}function dn(ee,Se,Ye){ee=(0,ie.m9)(ee),function ye(ee,Se,Ye,dt){return De.apply(this,arguments)}(tn,Dn[ee.app.options.appId],Se,Ye).catch(dt=>Qe.error(dt))}function se(ee,Se,Ye){ee=(0,ie.m9)(ee),function mt(ee,Se,Ye,dt){return Ve.apply(this,arguments)}(tn,Dn[ee.app.options.appId],Se,Ye).catch(dt=>Qe.error(dt))}function me(ee,Se){ee=(0,ie.m9)(ee),function _t(ee,Se){return yt.apply(this,arguments)}(Dn[ee.app.options.appId],Se).catch(Ye=>Qe.error(Ye))}function J(ee,Se,Ye,dt){ee=(0,ie.m9)(ee),function an(ee,Se,Ye,dt,Mt){return er.apply(this,arguments)}(tn,Dn[ee.app.options.appId],Se,Ye,dt).catch(Mt=>Qe.error(Mt))}const k="@firebase/analytics",N="0.7.9";!function X(){(0,m._registerComponent)(new V.wA(ge,(Se,{options:Ye})=>Cn(Se.getProvider("app").getImmediate(),Se.getProvider("installations-internal").getImmediate(),Ye),"PUBLIC")),(0,m._registerComponent)(new V.wA("analytics-internal",function ee(Se){try{const Ye=Se.getProvider(ge).getImmediate();return{logEvent:(dt,Mt,ht)=>J(Ye,dt,Mt,ht)}}catch(Ye){throw le.create("interop-component-reg-failed",{reason:Ye})}},"PRIVATE")),(0,m.registerVersion)(k,N),(0,m.registerVersion)(k,N,"esm2017")}()},3942:(kt,Ue,S)=>{S.d(Ue,{Z:()=>tt});var f=S(2090),m=S(4859),W=S(9681),ie=S(1877);class V{constructor(ce,et){this._delegate=ce,this.firebase=et,(0,W._addComponent)(ce,new m.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,W.deleteApp)(this._delegate)))}_getService(ce,et=W._DEFAULT_ENTRY_NAME){var Ct;this._delegate.checkDestroyed();const At=this._delegate.container.getProvider(ce);return!At.isInitialized()&&"EXPLICIT"===(null===(Ct=At.getComponent())||void 0===Ct?void 0:Ct.instantiationMode)&&At.initialize(),At.getImmediate({identifier:et})}_removeServiceInstance(ce,et=W._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(et)}_addComponent(ce){(0,W._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,W._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function Ie(){const pt=function re(pt){const ce={},et={__esModule:!0,initializeApp:function Ze(le,Re={}){const je=W.initializeApp(le,Re);if((0,f.r3)(ce,je.name))return ce[je.name];const de=new pt(je,et);return ce[je.name]=de,de},app:At,registerVersion:W.registerVersion,setLogLevel:W.setLogLevel,onLog:W.onLog,apps:null,SDK_VERSION:W.SDK_VERSION,INTERNAL:{registerComponent:function qe(le){const Re=le.name,je=Re.replace("-compat","");if(W._registerComponent(le)&&"PUBLIC"===le.type){const de=(Ne=At())=>{if("function"!=typeof Ne[je])throw ge.create("invalid-app-argument",{appName:Re});return Ne[je]()};void 0!==le.serviceProps&&(0,f.ZB)(de,le.serviceProps),et[je]=de,pt.prototype[je]=function(...Ne){return this._getService.bind(this,Re).apply(this,le.multipleInstances?Ne:[])}}return"PUBLIC"===le.type?et[je]:null},removeApp:function Ct(le){delete ce[le]},useAsService:function Dt(le,Re){return"serverAuth"===Re?null:Re},modularAPIs:W}};function At(le){if(!(0,f.r3)(ce,le=le||W._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:le});return ce[le]}return et.default=et,Object.defineProperty(et,"apps",{get:function Fe(){return Object.keys(ce).map(le=>ce[le])}}),At.App=pt,et}(V);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:Ie,extendNamespace:function ce(et){(0,f.ZB)(pt,et)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),pt}(),ue=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){ue.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&ue.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const tt=Q;!function Ge(pt){(0,W.registerVersion)("@firebase/app-compat","0.1.25",pt)}()},9681:(kt,Ue,S)=>{S.r(Ue),S.d(Ue,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>qn,_DEFAULT_ENTRY_NAME:()=>Ut,_addComponent:()=>Tn,_addOrOverwriteComponent:()=>qt,_apps:()=>En,_clearComponents:()=>Dn,_components:()=>Nn,_getProvider:()=>Kt,_registerComponent:()=>on,_removeServiceInstance:()=>pn,deleteApp:()=>Ht,getApp:()=>tn,getApps:()=>Wn,initializeApp:()=>Yn,onLog:()=>an,registerVersion:()=>Cn,setLogLevel:()=>er});var f=S(5861),m=S(4859),W=S(1877),ie=S(2090),V=S(8766);class we{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(ee=>{if(function ge(N){const X=N.getComponent();return"VERSION"===(null==X?void 0:X.type)}(ee)){const Se=ee.getImmediate();return`${Se.library}/${Se.version}`}return null}).filter(ee=>ee).join(" ")}}const re="@firebase/app",Q=new W.Yd("@firebase/app"),Ut="[DEFAULT]",Tt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,Nn=new Map;function Tn(N,X){try{N.container.addComponent(X)}catch(ee){Q.debug(`Component ${X.name} failed to register with FirebaseApp ${N.name}`,ee)}}function qt(N,X){N.container.addOrOverwriteComponent(X)}function on(N){const X=N.name;if(Nn.has(X))return Q.debug(`There were multiple attempts to register component ${X}.`),!1;Nn.set(X,N);for(const ee of En.values())Tn(ee,N);return!0}function Kt(N,X){const ee=N.container.getProvider("heartbeat").getImmediate({optional:!0});return ee&&ee.triggerHeartbeat(),N.container.getProvider(X)}function pn(N,X,ee=Ut){Kt(N,X).clearInstance(ee)}function Dn(){Nn.clear()}const _n=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ln{constructor(X,ee,Se){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},ee),this._name=ee.name,this._automaticDataCollectionEnabled=ee.automaticDataCollectionEnabled,this._container=Se,this.container.addComponent(new m.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const qn="9.8.1";function Yn(N,X={}){"object"!=typeof X&&(X={name:X});const ee=Object.assign({name:Ut,automaticDataCollectionEnabled:!1},X),Se=ee.name;if("string"!=typeof Se||!Se)throw _n.create("bad-app-name",{appName:String(Se)});const Ye=En.get(Se);if(Ye){if((0,ie.vZ)(N,Ye.options)&&(0,ie.vZ)(ee,Ye.config))return Ye;throw _n.create("duplicate-app",{appName:Se})}const dt=new m.H0(Se);for(const ht of Nn.values())dt.addComponent(ht);const Mt=new Ln(N,ee,dt);return En.set(Se,Mt),Mt}function tn(N=Ut){const X=En.get(N);if(!X)throw _n.create("no-app",{appName:N});return X}function Wn(){return Array.from(En.values())}function Ht(N){return Er.apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(N){const X=N.name;En.has(X)&&(En.delete(X),yield Promise.all(N.container.getProviders().map(ee=>ee.delete())),N.isDeleted=!0)})).apply(this,arguments)}function Cn(N,X,ee){var Se;let Ye=null!==(Se=Tt[N])&&void 0!==Se?Se:N;ee&&(Ye+=`-${ee}`);const dt=Ye.match(/\s|\//),Mt=X.match(/\s|\//);if(dt||Mt){const ht=[`Unable to register library "${Ye}" with version "${X}":`];return dt&&ht.push(`library name "${Ye}" contains illegal characters (whitespace or "/")`),dt&&Mt&&ht.push("and"),Mt&&ht.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void Q.warn(ht.join(" "))}on(new m.wA(`${Ye}-version`,()=>({library:Ye,version:X}),"VERSION"))}function an(N,X){if(null!==N&&"function"!=typeof N)throw _n.create("invalid-log-argument");(0,W.Am)(N,X)}function er(N){(0,W.Ub)(N)}const ye="firebase-heartbeat-store";let De=null;function mt(){return De||(De=(0,V.X3)("firebase-heartbeat-database",1,{upgrade:(N,X)=>{0===X&&N.createObjectStore(ye)}}).catch(N=>{throw _n.create("storage-open",{originalErrorMessage:N.message})})),De}function _t(){return(_t=(0,f.Z)(function*(N){try{return(yield mt()).transaction(ye).objectStore(ye).get(hn(N))}catch(X){throw _n.create("storage-get",{originalErrorMessage:X.message})}})).apply(this,arguments)}function yt(N,X){return gn.apply(this,arguments)}function gn(){return(gn=(0,f.Z)(function*(N,X){try{const Se=(yield mt()).transaction(ye,"readwrite");return yield Se.objectStore(ye).put(X,hn(N)),Se.done}catch(ee){throw _n.create("storage-set",{originalErrorMessage:ee.message})}})).apply(this,arguments)}function hn(N){return`${N.name}!${N.options.appId}`}class Bn{constructor(X){this.container=X,this._heartbeatsCache=null;const ee=this.container.getProvider("app").getImmediate();this._storage=new me(ee),this._heartbeatsCachePromise=this._storage.read().then(Se=>(this._heartbeatsCache=Se,Se))}triggerHeartbeat(){var X=this;return(0,f.Z)(function*(){const Se=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ye=dn();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==Ye&&!X._heartbeatsCache.heartbeats.some(dt=>dt.date===Ye))return X._heartbeatsCache.heartbeats.push({date:Ye,agent:Se}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(dt=>{const Mt=new Date(dt.date).valueOf();return Date.now()-Mt<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,f.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const ee=dn(),{heartbeatsToSend:Se,unsentEntries:Ye}=function se(N,X=1024){const ee=[];let Se=N.slice();for(const Ye of N){const dt=ee.find(Mt=>Mt.agent===Ye.agent);if(dt){if(dt.dates.push(Ye.date),J(ee)>X){dt.dates.pop();break}}else if(ee.push({agent:Ye.agent,dates:[Ye.date]}),J(ee)>X){ee.pop();break}Se=Se.slice(1)}return{heartbeatsToSend:ee,unsentEntries:Se}}(X._heartbeatsCache.heartbeats),dt=(0,ie.L)(JSON.stringify({version:2,heartbeats:Se}));return X._heartbeatsCache.lastSentHeartbeatDate=ee,Ye.length>0?(X._heartbeatsCache.heartbeats=Ye,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),dt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class me{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,f.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function Ve(N){return _t.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var ee=this;return(0,f.Z)(function*(){var Se;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return yt(ee.app,{lastSentHeartbeatDate:null!==(Se=X.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var ee=this;return(0,f.Z)(function*(){var Se;if(yield ee._canUseIndexedDBPromise){const dt=yield ee.read();return yt(ee.app,{lastSentHeartbeatDate:null!==(Se=X.lastSentHeartbeatDate)&&void 0!==Se?Se:dt.lastSentHeartbeatDate,heartbeats:[...dt.heartbeats,...X.heartbeats]})}})()}}function J(N){return(0,ie.L)(JSON.stringify({version:2,heartbeats:N})).length}!function k(N){on(new m.wA("platform-logger",X=>new we(X),"PRIVATE")),on(new m.wA("heartbeat",X=>new Bn(X),"PRIVATE")),Cn(re,"0.7.24",N),Cn(re,"0.7.24","esm2017"),Cn("fire-js","")}("")},4859:(kt,Ue,S)=>{S.d(Ue,{H0:()=>re,wA:()=>W});var f=S(5861),m=S(2090);class W{constructor(Q,ue,xe){this.name=Q,this.instanceFactory=ue,this.type=xe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const ie="[DEFAULT]";class V{constructor(Q,ue){this.name=Q,this.container=ue,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const ue=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(ue)){const xe=new m.BH;if(this.instancesDeferred.set(ue,xe),this.isInitialized(ue)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ue});Qe&&xe.resolve(Qe)}catch(Qe){}}return this.instancesDeferred.get(ue).promise}getImmediate(Q){var ue;const xe=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),Qe=null!==(ue=null==Q?void 0:Q.optional)&&void 0!==ue&&ue;if(!this.isInitialized(xe)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:xe})}catch(Ge){if(Qe)return null;throw Ge}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ge(Ie){return"EAGER"===Ie.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(ue){}for(const[ue,xe]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ue);try{const Ge=this.getOrInitializeService({instanceIdentifier:Qe});xe.resolve(Ge)}catch(Ge){}}}}clearInstance(Q=ie){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,f.Z)(function*(){const ue=Array.from(Q.instances.values());yield Promise.all([...ue.filter(xe=>"INTERNAL"in xe).map(xe=>xe.INTERNAL.delete()),...ue.filter(xe=>"_delete"in xe).map(xe=>xe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=ie){return this.instances.has(Q)}getOptions(Q=ie){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:ue={}}=Q,xe=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(xe))throw Error(`${this.name}(${xe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:xe,options:ue});for(const[Ge,tt]of this.instancesDeferred.entries())xe===this.normalizeInstanceIdentifier(Ge)&&tt.resolve(Qe);return Qe}onInit(Q,ue){var xe;const Qe=this.normalizeInstanceIdentifier(ue),Ge=null!==(xe=this.onInitCallbacks.get(Qe))&&void 0!==xe?xe:new Set;Ge.add(Q),this.onInitCallbacks.set(Qe,Ge);const tt=this.instances.get(Qe);return tt&&Q(tt,Qe),()=>{Ge.delete(Q)}}invokeOnInitCallbacks(Q,ue){const xe=this.onInitCallbacks.get(ue);if(xe)for(const Qe of xe)try{Qe(Q,ue)}catch(Ge){}}getOrInitializeService({instanceIdentifier:Q,options:ue={}}){let xe=this.instances.get(Q);if(!xe&&this.component&&(xe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ie=Q,Ie===ie?void 0:Ie),options:ue}),this.instances.set(Q,xe),this.instancesOptions.set(Q,ue),this.invokeOnInitCallbacks(xe,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,xe)}catch(Qe){}var Ie;return xe||null}normalizeInstanceIdentifier(Q=ie){return this.component?this.component.multipleInstances?Q:ie:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class re{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const ue=this.getProvider(Q.name);if(ue.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);ue.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const ue=new V(Q,this);return this.providers.set(Q,ue),ue}getProviders(){return Array.from(this.providers.values())}}},2833:(kt,Ue,S)=>{var f=S(5861),m=S(9681),W=S(4859),ie=S(2090),V=S(8766);const we="@firebase/installations",Ie="w:0.5.9",Q="FIS_v2",pt=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ce(Ee){return Ee instanceof ie.ZR&&Ee.code.includes("request-failed")}function et({projectId:Ee}){return`https://firebaseinstallations.googleapis.com/v1/projects/${Ee}/installations`}function Ct(Ee){return{token:Ee.token,requestStatus:2,expiresIn:Re(Ee.expiresIn),creationTime:Date.now()}}function At(Ee,Ke){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,f.Z)(function*(Ee,Ke){const en=(yield Ke.json()).error;return pt.create("request-failed",{requestName:Ee,serverCode:en.code,serverMessage:en.message,serverStatus:en.status})})).apply(this,arguments)}function Fe({apiKey:Ee}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":Ee})}function qe(Ee,{refreshToken:Ke}){const Et=Fe(Ee);return Et.append("Authorization",function je(Ee){return`${Q} ${Ee}`}(Ke)),Et}function Dt(Ee){return le.apply(this,arguments)}function le(){return(le=(0,f.Z)(function*(Ee){const Ke=yield Ee();return Ke.status>=500&&Ke.status<600?Ee():Ke})).apply(this,arguments)}function Re(Ee){return Number(Ee.replace("s","000"))}function de(Ee,Ke){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*({appConfig:Ee,heartbeatServiceProvider:Ke},{fid:Et}){const en=et(Ee),Sn=Fe(Ee),$n=Ke.getImmediate({optional:!0});if($n){const fn=yield $n.getHeartbeatsHeader();fn&&Sn.append("x-firebase-client",fn)}const ur={method:"POST",headers:Sn,body:JSON.stringify({fid:Et,authVersion:Q,appId:Ee.appId,sdkVersion:Ie})},xr=yield Dt(()=>fetch(en,ur));if(xr.ok){const fn=yield xr.json();return{fid:fn.fid||Et,registrationStatus:2,refreshToken:fn.refreshToken,authToken:Ct(fn.authToken)}}throw yield At("Create Installation",xr)})).apply(this,arguments)}function Be(Ee){return new Promise(Ke=>{setTimeout(Ke,Ee)})}const Le=/^[cdef][\w-]{21}$/;function Pt(){try{const Ee=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(Ee),Ee[0]=112+Ee[0]%16;const Et=function Bt(Ee){return function He(Ee){return btoa(String.fromCharCode(...Ee)).replace(/\+/g,"-").replace(/\//g,"_")}(Ee).substr(0,22)}(Ee);return Le.test(Et)?Et:""}catch(Ee){return""}}function Ut(Ee){return`${Ee.appName}!${Ee.appId}`}const Tt=new Map;function En(Ee,Ke){const Et=Ut(Ee);qt(Et,Ke),function on(Ee,Ke){const Et=function pn(){return!Kt&&"BroadcastChannel"in self&&(Kt=new BroadcastChannel("[Firebase] FID Change"),Kt.onmessage=Ee=>{qt(Ee.data.key,Ee.data.fid)}),Kt}();Et&&Et.postMessage({key:Ee,fid:Ke}),function Dn(){0===Tt.size&&Kt&&(Kt.close(),Kt=null)}()}(Et,Ke)}function qt(Ee,Ke){const Et=Tt.get(Ee);if(Et)for(const en of Et)en(Ke)}let Kt=null;const Ln="firebase-installations-store";let qn=null;function Yn(){return qn||(qn=(0,V.X3)("firebase-installations-database",1,{upgrade:(Ee,Ke)=>{0===Ke&&Ee.createObjectStore(Ln)}})),qn}function tn(Ee,Ke){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(Ee,Ke){const Et=Ut(Ee),Sn=(yield Yn()).transaction(Ln,"readwrite"),$n=Sn.objectStore(Ln),Mn=yield $n.get(Et);return yield $n.put(Ke,Et),yield Sn.done,(!Mn||Mn.fid!==Ke.fid)&&En(Ee,Ke.fid),Ke})).apply(this,arguments)}function Ht(Ee){return Er.apply(this,arguments)}function Er(){return(Er=(0,f.Z)(function*(Ee){const Ke=Ut(Ee),en=(yield Yn()).transaction(Ln,"readwrite");yield en.objectStore(Ln).delete(Ke),yield en.done})).apply(this,arguments)}function Cn(Ee,Ke){return an.apply(this,arguments)}function an(){return(an=(0,f.Z)(function*(Ee,Ke){const Et=Ut(Ee),Sn=(yield Yn()).transaction(Ln,"readwrite"),$n=Sn.objectStore(Ln),Mn=yield $n.get(Et),ur=Ke(Mn);return void 0===ur?yield $n.delete(Et):yield $n.put(ur,Et),yield Sn.done,ur&&(!Mn||Mn.fid!==ur.fid)&&En(Ee,ur.fid),ur})).apply(this,arguments)}function er(Ee){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(Ee){let Ke;const Et=yield Cn(Ee.appConfig,en=>{const Sn=ut(en),$n=ye(Ee,Sn);return Ke=$n.registrationPromise,$n.installationEntry});return""===Et.fid?{installationEntry:yield Ke}:{installationEntry:Et,registrationPromise:Ke}})).apply(this,arguments)}function ut(Ee){return gn(Ee||{fid:Pt(),registrationStatus:0})}function ye(Ee,Ke){if(0===Ke.registrationStatus){if(!navigator.onLine)return{installationEntry:Ke,registrationPromise:Promise.reject(pt.create("app-offline"))};const Et={fid:Ke.fid,registrationStatus:1,registrationTime:Date.now()},en=function De(Ee,Ke){return mt.apply(this,arguments)}(Ee,Et);return{installationEntry:Et,registrationPromise:en}}return 1===Ke.registrationStatus?{installationEntry:Ke,registrationPromise:Ve(Ee)}:{installationEntry:Ke}}function mt(){return(mt=(0,f.Z)(function*(Ee,Ke){try{const Et=yield de(Ee,Ke);return tn(Ee.appConfig,Et)}catch(Et){throw ce(Et)&&409===Et.customData.serverCode?yield Ht(Ee.appConfig):yield tn(Ee.appConfig,{fid:Ke.fid,registrationStatus:0}),Et}})).apply(this,arguments)}function Ve(Ee){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(Ee){let Ke=yield yt(Ee.appConfig);for(;1===Ke.registrationStatus;)yield Be(100),Ke=yield yt(Ee.appConfig);if(0===Ke.registrationStatus){const{installationEntry:Et,registrationPromise:en}=yield er(Ee);return en||Et}return Ke})).apply(this,arguments)}function yt(Ee){return Cn(Ee,Ke=>{if(!Ke)throw pt.create("installation-not-found");return gn(Ke)})}function gn(Ee){return function hn(Ee){return 1===Ee.registrationStatus&&Ee.registrationTime+1e4<Date.now()}(Ee)?{fid:Ee.fid,registrationStatus:0}:Ee}function sn(Ee,Ke){return ar.apply(this,arguments)}function ar(){return(ar=(0,f.Z)(function*({appConfig:Ee,heartbeatServiceProvider:Ke},Et){const en=Bn(Ee,Et),Sn=qe(Ee,Et),$n=Ke.getImmediate({optional:!0});if($n){const fn=yield $n.getHeartbeatsHeader();fn&&Sn.append("x-firebase-client",fn)}const ur={method:"POST",headers:Sn,body:JSON.stringify({installation:{sdkVersion:Ie,appId:Ee.appId}})},xr=yield Dt(()=>fetch(en,ur));if(xr.ok)return Ct(yield xr.json());throw yield At("Generate Auth Token",xr)})).apply(this,arguments)}function Bn(Ee,{fid:Ke}){return`${et(Ee)}/${Ke}/authTokens:generate`}function dn(Ee){return se.apply(this,arguments)}function se(){return(se=(0,f.Z)(function*(Ee,Ke=!1){let Et;const en=yield Cn(Ee.appConfig,$n=>{if(!ee($n))throw pt.create("not-registered");const Mn=$n.authToken;if(!Ke&&Se(Mn))return $n;if(1===Mn.requestStatus)return Et=me(Ee,Ke),$n;{if(!navigator.onLine)throw pt.create("app-offline");const ur=dt($n);return Et=N(Ee,ur),ur}});return Et?yield Et:en.authToken})).apply(this,arguments)}function me(Ee,Ke){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(Ee,Ke){let Et=yield k(Ee.appConfig);for(;1===Et.authToken.requestStatus;)yield Be(100),Et=yield k(Ee.appConfig);const en=Et.authToken;return 0===en.requestStatus?dn(Ee,Ke):en})).apply(this,arguments)}function k(Ee){return Cn(Ee,Ke=>{if(!ee(Ke))throw pt.create("not-registered");return function Mt(Ee){return 1===Ee.requestStatus&&Ee.requestTime+1e4<Date.now()}(Ke.authToken)?Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}}):Ke})}function N(Ee,Ke){return X.apply(this,arguments)}function X(){return(X=(0,f.Z)(function*(Ee,Ke){try{const Et=yield sn(Ee,Ke),en=Object.assign(Object.assign({},Ke),{authToken:Et});return yield tn(Ee.appConfig,en),Et}catch(Et){if(!ce(Et)||401!==Et.customData.serverCode&&404!==Et.customData.serverCode){const en=Object.assign(Object.assign({},Ke),{authToken:{requestStatus:0}});yield tn(Ee.appConfig,en)}else yield Ht(Ee.appConfig);throw Et}})).apply(this,arguments)}function ee(Ee){return void 0!==Ee&&2===Ee.registrationStatus}function Se(Ee){return 2===Ee.requestStatus&&!function Ye(Ee){const Ke=Date.now();return Ke<Ee.creationTime||Ee.creationTime+Ee.expiresIn<Ke+36e5}(Ee)}function dt(Ee){const Ke={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},Ee),{authToken:Ke})}function Lt(){return(Lt=(0,f.Z)(function*(Ee){const Ke=Ee,{installationEntry:Et,registrationPromise:en}=yield er(Ke);return en?en.catch(console.error):dn(Ke).catch(console.error),Et.fid})).apply(this,arguments)}function _e(){return(_e=(0,f.Z)(function*(Ee,Ke=!1){const Et=Ee;return yield ae(Et),(yield dn(Et,Ke)).token})).apply(this,arguments)}function ae(Ee){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(Ee){const{registrationPromise:Ke}=yield er(Ee);Ke&&(yield Ke)})).apply(this,arguments)}function An(Ee){return pt.create("missing-app-config-values",{valueName:Ee})}const Ir="installations",Kr=Ee=>{const Ke=Ee.getProvider("app").getImmediate(),Et=function On(Ee){if(!Ee||!Ee.options)throw An("App Configuration");if(!Ee.name)throw An("App Name");const Ke=["projectId","apiKey","appId"];for(const Et of Ke)if(!Ee.options[Et])throw An(Et);return{appName:Ee.name,projectId:Ee.options.projectId,apiKey:Ee.options.apiKey,appId:Ee.options.appId}}(Ke);return{app:Ke,appConfig:Et,heartbeatServiceProvider:(0,m._getProvider)(Ke,"heartbeat"),_delete:()=>Promise.resolve()}},Sr=Ee=>{const Ke=Ee.getProvider("app").getImmediate(),Et=(0,m._getProvider)(Ke,Ir).getImmediate();return{getId:()=>function ht(Ee){return Lt.apply(this,arguments)}(Et),getToken:Sn=>function ke(Ee){return _e.apply(this,arguments)}(Et,Sn)}};(function xt(){(0,m._registerComponent)(new W.wA(Ir,Kr,"PUBLIC")),(0,m._registerComponent)(new W.wA("installations-internal",Sr,"PRIVATE"))})(),(0,m.registerVersion)(we,"0.5.9"),(0,m.registerVersion)(we,"0.5.9","esm2017")},1877:(kt,Ue,S)=>{S.d(Ue,{Am:()=>Ie,Ub:()=>re,Yd:()=>ge,in:()=>m});const f=[];var m=(()=>{return(Q=m||(m={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",m;var Q})();const W={debug:m.DEBUG,verbose:m.VERBOSE,info:m.INFO,warn:m.WARN,error:m.ERROR,silent:m.SILENT},ie=m.INFO,V={[m.DEBUG]:"log",[m.VERBOSE]:"log",[m.INFO]:"info",[m.WARN]:"warn",[m.ERROR]:"error"},we=(Q,ue,...xe)=>{if(ue<Q.logLevel)return;const Qe=(new Date).toISOString(),Ge=V[ue];if(!Ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${ue})`);console[Ge](`[${Qe}]  ${Q.name}:`,...xe)};class ge{constructor(ue){this.name=ue,this._logLevel=ie,this._logHandler=we,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(ue){if(!(ue in m))throw new TypeError(`Invalid value "${ue}" assigned to \`logLevel\``);this._logLevel=ue}setLogLevel(ue){this._logLevel="string"==typeof ue?W[ue]:ue}get logHandler(){return this._logHandler}set logHandler(ue){if("function"!=typeof ue)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ue}get userLogHandler(){return this._userLogHandler}set userLogHandler(ue){this._userLogHandler=ue}debug(...ue){this._userLogHandler&&this._userLogHandler(this,m.DEBUG,...ue),this._logHandler(this,m.DEBUG,...ue)}log(...ue){this._userLogHandler&&this._userLogHandler(this,m.VERBOSE,...ue),this._logHandler(this,m.VERBOSE,...ue)}info(...ue){this._userLogHandler&&this._userLogHandler(this,m.INFO,...ue),this._logHandler(this,m.INFO,...ue)}warn(...ue){this._userLogHandler&&this._userLogHandler(this,m.WARN,...ue),this._logHandler(this,m.WARN,...ue)}error(...ue){this._userLogHandler&&this._userLogHandler(this,m.ERROR,...ue),this._logHandler(this,m.ERROR,...ue)}}function re(Q){f.forEach(ue=>{ue.setLogLevel(Q)})}function Ie(Q,ue){for(const xe of f){let Qe=null;ue&&ue.level&&(Qe=W[ue.level]),xe.userLogHandler=null===Q?null:(Ge,tt,...pt)=>{const ce=pt.map(et=>{if(null==et)return null;if("string"==typeof et)return et;if("number"==typeof et||"boolean"==typeof et)return et.toString();if(et instanceof Error)return et.message;try{return JSON.stringify(et)}catch(Ct){return null}}).filter(et=>et).join(" ");tt>=(null!=Qe?Qe:Ge.logLevel)&&Q({level:m[tt].toLowerCase(),message:ce,args:pt,type:Ge.name})}}}},8766:(kt,Ue,S)=>{S.d(Ue,{Lj:()=>Ze,X3:()=>At});var f=S(5861);let W,ie;const ge=new WeakMap,re=new WeakMap,Ie=new WeakMap,Q=new WeakMap,ue=new WeakMap;let Ge={get(Re,je,de){if(Re instanceof IDBTransaction){if("done"===je)return re.get(Re);if("objectStoreNames"===je)return Re.objectStoreNames||Ie.get(Re);if("store"===je)return de.objectStoreNames[1]?void 0:de.objectStore(de.objectStoreNames[0])}return et(Re[je])},set:(Re,je,de)=>(Re[je]=de,!0),has:(Re,je)=>Re instanceof IDBTransaction&&("done"===je||"store"===je)||je in Re};function ce(Re){return"function"==typeof Re?function pt(Re){return Re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Re)?function(...je){return Re.apply(Ct(this),je),et(ge.get(this))}:function(...je){return et(Re.apply(Ct(this),je))}:function(je,...de){const Ne=Re.call(Ct(this),je,...de);return Ie.set(Ne,je.sort?je.sort():[je]),et(Ne)}}(Re):(Re instanceof IDBTransaction&&function Qe(Re){if(re.has(Re))return;const je=new Promise((de,Ne)=>{const Be=()=>{Re.removeEventListener("complete",He),Re.removeEventListener("error",Le),Re.removeEventListener("abort",Le)},He=()=>{de(),Be()},Le=()=>{Ne(Re.error||new DOMException("AbortError","AbortError")),Be()};Re.addEventListener("complete",He),Re.addEventListener("error",Le),Re.addEventListener("abort",Le)});re.set(Re,je)}(Re),((Re,je)=>je.some(de=>Re instanceof de))(Re,function V(){return W||(W=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Re,Ge):Re)}function et(Re){if(Re instanceof IDBRequest)return function xe(Re){const je=new Promise((de,Ne)=>{const Be=()=>{Re.removeEventListener("success",He),Re.removeEventListener("error",Le)},He=()=>{de(et(Re.result)),Be()},Le=()=>{Ne(Re.error),Be()};Re.addEventListener("success",He),Re.addEventListener("error",Le)});return je.then(de=>{de instanceof IDBCursor&&ge.set(de,Re)}).catch(()=>{}),ue.set(je,Re),je}(Re);if(Q.has(Re))return Q.get(Re);const je=ce(Re);return je!==Re&&(Q.set(Re,je),ue.set(je,Re)),je}const Ct=Re=>ue.get(Re);function At(Re,je,{blocked:de,upgrade:Ne,blocking:Be,terminated:He}={}){const Le=indexedDB.open(Re,je),gt=et(Le);return Ne&&Le.addEventListener("upgradeneeded",Pt=>{Ne(et(Le.result),Pt.oldVersion,Pt.newVersion,et(Le.transaction))}),de&&Le.addEventListener("blocked",()=>de()),gt.then(Pt=>{He&&Pt.addEventListener("close",()=>He()),Be&&Pt.addEventListener("versionchange",()=>Be())}).catch(()=>{}),gt}function Ze(Re,{blocked:je}={}){const de=indexedDB.deleteDatabase(Re);return je&&de.addEventListener("blocked",()=>je()),et(de).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],qe=["put","add","delete","clear"],Dt=new Map;function le(Re,je){if(!(Re instanceof IDBDatabase)||je in Re||"string"!=typeof je)return;if(Dt.get(je))return Dt.get(je);const de=je.replace(/FromIndex$/,""),Ne=je!==de,Be=qe.includes(de);if(!(de in(Ne?IDBIndex:IDBObjectStore).prototype)||!Be&&!Fe.includes(de))return;const He=function(){var Le=(0,f.Z)(function*(gt,...Pt){const Bt=this.transaction(gt,Be?"readwrite":"readonly");let Ut=Bt.store;return Ne&&(Ut=Ut.index(Pt.shift())),(yield Promise.all([Ut[de](...Pt),Be&&Bt.done]))[0]});return function(Pt){return Le.apply(this,arguments)}}();return Dt.set(je,He),He}!function tt(Re){Ge=Re(Ge)}(Re=>nE(tE({},Re),{get:(je,de,Ne)=>le(je,de)||Re.get(je,de,Ne),has:(je,de)=>!!le(je,de)||Re.has(je,de)}))},5861:(kt,Ue,S)=>{function f(W,ie,V,we,ge,re,Ie){try{var Q=W[re](Ie),ue=Q.value}catch(xe){return void V(xe)}Q.done?ie(ue):Promise.resolve(ue).then(we,ge)}function m(W){return function(){var ie=this,V=arguments;return new Promise(function(we,ge){var re=W.apply(ie,V);function Ie(ue){f(re,we,ge,Ie,Q,"next",ue)}function Q(ue){f(re,we,ge,Ie,Q,"throw",ue)}Ie(void 0)})}}S.d(Ue,{Z:()=>m})}},kt=>{kt(kt.s=8493)}]);