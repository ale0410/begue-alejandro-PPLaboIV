"use strict";var u1=Object.defineProperty,l1=Object.defineProperties,c1=Object.getOwnPropertyDescriptors,BR=Object.getOwnPropertySymbols,d1=Object.prototype.hasOwnProperty,h1=Object.prototype.propertyIsEnumerable,jR=(at,Te,M)=>Te in at?u1(at,Te,{enumerable:!0,configurable:!0,writable:!0,value:M}):at[Te]=M,$R=(at,Te)=>{for(var M in Te||(Te={}))d1.call(Te,M)&&jR(at,M,Te[M]);if(BR)for(var M of BR(Te))h1.call(Te,M)&&jR(at,M,Te[M]);return at},HR=(at,Te)=>l1(at,c1(Te));(self.webpackChunkbegue_alejandro_PPLaboIV=self.webpackChunkbegue_alejandro_PPLaboIV||[]).push([[179],{2011:(at,Te,M)=>{M.d(Te,{Dh:()=>le,GT:()=>Ee,Ot:()=>de,cc:()=>Ae,hO:()=>He,on:()=>H,pX:()=>fe,xv:()=>ge});var f=M(5e3),k=M(127),x=M(880);at=M.hmd(at);const ie=["ngOnDestroy"],fe=(be,rt,qe,Ne={})=>new Proxy(be,{get:(Re,De)=>qe.runOutsideAngular(()=>{var et;if(be[De])return(null===(et=null==Ne?void 0:Ne.spy)||void 0===et?void 0:et.get)&&Ne.spy.get(De,be[De]),be[De];if(ie.indexOf(De)>-1)return()=>{};const J=rt.toPromise().then(he=>{const Se=he&&he[De];return"function"==typeof Se?Se.bind(he):Se&&Se.then?Se.then(Y=>qe.run(()=>Y)):qe.run(()=>Se)});return new Proxy(()=>{},{get:(he,Se)=>J[Se],apply:(he,Se,Y)=>J.then(re=>{var ae;const ye=re&&re(...Y);return(null===(ae=null==Ne?void 0:Ne.spy)||void 0===ae?void 0:ae.apply)&&Ne.spy.apply(De,Y,ye),ye})})})}),Ee=(be,rt)=>{rt.forEach(qe=>{Object.getOwnPropertyNames(qe.prototype||qe).forEach(Ne=>{Object.defineProperty(be.prototype,Ne,Object.getOwnPropertyDescriptor(qe.prototype||qe,Ne))})})};class de{constructor(rt){return rt}}const le=new f.OlP("angularfire2.app.options"),ge=new f.OlP("angularfire2.app.name");function H(be,rt,qe){const Re="object"==typeof qe&&qe||{};Re.name=Re.name||"string"==typeof qe&&qe||"[DEFAULT]";const et=k.Z.apps.filter(J=>J&&J.name===Re.name)[0]||rt.runOutsideAngular(()=>k.Z.initializeApp(be,Re));try{JSON.stringify(be)!==JSON.stringify(et.options)&&j("error",`${et.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(J){}return new de(et)}const j=(be,...rt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)},se={provide:de,useFactory:H,deps:[le,f.R0b,[new f.FiY,ge]]};let He=(()=>{class be{constructor(qe){k.Z.registerVersion("angularfire",x.q4.full,"core"),k.Z.registerVersion("angularfire",x.q4.full,"app-compat"),k.Z.registerVersion("angular",f.q4F.full,qe.toString())}static initializeApp(qe,Ne){return{ngModule:be,providers:[{provide:le,useValue:qe},{provide:ge,useValue:Ne}]}}}return be.\u0275fac=function(qe){return new(qe||be)(f.LFG(f.Lbi))},be.\u0275mod=f.oAB({type:be}),be.\u0275inj=f.cJS({providers:[se]}),be})();function Ae(be,rt,qe,Ne,Re){const[,De,et]=globalThis.\u0275AngularfireInstanceCache.find(J=>J[0]===be)||[];if(De)return function Ue(be,rt){try{return be.toString()===rt.toString()}catch(qe){return be===rt}}(Re,et)||(me("error",`${rt} was already initialized on the ${qe} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),me("warn",{is:Re,was:et})),De;{const J=Ne();return globalThis.\u0275AngularfireInstanceCache.push([be,J,Re]),J}}const Ge=!!at.hot,me=(be,...rt)=>{(0,f.X6Q)()&&"undefined"!=typeof console&&console[be](...rt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},880:(at,Te,M)=>{M.d(Te,{q4:()=>gs,iC:()=>gr,HU:()=>ra,vb:()=>Wa,JM:()=>na,nk:()=>ta,u3:()=>xi});var f=M(5e3),k=M(5867),x=M(5861),ie=M(9681),fe=M(2090),Ee=M(4859),de=M(1877);M(2833);const ge="@firebase/remote-config",H="0.3.8",Ae=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yt{constructor(N,Z,pe,$e){this.client=N,this.storage=Z,this.storageCache=pe,this.logger=$e}isCachedDataFresh(N,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const pe=Date.now()-Z,$e=pe<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${pe}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${$e}.`),$e}fetch(N){var Z=this;return(0,x.Z)(function*(){const[pe,$e]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if($e&&Z.isCachedDataFresh(N.cacheMaxAgeMillis,pe))return $e;N.eTag=$e&&$e.eTag;const tt=yield Z.client.fetch(N),Ct=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===tt.status&&Ct.push(Z.storage.setLastSuccessfulFetchResponse(tt)),yield Promise.all(Ct),tt})()}}function zt(R=navigator){return R.languages&&R.languages[0]||R.language}class Mt{constructor(N,Z,pe,$e,tt,Ct){this.firebaseInstallations=N,this.sdkVersion=Z,this.namespace=pe,this.projectId=$e,this.apiKey=tt,this.appId=Ct}fetch(N){var Z=this;return(0,x.Z)(function*(){const[pe,$e]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),Ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},kn={sdk_version:Z.sdkVersion,app_instance_id:pe,app_instance_id_token:$e,app_id:Z.appId,language_code:zt()},Dn={method:"POST",headers:lt,body:JSON.stringify(kn)},Cn=fetch(Ct,Dn),Ht=new Promise((Bt,Ri)=>{N.signal.addEventListener(()=>{const Tn=new Error("The operation was aborted.");Tn.name="AbortError",Ri(Tn)})});let ms;try{yield Promise.race([Cn,Ht]),ms=yield Cn}catch(Bt){let Ri="fetch-client-network";throw"AbortError"===Bt.name&&(Ri="fetch-timeout"),Ae.create(Ri,{originalErrorMessage:Bt.message})}let li=ms.status;const aa=ms.headers.get("ETag")||void 0;let Yi,Oe;if(200===ms.status){let Bt;try{Bt=yield ms.json()}catch(Ri){throw Ae.create("fetch-client-parse",{originalErrorMessage:Ri.message})}Yi=Bt.entries,Oe=Bt.state}if("INSTANCE_STATE_UNSPECIFIED"===Oe?li=500:"NO_CHANGE"===Oe?li=304:("NO_TEMPLATE"===Oe||"EMPTY_CONFIG"===Oe)&&(Yi={}),304!==li&&200!==li)throw Ae.create("fetch-status",{httpStatus:li});return{status:li,eTag:aa,config:Yi}})()}}class Hn{constructor(N,Z){this.client=N,this.storage=Z}fetch(N){var Z=this;return(0,x.Z)(function*(){const pe=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(N,pe)})()}attemptFetch(N,{throttleEndTimeMillis:Z,backoffCount:pe}){var $e=this;return(0,x.Z)(function*(){yield function Qe(R,N){return new Promise((Z,pe)=>{const $e=Math.max(N-Date.now(),0),tt=setTimeout(Z,$e);R.addEventListener(()=>{clearTimeout(tt),pe(Ae.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,Z);try{const tt=yield $e.client.fetch(N);return yield $e.storage.deleteThrottleMetadata(),tt}catch(tt){if(!function on(R){if(!(R instanceof fe.ZR&&R.customData))return!1;const N=Number(R.customData.httpStatus);return 429===N||500===N||503===N||504===N}(tt))throw tt;const Ct={throttleEndTimeMillis:Date.now()+(0,fe.$s)(pe),backoffCount:pe+1};return yield $e.storage.setThrottleMetadata(Ct),$e.attemptFetch(N,Ct)}})()}}class Vt{constructor(N,Z,pe,$e,tt){this.app=N,this._client=Z,this._storageCache=pe,this._storage=$e,this._logger=tt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tt(R,N){const Z=R.target.error||void 0;return Ae.create(N,{originalErrorMessage:Z&&Z.message})}const tn="app_namespace_store";class On{constructor(N,Z,pe,$e=function gn(){return new Promise((R,N)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=pe=>{N(Tt(pe,"storage-open"))},Z.onsuccess=pe=>{R(pe.target.result)},Z.onupgradeneeded=pe=>{0===pe.oldVersion&&pe.target.result.createObjectStore(tn,{keyPath:"compositeKey"})}}catch(Z){N(Ae.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=N,this.appName=Z,this.namespace=pe,this.openDbPromise=$e}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var Z=this;return(0,x.Z)(function*(){const pe=yield Z.openDbPromise;return new Promise(($e,tt)=>{const lt=pe.transaction([tn],"readonly").objectStore(tn),kn=Z.createCompositeKey(N);try{const Dn=lt.get(kn);Dn.onerror=Cn=>{tt(Tt(Cn,"storage-get"))},Dn.onsuccess=Cn=>{const Ht=Cn.target.result;$e(Ht?Ht.value:void 0)}}catch(Dn){tt(Ae.create("storage-get",{originalErrorMessage:Dn&&Dn.message}))}})})()}set(N,Z){var pe=this;return(0,x.Z)(function*(){const $e=yield pe.openDbPromise;return new Promise((tt,Ct)=>{const kn=$e.transaction([tn],"readwrite").objectStore(tn),Dn=pe.createCompositeKey(N);try{const Cn=kn.put({compositeKey:Dn,value:Z});Cn.onerror=Ht=>{Ct(Tt(Ht,"storage-set"))},Cn.onsuccess=()=>{tt()}}catch(Cn){Ct(Ae.create("storage-set",{originalErrorMessage:Cn&&Cn.message}))}})})()}delete(N){var Z=this;return(0,x.Z)(function*(){const pe=yield Z.openDbPromise;return new Promise(($e,tt)=>{const lt=pe.transaction([tn],"readwrite").objectStore(tn),kn=Z.createCompositeKey(N);try{const Dn=lt.delete(kn);Dn.onerror=Cn=>{tt(Tt(Cn,"storage-delete"))},Dn.onsuccess=()=>{$e()}}catch(Dn){tt(Ae.create("storage-delete",{originalErrorMessage:Dn&&Dn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class Kn{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,x.Z)(function*(){const Z=N.storage.getLastFetchStatus(),pe=N.storage.getLastSuccessfulFetchTimestampMillis(),$e=N.storage.getActiveConfig(),tt=yield Z;tt&&(N.lastFetchStatus=tt);const Ct=yield pe;Ct&&(N.lastSuccessfulFetchTimestampMillis=Ct);const lt=yield $e;lt&&(N.activeConfig=lt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function vt(){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,x.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch(R){return!1}})).apply(this,arguments)}!function Jn(){(0,ie._registerComponent)(new Ee.wA("remote-config",function R(N,{instanceIdentifier:Z}){const pe=N.getProvider("app").getImmediate(),$e=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ae.create("registration-window");if(!(0,fe.hl)())throw Ae.create("indexed-db-unavailable");const{projectId:tt,apiKey:Ct,appId:lt}=pe.options;if(!tt)throw Ae.create("registration-project-id");if(!Ct)throw Ae.create("registration-api-key");if(!lt)throw Ae.create("registration-app-id");const kn=new On(lt,pe.name,Z=Z||"firebase"),Dn=new Kn(kn),Cn=new de.Yd(ge);Cn.logLevel=de.in.ERROR;const Ht=new Mt($e,ie.SDK_VERSION,Z,tt,Ct,lt),ms=new Hn(Ht,kn),li=new yt(ms,kn,Dn,Cn),aa=new Vt(pe,li,Dn,kn,Cn);return function et(R){const N=(0,fe.m9)(R);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(aa),aa},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(ge,H),(0,ie.registerVersion)(ge,H,"esm2017")}();var Jt=M(8766);const Yt="/firebase-messaging-sw.js",Ln="/firebase-cloud-messaging-push-scope",Gn="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hn="google.c.a.c_id",Vn="google.c.a.c_l",Ar="google.c.a.ts",Pt="google.c.a.e";var it=(()=>{return(R=it||(it={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",it;var R})();function bn(R){const N=new Uint8Array(R);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Sr(R){const Z=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),pe=atob(Z),$e=new Uint8Array(pe.length);for(let tt=0;tt<pe.length;++tt)$e[tt]=pe.charCodeAt(tt);return $e}const kt="fcm_token_details_db",_n="fcm_token_object_Store";function nn(R){return F.apply(this,arguments)}function F(){return F=(0,x.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(tt=>tt.name).includes(kt))return null;let N=null;return(yield(0,Jt.X3)(kt,5,{upgrade:(pe=(0,x.Z)(function*($e,tt,Ct,lt){var kn;if(tt<2||!$e.objectStoreNames.contains(_n))return;const Dn=lt.objectStore(_n),Cn=yield Dn.index("fcmSenderId").get(R);if(yield Dn.clear(),Cn)if(2===tt){const Ht=Cn;if(!Ht.auth||!Ht.p256dh||!Ht.endpoint)return;N={token:Ht.fcmToken,createTime:null!==(kn=Ht.createTime)&&void 0!==kn?kn:Date.now(),subscriptionOptions:{auth:Ht.auth,p256dh:Ht.p256dh,endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:"string"==typeof Ht.vapidKey?Ht.vapidKey:bn(Ht.vapidKey)}}}else if(3===tt){const Ht=Cn;N={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:bn(Ht.auth),p256dh:bn(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:bn(Ht.vapidKey)}}}else if(4===tt){const Ht=Cn;N={token:Ht.fcmToken,createTime:Ht.createTime,subscriptionOptions:{auth:bn(Ht.auth),p256dh:bn(Ht.p256dh),endpoint:Ht.endpoint,swScope:Ht.swScope,vapidKey:bn(Ht.vapidKey)}}}}),function(tt,Ct,lt,kn){return pe.apply(this,arguments)})})).close(),yield(0,Jt.Lj)(kt),yield(0,Jt.Lj)("fcm_vapid_details_db"),yield(0,Jt.Lj)("undefined"),z(N)?N:null;var pe}),F.apply(this,arguments)}function z(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:N}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const V="firebase-messaging-store";let X=null;function U(){return X||(X=(0,Jt.X3)("firebase-messaging-database",1,{upgrade:(R,N)=>{0===N&&R.createObjectStore(V)}})),X}function ee(R){return _e.apply(this,arguments)}function _e(){return(_e=(0,x.Z)(function*(R){const N=Q(R),pe=yield(yield U()).transaction(V).objectStore(V).get(N);if(pe)return pe;{const $e=yield nn(R.appConfig.senderId);if($e)return yield Ve(R,$e),$e}})).apply(this,arguments)}function Ve(R,N){return We.apply(this,arguments)}function We(){return(We=(0,x.Z)(function*(R,N){const Z=Q(R),$e=(yield U()).transaction(V,"readwrite");return yield $e.objectStore(V).put(N,Z),yield $e.done,N})).apply(this,arguments)}function ze(R){return gt.apply(this,arguments)}function gt(){return(gt=(0,x.Z)(function*(R){const N=Q(R),pe=(yield U()).transaction(V,"readwrite");yield pe.objectStore(V).delete(N),yield pe.done})).apply(this,arguments)}function Q({appConfig:R}){return R.appId}const L=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Me(R,N){return Je.apply(this,arguments)}function Je(){return(Je=(0,x.Z)(function*(R,N){const Z=yield cr(R),pe=Un(N),$e={method:"POST",headers:Z,body:JSON.stringify(pe)};let tt;try{tt=yield(yield fetch(Rn(R.appConfig),$e)).json()}catch(Ct){throw L.create("token-subscribe-failed",{errorInfo:Ct})}if(tt.error)throw L.create("token-subscribe-failed",{errorInfo:tt.error.message});if(!tt.token)throw L.create("token-subscribe-no-token");return tt.token})).apply(this,arguments)}function ut(R,N){return Et.apply(this,arguments)}function Et(){return(Et=(0,x.Z)(function*(R,N){const Z=yield cr(R),pe=Un(N.subscriptionOptions),$e={method:"PATCH",headers:Z,body:JSON.stringify(pe)};let tt;try{tt=yield(yield fetch(`${Rn(R.appConfig)}/${N.token}`,$e)).json()}catch(Ct){throw L.create("token-update-failed",{errorInfo:Ct})}if(tt.error)throw L.create("token-update-failed",{errorInfo:tt.error.message});if(!tt.token)throw L.create("token-update-no-token");return tt.token})).apply(this,arguments)}function Wt(R,N){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,x.Z)(function*(R,N){const pe={method:"DELETE",headers:yield cr(R)};try{const tt=yield(yield fetch(`${Rn(R.appConfig)}/${N}`,pe)).json();if(tt.error)throw L.create("token-unsubscribe-failed",{errorInfo:tt.error.message})}catch($e){throw L.create("token-unsubscribe-failed",{errorInfo:$e})}})).apply(this,arguments)}function Rn({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function cr(R){return $t.apply(this,arguments)}function $t(){return($t=(0,x.Z)(function*({appConfig:R,installations:N}){const Z=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function Un({p256dh:R,auth:N,endpoint:Z,vapidKey:pe}){const $e={web:{endpoint:Z,auth:N,p256dh:R}};return pe!==Gn&&($e.web.applicationPubKey=pe),$e}const Mr=6048e5;function Yn(R){return hs.apply(this,arguments)}function hs(){return(hs=(0,x.Z)(function*(R){const N=yield Ut(R.swRegistration,R.vapidKey),Z={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:N.endpoint,auth:bn(N.getKey("auth")),p256dh:bn(N.getKey("p256dh"))},pe=yield ee(R.firebaseDependencies);if(pe){if(Lt(pe.subscriptionOptions,Z))return Date.now()>=pe.createTime+Mr?W(R,{token:pe.token,createTime:Date.now(),subscriptionOptions:Z}):pe.token;try{yield Wt(R.firebaseDependencies,pe.token)}catch($e){console.warn($e)}return Le(R.firebaseDependencies,Z)}return Le(R.firebaseDependencies,Z)})).apply(this,arguments)}function br(R){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,x.Z)(function*(R){const N=yield ee(R.firebaseDependencies);N&&(yield Wt(R.firebaseDependencies,N.token),yield ze(R.firebaseDependencies));const Z=yield R.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function W(R,N){return ce.apply(this,arguments)}function ce(){return(ce=(0,x.Z)(function*(R,N){try{const Z=yield ut(R.firebaseDependencies,N),pe=Object.assign(Object.assign({},N),{token:Z,createTime:Date.now()});return yield Ve(R.firebaseDependencies,pe),Z}catch(Z){throw yield br(R),Z}})).apply(this,arguments)}function Le(R,N){return mt.apply(this,arguments)}function mt(){return(mt=(0,x.Z)(function*(R,N){const pe={token:yield Me(R,N),createTime:Date.now(),subscriptionOptions:N};return yield Ve(R,pe),pe.token})).apply(this,arguments)}function Ut(R,N){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,x.Z)(function*(R,N){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Sr(N)})})).apply(this,arguments)}function Lt(R,N){return N.vapidKey===R.vapidKey&&N.endpoint===R.endpoint&&N.auth===R.auth&&N.p256dh===R.p256dh}function Pn(R){const N={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function fr(R,N){if(!N.notification)return;R.notification={};const Z=N.notification.title;Z&&(R.notification.title=Z);const pe=N.notification.body;pe&&(R.notification.body=pe);const $e=N.notification.image;$e&&(R.notification.image=$e)}(N,R),function wt(R,N){!N.data||(R.data=N.data)}(N,R),function Ai(R,N){if(!N.fcmOptions)return;R.fcmOptions={};const Z=N.fcmOptions.link;Z&&(R.fcmOptions.link=Z);const pe=N.fcmOptions.analytics_label;pe&&(R.fcmOptions.analyticsLabel=pe)}(N,R),N}function Os(R){return"object"==typeof R&&!!R&&hn in R}function Ps(R,N){const Z=[];for(let pe=0;pe<R.length;pe++)Z.push(R.charAt(pe)),pe<N.length&&Z.push(N.charAt(pe));return Z.join("")}function tr(R){return L.create("missing-app-config-values",{valueName:R})}Ps("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ps("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Si{constructor(N,Z,pe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $e=function ks(R){if(!R||!R.options)throw tr("App Configuration Object");if(!R.name)throw tr("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=R;for(const pe of N)if(!Z[pe])throw tr(pe);return{appName:R.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:$e,installations:Z,analyticsProvider:pe}}_delete(){return Promise.resolve()}}function Wi(R){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,x.Z)(function*(R){try{R.swRegistration=yield navigator.serviceWorker.register(Yt,{scope:Ln}),R.swRegistration.update().catch(()=>{})}catch(N){throw L.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function fn(R,N){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,x.Z)(function*(R,N){if(!N&&!R.swRegistration&&(yield Wi(R)),N||!R.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw L.create("invalid-sw-registration");R.swRegistration=N}})).apply(this,arguments)}function so(R,N){return xr.apply(this,arguments)}function xr(){return(xr=(0,x.Z)(function*(R,N){N?R.vapidKey=N:R.vapidKey||(R.vapidKey=Gn)})).apply(this,arguments)}function oo(){return(oo=(0,x.Z)(function*(R,N){if(!navigator)throw L.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw L.create("permission-blocked");return yield so(R,null==N?void 0:N.vapidKey),yield fn(R,null==N?void 0:N.serviceWorkerRegistration),Yn(R)})).apply(this,arguments)}function ao(R,N,Z){return fs.apply(this,arguments)}function fs(){return(fs=(0,x.Z)(function*(R,N,Z){const pe=zr(N);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(pe,{message_id:Z[hn],message_name:Z[Vn],message_time:Z[Ar],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zr(R){switch(R){case it.NOTIFICATION_CLICKED:return"notification_open";case it.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yo(){return(Yo=(0,x.Z)(function*(R,N){const Z=N.data;if(!Z.isFirebaseMessaging)return;R.onMessageHandler&&Z.messageType===it.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(Pn(Z)):R.onMessageHandler.next(Pn(Z)));const pe=Z.data;Os(pe)&&"1"===pe[Pt]&&(yield ao(R,Z.messageType,pe))})).apply(this,arguments)}const uo="@firebase/messaging",Yu=R=>{const N=new Si(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function Tc(R,N){return Yo.apply(this,arguments)}(N,Z)),N},qh=R=>{const N=R.getProvider("messaging").getImmediate();return{getToken:pe=>function Rr(R,N){return oo.apply(this,arguments)}(N,pe)}};function Ac(){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,x.Z)(function*(){try{yield(0,fe.eu)()}catch(R){return!1}return"undefined"!=typeof window&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mi(){(0,ie._registerComponent)(new Ee.wA("messaging",Yu,"PUBLIC")),(0,ie._registerComponent)(new Ee.wA("messaging-internal",qh,"PRIVATE")),(0,ie.registerVersion)(uo,"0.9.13"),(0,ie.registerVersion)(uo,"0.9.13","esm2017")}();var Yh=M(7982),Ju=M(4408),jg=M(7565);const qi=new class Ga extends jg.v{}(class ps extends Ju.o{constructor(N,Z){super(N,Z),this.scheduler=N,this.work=Z}schedule(N,Z=0){return Z>0?super.schedule(N,Z):(this.delay=Z,this.state=N,this.scheduler.flush(this),this)}execute(N,Z){return Z>0||this.closed?super.execute(N,Z):this._execute(N,Z)}requestAsyncId(N,Z,pe=0){return null!=pe&&pe>0||null==pe&&this.delay>0?super.requestAsyncId(N,Z,pe):N.flush(this)}});var co=M(4986),Fs=M(8306),Xo=M(8505),Xu=M(9468),xc=M(5363);const gs=new f.GfV("7.3.0"),ho="__angularfire_symbol__analyticsIsSupportedValue",Ls="__angularfire_symbol__analyticsIsSupported",fo="__angularfire_symbol__remoteConfigIsSupportedValue",ea="__angularfire_symbol__remoteConfigIsSupported",pr="__angularfire_symbol__messagingIsSupportedValue",nr="__angularfire_symbol__messagingIsSupported";globalThis[Ls]||(globalThis[Ls]=(0,Yh.Gb)().then(R=>globalThis[ho]=R).catch(()=>globalThis[ho]=!1)),globalThis[nr]||(globalThis[nr]=Ac().then(R=>globalThis[pr]=R).catch(()=>globalThis[pr]=!1)),globalThis[ea]||(globalThis[ea]=vt().then(R=>globalThis[fo]=R).catch(()=>globalThis[fo]=!1));const ta={async:()=>globalThis[Ls],sync:()=>{const R=globalThis[ho];if(void 0===R)throw new Error((R=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${R} in the constructor, first ensure that ${R} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${R})\`.`)("Analytics"));return R}};function na(R,N,Z){if(N){if(1===N.length)return N[0];const tt=N.filter(Ct=>Ct.app===Z);if(1===tt.length)return tt[0]}return Z.container.getProvider(R).getImmediate({optional:!0})}const Wa=(R,N)=>{const Z=N?[N]:(0,k.C6)(),pe=[];return Z.forEach($e=>{$e.container.getProvider(R).instances.forEach(Ct=>{pe.includes(Ct)||pe.push(Ct)})}),pe};function Ki(){}class el{constructor(N,Z=qi){this.zone=N,this.delegate=Z}now(){return this.delegate.now()}schedule(N,Z,pe){const $e=this.zone;return this.delegate.schedule(function(Ct){$e.runGuarded(()=>{N.apply(this,[Ct])})},Z,pe)}}class wn{constructor(N){this.zone=N,this.task=null}call(N,Z){const pe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)),Z.pipe((0,Xo.b)({next:pe,complete:pe,error:pe})).subscribe(N).add(pe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ra=(()=>{class R{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new el(Zone.current)),this.insideAngular=Z.run(()=>new el(Zone.current,co.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(Z){return new(Z||R)(f.LFG(f.R0b))},R.\u0275prov=f.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function Yr(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function vn(R){return Yr().ngZone.runOutsideAngular(()=>R())}function Zi(R){return Yr().ngZone.run(()=>R())}function gr(R){return Yr(),function oa(R){return function(Z){return(Z=Z.lift(new wn(R.ngZone))).pipe((0,Xu.R)(R.outsideAngular),(0,xc.Q)(R.insideAngular))}}(Yr())(R)}const po=(R,N)=>function(){const pe=arguments;return N&&setTimeout(()=>{"scheduled"===N.state&&N.invoke()},10),Zi(()=>R.apply(void 0,pe))},xi=(R,N)=>function(){let Z;const pe=arguments;for(let tt=0;tt<arguments.length;tt++)"function"==typeof pe[tt]&&(N&&(Z||(Z=Zi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ki,{},Ki,Ki)))),pe[tt]=po(pe[tt],Z));const $e=vn(()=>R.apply(this,pe));if(!N){if($e instanceof Fs.y){const tt=Yr();return $e.pipe((0,Xu.R)(tt.outsideAngular),(0,xc.Q)(tt.insideAngular))}return Zi(()=>$e)}return $e instanceof Fs.y?$e.pipe(gr):$e instanceof Promise?Zi(()=>new Promise((tt,Ct)=>$e.then(lt=>Zi(()=>tt(lt)),lt=>Zi(()=>Ct(lt))))):"function"==typeof $e&&Z?function(){return setTimeout(()=>{Z&&"scheduled"===Z.state&&Z.invoke()},10),$e.apply(this,arguments)}:Zi(()=>$e)}},198:(at,Te,M)=>{M.d(Te,{$:()=>tt,A:()=>j,B:()=>Ae,G:()=>ce,H:()=>Lt,J:()=>Mi,L:()=>We,M:()=>Ga,N:()=>Fs,P:()=>vo,Q:()=>Xo,R:()=>Xg,T:()=>Xu,U:()=>co,V:()=>Ls,W:()=>fo,X:()=>Rc,Y:()=>oa,Z:()=>xi,_:()=>N,a:()=>al,a0:()=>Cn,a1:()=>ms,a2:()=>aa,a3:()=>Oe,a4:()=>Ri,a5:()=>Qh,a6:()=>Qi,a7:()=>Oc,a8:()=>$g,a9:()=>Hg,aA:()=>ns,aB:()=>If,aC:()=>_f,aD:()=>_l,aE:()=>Ke,aI:()=>mo,aL:()=>gs,aa:()=>ys,ab:()=>ua,ac:()=>Gg,af:()=>kc,ag:()=>Xh,ah:()=>ef,ak:()=>Ki,al:()=>Kg,an:()=>sl,ao:()=>Fv,ap:()=>Rn,aq:()=>Se,ar:()=>Ft,as:()=>ut,at:()=>qe,au:()=>Sf,av:()=>bo,aw:()=>Ne,ax:()=>J,ay:()=>re,az:()=>ze,b:()=>Pi,c:()=>ru,d:()=>nm,e:()=>mf,f:()=>Xc,g:()=>vl,h:()=>Ef,i:()=>ci,j:()=>wo,k:()=>hm,l:()=>pl,m:()=>$v,n:()=>gm,o:()=>le,r:()=>Jr,s:()=>em,u:()=>pf});var f=M(5861),k=M(2090),x=M(9681),ie=M(655),fe=M(1877),Ee=M(4859);const le={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ae=function se(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ue=function He(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),be=new fe.Yd("@firebase/auth");function rt(_,...p){be.logLevel<=fe.in.ERROR&&be.error(`Auth (${x.SDK_VERSION}): ${_}`,...p)}function qe(_,...p){throw et(_,...p)}function Ne(_,...p){return et(_,...p)}function Re(_,p,m){const w=Object.assign(Object.assign({},Ue()),{[p]:m});return new k.LL("auth","Firebase",w).create(p,{appName:_.name})}function De(_,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&qe(_,"argument-error"),Re(_,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(_,...p){if("string"!=typeof _){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=_.name),_._errorFactory.create(m,...w)}return Ge.create(_,...p)}function J(_,p,...m){if(!_)throw et(p,...m)}function he(_){const p="INTERNAL ASSERTION FAILED: "+_;throw rt(p),new Error(p)}function Se(_,p){_||he(p)}const Y=new Map;function re(_){Se(_ instanceof Function,"Expected a class definition");let p=Y.get(_);return p?(Se(p instanceof _,"Instance stored in cache mismatched with class"),p):(p=new _,Y.set(_,p),p)}function ue(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function je(){return"http:"===yt()||"https:"===yt()}function yt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Qe{constructor(p,m){this.shortDelay=p,this.longDelay=m,Se(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function zt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function on(_,p){Se(_.emulator,"Emulator should always be set here");const{url:m}=_.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class Hn{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Zt=new Qe(3e4,6e4);function Vt(_,p){return _.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:_.tenantId}):p}function Tt(_,p,m,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,f.Z)(function*(_,p,m,w,C={}){return Mn(_,C,(0,f.Z)(function*(){let O={},oe={};w&&("GET"===p?oe=w:O={body:JSON.stringify(w)});const Fe=(0,k.xO)(Object.assign({key:_.config.apiKey},oe)).slice(1),ct=yield _._getAdditionalHeaders();return ct["Content-Type"]="application/json",_.languageCode&&(ct["X-Firebase-Locale"]=_.languageCode),Hn.fetch()(Kn(_,_.config.apiHost,m,Fe),Object.assign({method:p,headers:ct,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Mn(_,p,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(_,p,m){_._canInitEmulator=!1;const w=Object.assign(Object.assign({},yn),p);try{const C=new Jn(_),O=yield Promise.race([m(),C.promise]);C.clearNetworkTimeout();const oe=yield O.json();if("needConfirmation"in oe)throw xn(_,"account-exists-with-different-credential",oe);if(O.ok&&!("errorMessage"in oe))return oe;{const Fe=O.ok?oe.errorMessage:oe.error.message,[ct,It]=Fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw xn(_,"credential-already-in-use",oe);if("EMAIL_EXISTS"===ct)throw xn(_,"email-already-in-use",oe);const qt=w[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(It)throw Re(_,qt,It);qe(_,qt)}}catch(C){if(C instanceof k.ZR)throw C;qe(_,"network-request-failed")}})).apply(this,arguments)}function gn(_,p,m,w){return On.apply(this,arguments)}function On(){return(On=(0,f.Z)(function*(_,p,m,w,C={}){const O=yield Tt(_,p,m,w,C);return"mfaPendingCredential"in O&&qe(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Kn(_,p,m,w){const C=`${p}${m}?${w}`;return _.config.emulator?on(_.config,C):`${_.config.apiScheme}://${C}`}class Jn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"network-request-failed")),Zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function xn(_,p,m){const w={appName:_.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const C=Ne(_,p,w);return C.customData._tokenResponse=m,C}function vt(){return(vt=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Zn(_,p){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yt(_,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Gn(_){if(_)try{const p=new Date(Number(_));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function Vn(){return(Vn=(0,f.Z)(function*(_,p=!1){const m=(0,k.m9)(_),w=yield m.getIdToken(p),C=Pt(w);J(C&&C.exp&&C.auth_time&&C.iat,m.auth,"internal-error");const O="object"==typeof C.firebase?C.firebase:void 0,oe=null==O?void 0:O.sign_in_provider;return{claims:C,token:w,authTime:Gn(Ar(C.auth_time)),issuedAtTime:Gn(Ar(C.iat)),expirationTime:Gn(Ar(C.exp)),signInProvider:oe||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ar(_){return 1e3*Number(_)}function Pt(_){const[p,m,w]=_.split(".");if(void 0===p||void 0===m||void 0===w)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const C=(0,k.tV)(m);return C?JSON.parse(C):(rt("Failed to decode base64 JWT payload"),null)}catch(C){return rt("Caught error parsing JWT payload as JSON",C),null}}function it(_,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(_,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof k.ZR&&Sr(w)&&_.auth.currentUser===_&&(yield _.auth.signOut()),w}})).apply(this,arguments)}function Sr({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class kt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const C=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,C)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class lr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _n(_){return nn.apply(this,arguments)}function nn(){return(nn=(0,f.Z)(function*(_){var p;const m=_.auth,w=yield _.getIdToken(),C=yield it(_,Yt(m,{idToken:w}));J(null==C?void 0:C.users.length,m,"internal-error");const O=C.users[0];_._notifyReloadListener(O);const oe=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?Ie(O.providerUserInfo):[],Fe=K(_.providerData,oe),qt=!!_.isAnonymous&&!(_.email&&O.passwordHash||(null==Fe?void 0:Fe.length)),$n={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Fe,metadata:new lr(O.createdAt,O.lastLoginAt),isAnonymous:qt};Object.assign(_,$n)})).apply(this,arguments)}function z(){return(z=(0,f.Z)(function*(_){const p=(0,k.m9)(_);yield _n(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function K(_,p){return[..._.filter(w=>!p.some(C=>C.providerId===w.providerId)),...p]}function Ie(_){return _.map(p=>{var{providerId:m}=p,w=(0,ie._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function X(){return(X=(0,f.Z)(function*(_,p){const m=yield Mn(_,{},(0,f.Z)(function*(){const w=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:C,apiKey:O}=_.config,oe=Kn(_,C,"/v1/token",`key=${O}`),Fe=yield _._getAdditionalHeaders();return Fe["Content-Type"]="application/x-www-form-urlencoded",Hn.fetch()(oe,{method:"POST",headers:Fe,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class U{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){J(p.idToken,"internal-error"),J(void 0!==p.idToken,"internal-error"),J(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function pt(_){const p=Pt(_);return J(p,"internal-error"),J(void 0!==p.exp,"internal-error"),J(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,f.Z)(function*(){return J(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,f.Z)(function*(){const{accessToken:C,refreshToken:O,expiresIn:oe}=yield function V(_,p){return X.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(C,O,Number(oe))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:C,expirationTime:O}=m,oe=new U;return w&&(J("string"==typeof w,"internal-error",{appName:p}),oe.refreshToken=w),C&&(J("string"==typeof C,"internal-error",{appName:p}),oe.accessToken=C),O&&(J("number"==typeof O,"internal-error",{appName:p}),oe.expirationTime=O),oe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new U,this.toJSON())}_performRefresh(){return he("not implemented")}}function ee(_,p){J("string"==typeof _||void 0===_,"internal-error",{appName:p})}class _e{constructor(p){var{uid:m,auth:w,stsTokenManager:C}=p,O=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=C,this.accessToken=C.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new lr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,f.Z)(function*(){const w=yield it(m,m.stsTokenManager.getToken(m.auth,p));return J(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function hn(_){return Vn.apply(this,arguments)}(this,p)}reload(){return function F(_){return z.apply(this,arguments)}(this)}_assign(p){this!==p&&(J(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new _e(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,f.Z)(function*(){let C=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),C=!0),m&&(yield _n(w)),yield w.auth._persistUserIfCurrent(w),C&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,f.Z)(function*(){const m=yield p.getIdToken();return yield it(p,function Xn(_,p){return vt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,C,O,oe,Fe,ct,It,qt;const $n=null!==(w=m.displayName)&&void 0!==w?w:void 0,Vi=null!==(C=m.email)&&void 0!==C?C:void 0,Ii=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,_a=null!==(oe=m.photoURL)&&void 0!==oe?oe:void 0,Rf=null!==(Fe=m.tenantId)&&void 0!==Fe?Fe:void 0,Nf=null!==(ct=m._redirectEventId)&&void 0!==ct?ct:void 0,Tl=null!==(It=m.createdAt)&&void 0!==It?It:void 0,Gs=null!==(qt=m.lastLoginAt)&&void 0!==qt?qt:void 0,{uid:ud,emailVerified:ld,isAnonymous:Of,providerData:cu,stsTokenManager:du}=m;J(ud&&du,p,"internal-error");const mm=U.fromJSON(this.name,du);J("string"==typeof ud,p,"internal-error"),ee($n,p.name),ee(Vi,p.name),J("boolean"==typeof ld,p,"internal-error"),J("boolean"==typeof Of,p,"internal-error"),ee(Ii,p.name),ee(_a,p.name),ee(Rf,p.name),ee(Nf,p.name),ee(Tl,p.name),ee(Gs,p.name);const Ao=new _e({uid:ud,auth:p,email:Vi,emailVerified:ld,displayName:$n,isAnonymous:Of,photoURL:_a,phoneNumber:Ii,tenantId:Rf,stsTokenManager:mm,createdAt:Tl,lastLoginAt:Gs});return cu&&Array.isArray(cu)&&(Ao.providerData=cu.map(Pf=>Object.assign({},Pf))),Nf&&(Ao._redirectEventId=Nf),Ao}static _fromIdTokenResponse(p,m,w=!1){return(0,f.Z)(function*(){const C=new U;C.updateFromServerResponse(m);const O=new _e({uid:m.localId,auth:p,stsTokenManager:C,isAnonymous:w});return yield _n(O),O})()}}const We=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,w){var C=this;return(0,f.Z)(function*(){C.storage[m]=w})()}_get(m){var w=this;return(0,f.Z)(function*(){const C=w.storage[m];return void 0===C?null:C})()}_remove(m){var w=this;return(0,f.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return _.type="NONE",_})();function ze(_,p,m){return`firebase:${_}:${p}:${m}`}class gt{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:C,name:O}=this.auth;this.fullUserKey=ze(this.userKey,C.apiKey,O),this.fullPersistenceKey=ze("persistence",C.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?_e._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,f.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,f.Z)(function*(){if(!m.length)return new gt(re(We),p,w);const C=(yield Promise.all(m.map(function(){var It=(0,f.Z)(function*(qt){if(yield qt._isAvailable())return qt});return function(qt){return It.apply(this,arguments)}}()))).filter(It=>It);let O=C[0]||re(We);const oe=ze(w,p.config.apiKey,p.name);let Fe=null;for(const It of m)try{const qt=yield It._get(oe);if(qt){const $n=_e._fromJSON(p,qt);It!==O&&(Fe=$n),O=It;break}}catch(qt){}const ct=C.filter(It=>It._shouldAllowMigration);return O._shouldAllowMigration&&ct.length?(O=ct[0],Fe&&(yield O._set(oe,Fe.toJSON())),yield Promise.all(m.map(function(){var It=(0,f.Z)(function*(qt){if(qt!==O)try{yield qt._remove(oe)}catch($n){}});return function(qt){return It.apply(this,arguments)}}())),new gt(O,p,w)):new gt(O,p,w)})()}}function Q(_){const p=_.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Je(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if($(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Et(p))return"Blackberry";if(Wt(p))return"Webos";if(L(p))return"Safari";if((p.includes("chrome/")||Me(p))&&!p.includes("edge/"))return"Chrome";if(ut(p))return"Android";{const w=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function $(_=(0,k.z$)()){return/firefox\//i.test(_)}function L(_=(0,k.z$)()){const p=_.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Me(_=(0,k.z$)()){return/crios\//i.test(_)}function Je(_=(0,k.z$)()){return/iemobile/i.test(_)}function ut(_=(0,k.z$)()){return/android/i.test(_)}function Et(_=(0,k.z$)()){return/blackberry/i.test(_)}function Wt(_=(0,k.z$)()){return/webos/i.test(_)}function Ft(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function Rn(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}function Un(_=(0,k.z$)()){return Ft(_)||ut(_)||Wt(_)||Et(_)||/windows phone/i.test(_)||Je(_)}function Yn(_,p=[]){let m;switch(_){case"Browser":m=Q((0,k.z$)());break;case"Worker":m=`${Q((0,k.z$)())}-${_}`;break;default:m=_}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${x.SDK_VERSION}/${w}`}class hs{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const w=O=>new Promise((oe,Fe)=>{try{oe(p(O))}catch(ct){Fe(ct)}});w.onAbort=m,this.queue.push(w);const C=this.queue.length-1;return()=>{this.queue[C]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,f.Z)(function*(){if(m.auth.currentUser===p)return;const w=[];try{for(const C of m.queue)yield C(p),C.onAbort&&w.push(C.onAbort)}catch(C){w.reverse();for(const O of w)try{O()}catch(oe){}throw m.auth._errorFactory.create("login-blocked",{originalMessage:C.message})}})()}}class br{constructor(p,m,w){this.app=p,this.heartbeatServiceProvider=m,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W(this),this.idTokenSubscription=new W(this),this.beforeStateQueue=new hs(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=re(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var C,O;if(!w._deleted&&(w.persistenceManager=yield gt.create(w,p),!w._deleted)){if(null===(C=w._popupRedirectResolver)||void 0===C?void 0:C._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(oe){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,f.Z)(function*(){var w;const C=yield m.assertedPersistence.getCurrentUser();let O=C,oe=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Fe=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,ct=null==O?void 0:O._redirectEventId,It=yield m.tryRedirectSignIn(p);(!Fe||Fe===ct)&&(null==It?void 0:It.user)&&(O=It.user,oe=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(oe)try{yield m.beforeStateQueue.runMiddleware(O)}catch(Fe){O=C,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Fe))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return J(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,f.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(C){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,f.Z)(function*(){try{yield _n(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Mt(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,f.Z)(function*(){const w=p?(0,k.m9)(p):null;return w&&J(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p,m=!1){var w=this;return(0,f.Z)(function*(){if(!w._deleted)return p&&J(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),m||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,f.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(re(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,f.Z)(function*(){const C=yield w.getOrInitRedirectPersistenceManager(m);return null===p?C.removeCurrentUser():C.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&re(p)||m._popupRedirectResolver;J(w,m,"argument-error"),m.redirectPersistenceManager=yield gt.create(m,[re(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,f.Z)(function*(){var w,C;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,f.Z)(function*(){if(p===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,C){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),oe=this._isInitialized?Promise.resolve():this._initializationPromise;return J(oe,this,"internal-error"),oe.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,C):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Yn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){var m;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const C=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return C&&(w["X-Firebase-Client"]=C),w})()}}function Ke(_){return(0,k.m9)(_)}class W{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ce(_,p,m){const w=Ke(_);J(w._canInitEmulator,w,"emulator-config-failed"),J(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const C=!!(null==m?void 0:m.disableWarnings),O=Le(p),{host:oe,port:Fe}=function mt(_){const p=Le(_),m=/(\/\/)?([^?#/]+)/.exec(_.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",C=/^(\[[^\]]+\])(:|$)/.exec(w);if(C){const O=C[1];return{host:O,port:Ut(w.substr(O.length+1))}}{const[O,oe]=w.split(":");return{host:O,port:Ut(oe)}}}(p);w.config.emulator={url:`${O}//${oe}${null===Fe?"":`:${Fe}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:oe,port:Fe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:C})}),C||function Qt(){function _(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}function Le(_){const p=_.indexOf(":");return p<0?"":_.substr(0,p+1)}function Ut(_){if(!_)return null;const p=Number(_);return isNaN(p)?null:p}class Lt{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return he("not implemented")}_getIdTokenResponse(p){return he("not implemented")}_linkToIdToken(p,m){return he("not implemented")}_getReauthenticationResolver(p){return he("not implemented")}}function Pn(_,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:resetPassword",Vt(_,p))})).apply(this,arguments)}function wt(_,p){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Os(_,p){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:update",Vt(_,p))})).apply(this,arguments)}function tr(){return(tr=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithPassword",Vt(_,p))})).apply(this,arguments)}function Si(_,p){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:sendOobCode",Vt(_,p))})).apply(this,arguments)}function Gr(_,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,f.Z)(function*(_,p){return Si(_,p)})).apply(this,arguments)}function Zo(_,p){return so.apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(_,p){return Si(_,p)})).apply(this,arguments)}function xr(_,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(_,p){return Si(_,p)})).apply(this,arguments)}function oo(_,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,f.Z)(function*(_,p){return Si(_,p)})).apply(this,arguments)}function zr(){return(zr=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithEmailLink",Vt(_,p))})).apply(this,arguments)}class uo extends Lt{constructor(p,m,w,C=null){super("password",w),this._email=p,this._password=m,this._tenantId=C}static _fromEmailAndPassword(p,m){return new uo(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new uo(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function ks(_,p){return tr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function fs(_,p){return zr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:qe(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,f.Z)(function*(){switch(w.signInMethod){case"password":return wt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Tc(_,p){return Yo.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:qe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function zn(_,p){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithIdp",Vt(_,p))})).apply(this,arguments)}class Mi extends Lt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Mi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):qe("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:C}=m,O=(0,ie._T)(m,["providerId","signInMethod"]);if(!w||!C)return null;const oe=new Mi(w,C);return oe.idToken=O.idToken||void 0,oe.accessToken=O.accessToken||void 0,oe.secret=O.secret,oe.nonce=O.nonce,oe.pendingToken=O.pendingToken||null,oe}_getIdTokenResponse(p){return zn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,zn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zn(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function Ac(_,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:sendVerificationCode",Vt(_,p))})).apply(this,arguments)}function Jo(){return(Jo=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p))})).apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(_,p){const m=yield gn(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,p));if(m.temporaryProof)throw xn(_,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Bg={USER_NOT_FOUND:"user-not-found"};function Mc(){return(Mc=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithPhoneNumber",Vt(_,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Bg)})).apply(this,arguments)}class lo extends Lt{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new lo({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new lo({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Kh(_,p){return Jo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Zh(_,p){return Sc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Qu(_,p){return Mc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:C}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:C}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:C,temporaryProof:O}=p;return w||m||C||O?new lo({verificationId:m,verificationCode:w,phoneNumber:C,temporaryProof:O}):null}}class ps{constructor(p){var m,w,C,O,oe,Fe;const ct=(0,k.zd)((0,k.pd)(p)),It=null!==(m=ct.apiKey)&&void 0!==m?m:null,qt=null!==(w=ct.oobCode)&&void 0!==w?w:null,$n=function Yh(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(C=ct.mode)&&void 0!==C?C:null);J(It&&qt&&$n,"argument-error"),this.apiKey=It,this.operation=$n,this.code=qt,this.continueUrl=null!==(O=ct.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(oe=ct.languageCode)&&void 0!==oe?oe:null,this.tenantId=null!==(Fe=ct.tenantId)&&void 0!==Fe?Fe:null}static parseLink(p){const m=function Ju(_){const p=(0,k.zd)((0,k.pd)(_)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,w=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(w?(0,k.zd)((0,k.pd)(w)).link:null)||w||m||p||_}(p);try{return new ps(m)}catch(w){return null}}}let Ga=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(m,w){return uo._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const C=ps.parseLink(w);return J(C,"argument-error"),uo._fromEmailAndCode(m,C.code,C.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class qi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ui extends qi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class co extends ui{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return J("providerId"in m&&"signInMethod"in m,"argument-error"),Mi._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return J(p.idToken||p.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return co.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return co.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:C,pendingToken:O,nonce:oe,providerId:Fe}=p;if(!w&&!C&&!m&&!O||!Fe)return null;try{return new co(Fe)._credential({idToken:m,accessToken:w,nonce:oe,pendingToken:O})}catch(ct){return null}}}let Fs=(()=>{class _ extends ui{constructor(){super("facebook.com")}static credential(m){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Xo=(()=>{class _ extends ui{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:C}=m;if(!w&&!C)return null;try{return _.credential(w,C)}catch(O){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),Xu=(()=>{class _ extends ui{constructor(){super("github.com")}static credential(m){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return _.credential(m.oauthAccessToken)}catch(w){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class gs extends Lt{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return zn(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,zn(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zn(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:C,pendingToken:O}=m;return w&&C&&O&&w===C?new gs(w,O):null}static _create(p,m){return new gs(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ls extends qi{constructor(p){J(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Ls.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Ls.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=gs.fromJSON(p);return J(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return gs._create(w,m)}catch(C){return null}}}let fo=(()=>{class _ extends ui{constructor(){super("twitter.com")}static credential(m,w){return Mi._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:C}=m;if(!w||!C)return null;try{return _.credential(w,C)}catch(O){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function ea(_,p){return pr.apply(this,arguments)}function pr(){return(pr=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signUp",Vt(_,p))})).apply(this,arguments)}class nr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,C=!1){return(0,f.Z)(function*(){const O=yield _e._fromIdTokenResponse(p,w,C),oe=za(w);return new nr({user:O,providerId:oe,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const C=za(w);return new nr({user:p,providerId:C,_tokenResponse:w,operationType:m})})()}}function za(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function Rc(_){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,f.Z)(function*(_){var p;const m=Ke(_);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new nr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield ea(m,{returnSecureToken:!0}),C=yield nr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(C.user),C})).apply(this,arguments)}class ta extends k.ZR{constructor(p,m,w,C){var O;super(m.code,m.message),this.operationType=w,this.user=C,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,C){return new ta(p,m,w,C)}}function na(_,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(_):m._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ta._fromErrorAndOperation(_,O,p,w):O})}function Wa(_){return new Set(_.map(({providerId:p})=>p).filter(p=>!!p))}function Ki(_,p){return el.apply(this,arguments)}function el(){return(el=(0,f.Z)(function*(_,p){const m=(0,k.m9)(_);yield Yr(!0,m,p);const{providerUserInfo:w}=yield Zn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),C=Wa(w||[]);return m.providerData=m.providerData.filter(O=>C.has(O.providerId)),C.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function wn(_,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,f.Z)(function*(_,p,m=!1){const w=yield it(_,p._linkToIdToken(_.auth,yield _.getIdToken()),m);return nr._forOperation(_,"link",w)})).apply(this,arguments)}function Yr(_,p,m){return vn.apply(this,arguments)}function vn(){return(vn=(0,f.Z)(function*(_,p,m){yield _n(p);const C=!1===_?"provider-already-linked":"no-such-provider";J(Wa(p.providerData).has(m)===_,p.auth,C)})).apply(this,arguments)}function Zi(_,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,f.Z)(function*(_,p,m=!1){const{auth:w}=_,C="reauthenticate";try{const O=yield it(_,na(w,C,p,_),m);J(O.idToken,w,"internal-error");const oe=Pt(O.idToken);J(oe,w,"internal-error");const{sub:Fe}=oe;return J(_.uid===Fe,w,"user-mismatch"),nr._forOperation(_,C,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&qe(w,"user-mismatch"),O}})).apply(this,arguments)}function sa(_,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,f.Z)(function*(_,p,m=!1){const w="signIn",C=yield na(_,w,p),O=yield nr._fromIdTokenResponse(_,w,C);return m||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function oa(_,p){return po.apply(this,arguments)}function po(){return(po=(0,f.Z)(function*(_,p){return sa(Ke(_),p)})).apply(this,arguments)}function xi(_,p){return R.apply(this,arguments)}function R(){return(R=(0,f.Z)(function*(_,p){const m=(0,k.m9)(_);return yield Yr(!1,m,p.providerId),wn(m,p)})).apply(this,arguments)}function N(_,p){return Z.apply(this,arguments)}function Z(){return(Z=(0,f.Z)(function*(_,p){return Zi((0,k.m9)(_),p)})).apply(this,arguments)}function pe(_,p){return $e.apply(this,arguments)}function $e(){return($e=(0,f.Z)(function*(_,p){return gn(_,"POST","/v1/accounts:signInWithCustomToken",Vt(_,p))})).apply(this,arguments)}function tt(_,p){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,f.Z)(function*(_,p){const m=Ke(_),w=yield pe(m,{token:p,returnSecureToken:!0}),C=yield nr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(C.user),C})).apply(this,arguments)}class lt{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?kn._fromServerResponse(p,m):qe(p,"internal-error")}}class kn extends lt{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new kn(m)}}function Dn(_,p,m){var w;J((null===(w=m.url)||void 0===w?void 0:w.length)>0,_,"invalid-continue-uri"),J(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(J(m.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(J(m.android.packageName.length>0,_,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Cn(_,p,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_),C={requestType:"PASSWORD_RESET",email:p};m&&Dn(w,C,m),yield Zo(w,C)})).apply(this,arguments)}function ms(_,p,m){return li.apply(this,arguments)}function li(){return(li=(0,f.Z)(function*(_,p,m){yield Pn((0,k.m9)(_),{oobCode:p,newPassword:m})})).apply(this,arguments)}function aa(_,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(_,p){yield Os((0,k.m9)(_),{oobCode:p})})).apply(this,arguments)}function Oe(_,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,f.Z)(function*(_,p){const m=(0,k.m9)(_),w=yield Pn(m,{oobCode:p}),C=w.requestType;switch(J(C,m,"internal-error"),C){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(w.mfaInfo,m,"internal-error");default:J(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=lt._fromServerResponse(Ke(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:C}})).apply(this,arguments)}function Ri(_,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(_,p){const{data:m}=yield Oe((0,k.m9)(_),p);return m.email})).apply(this,arguments)}function Qh(_,p,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,f.Z)(function*(_,p,m){const w=Ke(_),C=yield ea(w,{returnSecureToken:!0,email:p,password:m}),O=yield nr._fromIdTokenResponse(w,"signIn",C);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function Qi(_,p,m){return oa((0,k.m9)(_),Ga.credential(p,m))}function Oc(_,p,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_),C={requestType:"EMAIL_SIGNIN",email:p};J(m.handleCodeInApp,w,"argument-error"),m&&Dn(w,C,m),yield xr(w,C)})).apply(this,arguments)}function $g(_,p){const m=ps.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}function Hg(_,p,m){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_),C=Ga.credentialWithLink(p,m||ue());return J(C._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),oa(w,C)})).apply(this,arguments)}function Ka(_,p){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:createAuthUri",Vt(_,p))})).apply(this,arguments)}function ys(_,p){return tl.apply(this,arguments)}function tl(){return(tl=(0,f.Z)(function*(_,p){const w={identifier:p,continueUri:je()?ue():"http://localhost"},{signinMethods:C}=yield Ka((0,k.m9)(_),w);return C||[]})).apply(this,arguments)}function ua(_,p){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,f.Z)(function*(_,p){const m=(0,k.m9)(_),C={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};p&&Dn(m.auth,C,p);const{email:O}=yield Gr(m.auth,C);O!==_.email&&(yield _.reload())})).apply(this,arguments)}function Gg(_,p,m){return nl.apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:p};m&&Dn(w.auth,O,m);const{email:oe}=yield oo(w.auth,O);oe!==_.email&&(yield _.reload())})).apply(this,arguments)}function zg(_,p){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,f.Z)(function*(_,p){return Tt(_,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kc(_,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,f.Z)(function*(_,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,k.m9)(_),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},oe=yield it(w,zg(w.auth,O));w.displayName=oe.displayName||null,w.photoURL=oe.photoUrl||null;const Fe=w.providerData.find(({providerId:ct})=>"password"===ct);Fe&&(Fe.displayName=w.displayName,Fe.photoURL=w.photoURL),yield w._updateTokensIfNecessary(oe)})).apply(this,arguments)}function Xh(_,p){return tf((0,k.m9)(_),p,null)}function ef(_,p){return tf((0,k.m9)(_),null,p)}function tf(_,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(_,p,m){const{auth:w}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const oe=yield it(_,wt(w,O));yield _._updateTokensIfNecessary(oe,!0)})).apply(this,arguments)}class go{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class nf extends go{constructor(p,m,w,C){super(p,m,w),this.username=C}}class Wg extends go{constructor(p,m){super(p,"facebook.com",m)}}class Fc extends nf{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class Oi extends go{constructor(p,m){super(p,"google.com",m)}}class qg extends nf{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Kg(_){const{user:p,_tokenResponse:m}=_;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function il(_){var p,m;if(!_)return null;const{providerId:w}=_,C=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!w&&(null==_?void 0:_.idToken)){const oe=null===(m=null===(p=Pt(_.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(oe)return new go(O,"anonymous"!==oe&&"custom"!==oe?oe:null)}if(!w)return null;switch(w){case"facebook.com":return new Wg(O,C);case"github.com":return new Fc(O,C);case"google.com":return new Oi(O,C);case"twitter.com":return new qg(O,C,_.screenName||null);case"custom":case"anonymous":return new go(O,null);default:return new go(O,w,C)}}(m)}class _s{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new _s("enroll",p)}static _fromMfaPendingCredential(p){return new _s("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return _s._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return _s._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ya{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Ke(p),C=m.customData._serverResponse,O=(C.mfaInfo||[]).map(Fe=>lt._fromServerResponse(w,Fe));J(C.mfaPendingCredential,w,"internal-error");const oe=_s._fromMfaPendingCredential(C.mfaPendingCredential);return new Ya(oe,O,function(){var Fe=(0,f.Z)(function*(ct){const It=yield ct._process(w,oe);delete C.mfaInfo,delete C.mfaPendingCredential;const qt=Object.assign(Object.assign({},C),{idToken:It.idToken,refreshToken:It.refreshToken});switch(m.operationType){case"signIn":const $n=yield nr._fromIdTokenResponse(w,m.operationType,qt);return yield w._updateCurrentUser($n.user),$n;case"reauthenticate":return J(m.user,w,"internal-error"),nr._forOperation(m.user,m.operationType,qt);default:qe(w,"internal-error")}});return function(ct){return Fe.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,f.Z)(function*(){return m.signInResolver(p)})()}}function sl(_,p){var m;const w=(0,k.m9)(_),C=p;return J(p.customData.operationType,w,"argument-error"),J(null===(m=C.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Ya._fromError(w,C)}function sf(_,p){return Tt(_,"POST","/v2/accounts/mfaEnrollment:start",Vt(_,p))}class vs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>lt._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new vs(p)}getSession(){var p=this;return(0,f.Z)(function*(){return _s._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,f.Z)(function*(){const C=p,O=yield w.getSession(),oe=yield it(w.user,C._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(oe),w.user.reload()})()}unenroll(p){var m=this;return(0,f.Z)(function*(){const w="string"==typeof p?p:p.uid,C=yield m.user.getIdToken(),O=yield it(m.user,function kv(_,p){return Tt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(_,p))}(m.user.auth,{idToken:C,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:oe})=>oe!==w),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(oe){if("auth/user-token-expired"!==oe.code)throw oe}})()}}const la=new WeakMap;function Fv(_){const p=(0,k.m9)(_);return la.has(p)||la.set(p,vs._fromUser(p)),la.get(p)}const Lc="__sak";class Qa{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Lc,"1"),this.storage.removeItem(Lc),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Pi=(()=>{class _ extends Qa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vc(){const _=(0,k.z$)();return L(_)||Ft(_)}()&&function Mr(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=Un(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const C=this.storage.getItem(w),O=this.localCache[w];C!==O&&m(w,O,C)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((Fe,ct,It)=>{this.notifyListeners(Fe,It)});const C=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Fe=this.storage.getItem(C);if(m.newValue!==Fe)null!==m.newValue?this.storage.setItem(C,m.newValue):this.storage.removeItem(C);else if(this.localCache[C]===m.newValue&&!w)return}const O=()=>{const Fe=this.storage.getItem(C);!w&&this.localCache[C]===Fe||this.notifyListeners(C,Fe)},oe=this.storage.getItem(C);!function $t(){return(0,k.w1)()&&10===document.documentMode}()||oe===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const C=this.listeners[m];if(C)for(const O of Array.from(C))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,C)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:C}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var C=()=>super._set,O=this;return(0,f.Z)(function*(){yield C().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,C=this;return(0,f.Z)(function*(){const O=yield w().call(C,m);return C.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,C=this;return(0,f.Z)(function*(){yield w().call(C,m),delete C.localCache[m]})()}}return _.type="LOCAL",_})(),al=(()=>{class _ extends Qa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return _.type="SESSION",_})();let ul=(()=>{class _{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const C=new _(m);return this.receivers.push(C),C}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,f.Z)(function*(){const C=m,{eventId:O,eventType:oe,data:Fe}=C.data,ct=w.handlersMap[oe];if(!(null==ct?void 0:ct.size))return;C.ports[0].postMessage({status:"ack",eventId:O,eventType:oe});const It=Array.from(ct).map(function(){var $n=(0,f.Z)(function*(Vi){return Vi(C.origin,Fe)});return function(Vi){return $n.apply(this,arguments)}}()),qt=yield function Bc(_){return Promise.all(_.map(function(){var p=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(It);C.ports[0].postMessage({status:"done",eventId:O,eventType:oe,response:qt})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function mo(_="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return _+m}class of{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var C=this;return(0,f.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let oe,Fe;return new Promise((ct,It)=>{const qt=mo("",20);O.port1.start();const $n=setTimeout(()=>{It(new Error("unsupported_event"))},w);Fe={messageChannel:O,onMessage(Vi){const Ii=Vi;if(Ii.data.eventId===qt)switch(Ii.data.status){case"ack":clearTimeout($n),oe=setTimeout(()=>{It(new Error("timeout"))},3e3);break;case"done":clearTimeout(oe),ct(Ii.data.response);break;default:clearTimeout($n),clearTimeout(oe),It(new Error("invalid_response"))}}},C.handlers.add(Fe),O.port1.addEventListener("message",Fe.onMessage),C.target.postMessage({eventType:p,eventId:qt,data:m},[O.port2])}).finally(()=>{Fe&&C.removeMessageHandler(Fe)})})()}}function En(){return window}function Bn(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function da(){return(da=(0,f.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const ll="firebaseLocalStorageDb",Ja="firebaseLocalStorage",wi="fbase_key";class Or{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ha(_,p){return _.transaction([Ja],p?"readwrite":"readonly").objectStore(Ja)}function fa(){const _=indexedDB.open(ll,1);return new Promise((p,m)=>{_.addEventListener("error",()=>{m(_.error)}),_.addEventListener("upgradeneeded",()=>{const w=_.result;try{w.createObjectStore(Ja,{keyPath:wi})}catch(C){m(C)}}),_.addEventListener("success",(0,f.Z)(function*(){const w=_.result;w.objectStoreNames.contains(Ja)?p(w):(w.close(),yield function Xa(){const _=indexedDB.deleteDatabase(ll);return new Or(_).toPromise()}(),p(yield fa()))}))})}function af(_,p,m){return cl.apply(this,arguments)}function cl(){return(cl=(0,f.Z)(function*(_,p,m){const w=ha(_,!0).put({[wi]:p,value:m});return new Or(w).toPromise()})).apply(this,arguments)}function ki(){return(ki=(0,f.Z)(function*(_,p){const m=ha(_,!1).get(p),w=yield new Or(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function hl(_,p){const m=ha(_,!0).delete(p);return new Or(m).toPromise()}const ci=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield fa()),m.db})()}_withRetries(m){var w=this;return(0,f.Z)(function*(){let C=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(C++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return Bn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=ul._getInstance(function jc(){return Bn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,f.Z)(function*(C,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(C,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,f.Z)(function*(C,O){return["keyChanged"]});return function(C,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var w,C;if(m.activeServiceWorker=yield function xt(){return da.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new of(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(C=O[0])||void 0===C?void 0:C.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,f.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Vv(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(C){}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield fa();return yield af(m,Lc,"1"),yield hl(m,Lc),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,f.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var C=this;return(0,f.Z)(function*(){return C._withPendingWrite((0,f.Z)(function*(){return yield C._withRetries(O=>af(O,m,w)),C.localCache[m]=w,C.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,f.Z)(function*(){const C=yield w._withRetries(O=>function dl(_,p){return ki.apply(this,arguments)}(O,m));return w.localCache[m]=C,C})()}_remove(m){var w=this;return(0,f.Z)(function*(){return w._withPendingWrite((0,f.Z)(function*(){return yield w._withRetries(C=>hl(C,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const w=yield m._withRetries(oe=>{const Fe=ha(oe,!1).getAll();return new Or(Fe).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const C=[],O=new Set;for(const{fbase_key:oe,value:Fe}of w)O.add(oe),JSON.stringify(m.localCache[oe])!==JSON.stringify(Fe)&&(m.notifyListeners(oe,Fe),C.push(oe));for(const oe of Object.keys(m.localCache))m.localCache[oe]&&!O.has(oe)&&(m.notifyListeners(oe,null),C.push(oe));return C})()}notifyListeners(m,w){this.localCache[m]=w;const C=this.listeners[m];if(C)for(const O of Array.from(C))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function uf(_,p){return Tt(_,"POST","/v2/accounts/mfaSignIn:start",Vt(_,p))}function Es(){return(Es=(0,f.Z)(function*(_){return(yield Tt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function eu(_){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",_),w.onload=p,w.onerror=C=>{const O=Ne("internal-error");O.customData=C,m(O)},w.type="text/javascript",w.charset="UTF-8",function zc(){var _,p;return null!==(p=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==p?p:document}().appendChild(w)})}function tu(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Ji=1e12;class nu{constructor(p){this.auth=p,this.counter=Ji,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new fl(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||Ji;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Ji))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,f.Z)(function*(){var w;return null===(w=m._widgets.get(p||Ji))||void 0===w||w.execute(),""})()}}class fl{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const C="string"==typeof p?document.getElementById(p):p;J(C,"argument-error",{appName:m}),this.container=C,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _o(_){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<_;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const lf=tu("rcb"),cf=new Qe(3e4,6e4);class Wc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(p,m=""){return J(function Qg(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(En().grecaptcha):new Promise((w,C)=>{const O=En().setTimeout(()=>{C(Ne(p,"network-request-failed"))},cf.get());En()[lf]=()=>{En().clearTimeout(O),delete En()[lf];const Fe=En().grecaptcha;if(!Fe)return void C(Ne(p,"internal-error"));const ct=Fe.render;Fe.render=(It,qt)=>{const $n=ct(It,qt);return this.counter++,$n},this.hostLanguage=m,w(Fe)},eu(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:lf,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),C(Ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!En().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class df{load(p){return(0,f.Z)(function*(){return new nu(p)})()}clearedOneInstance(){}}const hf="recaptcha",Jg={theme:"light",type:"image"};class Xg{constructor(p,m=Object.assign({},Jg),w){this.parameters=m,this.type=hf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ke(w),this.isInvisible="invisible"===this.parameters.size,J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const C="string"==typeof p?document.getElementById(p):p;J(C,this.auth,"argument-error"),this.container=C,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new df:new Wc,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const oe=Fe=>{!Fe||(p.tokenChangeListeners.delete(oe),O(Fe))};p.tokenChangeListeners.add(oe),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=En()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){J(je()&&!Bn(),p.auth,"internal-error"),yield function ff(){let _=null;return new Promise(p=>{"complete"!==document.readyState?(_=()=>p(),window.addEventListener("load",_)):p()}).catch(p=>{throw _&&window.removeEventListener("load",_),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Gc(_){return Es.apply(this,arguments)}(p.auth);J(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Xi{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=lo._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function em(_,p,m){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,f.Z)(function*(_,p,m){const w=Ke(_),C=yield Xr(w,p,(0,k.m9)(m));return new Xi(C,O=>oa(w,O))})).apply(this,arguments)}function pl(_,p,m){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_);yield Yr(!1,w,"phone");const C=yield Xr(w.auth,p,(0,k.m9)(m));return new Xi(C,O=>xi(w,O))})).apply(this,arguments)}function Jr(_,p,m){return gl.apply(this,arguments)}function gl(){return(gl=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_),C=yield Xr(w.auth,p,(0,k.m9)(m));return new Xi(C,O=>N(w,O))})).apply(this,arguments)}function Xr(_,p,m){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,f.Z)(function*(_,p,m){var w;const C=yield m.verify();try{let O;if(J("string"==typeof C,_,"argument-error"),J(m.type===hf,_,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const oe=O.session;if("phoneNumber"in O)return J("enroll"===oe.type,_,"internal-error"),(yield sf(_,{idToken:oe.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:C}})).phoneSessionInfo.sessionInfo;{J("signin"===oe.type,_,"internal-error");const Fe=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return J(Fe,_,"missing-multi-factor-info"),(yield uf(_,{mfaPendingCredential:oe.credential,mfaEnrollmentId:Fe,phoneSignInInfo:{recaptchaToken:C}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:oe}=yield Ac(_,{phoneNumber:O.phoneNumber,recaptchaToken:C});return oe}}finally{m._reset()}})).apply(this,arguments)}function pf(_,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,f.Z)(function*(_,p){yield wn((0,k.m9)(_),p)})).apply(this,arguments)}let vo=(()=>{class _{constructor(m){this.providerId=_.PROVIDER_ID,this.auth=Ke(m)}verifyPhoneNumber(m,w){return Xr(this.auth,m,(0,k.m9)(w))}static credential(m,w){return lo._fromVerification(m,w)}static credentialFromResult(m){return _.credentialFromTaggedObject(m)}static credentialFromError(m){return _.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:C}=m;return w&&C?lo._fromTokenResponse(w,C):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Li(_,p){return p?re(p):(J(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class qc extends Lt{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return zn(p,this._buildIdpRequest())}_linkToIdToken(p,m){return zn(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return zn(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Kc(_){return sa(_.auth,new qc(_),_.bypassAuthState)}function Uv(_){const{auth:p,user:m}=_;return J(m,p,"internal-error"),Zi(m,new qc(_),_.bypassAuthState)}function JI(_){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,f.Z)(function*(_){const{auth:p,user:m}=_;return J(m,p,"internal-error"),wn(m,new qc(_),_.bypassAuthState)})).apply(this,arguments)}class di{constructor(p,m,w,C,O=!1){this.auth=p,this.resolver=w,this.user=C,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,f.Z)(function*(w,C){p.pendingPromise={resolve:w,reject:C};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,C){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,f.Z)(function*(){const{urlResponse:w,sessionId:C,postBody:O,tenantId:oe,error:Fe,type:ct}=p;if(Fe)return void m.reject(Fe);const It={auth:m.auth,requestUri:w,sessionId:C,tenantId:oe||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ct)(It))}catch(qt){m.reject(qt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Kc;case"linkViaPopup":case"linkViaRedirect":return JI;case"reauthViaPopup":case"reauthViaRedirect":return Uv;default:qe(this.auth,"internal-error")}}resolve(p){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gf=new Qe(2e3,1e4);function ru(_,p,m){return tm.apply(this,arguments)}function tm(){return(tm=(0,f.Z)(function*(_,p,m){const w=Ke(_);De(_,p,qi);const C=Li(w,m);return new Qc(w,"signInViaPopup",p,C).executeNotNull()})).apply(this,arguments)}function mf(_,p,m){return ml.apply(this,arguments)}function ml(){return(ml=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_);De(w.auth,p,qi);const C=Li(w.auth,m);return new Qc(w.auth,"reauthViaPopup",p,C,w).executeNotNull()})).apply(this,arguments)}function nm(_,p,m){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_);De(w.auth,p,qi);const C=Li(w.auth,m);return new Qc(w.auth,"linkViaPopup",p,C,w).executeNotNull()})).apply(this,arguments)}let Qc=(()=>{class _ extends di{constructor(m,w,C,O,oe){super(m,w,O,oe),this.provider=C,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const w=yield m.execute();return J(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,f.Z)(function*(){Se(1===m.filter.length,"Popup operations only handle one event");const w=mo();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(C=>{m.reject(C)}),m.resolver._isIframeWebStorageSupported(m.auth,C=>{C||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,C;this.pollId=(null===(C=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===C?void 0:C.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,gf.get())};m()}}return _.currentPopupAction=null,_})();const es=new Map;class ga extends di{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,f.Z)(function*(){let w=es.get(m.auth._key());if(!w){try{const O=(yield function Eo(_,p){return yf.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(C){w=()=>Promise.reject(C)}es.set(m.auth._key(),w)}return m.bypassAuthState||es.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const C=yield w.auth._redirectUserForId(p.eventId);if(C)return w.user=C,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function yf(){return(yf=(0,f.Z)(function*(_,p){const m=vf(p),w=Jc(_);if(!(yield w._isAvailable()))return!1;const C="true"===(yield w._get(m));return yield w._remove(m),C})).apply(this,arguments)}function Is(_,p){return js.apply(this,arguments)}function js(){return(js=(0,f.Z)(function*(_,p){return Jc(_)._set(vf(p),"true")})).apply(this,arguments)}function _l(){es.clear()}function _f(_,p){es.set(_._key(),p)}function Jc(_){return re(_._redirectPersistence)}function vf(_){return ze("pendingRedirect",_.config.apiKey,_.name)}function Xc(_,p,m){return function rm(_,p,m){return ma.apply(this,arguments)}(_,p,m)}function ma(){return(ma=(0,f.Z)(function*(_,p,m){const w=Ke(_);De(_,p,qi);const C=Li(w,m);return yield Is(C,w),C._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Ef(_,p,m){return function wf(_,p,m){return mr.apply(this,arguments)}(_,p,m)}function mr(){return(mr=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_);De(w.auth,p,qi);const C=Li(w.auth,m);yield Is(C,w.auth);const O=yield bs(w);return C._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function vl(_,p,m){return function im(_,p,m){return ya.apply(this,arguments)}(_,p,m)}function ya(){return(ya=(0,f.Z)(function*(_,p,m){const w=(0,k.m9)(_);De(w.auth,p,qi);const C=Li(w.auth,m);yield Yr(!1,w,p.providerId),yield Is(C,w.auth);const O=yield bs(w);return C._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function wo(_,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,f.Z)(function*(_,p){return yield Ke(_)._initializationPromise,If(_,p,!1)})).apply(this,arguments)}function If(_,p){return su.apply(this,arguments)}function su(){return(su=(0,f.Z)(function*(_,p,m=!1){const w=Ke(_),C=Li(w,p),oe=yield new ga(w,C,m).execute();return oe&&!m&&(delete oe.user._redirectEventId,yield w._persistUserIfCurrent(oe.user),yield w._setRedirectUser(null,p)),oe})).apply(this,arguments)}function bs(_){return ts.apply(this,arguments)}function ts(){return(ts=(0,f.Z)(function*(_){const p=mo(`${_.uid}:::`);return _._redirectEventId=p,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),p})).apply(this,arguments)}class ns{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function El(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ou(_);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!ou(p)){const C=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,C))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(bf(p))}saveEventToCache(p){this.cachedEventUids.add(bf(p)),this.lastProcessedEventTime=Date.now()}}function bf(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(p=>p).join("-")}function ou({type:_,error:p}){return"unknown"===_&&"auth/no-auth-event"===(null==p?void 0:p.code)}function bo(_){return au.apply(this,arguments)}function au(){return(au=(0,f.Z)(function*(_,p={}){return Tt(_,"GET","/v1/projects",p)})).apply(this,arguments)}const wl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Df=/^https?/;function Do(){return(Do=(0,f.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:p}=yield bo(_);for(const m of p)try{if(Cf(m))return}catch(w){}qe(_,"unauthorized-domain")})).apply(this,arguments)}function Cf(_){const p=ue(),{protocol:m,hostname:w}=new URL(p);if(_.startsWith("chrome-extension://")){const oe=new URL(_);return""===oe.hostname&&""===w?"chrome-extension:"===m&&_.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&oe.hostname===w}if(!Df.test(m))return!1;if(wl.test(_))return w===_;const C=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+C+"|"+C+")$","i").test(w)}const sm=new Qe(3e4,6e4);function Il(){const _=En().___jsl;if(null==_?void 0:_.H)for(const p of Object.keys(_.H))if(_.H[p].r=_.H[p].r||[],_.H[p].L=_.H[p].L||[],_.H[p].r=[..._.H[p].L],_.CP)for(let m=0;m<_.CP.length;m++)_.CP[m]=null}let uu=null;function bl(_){return uu=uu||function ed(_){return new Promise((p,m)=>{var w,C,O;function oe(){Il(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Il(),m(Ne(_,"network-request-failed"))},timeout:sm.get()})}if(null===(C=null===(w=En().gapi)||void 0===w?void 0:w.iframes)||void 0===C?void 0:C.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=En().gapi)||void 0===O?void 0:O.load)){const Fe=tu("iframefcb");return En()[Fe]=()=>{gapi.load?oe():m(Ne(_,"network-request-failed"))},eu(`https://apis.google.com/js/api.js?onload=${Fe}`).catch(ct=>m(ct))}oe()}}).catch(p=>{throw uu=null,p})}(_),uu}const om=new Qe(5e3,15e3),lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bv(_){const p=_.config;J(p.authDomain,_,"auth-domain-config-required");const m=p.emulator?on(p,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:_.name,v:x.SDK_VERSION},C=Co.get(_.config.apiHost);C&&(w.eid=C);const O=_._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,k.xO)(w).slice(1)}`}function um(){return um=(0,f.Z)(function*(_){const p=yield bl(_),m=En().gapi;return J(m,_,"internal-error"),p.open({where:document.body,url:Bv(_),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lu,dontclear:!0},w=>new Promise(function(){var C=(0,f.Z)(function*(O,oe){yield w.restyle({setHideOnLeave:!1});const Fe=Ne(_,"network-request-failed"),ct=En().setTimeout(()=>{oe(Fe)},om.get());function It(){En().clearTimeout(ct),O(w)}w.ping(It).then(It,()=>{oe(Fe)})});return function(O,oe){return C.apply(this,arguments)}}()))}),um.apply(this,arguments)}const td={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Dl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Sf(_,p,m,w,C,O){J(_.config.authDomain,_,"auth-domain-config-required"),J(_.config.apiKey,_,"invalid-api-key");const oe={apiKey:_.config.apiKey,appName:_.name,authType:m,redirectUrl:w,v:x.SDK_VERSION,eventId:C};if(p instanceof qi){p.setDefaultLanguage(_.languageCode),oe.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(oe.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ct,It]of Object.entries(O||{}))oe[ct]=It}if(p instanceof ui){const ct=p.getScopes().filter(It=>""!==It);ct.length>0&&(oe.scopes=ct.join(","))}_.tenantId&&(oe.tid=_.tenantId);const Fe=oe;for(const ct of Object.keys(Fe))void 0===Fe[ct]&&delete Fe[ct];return`${function Ds({config:_}){return _.emulator?on(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(Fe).slice(1)}`}const To="webStorageSupport",hm=class Mf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=al,this._completeRedirectFn=If,this._overrideRedirectResult=_f}_openPopup(p,m,w,C){var O=this;return(0,f.Z)(function*(){var oe;Se(null===(oe=O.eventManagers[p._key()])||void 0===oe?void 0:oe.manager,"_initialize() not called before _openPopup()");const Fe=Sf(p,m,w,ue(),C);return function lm(_,p,m,w=500,C=600){const O=Math.max((window.screen.availHeight-C)/2,0).toString(),oe=Math.max((window.screen.availWidth-w)/2,0).toString();let Fe="";const ct=Object.assign(Object.assign({},td),{width:w.toString(),height:C.toString(),top:O,left:oe}),It=(0,k.z$)().toLowerCase();m&&(Fe=Me(It)?"_blank":m),$(It)&&(p=p||"http://localhost",ct.scrollbars="yes");const qt=Object.entries(ct).reduce((Vi,[Ii,_a])=>`${Vi}${Ii}=${_a},`,"");if(function cr(_=(0,k.z$)()){var p;return Ft(_)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(It)&&"_self"!==Fe)return function cm(_,p){const m=document.createElement("a");m.href=_,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",Fe),new Dl(null);const $n=window.open(p||"",Fe,qt);J($n,_,"popup-blocked");try{$n.focus()}catch(Vi){}return new Dl($n)}(p,Fe,mo())})()}_openRedirect(p,m,w,C){var O=this;return(0,f.Z)(function*(){return yield O._originValidation(p),function ca(_){En().location.href=_}(Sf(p,m,w,ue(),C)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:C,promise:O}=this.eventManagers[m];return C?Promise.resolve(C):(Se(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,f.Z)(function*(){const w=yield function jv(_){return um.apply(this,arguments)}(p),C=new ns(p);return w.register("authEvent",O=>(J(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:C.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:C},m.iframes[p._key()]=w,C})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(To,{type:To},C=>{var O;const oe=null===(O=null==C?void 0:C[0])||void 0===O?void 0:O[To];void 0!==oe&&m(!!oe),qe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function $s(_){return Do.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Un()||L()||Ft()}};class Cl extends class fm{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Cl(p)}_finalizeEnroll(p,m,w){return function Zg(_,p){return Tt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(_,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Hc(_,p){return Tt(_,"POST","/v2/accounts/mfaSignIn:finalize",Vt(_,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $v=(()=>{class _{constructor(){}static assertion(m){return Cl._fromCredential(m)}}return _.FACTOR_ID="phone",_})();var xf="@firebase/auth";class od{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var C;p((null===(C=w)||void 0===C?void 0:C.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gm(_=(0,x.getApp)()){const p=(0,x._getProvider)(_,"auth");return p.isInitialized()?p.getImmediate():function ae(_,p){const m=(0,x._getProvider)(_,"auth");if(m.isInitialized()){const C=m.getImmediate(),O=m.getOptions();if((0,k.vZ)(O,null!=p?p:{}))return C;qe(C,"already-initialized")}return m.initialize({options:p})}(_,{popupRedirectResolver:hm,persistence:[ci,Pi,al]})}!function ad(_){(0,x._registerComponent)(new Ee.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),C=p.getProvider("heartbeat"),{apiKey:O,authDomain:oe}=w.options;return((Fe,ct)=>{J(O&&!O.includes(":"),"invalid-api-key",{appName:Fe.name}),J(!(null==oe?void 0:oe.includes(":")),"argument-error",{appName:Fe.name});const It={apiKey:O,authDomain:oe,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yn(_)},qt=new br(Fe,ct,It);return function ye(_,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(re);(null==p?void 0:p.errorMap)&&_._updateErrorMap(p.errorMap),_._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(qt,m),qt})(w,C)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new Ee.wA("auth-internal",p=>{const m=Ke(p.getProvider("auth").getImmediate());return new od(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(xf,"0.20.1",function pm(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,x.registerVersion)(xf,"0.20.1","esm2017")}("Browser")},2090:(at,Te,M)=>{M.d(Te,{$s:()=>kt,BH:()=>He,G6:()=>J,L:()=>le,LL:()=>ue,Mn:()=>De,Sg:()=>Ae,UG:()=>me,US:()=>Ee,ZB:()=>j,ZR:()=>ye,b$:()=>qe,d:()=>Ne,eu:()=>Se,hl:()=>he,jU:()=>be,m9:()=>nn,ne:()=>Xn,pd:()=>Jn,r3:()=>Vt,ru:()=>rt,tV:()=>ge,uI:()=>Ge,vZ:()=>Tr,w1:()=>Re,xO:()=>On,xb:()=>tn,z$:()=>Ue,zI:()=>Y,zd:()=>Kn});const ie=function(F){const z=[];let K=0;for(let Ie=0;Ie<F.length;Ie++){let V=F.charCodeAt(Ie);V<128?z[K++]=V:V<2048?(z[K++]=V>>6|192,z[K++]=63&V|128):55296==(64512&V)&&Ie+1<F.length&&56320==(64512&F.charCodeAt(Ie+1))?(V=65536+((1023&V)<<10)+(1023&F.charCodeAt(++Ie)),z[K++]=V>>18|240,z[K++]=V>>12&63|128,z[K++]=V>>6&63|128,z[K++]=63&V|128):(z[K++]=V>>12|224,z[K++]=V>>6&63|128,z[K++]=63&V|128)}return z},Ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,z){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const K=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ie=[];for(let V=0;V<F.length;V+=3){const X=F[V],U=V+1<F.length,ee=U?F[V+1]:0,_e=V+2<F.length,Ve=_e?F[V+2]:0;let gt=(15&ee)<<2|Ve>>6,Q=63&Ve;_e||(Q=64,U||(gt=64)),Ie.push(K[X>>2],K[(3&X)<<4|ee>>4],K[gt],K[Q])}return Ie.join("")},encodeString(F,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(F):this.encodeByteArray(ie(F),z)},decodeString(F,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(F):function(F){const z=[];let K=0,Ie=0;for(;K<F.length;){const V=F[K++];if(V<128)z[Ie++]=String.fromCharCode(V);else if(V>191&&V<224){const X=F[K++];z[Ie++]=String.fromCharCode((31&V)<<6|63&X)}else if(V>239&&V<365){const _e=((7&V)<<18|(63&F[K++])<<12|(63&F[K++])<<6|63&F[K++])-65536;z[Ie++]=String.fromCharCode(55296+(_e>>10)),z[Ie++]=String.fromCharCode(56320+(1023&_e))}else{const X=F[K++],U=F[K++];z[Ie++]=String.fromCharCode((15&V)<<12|(63&X)<<6|63&U)}}return z.join("")}(this.decodeStringToByteArray(F,z))},decodeStringToByteArray(F,z){this.init_();const K=z?this.charToByteMapWebSafe_:this.charToByteMap_,Ie=[];for(let V=0;V<F.length;){const X=K[F.charAt(V++)],ee=V<F.length?K[F.charAt(V)]:0;++V;const Ve=V<F.length?K[F.charAt(V)]:64;++V;const ze=V<F.length?K[F.charAt(V)]:64;if(++V,null==X||null==ee||null==Ve||null==ze)throw Error();Ie.push(X<<2|ee>>4),64!==Ve&&(Ie.push(ee<<4&240|Ve>>2),64!==ze&&Ie.push(Ve<<6&192|ze))}return Ie},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}},le=function(F){return function(F){const z=ie(F);return Ee.encodeByteArray(z,!0)}(F).replace(/\./g,"")},ge=function(F){try{return Ee.decodeString(F,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function j(F,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return z}for(const K in z)!z.hasOwnProperty(K)||!se(K)||(F[K]=j(F[K],z[K]));return F}function se(F){return"__proto__"!==F}class He{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,K)=>{this.resolve=z,this.reject=K})}wrapCallback(z){return(K,Ie)=>{K?this.reject(K):this.resolve(Ie),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(K):z(K,Ie))}}}function Ae(F,z){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ie=z||"demo-project",V=F.iat||0,X=F.sub||F.user_id;if(!X)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${Ie}`,aud:Ie,iat:V,exp:V+3600,auth_time:V,sub:X,user_id:X,firebase:{sign_in_provider:"custom",identities:{}}},F);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(U)),""].join(".")}function Ue(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ue())}function me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(F){return!1}}function be(){return"object"==typeof self&&self.self===self}function rt(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ue().indexOf("Electron/")>=0}function Re(){const F=Ue();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function De(){return Ue().indexOf("MSAppHost/")>=0}function J(){return!me()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function Se(){return new Promise((F,z)=>{try{let K=!0;const Ie="validate-browser-context-for-indexeddb-analytics-module",V=self.indexedDB.open(Ie);V.onsuccess=()=>{V.result.close(),K||self.indexedDB.deleteDatabase(Ie),F(!0)},V.onupgradeneeded=()=>{K=!1},V.onerror=()=>{var X;z((null===(X=V.error)||void 0===X?void 0:X.message)||"")}}catch(K){z(K)}})}function Y(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ye extends Error{constructor(z,K,Ie){super(K),this.code=z,this.customData=Ie,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ue.prototype.create)}}class ue{constructor(z,K,Ie){this.service=z,this.serviceName=K,this.errors=Ie}create(z,...K){const Ie=K[0]||{},V=`${this.service}/${z}`,X=this.errors[z],U=X?function je(F,z){return F.replace(yt,(K,Ie)=>{const V=z[Ie];return null!=V?String(V):`<${Ie}?>`})}(X,Ie):"Error";return new ye(V,`${this.serviceName}: ${U} (${V}).`,Ie)}}const yt=/\{\$([^}]+)}/g;function Vt(F,z){return Object.prototype.hasOwnProperty.call(F,z)}function tn(F){for(const z in F)if(Object.prototype.hasOwnProperty.call(F,z))return!1;return!0}function Tr(F,z){if(F===z)return!0;const K=Object.keys(F),Ie=Object.keys(z);for(const V of K){if(!Ie.includes(V))return!1;const X=F[V],U=z[V];if(gn(X)&&gn(U)){if(!Tr(X,U))return!1}else if(X!==U)return!1}for(const V of Ie)if(!K.includes(V))return!1;return!0}function gn(F){return null!==F&&"object"==typeof F}function On(F){const z=[];for(const[K,Ie]of Object.entries(F))Array.isArray(Ie)?Ie.forEach(V=>{z.push(encodeURIComponent(K)+"="+encodeURIComponent(V))}):z.push(encodeURIComponent(K)+"="+encodeURIComponent(Ie));return z.length?"&"+z.join("&"):""}function Kn(F){const z={};return F.replace(/^\?/,"").split("&").forEach(Ie=>{if(Ie){const[V,X]=Ie.split("=");z[decodeURIComponent(V)]=decodeURIComponent(X)}}),z}function Jn(F){const z=F.indexOf("?");if(!z)return"";const K=F.indexOf("#",z);return F.substring(z,K>0?K:void 0)}function Xn(F,z){const K=new vt(F,z);return K.subscribe.bind(K)}class vt{constructor(z,K){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=K,this.task.then(()=>{z(this)}).catch(Ie=>{this.error(Ie)})}next(z){this.forEachObserver(K=>{K.next(z)})}error(z){this.forEachObserver(K=>{K.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,K,Ie){let V;if(void 0===z&&void 0===K&&void 0===Ie)throw new Error("Missing Observer.");V=function Jt(F,z){if("object"!=typeof F||null===F)return!1;for(const K of z)if(K in F&&"function"==typeof F[K])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:K,complete:Ie},void 0===V.next&&(V.next=Yt),void 0===V.error&&(V.error=Yt),void 0===V.complete&&(V.complete=Yt);const X=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?V.error(this.finalError):V.complete()}catch(U){}}),this.observers.push(V),X}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let K=0;K<this.observers.length;K++)this.sendOne(K,z)}sendOne(z,K){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{K(this.observers[z])}catch(Ie){"undefined"!=typeof console&&console.error&&console.error(Ie)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yt(){}function kt(F,z=1e3,K=2){const Ie=z*Math.pow(K,F),V=Math.round(.5*Ie*(Math.random()-.5)*2);return Math.min(144e5,Ie+V)}function nn(F){return F&&F._delegate?F._delegate:F}},136:(at,Te,M)=>{var f=M(5e3);let k=null;function x(){return k}const de=new f.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ge(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const H=new f.OlP("Location Initialized");let j=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){se()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){se()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function He(){return new j((0,f.LFG)(de))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function Ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ue(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ge(n){return n&&"?"!==n[0]?"?"+n:n}let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function be(n){const e=(0,f.LFG)(de).location;return new qe((0,f.LFG)(le),e&&e.origin||"")}()},providedIn:"root"}),n})();const rt=new f.OlP("appBaseHref");let qe=(()=>{class n extends me{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ae(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ge(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const d=this.prepareExternalUrl(o+Ge(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){const d=this.prepareExternalUrl(o+Ge(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(rt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends me{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ae(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let d=this.prepareExternalUrl(o+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,o,u){let d=this.prepareExternalUrl(o+Ge(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(le),f.LFG(rt,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(t,r){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ue(J(o)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ge(r))}normalize(t){return n.stripTrailingSlash(function et(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,J(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ge(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ge,n.joinWithSlash=Ae,n.stripTrailingSlash=Ue,n.\u0275fac=function(t){return new(t||n)(f.LFG(me),f.LFG(le))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function De(){return new Re((0,f.LFG)(me),(0,f.LFG)(le))}()},providedIn:"root"}),n})();function J(n){return n.replace(/\/index.html$/,"")}function Ai(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}let gs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const ho="browser";function nr(n){return"server"===n}let ta=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new na((0,f.LFG)(de),window)}),n})();class na{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ki(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Wa(this.window.history)||Wa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Wa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class wn{}class Yr extends class ra extends class Ee{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){k||(k=n)}(new Yr)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zi(){return vn=vn||document.querySelector("base"),vn?vn.getAttribute("href"):null}();return null==t?null:function sa(n){ia=ia||document.createElement("a"),ia.setAttribute("href",n);const e=ia.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ai(document.cookie,e)}}let ia,vn=null;const gr=new f.OlP("TRANSITION_ID"),po=[{provide:f.ip1,useFactory:function oa(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=x(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[gr,de,f.zs3],multi:!0}];class xi{static init(){(0,f.VLi)(new xi)}addToWindow(e){f.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const o=f.dqk.getAllAngularTestabilities();let u=o.length,d=!1;const g=function(E){d=d||E,u--,0==u&&r(d)};o.forEach(function(E){E.whenStable(g)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let R=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const N=new f.OlP("EventManagerPlugins");let Z=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const d=o[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(N),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class pe{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=x().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let $e=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),tt=(()=>{class n extends $e{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,o.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Ct),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ct))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Ct(n){x().remove(n)}const lt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},kn=/%COMP%/g;function Yi(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Yi(n,o,t):(o=o.replace(kn,n),t.push(o))}return t}function Oe(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ri=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new Tn(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Qi(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case f.ifc.ShadowDom:return new Oc(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Yi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Z),f.LFG(tt),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Tn{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(lt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=lt[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=lt[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,o&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Oe(r)):this.eventManager.addEventListener(e,t,Oe(r))}}class Qi extends Tn{constructor(e,t,r,o){super(e),this.component=r;const u=Yi(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function li(n){return"_ngcontent-%COMP%".replace(kn,n)}(o+"-"+r.id),this.hostAttr=function aa(n){return"_nghost-%COMP%".replace(kn,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Oc extends Tn{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Yi(o.id,o.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let qa=(()=>{class n extends pe{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const $g=["alt","control","meta","shift"],Jh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ka={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ys=(()=>{class n extends pe{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let d="";if($g.forEach(E=>{const b=r.indexOf(E);b>-1&&(r.splice(b,1),d+=E+".")}),d+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static getEventFullKey(t){let r="",o=function tl(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ka.hasOwnProperty(e)&&(e=Ka[e]))}return Jh[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),$g.forEach(u=>{u!=o&&Dr[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const zg=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:ho},{provide:f.g9A,useValue:function ua(){Yr.makeCurrent(),xi.init()},multi:!0},{provide:de,useFactory:function Gg(){return(0,f.RDi)(document),document},deps:[]}]),Pc=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Ni(){return new f.qLn},deps:[]},{provide:N,useClass:qa,multi:!0,deps:[de,f.R0b,f.Lbi]},{provide:N,useClass:ys,multi:!0,deps:[de]},{provide:Ri,useClass:Ri,deps:[Z,tt,f.AFp]},{provide:f.FYo,useExisting:Ri},{provide:$e,useExisting:tt},{provide:tt,useClass:tt,deps:[de]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:Z,useClass:Z,deps:[N,f.R0b]},{provide:wn,useClass:R,deps:[]}];let kc=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:gr,useExisting:f.AFp},po]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(n,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:Pc,imports:[gs,f.hGG]}),n})(),Za=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function tf(){return new Za((0,f.LFG)(de))}(),r},providedIn:"root"}),n})();"undefined"!=typeof window&&window;var ol=M(655),ir=M(8996),Pi=M(8306);const{isArray:Uc}=Array,{getPrototypeOf:al,prototype:Bc,keys:ul}=Object;function mo(n){if(1===n.length){const e=n[0];if(Uc(e))return{args:e,keys:null};if(function of(n){return n&&"object"==typeof n&&al(n)===Bc}(e)){const t=ul(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var En=M(8421),ca=M(7669),Bn=M(5403),xt=M(4004);const{isArray:da}=Array;function jc(n){return(0,xt.U)(e=>function Vv(n,e){return da(e)?n(...e):n(e)}(n,e))}function ll(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function ki(n){return null==n||0===n.length}function hl(n){return null!=n&&"number"==typeof n.length}const $c=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ci{static min(e){return function uf(n){return e=>{if(ki(e.value)||ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Hc(n){return e=>{if(ki(e.value)||ki(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Gc(n){return ki(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Es(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function zc(n){return ki(n.value)||$c.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function eu(n){return e=>ki(e.value)||!hl(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function tu(n){return e=>hl(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yo(n){if(!n)return ws;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ki(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return jn(e)}static composeAsync(e){return Qg(e)}}function ws(n){return null}function Ji(n){return null!=n}function nu(n){const e=(0,f.QGY)(n)?(0,ir.D)(n):n;return(0,f.CqO)(e),e}function fl(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function _o(n,e){return e.map(t=>t(n))}function cf(n){return n.map(e=>function lf(n){return!n.validate}(e)?e:t=>e.validate(t))}function jn(n){if(!n)return null;const e=n.filter(Ji);return 0==e.length?null:function(t){return fl(_o(t,e))}}function Qg(n){if(!n)return null;const e=n.filter(Ji);return 0==e.length?null:function(t){return function Yg(...n){const e=(0,ca.jO)(n),{args:t,keys:r}=mo(n),o=new Pi.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let E=d,b=d;for(let A=0;A<d;A++){let S=!1;(0,En.Xf)(t[A]).subscribe((0,Bn.x)(u,B=>{S||(S=!0,b--),g[A]=B},()=>E--,void 0,()=>{(!E||!S)&&(b||u.next(r?ll(r,g):g),u.complete())}))}});return e?o.pipe(jc(e)):o}(_o(t,e).map(nu)).pipe((0,xt.U)(fl))}}function ff(n){return n?Array.isArray(n)?n:[n]:[]}function Xi(n,e){return Array.isArray(n)?n.includes(e):n===e}function em(n,e){const t=ff(e);return ff(n).forEach(o=>{Xi(t,o)||t.push(o)}),t}function Wn(n,e){return ff(e).filter(t=>!Xi(n,t))}function iu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const bs="VALID",ts="INVALID",Io="PENDING",ns="DISABLED";function ou(n){return(wl(n)?n.validators:n)||null}function El(n){return Array.isArray(n)?function Wc(n){return null!=n?jn(cf(n)):null}(n):n||null}function bo(n,e){return(wl(e)?e.asyncValidators:n)||null}function au(n){return Array.isArray(n)?function df(n){return null!=n?Qg(cf(n)):null}(n):n||null}function wl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const $s=n=>n instanceof bl;function Cf(n){return(n=>n instanceof uu)(n)?n.value:n.getRawValue()}function sm(n,e){const t=$s(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[e])throw new f.vHH(1001,"")}function Il(n,e){$s(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new f.vHH(1002,"")})}class ed{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=El(this._rawValidators),this._composedAsyncValidatorFn=au(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===bs}get invalid(){return this.status===ts}get pending(){return this.status==Io}get disabled(){return this.status===ns}get enabled(){return this.status!==ns}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=El(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=au(e)}addValidators(e){this.setValidators(em(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(em(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wn(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wn(e,this._rawAsyncValidators))}hasValidator(e){return Xi(this._rawValidators,e)}hasAsyncValidator(e){return Xi(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Io,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ns,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=bs,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bs||this.status===Io)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ns:bs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Io,this._hasOwnPendingAsyncValidator=!0;const t=nu(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function bf(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=$s(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof om)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?ns:this.errors?ts:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Io)?Io:this._anyControlsHaveStatus(ts)?ts:bs}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class uu extends ed{constructor(e=null,t,r){super(ou(t),bo(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wl(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iu(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iu(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class bl extends ed{constructor(e,t,r){super(ou(t),bo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Il(this,e),Object.keys(e).forEach(r=>{sm(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Cf(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class om extends ed{constructor(e,t,r){super(ou(t),bo(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Il(this,e),e.forEach((r,o)=>{sm(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Cf(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Ds=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Cl=new f.OlP("NgModelWithFormControlWarning");let tb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ds]]}),n})(),cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[tb]}),n})(),hi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Cl,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[tb]}),n})();function dt(...n){const e=(0,ca.yG)(n);return(0,ir.D)(n,e)}var dr=M(5577),dd=M(576);function Al(n,e){return(0,dd.m)(e)?(0,dr.z)(n,e,1):(0,dr.z)(n,1)}var bi=M(4482);function Ui(n,e){return(0,bi.e)((t,r)=>{let o=0;t.subscribe((0,Bn.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}class Kv{}class ym{}class So{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const o=t.slice(0,r),u=o.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(o,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const o=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(o,r),this.maybeSetNormalizedName(t,o))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof So?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new So;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof So?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const o=("a"===e.op?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Zv{encodeKey(e){return Yv(e)}encodeValue(e){return Yv(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const sb=/%(\d[a-f0-9])/gi,_m={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Yv(n){return encodeURIComponent(n).replace(sb,(e,t)=>{var r;return null!==(r=_m[t])&&void 0!==r?r:e})}function Qv(n){return`${n}`}class zs{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Zv,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ib(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const u=o.indexOf("="),[d,g]=-1==u?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,u)),e.decodeValue(o.slice(u+1))],E=t.get(d)||[];E.push(g),t.set(d,E)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const o=e[r];Array.isArray(o)?o.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new zs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(Qv(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const o=r.indexOf(Qv(e.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class ob{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Jv(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Xv(n){return"undefined"!=typeof Blob&&n instanceof Blob}function eE(n){return"undefined"!=typeof FormData&&n instanceof FormData}class hd{constructor(e,t,r,o){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ff(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,u=o):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new So),this.context||(this.context=new ob),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new zs,this.urlWithParams=t}serializeBody(){return null===this.body?null:Jv(this.body)||Xv(this.body)||eE(this.body)||function ab(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||eE(this.body)?null:Xv(this.body)?this.body.type||null:Jv(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,o=e.url||this.url,u=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,g=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,E=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let b=e.headers||this.headers,A=e.params||this.params;const S=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(b=Object.keys(e.setHeaders).reduce((B,q)=>B.set(q,e.setHeaders[q]),b)),e.setParams&&(A=Object.keys(e.setParams).reduce((B,q)=>B.set(q,e.setParams[q]),A)),new hd(r,o,d,{params:A,headers:b,context:S,reportProgress:E,responseType:u,withCredentials:g})}}var hr=(()=>((hr=hr||{})[hr.Sent=0]="Sent",hr[hr.UploadProgress=1]="UploadProgress",hr[hr.ResponseHeader=2]="ResponseHeader",hr[hr.DownloadProgress=3]="DownloadProgress",hr[hr.Response=4]="Response",hr[hr.User=5]="User",hr))();class vm{constructor(e,t=200,r="OK"){this.headers=e.headers||new So,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Em extends vm{constructor(e={}){super(e),this.type=hr.ResponseHeader}clone(e={}){return new Em({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Lf extends vm{constructor(e={}){super(e),this.type=hr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Lf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class tE extends vm{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function wm(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ub=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let u;if(t instanceof hd)u=t;else{let E,b;E=o.headers instanceof So?o.headers:new So(o.headers),o.params&&(b=o.params instanceof zs?o.params:new zs({fromObject:o.params})),u=new hd(t,r,void 0!==o.body?o.body:null,{headers:E,context:o.context,params:b,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const d=dt(u).pipe(Al(E=>this.handler.handle(E)));if(t instanceof hd||"events"===o.observe)return d;const g=d.pipe(Ui(E=>E instanceof Lf));switch(o.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,xt.U)(E=>{if(null!==E.body&&!(E.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return E.body}));case"blob":return g.pipe((0,xt.U)(E=>{if(null!==E.body&&!(E.body instanceof Blob))throw new Error("Response is not a Blob.");return E.body}));case"text":return g.pipe((0,xt.U)(E=>{if(null!==E.body&&"string"!=typeof E.body)throw new Error("Response is not a string.");return E.body}));default:return g.pipe((0,xt.U)(E=>E.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new zs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,wm(o,r))}post(t,r,o={}){return this.request("POST",t,wm(o,r))}put(t,r,o={}){return this.request("PUT",t,wm(o,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Kv))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class nE{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const rE=new f.OlP("HTTP_INTERCEPTORS");let Sl=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const cb=/^\)\]\}',?\n/;let Ml=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Pi.y(r=>{const o=this.xhrFactory.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((q,ne)=>o.setRequestHeader(q,ne.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const q=t.detectContentTypeHeader();null!==q&&o.setRequestHeader("Content-Type",q)}if(t.responseType){const q=t.responseType.toLowerCase();o.responseType="json"!==q?q:"text"}const u=t.serializeBody();let d=null;const g=()=>{if(null!==d)return d;const q=o.statusText||"OK",ne=new So(o.getAllResponseHeaders()),Pe=function oE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return d=new Em({headers:ne,status:o.status,statusText:q,url:Pe}),d},E=()=>{let{headers:q,status:ne,statusText:Pe,url:Xe}=g(),bt=null;204!==ne&&(bt=void 0===o.response?o.responseText:o.response),0===ne&&(ne=bt?200:0);let Ot=ne>=200&&ne<300;if("json"===t.responseType&&"string"==typeof bt){const an=bt;bt=bt.replace(cb,"");try{bt=""!==bt?JSON.parse(bt):null}catch(Gt){bt=an,Ot&&(Ot=!1,bt={error:Gt,text:bt})}}Ot?(r.next(new Lf({body:bt,headers:q,status:ne,statusText:Pe,url:Xe||void 0})),r.complete()):r.error(new tE({error:bt,headers:q,status:ne,statusText:Pe,url:Xe||void 0}))},b=q=>{const{url:ne}=g(),Pe=new tE({error:q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ne||void 0});r.error(Pe)};let A=!1;const S=q=>{A||(r.next(g()),A=!0);let ne={type:hr.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(ne.total=q.total),"text"===t.responseType&&!!o.responseText&&(ne.partialText=o.responseText),r.next(ne)},B=q=>{let ne={type:hr.UploadProgress,loaded:q.loaded};q.lengthComputable&&(ne.total=q.total),r.next(ne)};return o.addEventListener("load",E),o.addEventListener("error",b),o.addEventListener("timeout",b),o.addEventListener("abort",b),t.reportProgress&&(o.addEventListener("progress",S),null!==u&&o.upload&&o.upload.addEventListener("progress",B)),o.send(u),r.next({type:hr.Sent}),()=>{o.removeEventListener("error",b),o.removeEventListener("abort",b),o.removeEventListener("load",E),o.removeEventListener("timeout",b),t.reportProgress&&(o.removeEventListener("progress",S),null!==u&&o.upload&&o.upload.removeEventListener("progress",B)),o.readyState!==o.DONE&&o.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(wn))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Vf=new f.OlP("XSRF_COOKIE_NAME"),Uf=new f.OlP("XSRF_HEADER_NAME");class Bf{}let Im=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ai(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de),f.LFG(f.Lbi),f.LFG(Vf))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),jf=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const o=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||o.startsWith("http://")||o.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Bf),f.LFG(Uf))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),QA=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(rE,[]);this.chain=r.reduceRight((o,u)=>new nE(o,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ym),f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),uE=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:jf,useClass:Sl}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Vf,useValue:t.cookieName}:[],t.headerName?{provide:Uf,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[jf,{provide:rE,useExisting:jf,multi:!0},{provide:Bf,useClass:Im},{provide:Vf,useValue:"XSRF-TOKEN"},{provide:Uf,useValue:"X-XSRF-TOKEN"}]}),n})(),db=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[ub,{provide:Kv,useClass:QA},Ml,{provide:ym,useExisting:Ml}],imports:[[uE.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var fi=M(2011),hu=M(515),pd=M(5363);function Cr(n,e){return(0,bi.e)((t,r)=>{let o=null,u=0,d=!1;const g=()=>d&&!o&&r.complete();t.subscribe((0,Bn.x)(r,E=>{null==o||o.unsubscribe();let b=0;const A=u++;(0,En.Xf)(n(E,A)).subscribe(o=(0,Bn.x)(r,S=>r.next(e?e(E,S,A,b++):S),()=>{o=null,g()}))},()=>{d=!0,g()}))})}var Ro=M(7579),cE=M(6063);class bm extends Ro.x{constructor(e=1/0,t=1/0,r=cE.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!o&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const d=t.now();let g=0;for(let E=1;E<r.length&&r[E]<=d;E+=2)g=E;g&&r.splice(0,g+1)}}}var dE=M(3099);function gd(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,dE.B)({connector:()=>new bm(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}var Xt=M(880),hb=M(7982);class rs extends Ro.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var xl=M(4671),fu=M(9672);function pE(n,e,t){n?(0,fu.f)(t,n,e):e()}function pu(n,e){const t=(0,dd.m)(n)?n:()=>n,r=o=>o.error(t());return new Pi.y(e?o=>e.schedule(r,0,o):r)}const md=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yd=M(8189);function _d(...n){return function gE(){return(0,yd.J)(1)}()((0,ir.D)(n,(0,ca.yG)(n)))}function Dm(n){return new Pi.y(e=>{(0,En.Xf)(n()).subscribe(e)})}var vd=M(727);function Ed(){return(0,bi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Bn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class mE extends Pi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,bi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new vd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Bn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=vd.w0.EMPTY)}return e}refCount(){return Ed()(this)}}var wd=M(5698);function Rl(...n){const e=(0,ca.yG)(n);return(0,bi.e)((t,r)=>{(e?_d(n,t,e):_d(n,t)).subscribe(r)})}function Cm(n,e,t,r,o){return(u,d)=>{let g=t,E=e,b=0;u.subscribe((0,Bn.x)(d,A=>{const S=b++;E=g?n(E,A,S):(g=!0,A),r&&d.next(E)},o&&(()=>{g&&d.next(E),d.complete()})))}}function No(n,e){return(0,bi.e)(Cm(n,e,arguments.length>=2,!0))}function va(n){return(0,bi.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,Bn.x)(t,void 0,void 0,d=>{u=(0,En.Xf)(n(d,va(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}function $f(n){return n<=0?()=>hu.E:(0,bi.e)((e,t)=>{let r=[];e.subscribe((0,Bn.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function yE(n=pb){return(0,bi.e)((e,t)=>{let r=!1;e.subscribe((0,Bn.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function pb(){return new md}function Tm(n){return(0,bi.e)((e,t)=>{let r=!1;e.subscribe((0,Bn.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Ea(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((o,u)=>n(o,u,r)):xl.y,(0,wd.q)(1),t?Tm(e):yE(()=>new md))}var is=M(8505);class Oo{constructor(e,t){this.id=e,this.url=t}}class Hf extends Oo{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Id extends Oo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vE extends Oo{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cs extends Oo{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class gb extends Oo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class EE extends Oo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mb extends Oo{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yb extends Oo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _b extends Oo{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sm{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vb{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eb{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wb{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jt{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const en="primary";class IE{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Po(n){return new IE(n)}const ss="ngNavigationCancelingError";function Gf(n){const e=Error("NavigationCancelingError: "+n);return e[ss]=!0,e}function xm(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const d=r[u],g=n[u];if(d.startsWith(":"))o[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function os(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!Rm(n[o],e[o]))return!1;return!0}function Rm(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function zf(n){return Array.prototype.concat.apply([],n)}function bb(n){return n.length>0?n[n.length-1]:null}function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Bi(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,ir.D)(Promise.resolve(n)):dt(n)}const Nm={exact:function bE(n,e,t){if(!wa(n.segments,e.segments)||!bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!bE(n.children[r],e.children[r],t))return!1;return!0},subset:DE},qf={exact:function XA(n,e){return os(n,e)},subset:function Cb(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Rm(n[t],e[t]))},ignored:()=>!0};function Kf(n,e,t){return Nm[t.paths](n.root,e.root,t.matrixParams)&&qf[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function DE(n,e,t){return CE(n,e,e.segments,t)}function CE(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!wa(o,t)||e.hasChildren()||!bd(o,t,r))}if(n.segments.length===t.length){if(!wa(n.segments,t)||!bd(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!DE(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(wa(n.segments,o)&&bd(n.segments,o,r)&&n.children[en])&&CE(n.children[en],e,u,r)}}function bd(n,e,t){return e.every((r,o)=>qf[t](n[o].parameters,r.parameters))}class Nl{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return eS.serialize(this)}}class un{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ei(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Om(this)}}class Zf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Po(this.parameters)),this._parameterMap}toString(){return Fo(this)}}function wa(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Yf{}class Ab{parse(e){const t=new xE(e);return new Nl(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qf(e.root,!0)}`,r=function xb(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Pm(t)}=${Pm(o)}`).join("&"):`${Pm(t)}=${Pm(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tS(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eS=new Ab;function Om(n){return n.segments.map(e=>Fo(e)).join("/")}function Qf(n,e){if(!n.hasChildren())return Om(n);if(e){const t=n.children[en]?Qf(n.children[en],!1):"",r=[];return ei(n.children,(o,u)=>{u!==en&&r.push(`${u}:${Qf(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Tb(n,e){let t=[];return ei(n.children,(r,o)=>{o===en&&(t=t.concat(e(r,o)))}),ei(n.children,(r,o)=>{o!==en&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===en?[Qf(n.children[en],!1)]:[`${o}:${Qf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[en]?`${Om(n)}/${t[0]}`:`${Om(n)}/(${t.join("//")})`}}function Sb(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pm(n){return Sb(n).replace(/%3B/gi,";")}function AE(n){return Sb(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function km(n){return decodeURIComponent(n)}function Mb(n){return km(n.replace(/\+/g,"%20"))}function Fo(n){return`${AE(n.path)}${function Fm(n){return Object.keys(n).map(e=>`;${AE(e)}=${AE(n[e])}`).join("")}(n.parameters)}`}const SE=/^[^\/()?;=#]+/;function Ol(n){const e=n.match(SE);return e?e[0]:""}const ME=/^[^=?&#]+/,Rb=/^[^&#]+/;class xE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[en]=new un(e,t)),r}parseSegment(){const e=Ol(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zf(km(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ol(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ol(this.remaining);o&&(r=o,this.capture(r))}e[km(t)]=km(r)}parseQueryParam(e){const t=function Lm(n){const e=n.match(ME);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Ia(n){const e=n.match(Rb);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=Mb(t),u=Mb(r);if(e.hasOwnProperty(o)){let d=e[o];Array.isArray(d)||(d=[d],e[o]=d),d.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ol(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=en);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[en]:new un([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class RE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Dd(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Dd(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Vm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Vm(e,this._root).map(t=>t.value)}}function Dd(n,e){if(n===e.value)return e;for(const t of e.children){const r=Dd(n,t);if(r)return r}return null}function Vm(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Vm(n,t);if(r.length)return r.unshift(e),r}return[]}class Ws{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Pl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class NE extends RE{constructor(e,t){super(e),this.snapshot=t,Jf(this,e)}toString(){return this.snapshot.toString()}}function kl(n,e){const t=function Fl(n,e){const d=new Lo([],{},{},"",{},en,e,null,n.root,-1,{});return new OE("",new Ws(d,[]))}(n,e),r=new rs([new Zf("",{})]),o=new rs({}),u=new rs({}),d=new rs({}),g=new rs(""),E=new ba(r,o,d,g,u,en,e,t.root);return E.snapshot=t.root,new NE(new Ws(E,[]),t)}class ba{constructor(e,t,r,o,u,d,g,E){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Po(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Po(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function gu(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Cd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Lo{constructor(e,t,r,o,u,d,g,E,b,A,S){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=d,this.component=g,this.routeConfig=E,this._urlSegment=b,this._lastPathIndex=A,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Po(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Po(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OE extends RE{constructor(e,t){super(t),this.url=e,Jf(this,t)}toString(){return Um(this._root)}}function Jf(n,e){e.value._routerState=n,e.children.forEach(t=>Jf(n,t))}function Um(n){const e=n.children.length>0?` { ${n.children.map(Um).join(", ")} } `:"";return`${n.value}${e}`}function Td(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,os(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),os(e.params,t.params)||n.params.next(t.params),function ko(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),os(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ad(n,e){const t=os(n.params,e.params)&&function TE(n,e){return wa(n,e)&&n.every((t,r)=>os(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ad(n.parent,e.parent))}function Da(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Nb(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Da(n,r,o);return Da(n,r)})}(n,e,t);return new Ws(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>Da(n,g)),d}}const r=function kE(n){return new ba(new rs(n.url),new rs(n.params),new rs(n.queryParams),new rs(n.fragment),new rs(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>Da(n,u));return new Ws(r,o)}}function Sd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ll(n){return"object"==typeof n&&null!=n&&n.outlets}function Bm(n,e,t,r,o){let u={};if(r&&ei(r,(g,E)=>{u[E]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`}),n===e)return new Nl(t,u,o);const d=jm(n,e,t);return new Nl(d,u,o)}function jm(n,e,t){const r={};return ei(n.children,(o,u)=>{r[u]=o===e?t:jm(o,e,t)}),new un(n.segments,r)}class FE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Sd(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Ll);if(o&&o!==bb(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pi{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Fb(n,e,t){if(n||(n=new un([],{})),0===n.segments.length&&n.hasChildren())return Md(n,e,t);const r=function iS(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const d=n.segments[o],g=t[r];if(Ll(g))break;const E=`${g}`,b=r<t.length-1?t[r+1]:null;if(o>0&&void 0===E)break;if(E&&b&&"object"==typeof b&&void 0===b.outlets){if(!LE(E,b,d))return u;r+=2}else{if(!LE(E,{},d))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new un(n.segments.slice(0,r.pathIndex),{});return u.children[en]=new un(n.segments.slice(r.pathIndex),n.children),Md(u,0,o)}return r.match&&0===o.length?new un(n.segments,{}):r.match&&!n.hasChildren()?$m(n,e,t):r.match?Md(n,0,o):$m(n,e,t)}function Md(n,e,t){if(0===t.length)return new un(n.segments,{});{const r=function rS(n){return Ll(n[0])?n[0].outlets:{[en]:n}}(t),o={};return ei(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[d]=Fb(n.children[d],e,u))}),ei(n.children,(u,d)=>{void 0===r[d]&&(o[d]=u)}),new un(n.segments,o)}}function $m(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(Ll(u)){const E=Hm(u.outlets);return new un(r,E)}if(0===o&&Sd(t[0])){r.push(new Zf(n.segments[e].path,Gm(t[0]))),o++;continue}const d=Ll(u)?u.outlets[en]:`${u}`,g=o<t.length-1?t[o+1]:null;d&&g&&Sd(g)?(r.push(new Zf(d,Gm(g))),o+=2):(r.push(new Zf(d,{})),o++)}return new un(r,{})}function Hm(n){const e={};return ei(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=$m(new un([],{}),0,t))}),e}function Gm(n){const e={};return ei(n,(t,r)=>e[r]=`${t}`),e}function LE(n,e,t){return n==t.path&&os(e,t.parameters)}class Vb{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Td(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=Pl(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,o[d],r),delete o[d]}),ei(o,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Pl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=Pl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=Pl(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new jt(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Eb(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(Td(o),o===u)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),Td(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=function VE(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),E=g?g.module.componentFactoryResolver:null;d.attachRef=null,d.route=o,d.resolver=E,d.outlet&&d.outlet.activateWith(o,E),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class zm{constructor(e,t){this.routes=e,this.module=t}}function Vo(n){return"function"==typeof n}function mu(n){return n instanceof Nl}const yu=Symbol("INITIAL_VALUE");function xd(){return Cr(n=>function hE(...n){const e=(0,ca.yG)(n),t=(0,ca.jO)(n),{args:r,keys:o}=mo(n);if(0===r.length)return(0,ir.D)([],e);const u=new Pi.y(function fE(n,e,t=xl.y){return r=>{pE(e,()=>{const{length:o}=n,u=new Array(o);let d=o,g=o;for(let E=0;E<o;E++)pE(e,()=>{const b=(0,ir.D)(n[E],e);let A=!1;b.subscribe((0,Bn.x)(r,S=>{u[E]=S,A||(A=!0,g--),g||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,o?d=>ll(o,d):xl.y));return t?u.pipe(jc(t)):u}(n.map(e=>e.pipe((0,wd.q)(1),Rl(yu)))).pipe(No((e,t)=>{let r=!1;return t.reduce((o,u,d)=>o!==yu?o:(u===yu&&(r=!0),r||!1!==u&&d!==t.length-1&&!mu(u)?o:u),e)},yu),Ui(e=>e!==yu),(0,xt.U)(e=>mu(e)?e:!0===e),(0,wd.q)(1)))}class jb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xf,this.attachRef=null}}class Xf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new jb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Wm=(()=>{class n{constructor(t,r,o,u,d){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||en,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,E=new $b(t,g,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Xf),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $b{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ba?this.route:e===Xf?this.childContexts:this.parent.get(e,t)}}let qm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},directives:[Wm],encapsulation:2}),n})();function jE(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Km(r,Hb(e,r))}}function Km(n,e){n.children&&jE(n.children,e)}function Hb(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Zm(n){const e=n.children&&n.children.map(Zm),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==en&&(t.component=qm),t}function gi(n){return n.outlet||en}function ep(n,e){const t=n.filter(r=>gi(r)===e);return t.push(...n.filter(r=>gi(r)!==e)),t}const $E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$E):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||xm)(t,n,e);if(!u)return Object.assign({},$E);const d={};ei(u.posParams,(E,b)=>{d[b]=E.path});const g=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:g,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function Ul(n,e,t,r,o="corrected"){if(t.length>0&&function oS(n,e,t){return t.some(r=>Qm(n,e,r)&&gi(r)!==en)}(n,t,r)){const d=new un(e,function sS(n,e,t,r){const o={};o[en]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&gi(u)!==en){const d=new un([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,o[gi(u)]=d}return o}(n,e,r,new un(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Ym(n,e,t){return t.some(r=>Qm(n,e,r))}(n,t,r)){const d=new un(n.segments,function HE(n,e,t,r,o,u){const d={};for(const g of r)if(Qm(n,t,g)&&!o[gi(g)]){const E=new un([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[gi(g)]=E}return Object.assign(Object.assign({},o),d)}(n,e,t,r,n.children,o));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new un(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Qm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function GE(n,e,t,r){return!!(gi(n)===r||r!==en&&Qm(e,t,n))&&("**"===n.path||Vl(e,n,t).matched)}function Jm(n,e,t){return 0===e.length&&!n.children[t]}class Rd{constructor(e){this.segmentGroup=e||null}}class Xm{constructor(e){this.urlTree=e}}function Bl(n){return pu(new Rd(n))}function ey(n){return pu(new Xm(n))}class zb{constructor(e,t,r,o,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=Ul(this.urlTree.root,[],[],this.config).segmentGroup,t=new un(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,en).pipe((0,xt.U)(u=>this.createUrlTree(Nd(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(va(u=>{if(u instanceof Xm)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Rd?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,en).pipe((0,xt.U)(o=>this.createUrlTree(Nd(o),e.queryParams,e.fragment))).pipe(va(o=>{throw o instanceof Rd?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new un([],{[en]:e}):e;return new Nl(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(u=>new un([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,ir.D)(o).pipe(Al(u=>{const d=r.children[u],g=ep(t,u);return this.expandSegmentGroup(e,g,d,u).pipe((0,xt.U)(E=>({segment:E,outlet:u})))}),No((u,d)=>(u[d.outlet]=d.segment,u),{}),function Am(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Ui((o,u)=>n(o,u,r)):xl.y,$f(1),t?Tm(e):yE(()=>new md))}())}expandSegment(e,t,r,o,u,d){return(0,ir.D)(r).pipe(Al(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,u,d).pipe(va(b=>{if(b instanceof Rd)return dt(null);throw b}))),Ea(g=>!!g),va((g,E)=>{if(g instanceof md||"EmptyError"===g.name)return Jm(t,o,u)?dt(new un([],{})):Bl(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,u,d,g){return GE(o,t,u,d)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d):Bl(t):Bl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ey(u):this.lineralizeSegments(r,u).pipe((0,dr.z)(d=>{const g=new un(d,{});return this.expandSegment(e,g,t,d,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,d){const{matched:g,consumedSegments:E,remainingSegments:b,positionalParamSegments:A}=Vl(t,o,u);if(!g)return Bl(t);const S=this.applyRedirectCommands(E,o.redirectTo,A);return o.redirectTo.startsWith("/")?ey(S):this.lineralizeSegments(o,S).pipe((0,dr.z)(B=>this.expandSegment(e,t,r,B.concat(b),d,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?dt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,xt.U)(S=>(r._loadedConfig=S,new un(o,{})))):dt(new un(o,{}));const{matched:d,consumedSegments:g,remainingSegments:E}=Vl(t,r,o);return d?this.getChildConfig(e,r,o).pipe((0,dr.z)(A=>{const S=A.module,B=A.routes,{segmentGroup:q,slicedSegments:ne}=Ul(t,g,E,B),Pe=new un(q.segments,q.children);if(0===ne.length&&Pe.hasChildren())return this.expandChildren(S,B,Pe).pipe((0,xt.U)(an=>new un(g,an)));if(0===B.length&&0===ne.length)return dt(new un(g,{}));const Xe=gi(r)===u;return this.expandSegment(S,Pe,B,ne,Xe?en:u,!0).pipe((0,xt.U)(Ot=>new un(g.concat(Ot.segments),Ot.children)))})):Bl(t)}getChildConfig(e,t,r){return t.children?dt(new zm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,dr.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,xt.U)(u=>(t._loadedConfig=u,u))):function tp(n){return pu(Gf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):dt(new zm([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?dt(o.map(d=>{const g=e.get(d);let E;if(function UE(n){return n&&Vo(n.canLoad)}(g))E=g.canLoad(t,r);else{if(!Vo(g))throw new Error("Invalid CanLoad guard");E=g(t,r)}return Bi(E)})).pipe(xd(),(0,is.b)(d=>{if(!mu(d))return;const g=Gf(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw g.url=d,g}),(0,xt.U)(d=>!0===d)):dt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return dt(r);if(o.numberOfChildren>1||!o.children[en])return pu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[en]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Nl(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return ei(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[u]=t[g]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let d={};return ei(t.children,(g,E)=>{d[E]=this.createSegmentGroup(e,g,r,o)}),new un(u,d)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Nd(n){const e={};for(const r of Object.keys(n.children)){const u=Nd(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function aS(n){if(1===n.numberOfChildren&&n.children[en]){const e=n.children[en];return new un(n.segments.concat(e.segments),e.children)}return n}(new un(n.segments,e))}class np{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ca{constructor(e,t){this.component=e,this.route=t}}function Wb(n,e,t){const r=n._root;return jl(r,e?e._root:null,t,[r.value])}function Od(n,e,t){const r=function WE(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function jl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=Pl(e);return n.children.forEach(d=>{(function qb(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const E=function ny(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wa(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wa(n.url,e.url)||!os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ad(n,e)||!os(n.queryParams,e.queryParams);default:return!Ad(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new np(r)):(u.data=d.data,u._resolvedData=d._resolvedData),jl(n,e,u.component?g?g.children:null:t,r,o),E&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Ca(g.outlet.component,d))}else d&&Pd(e,g,o),o.canActivateChecks.push(new np(r)),jl(n,null,u.component?g?g.children:null:t,r,o)})(d,u[d.value.outlet],t,r.concat([d.value]),o),delete u[d.value.outlet]}),ei(u,(d,g)=>Pd(d,t.getContext(g),o)),o}function Pd(n,e,t){const r=Pl(n),o=n.value;ei(r,(u,d)=>{Pd(u,o.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ca(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Jb{}function ZE(n){return new Pi.y(e=>e.error(n))}class Ks{constructor(e,t,r,o,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=Ul(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,en);if(null===t)return null;const r=new Lo([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},en,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Ws(r,t),u=new OE(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=gu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],g=ep(e,u),E=this.processSegmentGroup(g,d,u);if(null===E)return null;r.push(...E)}const o=iy(r);return function ry(n){n.sort((e,t)=>e.value.outlet===en?-1:t.value.outlet===en?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,o);if(null!==d)return d}return Jm(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!GE(e,t,r,o))return null;let u,d=[],g=[];if("**"===e.path){const q=r.length>0?bb(r).parameters:{};u=new Lo(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,e0(e),gi(e),e.component,e,JE(t),XE(t)+r.length,t0(e))}else{const q=Vl(t,e,r);if(!q.matched)return null;d=q.consumedSegments,g=q.remainingSegments,u=new Lo(d,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,e0(e),gi(e),e.component,e,JE(t),XE(t)+d.length,t0(e))}const E=function YE(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:A}=Ul(t,d,g,E.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===A.length&&b.hasChildren()){const q=this.processChildren(E,b);return null===q?null:[new Ws(u,q)]}if(0===E.length&&0===A.length)return[new Ws(u,[])];const S=gi(e)===o,B=this.processSegment(E,b,A,S?en:o);return null===B?null:[new Ws(u,B)]}}function QE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function iy(n){const e=[],t=new Set;for(const r of n){if(!QE(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=iy(r.children);e.push(new Ws(r.value,o))}return e.filter(r=>!t.has(r))}function JE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function XE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function e0(n){return n.data||{}}function t0(n){return n.resolve||{}}function s0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function o0(n){return Cr(e=>{const t=n(e);return t?(0,ir.D)(t).pipe((0,xt.U)(()=>e)):dt(e)})}class a0 extends class nD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const rp=new f.OlP("ROUTES");class rD{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,xt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new zm(zf(d.injector.get(rp,void 0,f.XFs.Self|f.XFs.Optional)).map(Zm),d)}),va(u=>{throw t._loader$=void 0,u}));return t._loader$=new mE(o,()=>new Ro.x).pipe(Ed()),t._loader$}loadModuleFactory(e){return Bi(e()).pipe((0,dr.z)(t=>t instanceof f.YKP?dt(t):(0,ir.D)(this.compiler.compileModuleAsync(t))))}}class cS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function dS(n){throw n}function u0(n,e,t){return e.parse("/")}function oy(n,e){return dt(null)}const l0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},iD={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class n{constructor(t,r,o,u,d,g,E){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ro.x,this.errorHandler=dS,this.malformedUriErrorHandler=u0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:oy,afterPreactivation:oy},this.urlHandlingStrategy=new cS,this.routeReuseStrategy=new a0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const S=d.get(f.R0b);this.isNgZoneEnabled=S instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function Wf(){return new Nl(new un([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new rD(d,g,B=>this.triggerEvent(new wE(B)),B=>this.triggerEvent(new Sm(B))),this.routerState=kl(this.currentUrlTree,this.rootComponentType),this.transitions=new rs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Ui(o=>0!==o.id),(0,xt.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cr(o=>{let u=!1,d=!1;return dt(o).pipe((0,is.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Cr(g=>{const E=this.browserUrlTree.toString(),b=!this.navigated||g.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return ip(g.source)&&(this.browserUrlTree=g.extractedUrl),dt(g).pipe(Cr(S=>{const B=this.transitions.getValue();return r.next(new Hf(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),B!==this.transitions.getValue()?hu.E:Promise.resolve(S)}),function zE(n,e,t,r){return Cr(o=>function Gb(n,e,t,r,o){return new zb(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,xt.U)(u=>Object.assign(Object.assign({},o),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,is.b)(S=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:S.urlAfterRedirects})}),function n0(n,e,t,r,o){return(0,dr.z)(u=>function Xb(n,e,t,r,o="emptyOnly",u="legacy"){try{const d=new Ks(n,e,t,r,o,u).recognize();return null===d?ZE(new Jb):dt(d)}catch(d){return ZE(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,xt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,S=>this.serializeUrl(S),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,is.b)(S=>{if("eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(q,S)}this.browserUrlTree=S.urlAfterRedirects}const B=new gb(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(B)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:q,source:ne,restoredState:Pe,extras:Xe}=g,bt=new Hf(B,this.serializeUrl(q),ne,Pe);r.next(bt);const Ot=kl(q,this.rootComponentType).snapshot;return dt(Object.assign(Object.assign({},g),{targetSnapshot:Ot,urlAfterRedirects:q,extras:Object.assign(Object.assign({},Xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),hu.E}),o0(g=>{const{targetSnapshot:E,id:b,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:q}}=g;return this.hooks.beforePreactivation(E,{navigationId:b,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!q})}),(0,is.b)(g=>{const E=new EE(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(E)}),(0,xt.U)(g=>Object.assign(Object.assign({},g),{guards:Wb(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function Kb(n,e){return(0,dr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function qE(n,e,t,r){return(0,ir.D)(n).pipe((0,dr.z)(o=>function Qb(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?dt(u.map(g=>{const E=Od(g,e,o);let b;if(function qs(n){return n&&Vo(n.canDeactivate)}(E))b=Bi(E.canDeactivate(n,e,t,r));else{if(!Vo(E))throw new Error("Invalid CanDeactivate guard");b=Bi(E(n,e,t,r))}return b.pipe(Ea())})).pipe(xd()):dt(!0)}(o.component,o.route,t,e,r)),Ea(o=>!0!==o,!0))}(d,r,o,n).pipe((0,dr.z)(g=>g&&function Ub(n){return"boolean"==typeof n}(g)?function $l(n,e,t,r){return(0,ir.D)(e).pipe(Al(o=>_d(function Zb(n,e){return null!==n&&e&&e(new vb(n)),dt(!0)}(o.route.parent,r),function KE(n,e){return null!==n&&e&&e(new wb(n)),dt(!0)}(o.route,r),function Hl(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function ty(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Dm(()=>dt(d.guards.map(E=>{const b=Od(E,d.node,t);let A;if(function Bb(n){return n&&Vo(n.canActivateChild)}(b))A=Bi(b.canActivateChild(r,n));else{if(!Vo(b))throw new Error("Invalid CanActivateChild guard");A=Bi(b(r,n))}return A.pipe(Ea())})).pipe(xd())));return dt(u).pipe(xd())}(n,o.path,t),function Yb(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const o=r.map(u=>Dm(()=>{const d=Od(u,e,t);let g;if(function BE(n){return n&&Vo(n.canActivate)}(d))g=Bi(d.canActivate(e,n));else{if(!Vo(d))throw new Error("Invalid CanActivate guard");g=Bi(d(e,n))}return g.pipe(Ea())}));return dt(o).pipe(xd())}(n,o.route,t))),Ea(o=>!0!==o,!0))}(r,u,n,e):dt(g)),(0,xt.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,is.b)(g=>{if(mu(g.guardsResult)){const b=Gf(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw b.url=g.guardsResult,b}const E=new mb(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(E)}),Ui(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),o0(g=>{if(g.guards.canActivateChecks.length)return dt(g).pipe((0,is.b)(E=>{const b=new yb(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(b)}),Cr(E=>{let b=!1;return dt(E).pipe(function uS(n,e){return(0,dr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return dt(t);let u=0;return(0,ir.D)(o).pipe(Al(d=>function r0(n,e,t,r){return function tD(n,e,t,r){const o=s0(n);if(0===o.length)return dt({});const u={};return(0,ir.D)(o).pipe((0,dr.z)(d=>function lS(n,e,t,r){const o=Od(n,e,r);return Bi(o.resolve?o.resolve(e,t):o(e,t))}(n[d],e,t,r).pipe((0,is.b)(g=>{u[d]=g}))),$f(1),(0,dr.z)(()=>s0(u).length===o.length?dt(u):hu.E))}(n._resolve,n,e,r).pipe((0,xt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),gu(n,t).resolve),null)))}(d.route,r,n,e)),(0,is.b)(()=>u++),$f(1),(0,dr.z)(d=>u===o.length?dt(t):hu.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,is.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,is.b)(E=>{const b=new _b(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(b)}))}),o0(g=>{const{targetSnapshot:E,id:b,extractedUrl:A,rawUrl:S,extras:{skipLocationChange:B,replaceUrl:q}}=g;return this.hooks.afterPreactivation(E,{navigationId:b,appliedUrlTree:A,rawUrlTree:S,skipLocationChange:!!B,replaceUrl:!!q})}),(0,xt.U)(g=>{const E=function PE(n,e,t){const r=Da(n,e._root,t?t._root:void 0);return new NE(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:E})}),(0,is.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new Vb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,is.b)({next(){u=!0},complete(){u=!0}}),function _E(n){return(0,bi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var g;u||d||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(g=this.currentNavigation)||void 0===g?void 0:g.id)===o.id&&(this.currentNavigation=null)}),va(g=>{if(d=!0,function Ib(n){return n&&n[ss]}(g)){const E=mu(g.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const b=new vE(o.id,this.serializeUrl(o.extractedUrl),g.message);r.next(b),E?setTimeout(()=>{const A=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),S={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ip(o.source)};this.scheduleNavigation(A,"imperative",null,S,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new Cs(o.id,this.serializeUrl(o.extractedUrl),g);r.next(E);try{o.resolve(this.errorHandler(g))}catch(b){o.reject(b)}}return hu.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const u={replaceUrl:!0},d=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(d){const E=Object.assign({},d);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(u.state=E)}const g=this.parseUrl(t.url);this.scheduleNavigation(g,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){jE(t),this.config=t.map(Zm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:E}=r,b=o||this.routerState.root,A=E?this.currentUrlTree.fragment:d;let S=null;switch(g){case"merge":S=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=u||null}return null!==S&&(S=this.removeEmptyProps(S)),function nS(n,e,t,r,o){if(0===t.length)return Bm(e.root,e.root,e.root,r,o);const u=function Ob(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new FE(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return ei(u.outlets,(E,b)=>{g[b]="string"==typeof E?E.split("/"):E}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===d?(u.split("/").forEach((g,E)=>{0==E&&"."===g||(0==E&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new FE(t,e,r)}(t);if(u.toRoot())return Bm(e.root,e.root,new un([],{}),r,o);const d=function Pb(n,e,t){if(n.isAbsolute)return new pi(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new pi(u,u===e.root,0)}const r=Sd(n.commands[0])?0:1;return function kb(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new pi(r,!1,o-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),g=d.processChildren?Md(d.segmentGroup,d.index,u.commands):Fb(d.segmentGroup,d.index,u.commands);return Bm(e.root,d.segmentGroup,g,r,o)}(b,this.currentUrlTree,t,S,null!=A?A:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=mu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function c0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},l0):!1===r?Object.assign({},iD):r,mu(t))return Kf(this.currentUrlTree,t,o);const u=this.parseUrl(t);return Kf(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Id(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,d){var g,E;if(this.disposed)return Promise.resolve(!1);let b,A,S;d?(b=d.resolve,A=d.reject,S=d.promise):S=new Promise((ne,Pe)=>{b=ne,A=Pe});const B=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),q=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):q=0,this.setTransition({id:B,targetPageId:q,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:b,reject:A,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(ne=>Promise.reject(ne))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){var o,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new vE(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function ip(n){return"imperative"!==n}class d0{}class h0{preload(e,t){return dt(null)}}let Fd=(()=>{class n{constructor(t,r,o,u){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=new rD(o,r,E=>t.triggerEvent(new wE(E)),E=>t.triggerEvent(new Sm(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ui(t=>t instanceof Id),Al(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;o.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?o.push(this.preloadConfig(t,u)):u.children&&o.push(this.processRoutes(t,u.children));return(0,ir.D)(o).pipe((0,yd.J)(),(0,xt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?dt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,dr.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ji),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(d0))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Ta=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Hf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Id&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Mm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Mm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const As=new f.OlP("ROUTER_CONFIGURATION"),f0=new f.OlP("ROUTER_FORROOT_GUARD"),uD=[Re,{provide:Yf,useClass:Ab},{provide:ji,useFactory:function as(n,e,t,r,o,u,d={},g,E){const b=new ji(null,n,e,t,r,o,zf(u));return g&&(b.urlHandlingStrategy=g),E&&(b.routeReuseStrategy=E),function ly(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,b),d.enableTracing&&b.events.subscribe(A=>{var S,B;null===(S=console.group)||void 0===S||S.call(console,`Router Event: ${A.constructor.name}`),console.log(A.toString()),console.log(A),null===(B=console.groupEnd)||void 0===B||B.call(console)}),b},deps:[Yf,Xf,Re,f.zs3,f.Sil,rp,As,[class Ts{},new f.FiY],[class sy{},new f.FiY]]},Xf,{provide:ba,useFactory:function zl(n){return n.routerState.root},deps:[ji]},Fd,h0,class aD{preload(e,t){return t().pipe(va(()=>dt(null)))}},{provide:As,useValue:{enableTracing:!1}}];function uy(){return new f.PXZ("Router",ji)}let Ss=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[uD,Vd(t),{provide:f0,useFactory:_u,deps:[[ji,new f.FiY,new f.tp0]]},{provide:As,useValue:r||{}},{provide:me,useFactory:ti,deps:[le,[new f.tBr(rt),new f.FiY],As]},{provide:Ta,useFactory:Ld,deps:[ji,ta,As]},{provide:d0,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:h0},{provide:f.PXZ,multi:!0,useFactory:uy},[Aa,{provide:f.ip1,multi:!0,useFactory:Wl,deps:[Aa]},{provide:vu,useFactory:ql,deps:[Aa]},{provide:f.tb,multi:!0,useExisting:vu}]]}}static forChild(t){return{ngModule:n,providers:[Vd(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f0,8),f.LFG(ji,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function Ld(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ta(n,e,t)}function ti(n,e,t={}){return t.useHash?new Ne(n,e):new qe(n,e)}function _u(n){return"guarded"}function Vd(n){return[{provide:f.deG,multi:!0,useValue:n},{provide:rp,multi:!0,useValue:n}]}let Aa=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ro.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),u=this.injector.get(ji),d=this.injector.get(As);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?dt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(As),o=this.injector.get(Fd),u=this.injector.get(Ta),d=this.injector.get(ji),g=this.injector.get(f.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),o.setUpPreloading(),u.init(),d.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Wl(n){return n.appInitializer.bind(n)}function ql(n){return n.bootstrapListener.bind(n)}const vu=new f.OlP("Router Initializer");var Zl=M(6451);function Eu(n,e){return(0,dd.m)(e)?Cr(()=>n,e):Cr(()=>n)}var sp=M(9468),Bo=M(5867);class Sa{constructor(e){return e}}class op{constructor(){return(0,Bo.C6)()}}const ap=new f.OlP("angularfire2._apps"),g0={provide:Sa,useFactory:function p0(n){return n&&1===n.length?n[0]:new Sa((0,Bo.Mq)())},deps:[[new f.FiY,ap]]},m0={provide:op,deps:[[new f.FiY,ap]]};function cD(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Sa(r)}}let y0=(()=>{class n{constructor(t){(0,Bo.KN)("angularfire",Xt.q4.full,"core"),(0,Bo.KN)("angularfire",Xt.q4.full,"app"),(0,Bo.KN)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[g0,m0]}),n})();const fD=(0,Xt.u3)(Bo.ZF,!0);var Ce=M(5861),jo=M(9681),cy=M(4859),rn=M(2090),Zs=M(1877);const up=new Map,mD={activated:!1,tokenObservers:[]},mS={initialized:!1,enabled:!1};function Wr(n){return up.get(n)||mD}function Ys(n,e){up.set(n,e)}function lp(){return mS}class _D{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ce.Z)(function*(){t.stop();try{t.pending=new rn.BH,yield function E0(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new rn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mi=new rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function w0(n){if(!Wr(n).activated)throw mi.create("use-before-activation",{appName:n.name})}function hy(n,e){return fp.apply(this,arguments)}function fp(){return(fp=(0,Ce.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const S=yield o.getHeartbeatsHeader();S&&(r["X-Firebase-Client"]=S)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,g;try{d=yield fetch(n,u)}catch(S){throw mi.create("fetch-network-error",{originalErrorMessage:S.message})}if(200!==d.status)throw mi.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(S){throw mi.create("fetch-parse-error",{originalErrorMessage:S.message})}const E=g.ttl.match(/^([\d.]+)(s)$/);if(!E||!E[2]||isNaN(Number(E[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const b=1e3*Number(E[1]),A=Date.now();return{token:g.token,expireTimeMillis:A+b,issuedAtTimeMillis:A}})).apply(this,arguments)}function b0(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const wu="firebase-app-check-store";let py=null;function Ql(){return py||(py=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(mi.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(wu,{keyPath:"compositeKey"})}}catch(t){e(mi.create("storage-open",{originalErrorMessage:t.message}))}}),py)}function Jl(){return(Jl=(0,Ce.Z)(function*(n,e){const r=(yield Ql()).transaction(wu,"readwrite"),u=r.objectStore(wu).put({compositeKey:n,value:e});return new Promise((d,g)=>{u.onsuccess=E=>{d()},r.onerror=E=>{var b;g(mi.create("storage-set",{originalErrorMessage:null===(b=E.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const Iu=new Zs.Yd("@firebase/app-check");function _y(n,e){return(0,rn.hl)()?function gy(n,e){return function jd(n,e){return Jl.apply(this,arguments)}(function A0(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Iu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ey(){return lp().enabled}function yp(){return _p.apply(this,arguments)}function _p(){return(_p=(0,Ce.Z)(function*(){const n=lp();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const S0={error:"UNKNOWN_ERROR"};function M0(n){return rn.US.encodeString(JSON.stringify(n),!1)}function Xl(n){return vp.apply(this,arguments)}function vp(){return(vp=(0,Ce.Z)(function*(n,e=!1){const t=n.app;w0(t);const r=Wr(t);let u,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&$d(E)&&(o=E)}if(!e&&o&&$d(o))return{token:o.token};let g,d=!1;if(Ey()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hy(b0(t,yield yp()),n.heartbeatServiceProvider).then(b=>(r.exchangeTokenPromise=void 0,b)),d=!0);const E=yield r.exchangeTokenPromise;return yield _y(t,E),Ys(t,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),d=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Iu.warn(E.message):Iu.error(E),u=E}return o?(g={token:o.token},Ys(t,Object.assign(Object.assign({},r),{token:o})),yield _y(t,o)):g=N0(u),d&&Ep(t,g),g})).apply(this,arguments)}function Iy(n,e){const t=Wr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ys(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function x0(n){const{app:e}=n,t=Wr(e);let r=t.tokenRefresher;r||(r=function R0(n){const{app:e}=n;return new _D((0,Ce.Z)(function*(){let r;if(r=Wr(e).token?yield Xl(n,!0):yield Xl(n),r.error)throw r.error}),()=>!0,()=>{const t=Wr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ys(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ep(n,e){const t=Wr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function $d(n){return n.expireTimeMillis-Date.now()>0}function N0(n){return{token:M0(S0),error:n}}class O0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wr(this.app);for(const t of e)Iy(this.app,t.next);return Promise.resolve()}}const Ms="app-check-internal";!function MD(){(0,jo._registerComponent)(new cy.wA("app-check",n=>function P0(n,e){return new O0(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Ms).initialize()})),(0,jo._registerComponent)(new cy.wA(Ms,n=>function k0(n){return{getToken:e=>Xl(n,e),addTokenListener:e=>function wy(n,e,t,r){const{app:o}=n,u=Wr(o),d={next:t,error:r,type:e};if(Ys(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&$d(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),x0(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>x0(n))}(n,"INTERNAL",e),removeTokenListener:e=>Iy(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,jo.registerVersion)("@firebase/app-check","0.5.8")}();class yi{constructor(){return(0,Xt.vb)("app-check")}}"undefined"!=typeof window&&window;var Gd=M(127);const Ay=new f.OlP("angularfire2.auth.use-emulator"),Dp=new f.OlP("angularfire2.auth.settings"),zd=new f.OlP("angularfire2.auth.tenant-id"),Sy=new f.OlP("angularfire2.auth.langugage-code"),My=new f.OlP("angularfire2.auth.use-device-language"),xy=new f.OlP("angularfire.auth.persistence"),Ry=(n,e,t,r,o,u,d,g)=>(0,fi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=e.runOutsideAngular(()=>n.auth());if(t&&E.useEmulator(...t),r&&(E.tenantId=r),E.languageCode=o,u&&E.useDeviceLanguage(),d)for(const[b,A]of Object.entries(d))E.settings[b]=A;return g&&E.setPersistence(g),E},[t,r,o,u,d,g]);let Cp=(()=>{class n{constructor(t,r,o,u,d,g,E,b,A,S,B,q){const ne=new Ro.x,Pe=dt(void 0).pipe((0,pd.Q)(d.outsideAngular),Cr(()=>u.runOutsideAngular(()=>Promise.resolve().then(M.bind(M,5881)))),(0,xt.U)(()=>(0,fi.on)(t,u,r)),(0,xt.U)(Xe=>Ry(Xe,u,g,b,A,S,E,B)),gd({bufferSize:1,refCount:!1}));if(nr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{Pe.pipe(Ea()).subscribe();const bt=Pe.pipe(Cr(Gt=>Gt.getRedirectResult().then(ln=>ln,()=>null)),Xt.iC,gd({bufferSize:1,refCount:!1})),Ot=Pe.pipe(Cr(Gt=>new Pi.y(ln=>({unsubscribe:u.runOutsideAngular(()=>Gt.onAuthStateChanged(In=>ln.next(In),In=>ln.error(In),()=>ln.complete()))})))),an=Pe.pipe(Cr(Gt=>new Pi.y(ln=>({unsubscribe:u.runOutsideAngular(()=>Gt.onIdTokenChanged(In=>ln.next(In),In=>ln.error(In),()=>ln.complete()))}))));this.authState=bt.pipe(Eu(Ot),(0,sp.R)(d.outsideAngular),(0,pd.Q)(d.insideAngular)),this.user=bt.pipe(Eu(an),(0,sp.R)(d.outsideAngular),(0,pd.Q)(d.insideAngular)),this.idToken=this.user.pipe(Cr(Gt=>Gt?(0,ir.D)(Gt.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(Cr(Gt=>Gt?(0,ir.D)(Gt.getIdTokenResult()):dt(null))),this.credential=(0,Zl.T)(bt,ne,this.authState.pipe(Ui(Gt=>!Gt))).pipe((0,xt.U)(Gt=>(null==Gt?void 0:Gt.user)?Gt:null),(0,sp.R)(d.outsideAngular),(0,pd.Q)(d.insideAngular))}return(0,fi.pX)(this,Pe,u,{spy:{apply:(Xe,bt,Ot)=>{(Xe.startsWith("signIn")||Xe.startsWith("createUser"))&&Ot.then(an=>ne.next(an))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fi.Dh),f.LFG(fi.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Xt.HU),f.LFG(Ay,8),f.LFG(Dp,8),f.LFG(zd,8),f.LFG(Sy,8),f.LFG(My,8),f.LFG(xy,8),f.LFG(yi,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ny(n,e=xl.y){return n=null!=n?n:UD,(0,bi.e)((t,r)=>{let o,u=!0;t.subscribe((0,Bn.x)(r,d=>{const g=e(d);(u||!n(o,g))&&(u=!1,o=g,r.next(d))}))})}function UD(n,e){return n===e}function Tp(){return(0,bi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Bn.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}const Py="firebase_screen_id",Ap="outlet",ec="screen_class",ky="screen_name";let zD=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Ma={},kS=n=>{const e=[n[ec],n[Ap]].join("#");if(Ma.hasOwnProperty(e))return Ma[e];{const t=zD++;return Ma[e]=t,t}},qD=new f.OlP("angularfire2.analytics.analyticsCollectionEnabled"),xp=new f.OlP("angularfire2.analytics.appVersion"),Rp=new f.OlP("angularfire2.analytics.appName"),sr=new f.OlP("angularfire2.analytics.debugMode"),US=new f.OlP("angularfire2.analytics.config"),Wd="dataLayer";let qd=(()=>{class n{constructor(t,r,o,u,d,g,E,b,A){if(this.analyticsInitialized=new Promise(()=>{}),function pr(n){return n===ho}(E)){window[Wd]=window[Wd]||[];const B=(...Pe)=>"config"===Pe[0]&&"firebase"===Pe[2].origin&&(this.measurementId=Pe[1],!0),q=Pe=>{window.gtag=(...Xe)=>{Pe&&Pe(...Xe),"event"===Xe[0]&&Xe[2].send_to===this.measurementId&&(u&&(Xe[2].app_name=u),o&&(Xe[2].app_version=o)),d&&"undefined"!=typeof console&&console.info(...Xe),function(...bt){window[Wd].push(arguments)}(...Xe)}};window[Wd].some(B)?(this.analyticsInitialized=Promise.resolve(),q()):this.analyticsInitialized=new Promise(Pe=>{q((...Xe)=>{B(...Xe)&&Pe()})}),g&&this.updateConfig(g),d&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const S=dt(void 0).pipe((0,pd.Q)(A.outsideAngular),Cr(hb.Gb),Cr(B=>B?b.runOutsideAngular(()=>M.e(643).then(M.bind(M,8643))):hu.E),(0,xt.U)(()=>(0,fi.cc)("analytics","AngularFireAnalytics",t.name,()=>{const B=t.analytics();return!1===r&&B.setAnalyticsCollectionEnabled(!1),B},[t,r,g,d])),gd({bufferSize:1,refCount:!1}));return(0,fi.pX)(this,S,b)}updateConfig(t){return(0,ol.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fi.Ot),f.LFG(qD,8),f.LFG(xp,8),f.LFG(Rp,8),f.LFG(sr,8),f.LFG(US,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Xt.HU))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ow=(()=>{class n{constructor(t,r,o,u){if(this.disposables=[],Gd.Z.registerVersion("angularfire",Xt.q4.full,"compat-user-tracking"),nr(r))this.initialized=Promise.resolve();else{let d;this.initialized=u.runOutsideAngular(()=>new Promise(g=>d=g)),this.disposables=[o.authState.subscribe(g=>{t.setUserId(null==g?void 0:g.uid),d()}),o.credential.subscribe(g=>{if(g){const E=g.user.isAnonymous?"anonymous":g.additionalUserInfo.providerId;g.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:E}),t.logEvent("login",{method:E})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qd),f.LFG(f.Lbi),f.LFG(Cp),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Kd=(()=>{class n{constructor(t,r,o,u,d,g){if(Gd.Z.registerVersion("angularfire",Xt.q4.full,"compat-screen-tracking"),!r||!t)return this;d.runOutsideAngular(()=>{this.disposable=((n,e,t)=>n.events.pipe(Ui(o=>o instanceof jt)).pipe(Cr(o=>{var u;const g=(null===(u=n.parseUrl(n.url.replace(/(?:\().+(?:\))/g,q=>q.replace("://",":///"))).root.children[o.snapshot.outlet])||void 0===u?void 0:u.toString())||"",E=n.routerState.root.children.map(q=>q).find(q=>q.outlet===o.snapshot.outlet);if(!E)return dt(null);let b=E;for(;b.firstChild;)b=b.firstChild;const A=b.pathFromRoot.map(q=>{var ne;return null===(ne=q.routeConfig)||void 0===ne?void 0:ne.path}).filter(q=>q).join("/")||"/",S={[ky]:A,page_path:`/${g}`,firebase_event_origin:"auto",firebase_screen:A,[Ap]:o.snapshot.outlet};e&&(S.page_title=e.getTitle());let B=E.component;if(B){if(B===qm){let q=o.snapshot;for(;q.firstChild;)q=q.firstChild;B=q.component}}else B=o.snapshot.component;if("string"==typeof B)return dt(Object.assign(Object.assign({},S),{[ec]:B}));if(B){const q=t.resolveComponentFactory(B);return dt(Object.assign(Object.assign({},S),{[ec]:q.selector}))}return dt(null)}),Ui(o=>!!o),(0,xt.U)(o=>Object.assign({firebase_screen_class:o[ec],[Py]:kS(o)},o)),function K0(n,e,t,r){return(0,bi.e)((o,u)=>{let d;e&&"function"!=typeof e?({duration:t,element:d,connector:r}=e):d=e;const g=new Map,E=ne=>{g.forEach(ne),ne(u)},b=ne=>E(Pe=>Pe.error(ne));let A=0,S=!1;const B=new Bn.Q(u,ne=>{try{const Pe=n(ne);let Xe=g.get(Pe);if(!Xe){g.set(Pe,Xe=r?r():new Ro.x);const bt=function q(ne,Pe){const Xe=new Pi.y(bt=>{A++;const Ot=Pe.subscribe(bt);return()=>{Ot.unsubscribe(),0==--A&&S&&B.unsubscribe()}});return Xe.key=ne,Xe}(Pe,Xe);if(u.next(bt),t){const Ot=(0,Bn.x)(Xe,()=>{Xe.complete(),null==Ot||Ot.unsubscribe()},void 0,void 0,()=>g.delete(Pe));B.add((0,En.Xf)(t(bt)).subscribe(Ot))}}Xe.next(d?d(ne):ne)}catch(Pe){b(Pe)}},()=>E(ne=>ne.complete()),b,()=>g.clear(),()=>(S=!0,0===A));o.subscribe(B)})}(o=>o[Ap]),(0,dr.z)(o=>o.pipe(Ny((u,d)=>JSON.stringify(u)===JSON.stringify(d)),Rl(void 0),Tp(),(0,xt.U)(([u,d])=>u?Object.assign({firebase_previous_class:u[ec],firebase_previous_screen:u[ky],firebase_previous_id:u[Py]},d):d)))))(r,o,u).pipe(Cr(E=>(0,ol.mG)(this,void 0,void 0,function*(){return g&&(yield g.initialized),yield t.logEvent("screen_view",E)}))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qd),f.LFG(ji,8),f.LFG(Za,8),f.LFG(f._Vd),f.LFG(f.R0b),f.LFG(ow,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),QD=(()=>{class n{constructor(t,r,o){Gd.Z.registerVersion("angularfire",Xt.q4.full,"analytics-compat"),t.app.then(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qd),f.LFG(Kd,8),f.LFG(ow,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[qd]}),n})();var ht,JD=M(4986),Np=(M(5881),M(3942)),aw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Js={},Vy=Vy||{},Rt=aw||self;function xa(){}function Uy(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zd(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Op="closure_uid_"+(1e9*Math.random()>>>0),uw=0;function lw(n,e,t){return n.call.apply(n.bind,arguments)}function eC(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function kr(n,e,t){return(kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?lw:eC).apply(null,arguments)}function Pp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[o].apply(r,d)}}function Cu(){this.s=this.s,this.o=this.o}var $S={};Cu.prototype.s=!1,Cu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function XD(n){return Object.prototype.hasOwnProperty.call(n,Op)&&n[Op]||(n[Op]=++uw)}(this);delete $S[n]}},Cu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},By=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function cw(n){return Array.prototype.concat.apply([],arguments)}function jy(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Yd(n){return/^[\s\xa0]*$/.test(n)}var vi,tc=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function _i(n,e){return-1!=n.indexOf(e)}function $y(n,e){return n<e?-1:n>e?1:0}e:{var dw=Rt.navigator;if(dw){var hw=dw.userAgent;if(hw){vi=hw;break e}}vi=""}function Fp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function fw(n){const e={};for(const t in n)e[t]=n[t];return e}var pw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Tu(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<pw.length;u++)t=pw[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Hy(n){return Hy[" "](n),n}Hy[" "]=xa;var Qd,n,nC=_i(vi,"Opera"),Au=_i(vi,"Trident")||_i(vi,"MSIE"),mw=_i(vi,"Edge"),Lp=mw||Au,yw=_i(vi,"Gecko")&&!(_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge"))&&!(_i(vi,"Trident")||_i(vi,"MSIE"))&&!_i(vi,"Edge"),Gy=_i(vi.toLowerCase(),"webkit")&&!_i(vi,"Edge");function _w(){var n=Rt.document;return n?n.documentMode:void 0}e:{var Vp="",zy=(n=vi,yw?/rv:([^\);]+)(\)|;)/.exec(n):mw?/Edge\/([\d\.]+)/.exec(n):Au?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Gy?/WebKit\/(\S+)/.exec(n):nC?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zy&&(Vp=zy?zy[1]:""),Au){var Wy=_w();if(null!=Wy&&Wy>parseFloat(Vp)){Qd=String(Wy);break e}}Qd=Vp}var rC={};var iC=Rt.document&&Au&&(_w()||parseInt(Qd,10))||void 0,sC=function(){if(!Rt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Rt.addEventListener("test",xa,e),Rt.removeEventListener("test",xa,e)}catch(t){}return n}();function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Jd(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(yw){e:{try{Hy(e.nodeName);var o=!0;break e}catch(u){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:oC[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jd.Z.h.call(this)}}ni.prototype.h=function(){this.defaultPrevented=!0},qr(Jd,ni);var oC={2:"touch",3:"pen",4:"mouse"};Jd.prototype.h=function(){Jd.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xd="closure_listenable_"+(1e6*Math.random()|0),aC=0;function uC(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++aC,this.ca=this.fa=!1}function eh(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function th(n){this.src=n,this.g={},this.h=0}function Yy(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=tC(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(eh(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Qy(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}th.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Qy(n,e,r,o);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new uC(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var Up="closure_lm_"+(1e6*Math.random()|0),Jy={};function vw(n,e,t,r,o){if(r&&r.once)return Bp(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)vw(n,e[u],t,r,o);return null}return t=jp(t),n&&n[Xd]?n.N(e,t,Zd(r)?!!r.capture:!!r,o):Ew(n,e,t,!1,r,o)}function Ew(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var d=Zd(o)?!!o.capture:!!o,g=rh(n);if(g||(n[Up]=g=new th(n)),(t=g.add(e,t,r,d,u)).proxy)return t;if(r=function Xy(){var e=lC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sC||(o=d),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(ww(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Bp(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Bp(n,e[u],t,r,o);return null}return t=jp(t),n&&n[Xd]?n.O(e,t,Zd(r)?!!r.capture:!!r,o):Ew(n,e,t,!0,r,o)}function e_(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)e_(n,e[u],t,r,o);else r=Zd(r)?!!r.capture:!!r,t=jp(t),n&&n[Xd]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Qy(u=n.g[e],t,r,o))&&(eh(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=rh(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Qy(e,t,r,o)),(t=-1<n?e[n]:null)&&nh(t))}function nh(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Xd])Yy(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(ww(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=rh(e))?(Yy(t,n),0==t.h&&(t.src=null,e[Up]=null)):eh(n)}}}function ww(n){return n in Jy?Jy[n]:Jy[n]="on"+n}function lC(n,e){if(n.ca)n=!0;else{e=new Jd(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&nh(n),n=t.call(r,e)}return n}function rh(n){return(n=n[Up])instanceof th?n:null}var t_="__closure_events_fn_"+(1e9*Math.random()>>>0);function jp(n){return"function"==typeof n?n:(n[t_]||(n[t_]=function(e){return n.handleEvent(e)}),n[t_])}function Fr(){Cu.call(this),this.i=new th(this),this.P=this,this.I=null}function Lr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var o=e;Tu(e=new ni(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];o=$p(d,r,!0,e)&&o}if(o=$p(d=e.g=n,r,!0,e)&&o,o=$p(d,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=$p(d=e.g=t[u],r,!1,e)&&o}function $p(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,E=d.ia||d.src;d.fa&&Yy(n.i,d),o=!1!==g.call(E,r)&&o}}return o&&!r.defaultPrevented}qr(Fr,Cu),Fr.prototype[Xd]=!0,Fr.prototype.removeEventListener=function(n,e,t,r){e_(this,n,e,t,r)},Fr.prototype.M=function(){if(Fr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eh(t[r]);delete n.g[e],n.h--}}this.I=null},Fr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Fr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hp=Rt.JSON.stringify;function HS(){var n=Iw;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var n_,ih=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new dC,n=>n.reset());class dC{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nc(n){Rt.setTimeout(()=>{throw n},0)}function Su(n,e){n_||function GS(){var n=Rt.Promise.resolve(void 0);n_=function(){n.then(hC)}}(),Gp||(n_(),Gp=!0),Iw.add(n,e)}var Gp=!1,Iw=new class cC{constructor(){this.h=this.g=null}add(e,t){const r=ih.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function hC(){for(var n;n=HS();){try{n.h.call(n.g)}catch(t){nc(t)}var e=ih;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Gp=!1}function zp(n,e){Fr.call(this),this.h=n||1,this.g=e||Rt,this.j=kr(this.kb,this),this.l=Date.now()}function r_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Wp(n,e,t){if("function"==typeof n)t&&(n=kr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=kr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Rt.setTimeout(n,e||0)}function i_(n){n.g=Wp(()=>{n.g=null,n.i&&(n.i=!1,i_(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}qr(zp,Fr),(ht=zp.prototype).da=!1,ht.S=null,ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Lr(this,"tick"),this.da&&(r_(this),this.start()))}},ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){zp.Z.M.call(this),r_(this),delete this.g};class s_ extends Cu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:i_(this)}M(){super.M(),this.g&&(Rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(n){Cu.call(this),this.h=n,this.g={}}qr(Ra,Cu);var rc=[];function bw(n,e,t,r){Array.isArray(t)||(t&&(rc[0]=t.toString()),t=rc);for(var o=0;o<t.length;o++){var u=vw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function o_(n){Fp(n.g,function(e,t){this.g.hasOwnProperty(t)&&nh(e)},n),n.g={}}function sh(){this.g=!0}function Na(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function zS(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<o.length;d++)o[d]=""}}}return Hp(t)}catch(g){return e}}(n,t)+(r?" "+r:"")})}Ra.prototype.M=function(){Ra.Z.M.call(this),o_(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sh.prototype.Aa=function(){this.g=!1},sh.prototype.info=function(){};var Mu={},Dw=null;function $o(){return Dw=Dw||new Fr}function a_(n){ni.call(this,Mu.Ma,n)}function Xs(n){const e=$o();Lr(e,new a_(e,n))}function mC(n,e){ni.call(this,Mu.STAT_EVENT,n),this.stat=e}function ri(n){const e=$o();Lr(e,new mC(e,n))}function Cw(n,e){ni.call(this,Mu.Na,n),this.size=e}function qp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Rt.setTimeout(function(){n()},e)}Mu.Ma="serverreachability",qr(a_,ni),Mu.STAT_EVENT="statevent",qr(mC,ni),Mu.Na="timingevent",qr(Cw,ni);var oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},yC={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Kp(){}function Tw(){}Kp.prototype.h=null;var c_,ah={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function u_(){ni.call(this,"d")}function l_(){ni.call(this,"c")}function Yp(){}function uh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Ra(this),this.P=_C,this.W=new zp(n=Lp?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Aw}function Aw(){this.i=null,this.g="",this.h=!1}qr(u_,ni),qr(l_,ni),qr(Yp,Kp),Yp.prototype.g=function(){return new XMLHttpRequest},Yp.prototype.i=function(){return{}},c_=new Yp;var _C=45e3,d_={},Oa={};function Qp(n,e,t){n.K=1,n.v=eg(Ho(e)),n.s=t,n.U=!0,h_(n,null)}function h_(n,e){n.F=Date.now(),ic(n),n.A=Ho(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Lw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Aw,n.g=TC(n.l,t?e:null,!n.s),0<n.O&&(n.L=new s_(kr(n.Ia,n,n.g),n.O)),bw(n.V,n.g,"readystatechange",n.gb),e=n.H?fw(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Xs(1),function fC(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var d="",g=u.split("&"),E=0;E<g.length;E++){var b=g[E].split("=");if(1<b.length){var A=b[0];b=b[1];var S=A.split("_");d=2<=S.length&&"type"==S[1]?d+(A+"=")+b+"&":d+(A+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function f_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function p_(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Sw(n,t),o==Oa){4==e&&(n.o=4,ri(14),r=!1),Na(n.j,n.m,null,"[Incomplete Response]");break}if(o==d_){n.o=4,ri(15),Na(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Na(n.j,n.m,o,null),g_(n,o)}f_(n)&&o!=Oa&&o!=d_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),lg(e),e.L=!0,ri(11))):(Na(n.j,n.m,t,"[Invalid Chunked Response]"),xu(n),ch(n))}function Sw(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Oa:(t=Number(e.substring(t,r)),isNaN(t)?d_:(r+=1)+t>e.length?Oa:(e=e.substr(r,t),n.C=r+t,e))}function ic(n){n.Y=Date.now()+n.P,Mw(n,n.P)}function Mw(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=qp(kr(n.eb,n),e)}function lh(n){n.B&&(Rt.clearTimeout(n.B),n.B=null)}function ch(n){0==n.l.G||n.I||F_(n.l,n)}function xu(n){lh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,r_(n.W),o_(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function g_(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||b_(t.i,n)))if(t.I=n.N,!n.J&&b_(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(b){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=qp(kr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_h(t),mh(t)}P_(t),ri(18)}if(1>=I_(t.i)&&t.ka){try{t.ka()}catch(b){}t.ka=void 0}}else Vu(t,11)}else if((n.J||t.g==n)&&_h(t),!Yd(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let b=o[e];if(t.U=b[0],b=b[1],2==t.G)if("c"==b[0]){t.J=b[1],t.la=b[2];const A=b[3];null!=A&&(t.ma=A,t.h.info("VER="+t.ma));const S=b[4];null!=S&&(t.za=S,t.h.info("SVER="+t.za));const B=b[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const ne=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ne){var u=r.i;!u.g&&(_i(ne,"spdy")||_i(ne,"quic")||_i(ne,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(tg(u,u.h),u.h=null))}if(r.D){const Pe=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;Pe&&(r.sa=Pe,qn(r.F,r.D,Pe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=L_(r,r.H?r.la:null,r.W),d.J){D_(r.i,d);var g=d,E=r.K;E&&g.setTimeout(E),g.B&&(lh(g),ic(g)),r.g=d}else O_(r);0<t.l.length&&ug(t)}else"stop"!=b[0]&&"close"!=b[0]||Vu(t,7);else 3==t.G&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Vu(t,7):x_(t):"noop"!=b[0]&&t.j&&t.j.wa(b),t.A=0)}Xs(4)}catch(b){}}function Ru(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Uy(n)||"string"==typeof n)By(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Uy(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function vC(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Uy(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function sc(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof sc)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function dh(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];ii(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)ii(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function ii(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(ht=uh.prototype).setTimeout=function(n){this.P=n},ht.gb=function(n){n=n.target;const e=this.L;e&&3==ls(n)?e.l():this.Ia(n)},ht.Ia=function(n){try{if(n==this.g)e:{const A=ls(this.g);var e=this.g.Da();const S=this.g.ba();if(!(3>A)&&(3!=A||Lp||this.g&&(this.h.h||this.g.ga()||M_(this.g)))){this.I||4!=A||7==e||Xs(8==e||0>=S?3:2),lh(this);var t=this.g.ba();this.N=t;t:if(f_(this)){var r=M_(this.g);n="";var o=r.length,u=4==ls(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xu(this),ch(this);var d="";break t}this.h.i=new Rt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function pC(n,e,t,r,o,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,A,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,E=this.g;if((g=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yd(g)){var b=g;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,ri(12),xu(this),ch(this);break e}Na(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,g_(this,t)}this.U?(p_(this,A,d),Lp&&this.i&&3==A&&(bw(this.V,this.W,"tick",this.fb),this.W.start())):(Na(this.j,this.m,d,null),g_(this,d)),4==A&&xu(this),this.i&&!this.I&&(4==A?F_(this.l,this):(this.i=!1,ic(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ri(12)):(this.o=0,ri(13)),xu(this),ch(this)}}}catch(A){}},ht.fb=function(){if(this.g){var n=ls(this.g),e=this.g.ga();this.C<e.length&&(lh(this),p_(this,n,e),this.i&&4!=n&&ic(this))}},ht.cancel=function(){this.I=!0,xu(this)},ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gC(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Xs(3),ri(17)),xu(this),this.o=2,ch(this)):Mw(this,this.Y-n)},(ht=sc.prototype).R=function(){dh(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},ht.T=function(){return dh(this),this.g.concat()},ht.get=function(n,e){return ii(this.h,n)?this.h[n]:e},ht.set=function(n,e){ii(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},ht.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var xw=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function xs(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof xs){this.g=void 0!==e?e:n.g,Jp(this,n.j),this.s=n.s,Xp(this,n.i),Nu(this,n.m),this.l=n.l,e=n.h;var t=new Pu;t.i=e.i,e.g&&(t.g=new sc(e.g),t.h=e.h),hh(this,t),this.o=n.o}else n&&(t=String(n).match(xw))?(this.g=!!e,Jp(this,t[1]||"",!0),this.s=Ou(t[2]||""),Xp(this,t[3]||"",!0),Nu(this,t[4]),this.l=Ou(t[5]||"",!0),hh(this,t[6]||"",!0),this.o=Ou(t[7]||"")):(this.g=!!e,this.h=new Pu(null,this.g))}function Ho(n){return new xs(n)}function Jp(n,e,t){n.j=t?Ou(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xp(n,e,t){n.i=t?Ou(e,!0):e}function Nu(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function hh(n,e,t){e instanceof Pu?(n.h=e,function Vw(n,e){e&&!n.j&&(eo(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(kw(this,r),Lw(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=oc(e,__)),n.h=new Pu(e,n.g))}function qn(n,e,t){n.h.set(e,t)}function eg(n){return qn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ou(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function oc(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,EC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function EC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}xs.prototype.toString=function(){var n=[],e=this.j;e&&n.push(oc(e,Ow,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(oc(e,Ow,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(oc(t,"/"==t.charAt(0)?y_:WS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",oc(t,Pw)),n.join("")};var Ow=/[#\/\?@]/g,WS=/[#\?:]/g,y_=/[#\?]/g,__=/[#\?@]/g,Pw=/#/g;function Pu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function eo(n){n.g||(n.g=new sc,n.h=0,n.i&&function m_(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function kw(n,e){eo(n),e=ac(n,e),ii(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,ii((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&dh(n)))}function Fw(n,e){return eo(n),e=ac(n,e),ii(n.g.h,e)}function Lw(n,e,t){kw(n,e),0<t.length&&(n.i=null,n.g.set(ac(n,e),jy(t)),n.h+=t.length)}function ac(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function E_(n){this.l=n||wC,n=Rt.PerformanceNavigationTiming?0<(n=Rt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Rt.g&&Rt.g.Ea&&Rt.g.Ea()&&Rt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=Pu.prototype).add=function(n,e){eo(this),this.i=null,n=ac(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){eo(this),this.g.forEach(function(t,r){By(t,function(o){n.call(e,o,r,this)},this)},this)},ht.T=function(){eo(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},ht.R=function(n){eo(this);var e=[];if("string"==typeof n)Fw(this,n)&&(e=cw(e,this.g.get(ac(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=cw(e,n[t])}return e},ht.set=function(n,e){return eo(this),this.i=null,Fw(this,n=ac(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=o;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var wC=10;function w_(n){return!!n.h||!!n.g&&n.g.size>=n.j}function I_(n){return n.h?1:n.g?n.g.size:0}function b_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function tg(n,e){n.g?n.g.add(e):n.h=e}function D_(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Uw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return jy(n.i)}function ng(){}function IC(){this.g=new ng}function Ei(n,e,t){const r=t||"";try{Ru(n,function(o,u){let d=o;Zd(o)&&(d=Hp(o)),e.push(r+u+"="+encodeURIComponent(d))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function rg(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(u){}}function fh(n){this.l=n.$b||null,this.j=n.ib||!1}function C_(n,e){Fr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ku,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}E_.prototype.cancel=function(){if(this.i=Uw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ng.prototype.stringify=function(n){return Rt.JSON.stringify(n,void 0)},ng.prototype.parse=function(n){return Rt.JSON.parse(n,void 0)},qr(fh,Kp),fh.prototype.g=function(){return new C_(this.l,this.j)},fh.prototype.i=function(n){return function(){return n}}({}),qr(C_,Fr);var ku=0;function Bw(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Fu(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ph(n)}function ph(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=C_.prototype).open=function(n,e){if(this.readyState!=ku)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ph(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Rt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fu(this)),this.readyState=ku},ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Rt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bw(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fu(this):ph(this),3==this.readyState&&Bw(this)}},ht.Ua=function(n){this.g&&(this.response=this.responseText=n,Fu(this))},ht.Ta=function(n){this.g&&(this.response=n,Fu(this))},ht.ha=function(){this.g&&Fu(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(C_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var jw=Rt.JSON.parse;function vr(n){Fr.call(this),this.headers=new sc,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$w,this.K=this.L=!1}qr(vr,Fr);var $w="",T_=/^https?$/i,Hw=["POST","PUT"];function ig(n){return"content-type"==n.toLowerCase()}function sg(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bC(n),og(n)}function bC(n){n.D||(n.D=!0,Lr(n,"complete"),Lr(n,"error"))}function A_(n){if(n.h&&void 0!==Vy&&(!n.C[1]||4!=ls(n)||2!=n.ba()))if(n.v&&4==ls(n))Wp(n.Fa,0,n);else if(Lr(n,"readystatechange"),4==ls(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(xw)[1]||null;if(!o&&Rt.self&&Rt.self.location){var u=Rt.self.location.protocol;o=u.substr(0,u.length-1)}r=!T_.test(o?o.toLowerCase():"")}t=r}if(t)Lr(n,"complete"),Lr(n,"success");else{n.m=6;try{var d=2<ls(n)?n.g.statusText:""}catch(E){d=""}n.j=d+" ["+n.ba()+"]",bC(n)}}finally{og(n)}}}function og(n,e){if(n.g){S_(n);const t=n.g,r=n.C[0]?xa:null;n.g=null,n.C=null,e||Lr(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function S_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Rt.clearTimeout(n.A),n.A=null)}function ls(n){return n.g?n.g.readyState:0}function M_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $w:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gh(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function DC(n){let e="";return Fp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):qn(n,e,t))}function Lu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function zw(n){this.za=0,this.l=[],this.h=new sh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Lu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Lu("baseRetryDelayMs",5e3,n),this.$a=Lu("retryDelaySeedMs",1e4,n),this.Ya=Lu("forwardChannelMaxRetries",2,n),this.ra=Lu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new E_(n&&n.concurrentRequestLimit),this.Ca=new IC,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function x_(n){if(R_(n),3==n.G){var e=n.V++,t=Ho(n.F);qn(t,"SID",n.J),qn(t,"RID",e),qn(t,"TYPE","terminate"),yh(n,t),(e=new uh(n,n.h,e,void 0)).K=2,e.v=eg(Ho(t)),t=!1,Rt.navigator&&Rt.navigator.sendBeacon&&(t=Rt.navigator.sendBeacon(e.v.toString(),"")),!t&&Rt.Image&&((new Image).src=e.v,t=!0),t||(e.g=TC(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ic(e)}CC(n)}function mh(n){n.g&&(lg(n),n.g.cancel(),n.g=null)}function R_(n){mh(n),n.u&&(Rt.clearTimeout(n.u),n.u=null),_h(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Rt.clearTimeout(n.m),n.m=null)}function ag(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&ug(n)}function ug(n){w_(n.i)||n.m||(n.m=!0,Su(n.Ha,n),n.C=0)}function N_(n,e){var t;t=e?e.m:n.V++;const r=Ho(n.F);qn(r,"SID",n.J),qn(r,"RID",t),qn(r,"AID",n.U),yh(n,r),n.o&&n.s&&gh(r,n.o,n.s),t=new uh(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=qw(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),tg(n.i,t),Qp(t,r,e)}function yh(n,e){n.j&&Ru({},function(t,r){qn(e,r,t)})}function qw(n,e,t){t=Math.min(n.l.length,t);var r=n.j?kr(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=o[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let E=0;E<t;E++){let b=o[E].h;const A=o[E].g;if(b-=u,0>b)u=Math.max(0,o[E].h-100),g=!1;else try{Ei(A,d,"req"+b+"_")}catch(S){r&&r(A)}}if(g){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function O_(n){n.g||n.u||(n.Y=1,Su(n.Ga,n),n.A=0)}function P_(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=qp(kr(n.Ga,n),Kw(n,n.A)),n.A++,0))}function lg(n){null!=n.B&&(Rt.clearTimeout(n.B),n.B=null)}function k_(n){n.g=new uh(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ho(n.oa);qn(e,"RID","rpc"),qn(e,"SID",n.J),qn(e,"CI",n.N?"0":"1"),qn(e,"AID",n.U),yh(n,e),qn(e,"TYPE","xmlhttp"),n.o&&n.s&&gh(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=eg(Ho(e)),t.s=null,t.U=!0,h_(t,n)}function _h(n){null!=n.v&&(Rt.clearTimeout(n.v),n.v=null)}function F_(n,e){var t=null;if(n.g==e){_h(n),lg(n),n.g=null;var r=2}else{if(!b_(n.i,e))return;t=e.D,D_(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Lr(r=$o(),new Cw(r,t,e,o)),ug(n)}else O_(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Ww(n,e){return!(I_(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=qp(kr(n.Ha,n,e),Kw(n,n.C)),n.C++,0)))}(n,e)||2==r&&P_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Vu(n,5);break;case 4:Vu(n,10);break;case 3:Vu(n,6);break;default:Vu(n,2)}}function Kw(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Vu(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=kr(n.jb,n);t||(t=new xs("//www.google.com/images/cleardot.gif"),Rt.location&&"http"==Rt.location.protocol||Jp(t,"https"),eg(t)),function uc(n,e){const t=new sh;if(Rt.Image){const r=new Image;r.onload=Pp(rg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pp(rg,t,r,"TestLoadImage: error",!1,e),r.onabort=Pp(rg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pp(rg,t,r,"TestLoadImage: timeout",!1,e),Rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ri(2);n.G=0,n.j&&n.j.va(e),CC(n),R_(n)}function CC(n){n.G=0,n.I=-1,n.j&&((0!=Uw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,jy(n.l),n.l.length=0),n.j.ua())}function L_(n,e,t){let r=function Rw(n){return n instanceof xs?Ho(n):new xs(n,void 0)}(t);if(""!=r.i)e&&Xp(r,e+"."+r.i),Nu(r,r.m);else{const o=Rt.location;r=function Nw(n,e,t,r){var o=new xs(null,void 0);return n&&Jp(o,n),e&&Xp(o,e),t&&Nu(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Fp(n.aa,function(o,u){qn(r,u,o)}),t=n.sa,(e=n.D)&&t&&qn(r,e,t),qn(r,"VER",n.ma),yh(n,r),r}function TC(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new vr(t&&n.Ba&&!n.qa?new fh({ib:!0}):n.qa)).L=n.H,e}function Zw(){}function V_(){if(Au&&!(10<=Number(iC)))throw Error("Environmental error: no available transport.")}function cs(n,e){Fr.call(this),this.g=new zw(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Yd(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yd(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new vh(this)}function AC(n){u_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function SC(){l_.call(this),this.status=1}function vh(n){this.g=n}(ht=vr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():c_.g(),this.C=function Zp(n){return n.h||(n.h=n.i())}(this.u?this.u:c_),this.g.onreadystatechange=kr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void sg(this,u)}n=t||"";const o=new sc(this.headers);r&&Ru(r,function(u,d){o.set(d,u)}),r=function kp(n){e:{var e=ig;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Rt.FormData&&n instanceof Rt.FormData,!(0<=tC(Hw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{S_(this),0<this.B&&((this.K=function Gw(n){return Au&&function qy(){return function gw(n){var e=rC;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=tc(String(Qd)).split("."),t=tc("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var o=e[d]||"",u=t[d]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=$y(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||$y(0==o[2].length,0==u[2].length)||$y(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=kr(this.pa,this)):this.A=Wp(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){sg(this,u)}},ht.pa=function(){void 0!==Vy&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Lr(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Lr(this,"complete"),Lr(this,"abort"),og(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),og(this,!0)),vr.Z.M.call(this)},ht.Fa=function(){this.s||(this.F||this.v||this.l?A_(this):this.cb())},ht.cb=function(){A_(this)},ht.ba=function(){try{return 2<ls(this)?this.g.status:-1}catch(n){return-1}},ht.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},ht.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),jw(e)}},ht.Da=function(){return this.m},ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=zw.prototype).ma=8,ht.G=1,ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new uh(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=fw(u),Tu(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=qw(this,o,e),qn(t=Ho(this.F),"RID",n),qn(t,"CVER",22),this.D&&qn(t,"X-HTTP-Session-Id",this.D),yh(this,t),this.o&&u&&gh(t,this.o,u),tg(this.i,o),this.Ra&&qn(t,"TYPE","init"),this.ja?(qn(t,"$req",e),qn(t,"SID","null"),o.$=!0,Qp(o,t,null)):Qp(o,t,e),this.G=2}}else 3==this.G&&(n?N_(this,n):0==this.l.length||w_(this.i)||N_(this))},ht.Ga=function(){if(this.u=null,k_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=qp(kr(this.bb,this),n)}},ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ri(10),mh(this),k_(this))},ht.ab=function(){null!=this.v&&(this.v=null,mh(this),P_(this),ri(19))},ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ri(2)):(this.h.info("Failed to ping google.com"),ri(1))},(ht=Zw.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Oa=function(){},V_.prototype.g=function(n,e){return new cs(n,e)},qr(cs,Fr),cs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Su(kr(n.hb,n,e))),ri(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=L_(n,null,n.W),ug(n)},cs.prototype.close=function(){x_(this.g)},cs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,ag(this.g,e)}else this.v?((e={}).__data__=Hp(n),ag(this.g,e)):ag(this.g,n)},cs.prototype.M=function(){this.g.j=null,delete this.j,x_(this.g),delete this.g,cs.Z.M.call(this)},qr(AC,u_),qr(SC,l_),qr(vh,Zw),vh.prototype.xa=function(){Lr(this.g,"a")},vh.prototype.wa=function(n){Lr(this.g,new AC(n))},vh.prototype.va=function(n){Lr(this.g,new SC(n))},vh.prototype.ua=function(){Lr(this.g,"b")},V_.prototype.createWebChannel=V_.prototype.g,cs.prototype.send=cs.prototype.u,cs.prototype.open=cs.prototype.m,cs.prototype.close=cs.prototype.close,oh.NO_ERROR=0,oh.TIMEOUT=8,oh.HTTP_ERROR=6,yC.COMPLETE="complete",Tw.EventType=ah,ah.OPEN="a",ah.CLOSE="b",ah.ERROR="c",ah.MESSAGE="d",Fr.prototype.listen=Fr.prototype.N,vr.prototype.listenOnce=vr.prototype.O,vr.prototype.getLastError=vr.prototype.La,vr.prototype.getLastErrorCode=vr.prototype.Da,vr.prototype.getStatus=vr.prototype.ba,vr.prototype.getResponseJson=vr.prototype.Qa,vr.prototype.getResponseText=vr.prototype.ga,vr.prototype.send=vr.prototype.ea;var MC=Js.createWebChannelTransport=function(){return new V_},cg=Js.getStatEventTarget=function(){return $o()},Yw=Js.ErrorCode=oh,Qw=Js.EventType=yC,U_=Js.Event=Mu,B_=Js.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Jw=Js.FetchXmlHttpFactory=fh,j_=Js.WebChannel=Tw,$_=Js.XhrIo=vr;const H_="@firebase/firestore";class Kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");let Uu="9.8.0";const Bu=new Zs.Yd("@firebase/firestore");function G_(){return Bu.logLevel}function Ze(n,...e){if(Bu.logLevel<=Zs.in.DEBUG){const t=e.map(Xw);Bu.debug(`Firestore (${Uu}): ${n}`,...t)}}function Er(n,...e){if(Bu.logLevel<=Zs.in.ERROR){const t=e.map(Xw);Bu.error(`Firestore (${Uu}): ${n}`,...t)}}function dg(n,...e){if(Bu.logLevel<=Zs.in.WARN){const t=e.map(Xw);Bu.warn(`Firestore (${Uu}): ${n}`,...t)}}function Xw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+n;throw Er(e),new Error(e)}function Nt(n,e){n||_t()}function ot(n,e){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends rn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class eI{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Rs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Kr.UNAUTHENTICATED))}shutdown(){}}class NC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class z_{constructor(e){this.t=e,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=b=>this.i!==o?(o=this.i,t(b)):Promise.resolve();let d=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new wr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const b=d;e.enqueueRetryable((0,Ce.Z)(function*(){yield b.promise,yield u(r.currentUser)}))},E=b=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(b=>E(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?E(b):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new wr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new eI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Kr(e)}}class OC{constructor(e,t,r){this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class PC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new OC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tI{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Ze("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.p=t.token,new hg(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class $i{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function nI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}$i.A=-1;class rI{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=nI(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Kt(n,e){return n<e?-1:n>e?1:0}function lc(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function fg(n){return n+"\0"}class Nn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Nn.fromMillis(Date.now())}static fromDate(e){return Nn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Nn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kt(this.nanoseconds,e.nanoseconds):Kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class St{constructor(e){this.timestamp=e}static fromTimestamp(e){return new St(e)}static min(){return new St(new Nn(0,0))}static max(){return new St(new Nn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function W_(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ju(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Eh{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Eh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),d=t.get(o);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cn extends Eh{construct(e,t,r){return new cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new cn(t)}static emptyPath(){return new cn([])}}const LC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends Eh{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return LC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new Be(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const E=e[o+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new Be(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=E,o+=2}else"`"===g?(d=!d,o++):"."!==g||d?(r+=g,o++):(u(),o++)}if(u(),d)throw new Be(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class cc{constructor(e){this.fields=e,e.sort(Ir.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Vr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Vr(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new Vr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const q_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Go(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=q_.exec(n);if(Nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function $u(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function pg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gg(n){const e=n.mapValue.fields.__previous_value__;return pg(e)?gg(e):e}function Hu(n){const e=Go(n.mapValue.fields.__local_write_time__.timestampValue);return new Nn(e.seconds,e.nanos)}class iI{constructor(e,t,r,o,u,d,g,E){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.useFetchStreams=E}}class zo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new zo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof zo&&e.projectId===this.projectId&&e.database===this.database}}function dc(n){return null==n}function hc(n){return 0===n&&1/n==-1/0}function sI(n){return"number"==typeof n&&Number.isInteger(n)&&!hc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class st{constructor(e){this.path=e}static fromPath(e){return new st(cn.fromString(e))}static fromName(e){return new st(cn.fromString(e).popFirst(5))}static empty(){return new st(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new st(new cn(e.slice()))}}const Gu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},K_={nullValue:"NULL_VALUE"};function Pa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pg(n)?4:Fa(n)?9007199254740991:10:_t()}function to(n,e){if(n===e)return!0;const t=Pa(n);if(t!==Pa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Hu(n).isEqual(Hu(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=Go(r.timestampValue),d=Go(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,$u(n.bytesValue).isEqual($u(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return or(r.geoPointValue.latitude)===or(o.geoPointValue.latitude)&&or(r.geoPointValue.longitude)===or(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return or(r.integerValue)===or(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=or(r.doubleValue),d=or(o.doubleValue);return u===d?hc(u)===hc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return lc(n.arrayValue.values||[],e.arrayValue.values||[],to);case 10:return function(r,o){const u=r.mapValue.fields||{},d=o.mapValue.fields||{};if(W_(u)!==W_(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!to(u[g],d[g])))return!1;return!0}(n,e);default:return _t()}var o}function wh(n,e){return void 0!==(n.values||[]).find(t=>to(t,e))}function ka(n,e){if(n===e)return 0;const t=Pa(n),r=Pa(e);if(t!==r)return Kt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const d=or(o.integerValue||o.doubleValue),g=or(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return UC(n.timestampValue,e.timestampValue);case 4:return UC(Hu(n),Hu(e));case 5:return Kt(n.stringValue,e.stringValue);case 6:return function(o,u){const d=$u(o),g=$u(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),g=u.split("/");for(let E=0;E<d.length&&E<g.length;E++){const b=Kt(d[E],g[E]);if(0!==b)return b}return Kt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const d=Kt(or(o.latitude),or(u.latitude));return 0!==d?d:Kt(or(o.longitude),or(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const d=o.values||[],g=u.values||[];for(let E=0;E<d.length&&E<g.length;++E){const b=ka(d[E],g[E]);if(b)return b}return Kt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===Gu.mapValue&&u===Gu.mapValue)return 0;if(o===Gu.mapValue)return 1;if(u===Gu.mapValue)return-1;const d=o.fields||{},g=Object.keys(d),E=u.fields||{},b=Object.keys(E);g.sort(),b.sort();for(let A=0;A<g.length&&A<b.length;++A){const S=Kt(g[A],b[A]);if(0!==S)return S;const B=ka(d[g[A]],E[b[A]]);if(0!==B)return B}return Kt(g.length,b.length)}(n.mapValue,e.mapValue);default:throw _t()}}function UC(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Kt(n,e);const t=Go(n),r=Go(e),o=Kt(t.seconds,r.seconds);return 0!==o?o:Kt(t.nanos,r.nanos)}function Ih(n){return oI(n)}function oI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Go(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?$u(n.bytesValue).toBase64():"referenceValue"in n?st.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const d of r.values||[])u?u=!1:o+=",",o+=oI(d);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of o)d?d=!1:u+=",",u+=`${g}:${oI(r.fields[g])}`;return u+"}"}(n.mapValue):_t();var e}function fc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function aI(n){return!!n&&"integerValue"in n}function bh(n){return!!n&&"arrayValue"in n}function Dh(n){return!!n&&"nullValue"in n}function uI(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function mg(n){return!!n&&"mapValue"in n}function pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ju(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pc(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Fa(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function lI(n){return"nullValue"in n?K_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?fc(zo.empty(),st.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function Z_(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?fc(zo.empty(),st.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Gu:_t()}function yg(n,e){const t=ka(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cI(n,e){const t=ka(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Ur{constructor(e){this.value=e}static empty(){return new Ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!mg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=Ir.emptyPath(),r={},o=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const E=this.getFieldsMap(t);this.applyChanges(E,r,o),r={},o=[],t=g.popLast()}d?r[g.lastSegment()]=pc(d):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());mg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];mg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ju(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new Ur(pc(this.value))}}function _g(n){const e=[];return ju(n.fields,(t,r)=>{const o=new Ir([t]);if(mg(r)){const u=_g(r.mapValue).fields;if(0===u.length)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new cc(e)}class An{constructor(e,t,r,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new An(e,0,St.min(),St.min(),Ur.empty(),0)}static newFoundDocument(e,t,r){return new An(e,1,t,St.min(),r,0)}static newNoDocument(e,t){return new An(e,2,t,St.min(),Ur.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,St.min(),Ur.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Y_{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function dI(n){return n.fields.find(e=>2===e.kind)}function gc(n){return n.fields.filter(e=>2!==e.kind)}Y_.UNKNOWN_ID=-1;class Q_{constructor(e,t){this.fieldPath=e,this.kind=t}}class mc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mc(0,Ns.min())}}function hI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=St.fromTimestamp(1e9===r?new Nn(t+1,0):new Nn(t,r));return new Ns(o,st.empty(),e)}function BC(n){return new Ns(n.readTime,n.key,-1)}class Ns{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ns(St.min(),st.empty(),-1)}static max(){return new Ns(St.max(),st.empty(),-1)}}function fI(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=st.comparator(n.documentKey,e.documentKey),0!==t?t:Kt(n.largestBatchId,e.largestBatchId))}class ar{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new ar(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new ar(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=null!=r?r:Br.RED,this.left=null!=o?o:Br.EMPTY,this.right=null!=u?u:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return Br.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,o){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new ar(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pI(this.data.getIterator())}getIteratorFrom(e){return new pI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class pI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function zu(n){return n.hasNext()?n.getNext():void 0}class J_{constructor(e,t=null,r=[],o=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=d,this.endAt=g,this.P=null}}function jC(n,e=null,t=[],r=[],o=null,u=null,d=null){return new J_(n,e,t,r,o,u,d)}function La(n){const e=ot(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Ih(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ih(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ih(r)).join(",")),e.P=t}return e.P}function Th(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!i(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!to(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!a(n.startAt,e.startAt)&&a(n.endAt,e.endAt)}function vg(n){return st.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ev(n,e){return n.filters.filter(t=>t instanceof Zr&&t.field.isEqual(e))}function $C(n,e,t){let r=K_,o=!0;for(const u of ev(n,e)){let d=K_,g=!0;switch(u.op){case"<":case"<=":d=lI(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=K_}yg({value:r,inclusive:o},{value:d,inclusive:g})<0&&(r=d,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];yg({value:r,inclusive:o},{value:d,inclusive:t.inclusive})<0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}function gI(n,e,t){let r=Gu,o=!0;for(const u of ev(n,e)){let d=Gu,g=!0;switch(u.op){case">=":case">":d=Z_(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=Gu}cI({value:r,inclusive:o},{value:d,inclusive:g})>0&&(r=d,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];cI({value:r,inclusive:o},{value:d,inclusive:t.inclusive})>0&&(r=d,o=t.inclusive);break}return{value:r,inclusive:o}}class Zr extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new qS(e,t,r):"array-contains"===t?new YS(e,r):"in"===t?new GC(e,r):"not-in"===t?new QS(e,r):"array-contains-any"===t?new JS(e,r):new Zr(e,t,r)}static V(e,t,r){return"in"===t?new KS(e,r):new ZS(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ka(t,this.value)):null!==t&&Pa(this.value)===Pa(t)&&this.v(ka(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qS extends Zr{constructor(e,t,r){super(e,t,r),this.key=st.fromName(r.referenceValue)}matches(e){const t=st.comparator(e.key,this.key);return this.v(t)}}class KS extends Zr{constructor(e,t){super(e,"in",t),this.keys=HC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ZS extends Zr{constructor(e,t){super(e,"not-in",t),this.keys=HC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function HC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>st.fromName(r.referenceValue))}class YS extends Zr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bh(t)&&wh(t.arrayValue,this.value)}}class GC extends Zr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&wh(this.value.arrayValue,t)}}class QS extends Zr{constructor(e,t){super(e,"not-in",t)}matches(e){if(wh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!wh(this.value.arrayValue,t)}}class JS extends Zr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wh(this.value.arrayValue,r))}}class Wu{constructor(e,t){this.position=e,this.inclusive=t}}class Ah{constructor(e,t="asc"){this.field=e,this.dir=t}}function i(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function s(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],d=n.position[o];if(r=u.field.isKeyField()?st.comparator(st.fromName(d.referenceValue),t.key):ka(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function a(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!to(n.position[t],e.position[t]))return!1;return!0}class l{constructor(e,t=null,r=[],o=[],u=null,d="F",g=null,E=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=E,this.D=null,this.C=null}}function c(n,e,t,r,o,u,d,g){return new l(n,e,t,r,o,u,d,g)}function h(n){return new l(n)}function v(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function I(n){for(const e of n.filters)if(e.S())return e.field;return null}function D(n){return null!==n.collectionGroup}function T(n){const e=ot(n);if(null===e.D){e.D=[];const t=I(e),r=v(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Ah(t)),e.D.push(new Ah(Ir.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ah(Ir.keyField(),u))}}}return e.D}function P(n){const e=ot(n);if(!e.C)if("F"===e.limitType)e.C=jC(e.path,e.collectionGroup,T(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of T(e))t.push(new Ah(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Wu(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Wu(e.startAt.position,e.startAt.inclusive):null;e.C=jC(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function G(n,e,t){return new l(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function te(n,e){return Th(P(n),P(e))&&n.limitType===e.limitType}function xe(n){return`${La(P(n))}|lt:${n.limitType}`}function Ye(n){return`Query(target=${function X_(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Ih(r.value)}`;var r}).join(", ")}]`),dc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Ih(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Ih(t)).join(",")),`Target(${e})`}(P(n))}; limitType=${n.limitType})`}function nt(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):st.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,d){const g=s(o,u,d);return o.inclusive?g<=0:g<0}(t.startAt,T(t),r)||t.endAt&&!function(o,u,d){const g=s(o,u,d);return o.inclusive?g>=0:g>0}(t.endAt,T(t),r)));var t,r}function ft(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ke(n){return(e,t)=>{let r=!1;for(const o of T(n)){const u=Dt(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Dt(n,e,t){const r=n.field.isKeyField()?st.comparator(e.key,t.key):function(o,u,d){const g=u.data.field(o),E=d.data.field(o);return null!==g&&null!==E?ka(g,E):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}function sn(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hc(e)?"-0":e}}function mn(n){return{integerValue:""+n}}function Di(n,e){return sI(e)?mn(e):sn(n,e)}class no{constructor(){this._=void 0}}function tv(n,e,t){return n instanceof Va?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof Wo?wg(n,e):n instanceof qo?Ig(n,e):function(r,o){const u=Eg(r,o),d=XS(u)+XS(r.k);return aI(u)&&aI(r.k)?mn(d):sn(r.M,d)}(n,e)}function nv(n,e,t){return n instanceof Wo?wg(n,e):n instanceof qo?Ig(n,e):t}function Eg(n,e){return n instanceof Ua?aI(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Va extends no{}class Wo extends no{constructor(e){super(),this.elements=e}}function wg(n,e){const t=eM(e);for(const r of n.elements)t.some(o=>to(o,r))||t.push(r);return{arrayValue:{values:t}}}class qo extends no{constructor(e){super(),this.elements=e}}function Ig(n,e){let t=eM(e);for(const r of n.elements)t=t.filter(o=>!to(o,r));return{arrayValue:{values:t}}}class Ua extends no{constructor(e,t){super(),this.M=e,this.k=t}}function XS(n){return or(n.integerValue||n.doubleValue)}function eM(n){return bh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class rv{constructor(e,t){this.field=e,this.transform=t}}class YR{constructor(e,t){this.version=e,this.transformResults=t}}class jr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jr}static exists(e){return new jr(void 0,e)}static updateTime(e){return new jr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class yI{}function QR(n,e,t){n instanceof iv?function(r,o,u){const d=r.value.clone(),g=iM(r.fieldTransforms,o,u.transformResults);d.setAll(g),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Sh?function(r,o,u){if(!mI(r.precondition,o))return void o.convertToUnknownDocument(u.version);const d=iM(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(rM(r)),g.setAll(d),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function zC(n,e,t){var o;n instanceof iv?function(r,o,u){if(!mI(r.precondition,o))return;const d=r.value.clone(),g=sM(r.fieldTransforms,u,o);d.setAll(g),o.convertToFoundDocument(nM(o),d).setHasLocalMutations()}(n,e,t):n instanceof Sh?function(r,o,u){if(!mI(r.precondition,o))return;const d=sM(r.fieldTransforms,u,o),g=o.data;g.setAll(rM(r)),g.setAll(d),o.convertToFoundDocument(nM(o),g).setHasLocalMutations()}(n,e,t):mI(n.precondition,o=e)&&o.convertToNoDocument(St.min())}function JR(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Eg(r.transform,o||null);null!=u&&(null==t&&(t=Ur.empty()),t.set(r.field,u))}return t||null}function tM(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&lc(t,r,(o,u)=>function ZR(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Wo&&r instanceof Wo||t instanceof qo&&r instanceof qo?lc(t.elements,r.elements,to):t instanceof Ua&&r instanceof Ua?to(t.k,r.k):t instanceof Va&&r instanceof Va);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function nM(n){return n.isFoundDocument()?n.version:St.min()}class iv extends yI{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Sh extends yI{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function rM(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iM(n,e,t){const r=new Map;Nt(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],d=u.transform,g=e.data.field(u.field);r.set(u.field,nv(d,g,t[o]))}return r}function sM(n,e,t){const r=new Map;for(const o of n){const u=o.transform,d=t.data.field(o.field);r.set(o.field,tv(u,d,e))}return r}class sv extends yI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class WC extends yI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class XR{constructor(e){this.count=e}}var $r,pn;function oM(n){switch(n){default:return _t();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function aM(n){if(void 0===n)return Er("GRPC error has no .code"),ve.UNKNOWN;switch(n){case $r.OK:return ve.OK;case $r.CANCELLED:return ve.CANCELLED;case $r.UNKNOWN:return ve.UNKNOWN;case $r.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case $r.INTERNAL:return ve.INTERNAL;case $r.UNAVAILABLE:return ve.UNAVAILABLE;case $r.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case $r.NOT_FOUND:return ve.NOT_FOUND;case $r.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case $r.ABORTED:return ve.ABORTED;case $r.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case $r.DATA_LOSS:return ve.DATA_LOSS;default:return _t()}}(pn=$r||($r={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ju(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return FC(this.inner)}size(){return this.innerSize}}const eN=new ar(st.comparator);function ro(){return eN}const tN=new ar(st.comparator);function qC(...n){let e=tN;for(const t of n)e=e.insert(t.key,t);return e}function ov(){return new yc(n=>n.toString(),(n,e)=>n.isEqual(e))}const nN=new ar(st.comparator),rN=new Fn(st.comparator);function Sn(...n){let e=rN;for(const t of n)e=e.add(t);return e}const iN=new Fn(Kt);function _I(){return iN}class av{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,uv.createSynthesizedTargetChangeForCurrentChange(e,t)),new av(St.min(),r,_I(),ro(),Sn())}}class uv{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new uv(Vr.EMPTY_BYTE_STRING,t,Sn(),Sn(),Sn())}}class vI{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class uM{constructor(e,t){this.targetId=e,this.$=t}}class lM{constructor(e,t,r=Vr.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class cM{constructor(){this.B=0,this.L=hM(),this.U=Vr.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Sn(),t=Sn(),r=Sn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:_t()}}),new uv(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=hM()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class sN{constructor(e){this.nt=e,this.st=new Map,this.it=ro(),this.rt=dM(),this.ot=new Fn(Kt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(vg(u))if(0===r){const d=new st(u.path);this.ct(t,d,An.newNoDocument(d,St.min()))}else Nt(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const g=this.wt(d);if(g){if(u.current&&vg(g.target)){const E=new st(g.target.path);null!==this.it.get(E)||this.It(d,E)||this.ct(d,E,An.newNoDocument(E,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=Sn();this.rt.forEach((u,d)=>{let g=!0;d.forEachWhile(E=>{const b=this.wt(E);return!b||2===b.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const o=new av(e,t,this.ot,this.it,r);return this.it=ro(),this.rt=dM(),this.ot=new Fn(Kt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new cM,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Fn(Kt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Ze("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new cM),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function dM(){return new ar(st.comparator)}function hM(){return new ar(st.comparator)}const oN={asc:"ASCENDING",desc:"DESCENDING"},aN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class uN{constructor(e,t){this.databaseId=e,this.N=t}}function lv(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fM(n,e){return n.N?e.toBase64():e.toUint8Array()}function lN(n,e){return lv(n,e.toTimestamp())}function si(n){return Nt(!!n),St.fromTimestamp(function(e){const t=Go(e);return new Nn(t.seconds,t.nanos)}(n))}function KC(n,e){return(t=n,new cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function pM(n){const e=cn.fromString(n);return Nt(bM(e)),e}function cv(n,e){return KC(n.databaseId,e.path)}function Ba(n,e){const t=pM(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new st(mM(t))}function ZC(n,e){return KC(n.databaseId,e)}function gM(n){const e=pM(n);return 4===e.length?cn.emptyPath():mM(e)}function dv(n){return new cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mM(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function yM(n,e,t){return{name:cv(n,e),fields:t.value.mapValue.fields}}function _M(n,e,t){const r=Ba(n,e.name),o=si(e.updateTime),u=new Ur({mapValue:{fields:e.fields}}),d=An.newFoundDocument(r,o,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function hv(n,e){let t;if(e instanceof iv)t={update:yM(n,e.key,e.value)};else if(e instanceof sv)t={delete:cv(n,e.key)};else if(e instanceof Sh)t={update:yM(n,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof WC))return _t();t={verify:cv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Va)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wo)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof qo)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ua)return{fieldPath:u.field.canonicalString(),increment:d.k};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:lN(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:_t()),t;var o}function YC(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?jr.updateTime(si(o.updateTime)):void 0!==o.exists?jr.exists(o.exists):jr.none():jr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,d){let g=null;"setToServerValue"in d?(Nt("REQUEST_TIME"===d.setToServerValue),g=new Va):"appendMissingElements"in d?g=new Wo(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new qo(d.removeAllFromArray.values||[]):"increment"in d?g=new Ua(u,d.increment):_t();const E=Ir.fromServerFormat(d.fieldPath);return new rv(E,g)}(n,o)):[];var o;if(e.update){const o=Ba(n,e.update.name),u=new Ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new cc((e.updateMask.fieldPaths||[]).map(b=>Ir.fromServerFormat(b)));return new Sh(o,u,d,t,r)}return new iv(o,u,t,r)}if(e.delete){const o=Ba(n,e.delete);return new sv(o,t)}if(e.verify){const o=Ba(n,e.verify);return new WC(o,t)}return _t()}function vM(n,e){return{documents:[ZC(n,e.path)]}}function EM(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=ZC(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ZC(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(E){if(0===E.length)return;const b=E.map(A=>function(S){if("=="===S.op){if(uI(S.value))return{unaryFilter:{field:bg(S.field),op:"IS_NAN"}};if(Dh(S.value))return{unaryFilter:{field:bg(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(uI(S.value))return{unaryFilter:{field:bg(S.field),op:"IS_NOT_NAN"}};if(Dh(S.value))return{unaryFilter:{field:bg(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bg(S.field),op:gN(S.op),value:S.value}}}(A));return 1===b.length?b[0]:{compositeFilter:{op:"AND",filters:b}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(E){if(0!==E.length)return E.map(b=>{return{field:bg((A=b).field),direction:pN(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(b=e.limit,n.N||dc(b)?b:{value:b});var b,g,E;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(E=e.endAt).inclusive,values:E.position}),t}function wM(n){let e=gM(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Nt(1===r);const A=t.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=IM(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(A=>{return new Ah(Dg((S=A).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let g=null;t.limit&&(g=function(A){let S;return S="object"==typeof A?A.value:A,dc(S)?null:S}(t.limit));let E=null;var A;t.startAt&&(E=new Wu((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new Wu(A.values||[],!A.before)}(t.endAt)),c(e,o,d,u,g,"F",E,b)}function IM(n){return n?void 0!==n.unaryFilter?[yN(n)]:void 0!==n.fieldFilter?[mN(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>IM(e)).reduce((e,t)=>e.concat(t)):_t():[]}function pN(n){return oN[n]}function gN(n){return aN[n]}function bg(n){return{fieldPath:n.canonicalString()}}function Dg(n){return Ir.fromServerFormat(n.fieldPath)}function mN(n){return Zr.create(Dg(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(n.fieldFilter.op),n.fieldFilter.value)}function yN(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Dg(n.unaryFilter.field);return Zr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Dg(n.unaryFilter.field);return Zr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Dg(n.unaryFilter.field);return Zr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Dg(n.unaryFilter.field);return Zr.create(o,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}function _N(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Hi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DM(e)),e=vN(n.get(t),e);return DM(e)}function vN(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function DM(n){return n+"\x01\x01"}function ja(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),cn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&_t(),n.charAt(d+1)){case"\x01":const g=n.substring(u,d);let E;0===o.length?E=g:(o+=g,E=o,o=""),r.push(E);break;case"\x10":o+=n.substring(u,d),o+="\0";break;case"\x11":o+=n.substring(u,d+1);break;default:_t()}u=d+2}return new cn(r)}const CM=["userId","batchId"];function EI(n,e){return[n,Hi(e)]}function TM(n,e,t){return[n,Hi(e),t]}const EN={},wN=["prefixPath","collectionGroup","readTime","documentId"],IN=["prefixPath","collectionGroup","documentId"],bN=["collectionGroup","readTime","prefixPath","documentId"],DN=["canonicalId","targetId"],CN=["targetId","path"],TN=["path","targetId"],AN=["collectionId","parent"],SN=["indexId","uid"],MN=["uid","sequenceNumber"],xN=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RN=["indexId","uid","orderedDocumentKey"],NN=["userId","collectionPath","documentId"],ON=["userId","collectionPath","largestBatchId"],PN=["userId","collectionGroup","largestBatchId"],AM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],kN=[...AM,"documentOverlays"],SM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FN=[...SM,"indexConfiguration","indexState","indexEntries"],MM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let o=0,u=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++u,d&&u===o&&t()},E=>r(E))}),d=!0,u===o&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(o=>o?we.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class wI{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new wr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new fv(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=QC(r.target.error);this.At.reject(new fv(e,o))}}static open(e,t,r,o){try{return new wI(t,e.transaction(o,r))}catch(u){throw new fv(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new VN(t)}}class Ko{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Ko.Vt((0,rn.z$)())&&Er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ze("SimpleDb","Removing database:",e),xh(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,rn.hl)())return!1;if(Ko.St())return!0;const e=(0,rn.z$)(),t=Ko.Vt(e),r=0<t&&t<10,o=Ko.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,Ce.Z)(function*(){return t.db||(Ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{o(new fv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;o("VersionError"===g.name?new Be(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Be(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new fv(e,g))},u.onupgradeneeded=d=>{Ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,Ce.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Nt(e);const E=wI.open(u.db,e,d?"readonly":"readwrite",r),b=o(E).next(A=>(E.bt(),A)).catch(A=>(E.abort(A),we.reject(A))).toPromise();return b.catch(()=>{}),yield E.Rt,b}catch(E){const b="FirebaseError"!==E.name&&g<3;if(Ze("SimpleDb","Transaction failed with error:",E.message,"Retrying:",b),u.close(),!b)return Promise.reject(E)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class LN{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return xh(this.Ft.delete())}}class fv extends Be{constructor(e,t){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Mh(n){return"IndexedDbTransactionError"===n.name}class VN{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),xh(r)}add(e){return Ze("SimpleDb","ADD",this.store.name,e,e),xh(this.store.add(e))}get(e){return xh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ze("SimpleDb","DELETE",this.store.name,e),xh(this.store.delete(e))}count(){return Ze("SimpleDb","COUNT",this.store.name),xh(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(d,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(r.range);return new we((u,d)=>{o.onerror=g=>{d(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new we((o,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{o(d.target.result)}})}Qt(e,t){Ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,d,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new we((r,o)=>{t.onerror=u=>{const d=QC(u.target.error);o(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}Kt(e,t){const r=[];return new we((o,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void o();const E=new LN(g),b=t(g.primaryKey,g.value,E);if(b instanceof we){const A=b.catch(S=>(E.done(),we.reject(S)));r.push(A)}E.isDone?o():null===E.Lt?g.continue():g.continue(E.Lt)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xh(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=QC(r.target.error);t(o)}})}let RM=!1;function QC(n){const e=Ko.Vt((0,rn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RM||(RM=!0,setTimeout(()=>{throw r},0)),r}}return n}class NM extends xM{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function oi(n,e){const t=ot(n);return Ko.xt(t.Ht,e)}class JC{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&QR(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&zC(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&zC(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(St.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Sn())}isEqual(e){return this.batchId===e.batchId&&lc(this.mutations,e.mutations,(t,r)=>tM(t,r))&&lc(this.baseMutations,e.baseMutations,(t,r)=>tM(t,r))}}class XC{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Nt(e.mutations.length===r.length);let o=nN;const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,r[d].version);return new XC(e,t,r,o)}}class eT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _c{constructor(e,t,r,o,u=St.min(),d=St.min(),g=Vr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}withSequenceNumber(e){return new _c(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new _c(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class OM{constructor(e){this.Jt=e}}function PM(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:II(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:cv(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:lv(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Rh(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:Rh(e.version)}}var o,u;return r}function II(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Rh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Nh(n){const e=new Nn(n.seconds,n.nanoseconds);return St.fromTimestamp(e)}function Cg(n,e){const t=(e.baseMutations||[]).map(u=>YC(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>YC(n.Jt,u)),o=Nn.fromMillis(e.localWriteTimeMs);return new JC(e.batchId,o,t,r)}function pv(n){const e=Nh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Nh(n.lastLimboFreeSnapshotVersion):St.min();let r;var o;return void 0!==n.query.documents?(Nt(1===(o=n.query).documents.length),r=P(h(gM(o.documents[0])))):r=P(wM(n.query)),new _c(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Vr.fromBase64String(n.resumeToken))}function kM(n,e){const t=Rh(e.snapshotVersion),r=Rh(e.lastLimboFreeSnapshotVersion);let o;o=vg(e.target)?vM(n.Jt,e.target):EM(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:La(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function tT(n){const e=wM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?G(e,e.limit,"L"):e}function nT(n,e){return new eT(e.largestBatchId,YC(n.Jt,e.overlayMutation))}function FM(n,e){const t=e.path.lastSegment();return[n,Hi(e.path.popLast()),t]}class BN{getBundleMetadata(e,t){return LM(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:Nh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return LM(e).put({bundleId:(r=t).id,createTime:Rh(si(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return VM(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:tT(o.bundledQuery),readTime:Nh(o.readTime)};var o})}saveNamedQuery(e,t){return VM(e).put({name:(r=t).name,readTime:Rh(si(r.readTime)),bundledQuery:r.bundledQuery});var r}}function LM(n){return oi(n,"bundles")}function VM(n){return oi(n,"namedQueries")}class rT{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new rT(e,t.uid||"")}getOverlay(e,t){return gv(e).get(FM(this.userId,t)).next(r=>r?nT(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,d)=>{const g=new eT(t,d);o.push(this.Xt(e,g))}),we.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(d=>o.add(Hi(d.getCollectionPath())));const u=[];return o.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(gv(e).Qt("collectionPathOverlayIndex",g))}),we.waitFor(u)}getOverlaysForCollection(e,t,r){const o=ov(),u=Hi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return gv(e).qt("collectionPathOverlayIndex",d).next(g=>{for(const E of g){const b=nT(this.M,E);o.set(b.getKey(),b)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=ov();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gv(e).Wt({index:"collectionGroupOverlayIndex",range:g},(E,b,A)=>{const S=nT(this.M,b);u.size()<o||S.largestBatchId===d?(u.set(S.getKey(),S),d=S.largestBatchId):A.done()}).next(()=>u)}Xt(e,t){return gv(e).put(function(r,o,u){const[d,g,E]=FM(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:E,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:hv(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function gv(n){return oi(n,"documentOverlays")}class Oh{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),hc(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue($u(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?Fa(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_t()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),st.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function jN(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function UM(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=jN(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Oh.fe=new Oh;class $N{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=UM(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=UM(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class HN{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class GN{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class mv{constructor(){this.De=new $N,this.Ce=new HN(this.De),this.xe=new GN(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Ph{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ph(this.indexId,this.documentKey,this.arrayValue,r)}}function kh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=BM(n.arrayValue,e.arrayValue),0!==t?t:(t=BM(n.directionalValue,e.directionalValue),0!==t?t:st.comparator(n.documentKey,e.documentKey)))}function BM(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class zN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=dI(e);if(void 0!==t&&!this.Be(t))return!1;const r=gc(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const d=r[o];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++o}for(;o<r.length;++o){const d=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class WN{constructor(){this.qe=new iT}addToCollectionParentIndex(e,t){return this.qe.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(Ns.min())}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class iT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Fn(cn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Fn(cn.comparator)).toArray()}}const bI=new Uint8Array(0);class qN{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new iT,this.Ge=new yc(r=>La(r),(r,o)=>Th(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:Hi(o)};return jM(e).put(u)}return we.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[fg(t),""],!1,!0);return jM(e).qt(o).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(ja(d.parent))}return r})}addFieldIndex(e,t){const r=DI(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=DI(e),o=CI(e),u=yv(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=yv(e);let o=!0;const u=new Map;return we.forEach(this.Qe(t),d=>this.je(e,d).next(g=>{o&&(o=!!g),u.set(d,g)})).next(()=>{if(o){let d=Sn();const g=[];return we.forEach(u,(E,b)=>{var A;Ze("IndexedDbIndexManager",`Using index ${A=E,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(an=>`${an.fieldPath}:${an.kind}`).join(",")}`} to execute ${La(t)}`);const S=function(an,Gt){const ln=dI(Gt);if(void 0===ln)return null;for(const In of ev(an,ln.fieldPath))switch(In.op){case"array-contains-any":return In.value.arrayValue.values||[];case"array-contains":return[In.value]}return null}(b,E),B=function(an,Gt){const ln=new Map;for(const In of gc(Gt))for(const Ti of ev(an,In.fieldPath))switch(Ti.op){case"==":case"in":ln.set(In.fieldPath.canonicalString(),Ti.value);break;case"not-in":case"!=":return ln.set(In.fieldPath.canonicalString(),Ti.value),Array.from(ln.values())}return null}(b,E),q=function(an,Gt){const ln=[];let In=!0;for(const Ti of gc(Gt)){const Nv=0===Ti.kind?$C(an,Ti.fieldPath,an.startAt):gI(an,Ti.fieldPath,an.startAt);ln.push(Nv.value),In&&(In=Nv.inclusive)}return new Wu(ln,In)}(b,E),ne=function(an,Gt){const ln=[];let In=!0;for(const Ti of gc(Gt)){const Nv=0===Ti.kind?gI(an,Ti.fieldPath,an.endAt):$C(an,Ti.fieldPath,an.endAt);ln.push(Nv.value),In&&(In=Nv.inclusive)}return new Wu(ln,In)}(b,E),Pe=this.We(E,b,q),Xe=this.We(E,b,ne),bt=this.ze(E,b,B),Ot=this.He(E.indexId,S,Pe,q.inclusive,Xe,ne.inclusive,bt);return we.forEach(Ot,an=>r.Gt(an,t.limit).next(Gt=>{Gt.forEach(ln=>{const In=st.fromSegments(ln.documentKey);d.has(In)||(d=d.add(In),g.push(In))})}))}).next(()=>g)}return we.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,o,u,d,g){const E=(null!=t?t.length:1)*Math.max(r.length,u.length),b=E/(null!=t?t.length:1),A=[];for(let S=0;S<E;++S){const B=t?this.Je(t[S/b]):bI,q=this.Ye(e,B,r[S%b],o),ne=this.Xe(e,B,u[S%b],d),Pe=g.map(Xe=>this.Ye(e,B,Xe,!0));A.push(...this.createRange(q,ne,Pe))}return A}Ye(e,t,r,o){const u=new Ph(e,st.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new Ph(e,st.empty(),t,r);return o?u.ke():u}je(e,t){const r=new zN(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let d=null;for(const g of u)r.$e(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;return we.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?0!==r&&u.fields.length<function(d){let g=new Fn(Ir.comparator),E=!1;for(const b of d.filters){const A=b;A.field.isKeyField()||("array-contains"===A.op||"array-contains-any"===A.op?E=!0:g=g.add(A.field))}for(const b of d.orderBy)b.field.isKeyField()||(g=g.add(b.field));return g.size+(E?1:0)}(o)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new mv;for(const o of gc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const d=r.Ne(o.kind);Oh.fe.Zt(u,d)}return r.Se()}Je(e){const t=new mv;return Oh.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new mv;return Oh.fe.Zt(fc(this.databaseId,t),r.Ne(function(o){const u=gc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let o=[];o.push(new mv);let u=0;for(const d of gc(e)){const g=r[u++];for(const E of o)if(this.en(t,d.fieldPath)&&bh(g))o=this.nn(o,d,g);else{const b=E.Ne(d.kind);Oh.fe.Zt(g,b)}}return this.sn(o)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const d of r.arrayValue.values||[])for(const g of o){const E=new mv;E.seed(g.Se()),Oh.fe.Zt(d,E.Ne(t.kind)),u.push(E)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Zr&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=DI(e),o=CI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return we.forEach(u,g=>o.get([g.indexId,this.uid]).next(E=>{d.push(function(b,A){const S=A?new mc(A.sequenceNumber,new Ns(Nh(A.readTime),new st(ja(A.documentKey)),A.largestBatchId)):mc.empty(),B=b.fields.map(([q,ne])=>new Q_(Ir.fromServerFormat(q),ne));return new Y_(b.indexId,b.collectionGroup,B,S)}(g,E))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Kt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=DI(e),u=CI(e);return this.rn(e).next(d=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>we.forEach(g,E=>{return u.put({indexId:E.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:Rh((B=r).readTime),documentKey:Hi(B.documentKey.path),largestBatchId:B.largestBatchId});var B})))}updateIndexEntries(e,t){const r=new Map;return we.forEach(t,(o,u)=>{const d=r.get(o.collectionGroup);return(d?we.resolve(d):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),we.forEach(g,E=>this.on(e,o,E).next(b=>{const A=this.un(u,E);return b.isEqual(A)?we.resolve():this.an(e,u,E,b,A)}))))})}cn(e,t,r,o){return yv(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return yv(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=yv(e);let u=new Fn(kh);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(d,g)=>{u=u.add(new Ph(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}un(e,t){let r=new Fn(kh);const o=this.Ze(t,e);if(null==o)return r;const u=dI(t);if(null!=u){const d=e.data.field(u.fieldPath);if(bh(d))for(const g of d.arrayValue.values||[])r=r.add(new Ph(t.indexId,e.key,this.Je(g),o))}else r=r.add(new Ph(t.indexId,e.key,bI,o));return r}an(e,t,r,o,u){Ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,E,b,A,S){const B=g.getIterator(),q=E.getIterator();let ne=zu(B),Pe=zu(q);for(;ne||Pe;){let Xe=!1,bt=!1;if(ne&&Pe){const Ot=b(ne,Pe);Ot<0?bt=!0:Ot>0&&(Xe=!0)}else null!=ne?bt=!0:Xe=!0;Xe?(A(Pe),Pe=zu(q)):bt?(S(ne),ne=zu(B)):(ne=zu(B),Pe=zu(q))}}(o,u,kh,g=>{d.push(this.cn(e,t,r,g))},g=>{d.push(this.hn(e,t,r,g))}),we.waitFor(d)}rn(e){let t=1;return CI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>kh(d,g)).filter((d,g,E)=>!g||0!==kh(d,E[g-1]));const o=[];o.push(e);for(const d of r){const g=kh(d,e),E=kh(d,t);if(0===g)o[0]=e.ke();else if(g>0&&E<0)o.push(d),o.push(d.ke());else if(E>0)break}o.push(t);const u=[];for(let d=0;d<o.length;d+=2)u.push(IDBKeyRange.bound([o[d].indexId,this.uid,o[d].arrayValue,o[d].directionalValue,bI,[]],[o[d+1].indexId,this.uid,o[d+1].arrayValue,o[d+1].directionalValue,bI,[]]));return u}getMinOffset(e,t){let r;return we.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?(!r||fI(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=Ns.min()})).next(()=>r)}}function jM(n){return oi(n,"collectionParents")}function yv(n){return oi(n,"indexEntries")}function DI(n){return oi(n,"indexConfiguration")}function CI(n){return oi(n,"indexState")}const $M={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ds{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ds(e,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function HM(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const E=r.Wt({range:d},(A,S,B)=>(g++,B.delete()));u.push(E.next(()=>{Nt(1===g)}));const b=[];for(const A of t.mutations){const S=TM(e,A.key.path,t.batchId);u.push(o.delete(S)),b.push(A.key)}return we.waitFor(u).next(()=>b)}function TI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}ds.DEFAULT_COLLECTION_PERCENTILE=10,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ds.DEFAULT=new ds(41943040,ds.DEFAULT_COLLECTION_PERCENTILE,ds.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ds.DISABLED=new ds(-1,0,0);class sT{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Nt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new sT(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).Wt({index:"userMutationsIndex",range:r},(o,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Tg(e),d=vc(e);return d.add({}).next(g=>{Nt("number"==typeof g);const E=new JC(g,t,r,o),b=function(B,q,ne){const Pe=ne.baseMutations.map(bt=>hv(B.Jt,bt)),Xe=ne.mutations.map(bt=>hv(B.Jt,bt));return{userId:q,batchId:ne.batchId,localWriteTimeMs:ne.localWriteTime.toMillis(),baseMutations:Pe,mutations:Xe}}(this.M,this.userId,E),A=[];let S=new Fn((B,q)=>Kt(B.canonicalString(),q.canonicalString()));for(const B of o){const q=TM(this.userId,B.key.path,g);S=S.add(B.key.path.popLast()),A.push(d.put(b)),A.push(u.put(q,EN))}return S.forEach(B=>{A.push(this.indexManager.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.ln[g]=E.keys()}),we.waitFor(A).next(()=>E)})}lookupMutationBatch(e,t){return vc(e).get(t).next(r=>r?(Nt(r.userId===this.userId),Cg(this.M,r)):null)}fn(e,t){return this.ln[t]?we.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return vc(e).Wt({index:"userMutationsIndex",range:o},(d,g,E)=>{g.userId===this.userId&&(Nt(g.batchId>=r),u=Cg(this.M,g)),E.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return vc(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vc(e).qt("userMutationsIndex",t).next(r=>r.map(o=>Cg(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=EI(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Tg(e).Wt({range:o},(d,g,E)=>{const[b,A,S]=d,B=ja(A);if(b===this.userId&&t.path.isEqual(B))return vc(e).get(S).next(q=>{if(!q)throw _t();Nt(q.userId===this.userId),u.push(Cg(this.M,q))});E.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Kt);const o=[];return t.forEach(u=>{const d=EI(this.userId,u.path),g=IDBKeyRange.lowerBound(d),E=Tg(e).Wt({range:g},(b,A,S)=>{const[B,q,ne]=b,Pe=ja(q);B===this.userId&&u.path.isEqual(Pe)?r=r.add(ne):S.done()});o.push(E)}),we.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=EI(this.userId,r),d=IDBKeyRange.lowerBound(u);let g=new Fn(Kt);return Tg(e).Wt({range:d},(E,b,A)=>{const[S,B,q]=E,ne=ja(B);S===this.userId&&r.isPrefixOf(ne)?ne.length===o&&(g=g.add(q)):A.done()}).next(()=>this.dn(e,g))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(vc(e).get(u).next(d=>{if(null===d)throw _t();Nt(d.userId===this.userId),r.push(Cg(this.M,d))}))}),we.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return HM(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),we.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Tg(e).Wt({range:r},(u,d,g)=>{if(u[0]===this.userId){const E=ja(u[1]);o.push(E)}else g.done()}).next(()=>{Nt(0===o.length)})})}containsKey(e,t){return GM(e,this.userId,t)}wn(e){return zM(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function GM(n,e,t){const r=EI(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return Tg(n).Wt({range:u,jt:!0},(g,E,b)=>{const[A,S,B]=g;A===e&&S===o&&(d=!0),b.done()}).next(()=>d)}function vc(n){return oi(n,"mutations")}function Tg(n){return oi(n,"documentMutations")}function zM(n){return oi(n,"mutationQueues")}class Fh{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new Fh(0)}static yn(){return new Fh(-1)}}class KN{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new Fh(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>St.fromTimestamp(new Nn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Ag(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Ag(e).Wt((d,g)=>{const E=pv(g);E.sequenceNumber<=t&&null===r.get(E.targetId)&&(o++,u.push(this.removeTargetData(e,E)))}).next(()=>we.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Ag(e).Wt((r,o)=>{const u=pv(o);t(u)})}pn(e){return WM(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}In(e,t){return WM(e).put("targetGlobalKey",t)}Tn(e,t){return Ag(e).put(kM(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=La(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Ag(e).Wt({range:o,index:"queryTargetsIndex"},(d,g,E)=>{const b=pv(g);Th(t,b.target)&&(u=b,E.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Ec(e);return t.forEach(d=>{const g=Hi(d.path);o.push(u.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,d))}),we.waitFor(o)}removeMatchingKeys(e,t,r){const o=Ec(e);return we.forEach(t,u=>{const d=Hi(u.path);return we.waitFor([o.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ec(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Ec(e);let u=Sn();return o.Wt({range:r,jt:!0},(d,g,E)=>{const b=ja(d[1]),A=new st(b);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Hi(t.path),o=IDBKeyRange.bound([r],[fg(r)],!1,!0);let u=0;return Ec(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([d,g],E,b)=>{0!==d&&(u++,b.done())}).next(()=>u>0)}Et(e,t){return Ag(e).get(t).next(r=>r?pv(r):null)}}function Ag(n){return oi(n,"targets")}function WM(n){return oi(n,"targetGlobal")}function Ec(n){return oi(n,"targetDocuments")}function Lh(n){return oT.apply(this,arguments)}function oT(){return oT=(0,Ce.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==MM)throw n;Ze("LocalStore","Unexpectedly lost primary lease")}),oT.apply(this,arguments)}function qM([n,e],[t,r]){const o=Kt(n,t);return 0===o?Kt(e,r):o}class ZN{constructor(e){this.An=e,this.buffer=new Fn(qM),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();qM(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YN{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Ze("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ce.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Mh(o)?Ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield Lh(o)}yield t.Sn(e)}))}}class QN{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve($i.A);const r=new ZN(t);return this.Dn.forEachTarget(e,o=>r.Pn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.Pn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve($M)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$M):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,d,g,E,b;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(r=S,g=Date.now(),this.removeTargets(e,r,t))).next(S=>(u=S,E=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(b=Date.now(),G_()<=Zs.in.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-A}ms\n\tDetermined least recently used ${o} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(E-g)+`ms\n\tRemoved ${S} documents in `+(b-E)+`ms\nTotal Duration: ${b-A}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}class JN{constructor(e,t){this.db=e,this.garbageCollector=new QN(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return AI(e,r)}removeReference(e,t,r){return AI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return AI(e,t)}On(e,t){return function(r,o){let u=!1;return zM(r).zt(d=>GM(r,d,o).next(g=>(g&&(u=!0),we.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(d,g)=>{if(g<=t){const E=this.On(e,d).next(b=>{if(!b)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,St.min()),Ec(e).delete([0,Hi(d.path)])))});o.push(E)}}).next(()=>we.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return AI(e,t)}Mn(e,t){const r=Ec(e);let o,u=$i.A;return r.Wt({index:"documentTargetsIndex"},([d,g],{path:E,sequenceNumber:b})=>{0===d?(u!==$i.A&&t(new st(ja(o)),u),u=b,o=E):u=$i.A}).next(()=>{u!==$i.A&&t(new st(ja(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function AI(n,e){return Ec(n).put((r=n.currentSequenceNumber,{targetId:0,path:Hi(e.path),sequenceNumber:r}));var r}class KM{constructor(){this.changes=new yc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class XN{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Vh(e).put(r)}removeEntry(e,t,r){return Vh(e).delete(function(o,u){const d=o.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],II(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=An.newInvalidDocument(t);return Vh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_v(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:An.newInvalidDocument(t)};return Vh(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(_v(t))},(o,u)=>{r={document:this.$n(t,u),size:TI(u)}}).next(()=>r)}getEntries(e,t){let r=ro();return this.Ln(e,t,(o,u)=>{const d=this.$n(o,u);r=r.insert(o,d)}).next(()=>r)}Un(e,t){let r=ro(),o=new ar(st.comparator);return this.Ln(e,t,(u,d)=>{const g=this.$n(u,d);r=r.insert(u,g),o=o.insert(u,TI(d))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return we.resolve();let o=new Fn(QM);t.forEach(E=>o=o.add(E));const u=IDBKeyRange.bound(_v(o.first()),_v(o.last())),d=o.getIterator();let g=d.getNext();return Vh(e).Wt({index:"documentKeyIndex",range:u},(E,b,A)=>{const S=st.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;g&&QM(g,S)<0;)r(g,null),g=d.getNext();g&&g.isEqual(S)&&(r(g,b),g=d.hasNext()?d.getNext():null),g?A.Ut(_v(g)):A.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),II(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vh(e).qt(IDBKeyRange.bound(o,u,!0)).next(d=>{let g=ro();for(const E of d){const b=this.$n(st.fromSegments(E.prefixPath.concat(E.collectionGroup,E.documentId)),E);g=g.insert(b.key,b)}return g})}getAllFromCollectionGroup(e,t,r,o){let u=ro();const d=YM(t,r),g=YM(t,Ns.max());return Vh(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(E,b,A)=>{const S=this.$n(st.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);u=u.insert(S.key,S),u.size===o&&A.done()}).next(()=>u)}newChangeBuffer(e){return new eO(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return ZM(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}Fn(e,t){return ZM(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function UN(n,e){let t;if(e.document)t=_M(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=st.fromSegments(e.noDocument.path),o=Nh(e.noDocument.readTime);t=An.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=st.fromSegments(e.unknownDocument.path),o=Nh(e.unknownDocument.version);t=An.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new Nn(r[0],r[1]);return St.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(St.min()))return r}return An.newInvalidDocument(e)}}class eO extends KM{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new yc(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Fn((u,d)=>Kt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,g.readTime)),d.isValidDocument()){const E=PM(this.Kn.M,d);o=o.add(u.path.popLast()),r+=TI(E)-g.size,t.push(this.Kn.addEntry(e,u,E))}else if(r-=g.size,this.trackRemovals){const E=PM(this.Kn.M,d.convertToNoDocument(St.min()));t.push(this.Kn.addEntry(e,u,E))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function ZM(n){return oi(n,"remoteDocumentGlobal")}function Vh(n){return oi(n,"remoteDocumentsV14")}function _v(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function YM(n,e){const t=e.documentKey.path.toArray();return[n,II(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function QM(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Kt(t[u],r[u]),o)return o;return o=Kt(t.length,r.length),o||(o=Kt(t[t.length-2],r[r.length-2]),o||Kt(t[t.length-1],r[r.length-1]))}class tO{constructor(e){this.M=e}kt(e,t,r,o){const u=new wI("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CM,{unique:!0}),g.createObjectStore("documentMutations"),JM(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=we.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),JM(e)),d=d.next(()=>function(g){const E=g.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:St.min().toTimestamp(),targetCount:0};return E.put("targetGlobalKey",b)}(u))),r<4&&o>=4&&(0!==r&&(d=d.next(()=>function(g,E){return E.store("mutations").qt().next(b=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",CM,{unique:!0});const A=E.store("mutations"),S=b.map(B=>A.put(B));return we.waitFor(S)})}(e,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(d=d.next(()=>this.Qn(u))),r<6&&o>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(d=d.next(()=>this.Wn(u))),r<8&&o>=8&&(d=d.next(()=>this.zn(e,u))),r<9&&o>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(d=d.next(()=>this.Hn(u))),r<11&&o>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(d=d.next(()=>{!function(g){const E=g.createObjectStore("documentOverlays",{keyPath:NN});E.createIndex("collectionPathOverlayIndex",ON,{unique:!1}),E.createIndex("collectionGroupOverlayIndex",PN,{unique:!1})}(e)})),r<13&&o>=13&&(d=d.next(()=>function(g){const E=g.createObjectStore("remoteDocumentsV14",{keyPath:wN});E.createIndex("documentKeyIndex",IN),E.createIndex("collectionGroupIndex",bN)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(d=d.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:SN}).createIndex("sequenceNumberIndex",MN,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:xN}).createIndex("documentKeyIndex",RN,{unique:!1})}(e)})),d}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=TI(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>we.forEach(o,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(g=>we.forEach(g,E=>{Nt(E.userId===u.userId);const b=Cg(this.M,E);return HM(e,u.userId,b).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((d,g)=>{const E=new cn(d),b=[0,Hi(E)];u.push(t.get(b).next(A=>A?we.resolve():t.put({targetId:0,path:Hi(E),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>we.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:AN});const r=t.store("collectionParents"),o=new iT,u=d=>{if(o.add(d)){const g=d.lastSegment(),E=d.popLast();return r.put({collectionId:g,parent:Hi(E)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,g)=>{const E=new cn(d);return u(E.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,g,E],b)=>{const A=ja(g);return u(A.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=pv(o),d=kM(this.M,u);return t.put(d)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,d)=>{const g=t.store("remoteDocumentsV14"),E=(b=d,b.document?new st(cn.fromString(b.document.name).popFirst(5)):b.noDocument?st.fromSegments(b.noDocument.path):b.unknownDocument?st.fromSegments(b.unknownDocument.path):_t()).path.toArray();var b;const A={prefixPath:E.slice(0,E.length-2),collectionGroup:E[E.length-2],documentId:E[E.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};o.push(g.put(A))}).next(()=>we.waitFor(o))}}function JM(n){n.createObjectStore("targetDocuments",{keyPath:CN}).createIndex("documentTargetsIndex",TN,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",DN,{unique:!0}),n.createObjectStore("targetGlobal")}const aT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class uT{constructor(e,t,r,o,u,d,g,E,b,A,S=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=d,this.document=g,this.Xn=b,this.Zn=A,this.ts=S,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=B=>Promise.resolve(),!uT.vt())throw new Be(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JN(this,o),this.hs=t+"main",this.M=new OM(E),this.ls=new Ko(this.hs,this.ts,new tO(this.M)),this.fs=new KN(this.referenceDelegate,this.M),this.ds=new XN(this.M),this._s=new BN,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===A&&Er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,aT);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new $i(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,Ce.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,Ce.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,Ce.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>SI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Mh(e))return Ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return vv(e).get("owner").next(t=>we.resolve(this.Ps(t)))}Vs(e){return SI(e).delete(this.clientId)}vs(){var e=this;return(0,Ce.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=oi(r,"clientMetadata");return o.qt().next(u=>{const d=e.Ds(u,18e5),g=u.filter(E=>-1===d.indexOf(E));return we.forEach(g,E=>o.delete(E.clientId)).next(()=>g)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?we.resolve(!0):vv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,aT);return!1}}return!(!this.networkEnabled||!this.inForeground)||SI(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const d=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||d&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ce.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new NM(t,$i.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>SI(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return sT.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new qN(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return rT.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Ze("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(d=this.ts)?FN:13===d?SM:12===d?kN:11===d?AM:void _t();var d;let g;return this.ls.runTransaction(e,o,u,E=>(g=new NM(E,this.es?this.es.next():$i.A),"readwrite-primary"===t?this.Es(g).next(b=>!!b||this.As(g)).next(b=>{if(!b)throw Er(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new Be(ve.FAILED_PRECONDITION,MM);return r(g)}).next(b=>this.bs(g).next(()=>b)):this.$s(g).next(()=>r(g)))).then(E=>(g.raiseOnCommittedEvent(),E))}$s(e){return vv(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(ve.FAILED_PRECONDITION,aT)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vv(e).put("owner",t)}static vt(){return Ko.vt()}Rs(e){const t=vv(e);return t.get("owner").next(r=>this.Ps(r)?(Ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):we.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Er(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,rn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Er("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Er("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(e){}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function vv(n){return oi(n,"owner")}function SI(n){return oi(n,"clientMetadata")}function lT(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class nO{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return st.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):D(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new st(t)).next(r=>{let o=qC();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=qC();return this.indexManager.getCollectionParents(e,o).next(d=>we.forEach(d,g=>{const E=(b=t,A=g.child(o),new l(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.zs(e,E,r).next(b=>{b.forEach((A,S)=>{u=u.insert(A,S)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const g of d.mutations){const E=g.key;let b=o.get(E);null==b&&(b=An.newInvalidDocument(E),o=o.insert(E,b)),zC(g,b,d.localWriteTime),b.isFoundDocument()||(o=o.remove(E))}}).next(()=>(o.forEach((u,d)=>{nt(t,d)||(o=o.remove(u))}),o))}}class cT{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=Sn(),o=Sn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cT(e,t.fromCache,r,o)}}class XM{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,o){return this.ti(e,t).next(u=>u||this.ei(e,t,o,r)).next(u=>u||this.ni(e,t))}ti(e,t){return we.resolve(null)}ei(e,t,r,o){return function y(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(St.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const d=this.si(t,u);return this.ii(t,d,r,o)?this.ni(e,t):(G_()<=Zs.in.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ye(t)),this.ri(e,d,t,hI(o,-1)))})}si(e,t){let r=new Fn(ke(e));return t.forEach((o,u)=>{nt(e,u)&&(r=r.add(u))}),r}ii(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ni(e,t){return G_()<=Zs.in.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",Ye(t)),this.Zs.Qs(e,t,Ns.min())}ri(e,t,r,o){return this.Zs.Qs(e,r,o).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class rO{constructor(e,t,r,o){this.persistence=e,this.oi=t,this.M=o,this.ui=new ar(Kt),this.ai=new yc(u=>La(u),Th),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new nO(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function ex(n,e,t,r){return new rO(n,e,t,r)}function tx(n,e){return dT.apply(this,arguments)}function dT(){return dT=(0,Ce.Z)(function*(n,e){const t=ot(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const d=[],g=[];let E=Sn();for(const b of o){d.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}for(const b of u){g.push(b.batchId);for(const A of b.mutations)E=E.add(A.key)}return t.fi.Ks(r,E).next(b=>({di:b,removedBatchIds:d,addedBatchIds:g}))})})}),dT.apply(this,arguments)}function iO(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(d,g,E,b){const A=E.batch,S=A.keys();let B=we.resolve();return S.forEach(q=>{B=B.next(()=>b.getEntry(g,q)).next(ne=>{const Pe=E.docVersions.get(q);Nt(null!==Pe),ne.version.compareTo(Pe)<0&&(A.applyToRemoteDocument(ne,E),ne.isValidDocument()&&(ne.setReadTime(E.commitVersion),b.addEntry(ne)))})}),B.next(()=>d.Bs.removeMutationBatch(g,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,o))})}function nx(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function sO(n,e){const t=ot(n),r=e.snapshotVersion;let o=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.hi.newChangeBuffer({trackRemovals:!0});o=t.ui;const g=[];e.targetChanges.forEach((b,A)=>{const S=o.get(A);if(!S)return;g.push(t.fs.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.fs.addMatchingKeys(u,b.addedDocuments,A)));let B=S.withSequenceNumber(u.currentSequenceNumber);var q,ne,Pe;e.targetMismatches.has(A)?B=B.withResumeToken(Vr.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):b.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(b.resumeToken,r)),o=o.insert(A,B),ne=B,Pe=b,(0===(q=S).resumeToken.approximateByteSize()||ne.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||Pe.addedDocuments.size+Pe.modifiedDocuments.size+Pe.removedDocuments.size>0)&&g.push(t.fs.updateTargetData(u,B))});let E=ro();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),g.push(rx(u,d,e.documentUpdates).next(b=>{E=b})),!r.isEqual(St.min())){const b=t.fs.getLastRemoteSnapshotVersion(u).next(A=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(b)}return we.waitFor(g).next(()=>d.apply(u)).next(()=>t.fi.Gs(u,E)).next(()=>E)}).then(u=>(t.ui=o,u))}function rx(n,e,t){let r=Sn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=ro();return t.forEach((d,g)=>{const E=o.get(d);g.isNoDocument()&&g.version.isEqual(St.min())?(e.removeEntry(d,g.readTime),u=u.insert(d,g)):!E.isValidDocument()||g.version.compareTo(E.version)>0||0===g.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(g),u=u.insert(d,g)):Ze("LocalStore","Ignoring outdated watch update for ",d,". Current version:",E.version," Watch version:",g.version)}),u})}function oO(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function Sg(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,we.resolve(o)):t.fs.allocateTargetId(r).next(d=>(o=new _c(e,d,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function Mg(n,e,t){return hT.apply(this,arguments)}function hT(){return hT=(0,Ce.Z)(function*(n,e,t){const r=ot(n),o=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Mh(d))throw d;Ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.ui=r.ui.remove(e),r.ai.delete(o.target)}),hT.apply(this,arguments)}function MI(n,e,t){const r=ot(n);let o=St.min(),u=Sn();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,E,b){const A=ot(g),S=A.ai.get(b);return void 0!==S?we.resolve(A.ui.get(S)):A.fs.getTargetData(E,b)}(r,d,P(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(d,g.targetId).next(E=>{u=E})}).next(()=>r.oi.Qs(d,e,t?o:St.min(),t?u:Sn())).next(g=>(ox(r,ft(e),g),{documents:g,_i:u})))}function ix(n,e){const t=ot(n),r=ot(t.fs),o=t.ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function sx(n,e){const t=ot(n),r=t.ci.get(e)||St.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.hi.getAllFromCollectionGroup(o,e,hI(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(ox(t,e,o),o))}function ox(n,e,t){let r=St.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function fT(){return fT=(0,Ce.Z)(function*(n,e,t,r){const o=ot(n);let u=Sn(),d=ro();for(const b of t){const A=e.wi(b.metadata.name);b.document&&(u=u.add(A));const S=e.mi(b);S.setReadTime(e.gi(b.metadata.readTime)),d=d.insert(A,S)}const g=o.hi.newChangeBuffer({trackRemovals:!0}),E=yield Sg(o,(b=r,P(h(cn.fromString(`__bundle__/docs/${b}`)))));var b;return o.persistence.runTransaction("Apply bundle documents","readwrite",b=>rx(b,g,d).next(A=>(g.apply(b),A)).next(A=>o.fs.removeMatchingKeysForTargetId(b,E.targetId).next(()=>o.fs.addMatchingKeys(b,u,E.targetId)).next(()=>o.fi.Gs(b,A)).next(()=>A)))}),fT.apply(this,arguments)}function uO(n,e){return pT.apply(this,arguments)}function pT(){return pT=(0,Ce.Z)(function*(n,e,t=Sn()){const r=yield Sg(n,P(tT(e.bundledQuery))),o=ot(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const d=si(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return o._s.saveNamedQuery(u,e);const g=r.withResumeToken(Vr.EMPTY_BYTE_STRING,d);return o.ui=o.ui.insert(g.targetId,g),o.fs.updateTargetData(u,g).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),pT.apply(this,arguments)}class lO{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return we.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:si(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:tT(r.bundledQuery),readTime:si(r.readTime)}),we.resolve();var r}}class cO{constructor(){this.overlays=new ar(st.comparator),this.Ii=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),we.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Ii.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const o=ov(),u=t.length+1,d=new st(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const E=g.getNext().value,b=E.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&E.largestBatchId>r&&o.set(E.getKey(),E)}return we.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new ar((b,A)=>b-A);const d=this.overlays.getIterator();for(;d.hasNext();){const b=d.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=ov(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const g=ov(),E=u.getIterator();for(;E.hasNext()&&(E.getNext().value.forEach((b,A)=>g.set(b,A)),!(g.size()>=o)););return we.resolve(g)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const d=this.Ii.get(o.largestBatchId).delete(r.key);this.Ii.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new eT(t,r));let u=this.Ii.get(t);void 0===u&&(u=Sn(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class gT{constructor(){this.Ti=new Fn(ai.Ei),this.Ai=new Fn(ai.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new ai(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new ai(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new st(new cn([])),r=new ai(t,e),o=new ai(t,e+1),u=[];return this.Ai.forEachInRange([r,o],d=>{this.Pi(d),u.push(d.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new st(new cn([])),r=new ai(t,e),o=new ai(t,e+1);let u=Sn();return this.Ai.forEachInRange([r,o],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new ai(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class ai{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return st.comparator(e.key,t.key)||Kt(e.Ci,t.Ci)}static Ri(e,t){return Kt(e.Ci,t.Ci)||st.comparator(e.key,t.key)}}class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Fn(ai.Ei)}checkEmpty(e){return we.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.xi;this.xi++;const d=new JC(u,t,r,o);this.Bs.push(d);for(const g of o)this.Ni=this.Ni.add(new ai(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return we.resolve(d)}lookupMutationBatch(e,t){return we.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Mi(t+1),u=o<0?0:o;return we.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return we.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new ai(t,0),o=new ai(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,o],d=>{const g=this.ki(d.Ci);u.push(g)}),we.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Kt);return t.forEach(o=>{const u=new ai(o,0),d=new ai(o,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,d],g=>{r=r.add(g.Ci)})}),we.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;st.isDocumentKey(u)||(u=u.child(""));const d=new ai(new st(u),0);let g=new Fn(Kt);return this.Ni.forEachWhile(E=>{const b=E.key.path;return!!r.isPrefixOf(b)&&(b.length===o&&(g=g.add(E.Ci)),!0)},d),we.resolve(this.Oi(g))}Oi(e){const t=[];return e.forEach(r=>{const o=this.ki(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Nt(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return we.forEach(t.mutations,o=>{const u=new ai(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new ai(t,0),o=this.Ni.firstAfterOrEqual(r);return we.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return we.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class hO{constructor(e){this.$i=e,this.docs=new ar(st.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,d=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let r=ro();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():An.newInvalidDocument(o))}),we.resolve(r)}getAllFromCollection(e,t,r){let o=ro();const u=new st(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:g,value:{document:E}}=d.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||fI(BC(E),r)<=0||(o=o.insert(E.key,E.mutableCopy()))}return we.resolve(o)}getAllFromCollectionGroup(e,t,r,o){_t()}Bi(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new fO(this)}getSize(e){return we.resolve(this.size)}}class fO extends KM{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class pO{constructor(e){this.persistence=e,this.Li=new yc(t=>La(t),Th),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.Ui=0,this.qi=new gT,this.targetCount=0,this.Ki=Fh.gn()}forEachTarget(e,t){return this.Li.forEach((r,o)=>t(o)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),we.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new Fh(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Tn(t),we.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Li.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Li.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),we.waitFor(u).next(()=>o)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),we.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.qi.containsKey(t))}}class gO{constructor(e,t){this.Gi={},this.overlays={},this.es=new $i(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new pO(this),this.indexManager=new WN,this.ds=new hO(r=>this.referenceDelegate.Qi(r)),this.M=new OM(t),this._s=new lO(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new cO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new dO(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Ze("MemoryPersistence","Starting transaction:",e);const o=new mO(this.es.next());return this.referenceDelegate.ji(),r(o).next(u=>this.referenceDelegate.Wi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}zi(e,t){return we.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class mO extends xM{constructor(e){super(),this.currentSequenceNumber=e}}class mT{constructor(e){this.persistence=e,this.Hi=new gT,this.Ji=null}static Yi(e){return new mT(e)}get Xi(){if(this.Ji)return this.Ji;throw _t()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(o=>this.Xi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.Xi,r=>{const o=st.fromPath(r);return this.Zi(e,o).next(u=>{u||t.removeEntry(o,St.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return we.or([()=>we.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function ax(n,e){return`firestore_clients_${n}_${e}`}function ux(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function yT(n,e){return`firestore_targets_${n}_${e}`}class xI{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static tr(e,t,r){const o=JSON.parse(r);let u,d="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return d&&o.error&&(d="string"==typeof o.error.message&&"string"==typeof o.error.code,d&&(u=new Be(o.error.code,o.error.message))),d?new xI(e,t,o.state,u):(Er("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ev{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Be(r.error.code,r.error.message))),u?new Ev(e,r.state,o):(Er("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class RI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=_I();for(let d=0;o&&d<r.activeTargetIds.length;++d)o=sI(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return o?new RI(e,u):(Er("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _T{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _T(t.clientId,t.onlineState):(Er("SharedClientState",`Failed to parse online state: ${e}`),null)}}class vT{constructor(){this.activeTargetIds=_I()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ET{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new ar(Kt),this.started=!1,this.cr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=ax(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new vT),this.dr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.ir)continue;const u=e.getItem(ax(e.persistenceKey,o));if(u){const d=RI.tr(o,u);d&&(e.ar=e.ar.insert(d.clientId,d))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const o=e.pr(r);o&&e.Ir(o)}for(const o of e.cr)e.ur(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(yT(this.persistenceKey,e));if(r){const o=Ev.tr(e,r);o&&(t=o.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yT(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ar(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ze("SharedClientState","READ",e,t),t}setItem(e,t){Ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void Er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,Ce.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Sr(o,null)}{const o=t.Dr(r.key,r.newValue);if(o)return t.Sr(o.clientId,o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Cr(r.key,r.newValue);if(o)return t.Nr(o)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const o=t.kr(r.key,r.newValue);if(o)return t.Mr(o)}}else if(r.key===t.mr){if(null!==r.newValue){const o=t.pr(r.newValue);if(o)return t.Ir(o)}}else if(r.key===t.lr){const o=function(u){let d=$i.A;if(null!=u)try{const g=JSON.parse(u);Nt("number"==typeof g),d=g}catch(g){Er("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);o!==$i.A&&t.sequenceNumberHandler(o)}else if(r.key===t.gr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const o=new xI(this.currentUser,e,t,r),u=ux(this.persistenceKey,this.currentUser,e);this.setItem(u,o.er())}Ar(e){const t=ux(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const o=yT(this.persistenceKey,e),u=new Ev(e,t,r);this.setItem(o,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return RI.tr(r,t)}Cr(e,t){const r=this._r.exec(e),o=Number(r[1]);return xI.tr(new Kr(void 0!==r[2]?r[2]:null),o,t)}kr(e,t){const r=this.wr.exec(e),o=Number(r[1]);return Ev.tr(o,t)}pr(e){return _T.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,Ce.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Tr(this.ar),u=this.Tr(r),d=[],g=[];return u.forEach(E=>{o.has(E)||d.push(E)}),o.forEach(E=>{u.has(E)||g.push(E)}),this.syncEngine.Lr(d,g).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=_I();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class lx{constructor(){this.Ur=new vT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new vT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yO{Kr(e){}shutdown(){}}class cx{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const _O={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class vO{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class EO extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const d=this.ho(e,t);Ze("RestConnection","Sending: ",d,r);const g={};return this.lo(g,o,u),this.fo(e,d,g,r).then(E=>(Ze("RestConnection","Received: ",E),E),E=>{throw dg("RestConnection",`${e} failed with error: `,E,"url: ",d,"request:",r),E})}_o(e,t,r,o,u){return this.co(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Uu,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.uo}/v1/${t}:${_O[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,d)=>{const g=new $_;g.listenOnce(Qw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yw.NO_ERROR:const b=g.getResponseJson();Ze("Connection","XHR received:",JSON.stringify(b)),u(b);break;case Yw.TIMEOUT:Ze("Connection",'RPC "'+e+'" timed out'),d(new Be(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Yw.HTTP_ERROR:const A=g.getStatus();if(Ze("Connection",'RPC "'+e+'" failed with status:',A,"response text:",g.getResponseText()),A>0){const S=g.getResponseJson().error;if(S&&S.status&&S.message){const B=function(q){const ne=q.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(ne)>=0?ne:ve.UNKNOWN}(S.status);d(new Be(B,S.message))}else d(new Be(ve.UNKNOWN,"Server responded with status "+g.getStatus()))}else d(new Be(ve.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ze("Connection",'RPC "'+e+'" completed.')}});const E=JSON.stringify(o);g.send(t,"POST",E,r,15)})}wo(e,t,r){const o=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=MC(),d=cg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Jw({})),this.lo(g.initMessageHeaders,t,r),(0,rn.uI)()||(0,rn.b$)()||(0,rn.d)()||(0,rn.w1)()||(0,rn.Mn)()||(0,rn.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const E=o.join("");Ze("Connection","Creating WebChannel: "+E,g);const b=u.createWebChannel(E,g);let A=!1,S=!1;const B=new vO({Jr:ne=>{S?Ze("Connection","Not sending because WebChannel is closed:",ne):(A||(Ze("Connection","Opening WebChannel transport."),b.open(),A=!0),Ze("Connection","WebChannel sending:",ne),b.send(ne))},Yr:()=>b.close()}),q=(ne,Pe,Xe)=>{ne.listen(Pe,bt=>{try{Xe(bt)}catch(Ot){setTimeout(()=>{throw Ot},0)}})};return q(b,j_.EventType.OPEN,()=>{S||Ze("Connection","WebChannel transport opened.")}),q(b,j_.EventType.CLOSE,()=>{S||(S=!0,Ze("Connection","WebChannel transport closed"),B.ro())}),q(b,j_.EventType.ERROR,ne=>{S||(S=!0,dg("Connection","WebChannel transport errored:",ne),B.ro(new Be(ve.UNAVAILABLE,"The operation could not be completed")))}),q(b,j_.EventType.MESSAGE,ne=>{var Pe;if(!S){const Xe=ne.data[0];Nt(!!Xe);const bt=Xe,Ot=bt.error||(null===(Pe=bt[0])||void 0===Pe?void 0:Pe.error);if(Ot){Ze("Connection","WebChannel received error:",Ot);const an=Ot.status;let Gt=function(In){const Ti=$r[In];if(void 0!==Ti)return aM(Ti)}(an),ln=Ot.message;void 0===Gt&&(Gt=ve.INTERNAL,ln="Unknown error status: "+an+" with message "+Ot.message),S=!0,B.ro(new Be(Gt,ln)),b.close()}else Ze("Connection","WebChannel received:",Xe),B.oo(Xe)}}),q(d,U_.STAT_EVENT,ne=>{ne.stat===B_.PROXY?Ze("Connection","Detected buffering proxy"):ne.stat===B_.NOPROXY&&Ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{B.io()},0),B}}function dx(){return"undefined"!=typeof window?window:null}function NI(){return"undefined"!=typeof document?document:null}function wv(n){return new uN(n,!0)}class wT{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class hx{constructor(e,t,r,o,u,d,g,E){this.Yn=e,this.Vo=r,this.vo=o,this.So=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=E,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new wT(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,Ce.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,Ce.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,Ce.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ve.RESOURCE_EXHAUSTED?(Er(t.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ve.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new Be(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.No.Ro((0,Ce.Z)(function*(){e.state=0,e.start()}))}jo(e){return Ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wO extends hx{constructor(e,t,r,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,d),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function dN(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(E=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:_t(),o=e.targetChange.targetIds||[],u=function(E,b){return E.N?(Nt(void 0===b||"string"==typeof b),Vr.fromBase64String(b||"")):(Nt(void 0===b||b instanceof Uint8Array),Vr.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(E){const b=void 0===E.code?ve.UNKNOWN:aM(E.code);return new Be(b,E.message||"")}(d);t=new lM(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Ba(n,r.document.name),u=si(r.document.updateTime),d=new Ur({mapValue:{fields:r.document.fields}}),g=An.newFoundDocument(o,u,d);t=new vI(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=Ba(n,r.document),u=r.readTime?si(r.readTime):St.min(),d=An.newNoDocument(o,u);t=new vI([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,o=Ba(n,r.document);t=new vI([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return _t();{const r=e.filter,u=new XR(r.count||0);t=new uM(r.targetId,u)}}var E;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return St.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?St.min():u.readTime?si(u.readTime):St.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=dv(this.M),t.addTarget=function(o,u){let d;const g=u.target;return d=vg(g)?{documents:vM(o,g)}:{query:EM(o,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=fM(o,u.resumeToken):u.snapshotVersion.compareTo(St.min())>0&&(d.readTime=lv(o,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function fN(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _t()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=dv(this.M),t.removeTarget=e,this.Lo(t)}}class IO extends hx{constructor(e,t,r,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,d),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function hN(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,o){let u=si(r.updateTime?r.updateTime:o);return u.isEqual(St.min())&&(u=si(o)),new YR(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=si(e.commitTime);return this.listener.tu(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=dv(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>hv(this.M,r))};this.Lo(t)}}class bO extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=o,this.su=!1}iu(){if(this.su)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(ve.UNKNOWN,o.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So._o(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Be(ve.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class DO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Er(t),this.uu=!1):Ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class CO{constructor(e,t,r,o,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(g=>{r.enqueueAndForget((0,Ce.Z)(function*(){var E;wc(d)&&(Ze("RemoteStore","Restarting streams for network reachability change."),yield(E=(0,Ce.Z)(function*(b){const A=ot(b);A.wu.add(4),yield xg(A),A.yu.set("Unknown"),A.wu.delete(4),yield Iv(A)}),function(b){return E.apply(this,arguments)})(d))}))}),this.yu=new DO(r,o)}}function Iv(n){return IT.apply(this,arguments)}function IT(){return IT=(0,Ce.Z)(function*(n){if(wc(n))for(const e of n.mu)yield e(!0)}),IT.apply(this,arguments)}function xg(n){return bT.apply(this,arguments)}function bT(){return bT=(0,Ce.Z)(function*(n){for(const e of n.mu)yield e(!1)}),bT.apply(this,arguments)}function OI(n,e){const t=ot(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),TT(t)?CT(t):Ng(t).Mo()&&DT(t,e))}function bv(n,e){const t=ot(n),r=Ng(t);t._u.delete(e),r.Mo()&&fx(t,e),0===t._u.size&&(r.Mo()?r.$o():wc(t)&&t.yu.set("Unknown"))}function DT(n,e){n.pu.Z(e.targetId),Ng(n).Ho(e)}function fx(n,e){n.pu.Z(e),Ng(n).Jo(e)}function CT(n){n.pu=new sN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),Ng(n).start(),n.yu.au()}function TT(n){return wc(n)&&!Ng(n).ko()&&n._u.size>0}function wc(n){return 0===ot(n).wu.size}function px(n){n.pu=void 0}function TO(n){return AT.apply(this,arguments)}function AT(){return AT=(0,Ce.Z)(function*(n){n._u.forEach((e,t)=>{DT(n,e)})}),AT.apply(this,arguments)}function AO(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,Ce.Z)(function*(n,e){px(n),TT(n)?(n.yu.lu(e),CT(n)):n.yu.set("Unknown")}),ST.apply(this,arguments)}function SO(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=(0,Ce.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof lM&&2===e.state&&e.cause)try{yield(r=(0,Ce.Z)(function*(o,u){const d=u.cause;for(const g of u.targetIds)o._u.has(g)&&(yield o.remoteSyncer.rejectListen(g,d),o._u.delete(g),o.pu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield PI(n,r)}else if(e instanceof vI?n.pu.ut(e):e instanceof uM?n.pu._t(e):n.pu.ht(e),!t.isEqual(St.min()))try{const r=yield nx(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const d=o.pu.yt(u);return d.targetChanges.forEach((g,E)=>{if(g.resumeToken.approximateByteSize()>0){const b=o._u.get(E);b&&o._u.set(E,b.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach(g=>{const E=o._u.get(g);if(!E)return;o._u.set(g,E.withResumeToken(Vr.EMPTY_BYTE_STRING,E.snapshotVersion)),fx(o,g);const b=new _c(E.target,g,1,E.sequenceNumber);DT(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ze("RemoteStore","Failed to raise snapshot:",r),yield PI(n,r)}var r}),MT.apply(this,arguments)}function PI(n,e,t){return xT.apply(this,arguments)}function xT(){return xT=(0,Ce.Z)(function*(n,e,t){if(!Mh(e))throw e;n.wu.add(1),yield xg(n),n.yu.set("Offline"),t||(t=()=>nx(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Iv(n)}))}),xT.apply(this,arguments)}function gx(n,e){return e().catch(t=>PI(n,t,e))}function Rg(n){return RT.apply(this,arguments)}function RT(){return RT=(0,Ce.Z)(function*(n){const e=ot(n),t=Ic(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;MO(e);)try{const o=yield oO(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,xO(e,o)}catch(o){yield PI(e,o)}mx(e)&&yx(e)}),RT.apply(this,arguments)}function MO(n){return wc(n)&&n.du.length<10}function xO(n,e){n.du.push(e);const t=Ic(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function mx(n){return wc(n)&&!Ic(n).ko()&&n.du.length>0}function yx(n){Ic(n).start()}function RO(n){return NT.apply(this,arguments)}function NT(){return NT=(0,Ce.Z)(function*(n){Ic(n).nu()}),NT.apply(this,arguments)}function NO(n){return OT.apply(this,arguments)}function OT(){return OT=(0,Ce.Z)(function*(n){const e=Ic(n);for(const t of n.du)e.Zo(t.mutations)}),OT.apply(this,arguments)}function OO(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=(0,Ce.Z)(function*(n,e,t){const r=n.du.shift(),o=XC.from(r,e,t);yield gx(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Rg(n)}),PT.apply(this,arguments)}function PO(n,e){return kT.apply(this,arguments)}function kT(){return kT=(0,Ce.Z)(function*(n,e){var t;e&&Ic(n).Xo&&(yield(t=(0,Ce.Z)(function*(r,o){if(oM(u=o.code)&&u!==ve.ABORTED){const d=r.du.shift();Ic(r).Fo(),yield gx(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,o)),yield Rg(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),mx(n)&&yx(n)}),kT.apply(this,arguments)}function _x(n,e){return FT.apply(this,arguments)}function FT(){return FT=(0,Ce.Z)(function*(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ze("RemoteStore","RemoteStore received new credentials");const r=wc(t);t.wu.add(3),yield xg(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Iv(t)}),FT.apply(this,arguments)}function LT(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,Ce.Z)(function*(n,e){const t=ot(n);e?(t.wu.delete(2),yield Iv(t)):e||(t.wu.add(2),yield xg(t),t.yu.set("Unknown"))}),VT.apply(this,arguments)}function Ng(n){return n.Iu||(n.Iu=function(e,t,r){const o=ot(e);return o.iu(),new wO(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:TO.bind(null,n),eo:AO.bind(null,n),zo:SO.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Iu.Fo(),TT(n)?CT(n):n.yu.set("Unknown")):(yield n.Iu.stop(),px(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Ic(n){return n.Tu||(n.Tu=function(e,t,r){const o=ot(e);return o.iu(),new IO(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:RO.bind(null,n),eo:PO.bind(null,n),eu:NO.bind(null,n),tu:OO.bind(null,n)}),n.mu.push(function(){var e=(0,Ce.Z)(function*(t){t?(n.Tu.Fo(),yield Rg(n)):(yield n.Tu.stop(),n.du.length>0&&(Ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class UT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,o,u){const d=Date.now()+r,g=new UT(e,t,d,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Og(n,e){if(Er("AsyncQueue",`${e}: ${n}`),Mh(n))return new Be(ve.UNAVAILABLE,`${e}: ${n}`);throw n}class Pg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||st.comparator(t.key,r.key):(t,r)=>st.comparator(t.key,r.key),this.keyedMap=qC(),this.sortedSet=new ar(this.comparator)}static emptySet(e){return new Pg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Pg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Pg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class vx{constructor(){this.Eu=new ar(st.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):_t():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class kg{constructor(e,t,r,o,u,d,g,E){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=E}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new kg(e,t,Pg.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&te(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class kO{constructor(){this.Ru=void 0,this.listeners=[]}}class FO{constructor(){this.queries=new yc(e=>xe(e),te),this.onlineState="Unknown",this.bu=new Set}}function BT(n,e){return jT.apply(this,arguments)}function jT(){return jT=(0,Ce.Z)(function*(n,e){const t=ot(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new kO),o)try{u.Ru=yield t.onListen(r)}catch(d){const g=Og(d,`Initialization of query '${Ye(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&GT(t)}),jT.apply(this,arguments)}function $T(n,e){return HT.apply(this,arguments)}function HT(){return HT=(0,Ce.Z)(function*(n,e){const t=ot(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),HT.apply(this,arguments)}function LO(n,e){const t=ot(n);let r=!1;for(const o of e){const d=t.queries.get(o.query);if(d){for(const g of d.listeners)g.Vu(o)&&(r=!0);d.Ru=o}}r&&GT(t)}function VO(n,e,t){const r=ot(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function GT(n){n.bu.forEach(e=>{e.next()})}class zT{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new kg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class UO{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class Ex{constructor(e){this.M=e}wi(e){return Ba(this.M,e)}mi(e){return e.metadata.exists?_M(this.M,e.document,!1):An.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return si(e)}}class BO{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wx(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=cn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new Ex(this.M);for(const o of e)if(o.metadata.queries){const u=r.wi(o.metadata.name);for(const d of o.metadata.queries){const g=(t.get(d)||Sn()).add(u);t.set(d,g)}}return t}complete(){var e=this;return(0,Ce.Z)(function*(){const t=yield function aO(n,e,t,r){return fT.apply(this,arguments)}(e.localStore,new Ex(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const o of e.queries)yield uO(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function wx(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class Ix{constructor(e){this.key=e}}class bx{constructor(e){this.key=e}}class Dx{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Sn(),this.mutatedKeys=Sn(),this.Gu=ke(e),this.Qu=new Pg(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new vx,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,d=o,g=!1;const E="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,b="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,S)=>{const B=o.get(A),q=nt(this.query,S)?S:null,ne=!!B&&this.mutatedKeys.has(B.key),Pe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Xe=!1;B&&q?B.data.isEqual(q.data)?ne!==Pe&&(r.track({type:3,doc:q}),Xe=!0):this.Hu(B,q)||(r.track({type:2,doc:q}),Xe=!0,(E&&this.Gu(q,E)>0||b&&this.Gu(q,b)<0)&&(g=!0)):!B&&q?(r.track({type:0,doc:q}),Xe=!0):B&&!q&&(r.track({type:1,doc:B}),Xe=!0,(E||b)&&(g=!0)),Xe&&(q?(d=d.add(q),u=Pe?u.add(A):u.delete(A)):(d=d.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{Qu:d,zu:r,ii:g,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((b,A)=>function(S,B){const q=ne=>{switch(ne){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return q(S)-q(B)}(b.type,A.type)||this.Gu(b.doc,A.doc)),this.Ju(r);const d=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,E=g!==this.qu;return this.qu=g,0!==u.length||E?{snapshot:new kg(this.query,e.Qu,o,u,e.mutatedKeys,0===g,E,!1),Xu:d}:{Xu:d}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new vx,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Sn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new bx(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new Ix(r))}),t}ta(e){this.Uu=e._i,this.Ku=Sn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return kg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class jO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class $O{constructor(e){this.key=e,this.na=!1}}class HO{constructor(e,t,r,o,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.sa={},this.ia=new yc(g=>xe(g),te),this.ra=new Map,this.oa=new Set,this.ua=new ar(st.comparator),this.aa=new Map,this.ca=new gT,this.ha={},this.la=new Map,this.fa=Fh.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function GO(n,e){return WT.apply(this,arguments)}function WT(){return WT=(0,Ce.Z)(function*(n,e){const t=gA(n);let r,o;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ea();else{const d=yield Sg(t.localStore,P(e));t.isPrimaryClient&&OI(t.remoteStore,d);const g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,o=yield qT(t,e,r,"current"===g)}return o}),WT.apply(this,arguments)}function qT(n,e,t,r){return KT.apply(this,arguments)}function KT(){return KT=(0,Ce.Z)(function*(n,e,t,r){n._a=(A,S,B)=>{return(q=(0,Ce.Z)(function*(ne,Pe,Xe,bt){let Ot=Pe.view.Wu(Xe);Ot.ii&&(Ot=yield MI(ne.localStore,Pe.query,!1).then(({documents:ln})=>Pe.view.Wu(ln,Ot)));const an=bt&&bt.targetChanges.get(Pe.targetId),Gt=Pe.view.applyChanges(Ot,ne.isPrimaryClient,an);return iA(ne,Pe.targetId,Gt.Xu),Gt.snapshot}),function(ne,Pe,Xe,bt){return q.apply(this,arguments)})(n,A,S,B);var q};const o=yield MI(n.localStore,e,!0),u=new Dx(e,o._i),d=u.Wu(o.documents),g=uv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),E=u.applyChanges(d,n.isPrimaryClient,g);iA(n,t,E.Xu);const b=new jO(e,t,u);return n.ia.set(e,b),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),E.snapshot}),KT.apply(this,arguments)}function zO(n,e){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,Ce.Z)(function*(n,e){const t=ot(n),r=t.ia.get(e),o=t.ra.get(r.targetId);if(o.length>1)return t.ra.set(r.targetId,o.filter(u=>!te(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Mg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),bv(t.remoteStore,r.targetId),Fg(t,r.targetId)}).catch(Lh))):(Fg(t,r.targetId),yield Mg(t.localStore,r.targetId,!0))}),ZT.apply(this,arguments)}function YT(){return YT=(0,Ce.Z)(function*(n,e,t){const r=mA(n);try{const o=yield function(u,d){const g=ot(u),E=Nn.now(),b=d.reduce((S,B)=>S.add(B.key),Sn());let A;return g.persistence.runTransaction("Locally write mutations","readwrite",S=>g.fi.Ks(S,b).next(B=>{A=B;const q=[];for(const ne of d){const Pe=JR(ne,A.get(ne.key));null!=Pe&&q.push(new Sh(ne.key,Pe,_g(Pe.value.mapValue),jr.exists(!0)))}return g.Bs.addMutationBatch(S,E,q,d)})).then(S=>(S.applyToLocalDocumentSet(A),{batchId:S.batchId,changes:A}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,d,g){let E=u.ha[u.currentUser.toKey()];E||(E=new ar(Kt)),E=E.insert(d,g),u.ha[u.currentUser.toKey()]=E}(r,o.batchId,t),yield qu(r,o.changes),yield Rg(r.remoteStore)}catch(o){const u=Og(o,"Failed to persist write");t.reject(u)}}),YT.apply(this,arguments)}function Cx(n,e){return QT.apply(this,arguments)}function QT(){return QT=(0,Ce.Z)(function*(n,e){const t=ot(n);try{const r=yield sO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const d=t.aa.get(u);d&&(Nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.na=!0:o.modifiedDocuments.size>0?Nt(d.na):o.removedDocuments.size>0&&(Nt(d.na),d.na=!1))}),yield qu(t,r,e)}catch(r){yield Lh(r)}}),QT.apply(this,arguments)}function Tx(n,e,t){const r=ot(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ia.forEach((u,d)=>{const g=d.view.Pu(e);g.snapshot&&o.push(g.snapshot)}),function(u,d){const g=ot(u);g.onlineState=d;let E=!1;g.queries.forEach((b,A)=>{for(const S of A.listeners)S.Pu(d)&&(E=!0)}),E&&GT(g)}(r.eventManager,e),o.length&&r.sa.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qO(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=(0,Ce.Z)(function*(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.aa.get(e),u=o&&o.key;if(u){let d=new ar(st.comparator);d=d.insert(u,An.newNoDocument(u,St.min()));const g=Sn().add(u),E=new av(St.min(),new Map,new Fn(Kt),d,g);yield Cx(r,E),r.ua=r.ua.remove(u),r.aa.delete(e),sA(r)}else yield Mg(r.localStore,e,!1).then(()=>Fg(r,e,t)).catch(Lh)}),JT.apply(this,arguments)}function KO(n,e){return XT.apply(this,arguments)}function XT(){return XT=(0,Ce.Z)(function*(n,e){const t=ot(n),r=e.batch.batchId;try{const o=yield iO(t.localStore,e);rA(t,r,null),nA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qu(t,o)}catch(o){yield Lh(o)}}),XT.apply(this,arguments)}function ZO(n,e,t){return eA.apply(this,arguments)}function eA(){return eA=(0,Ce.Z)(function*(n,e,t){const r=ot(n);try{const o=yield function(u,d){const g=ot(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let b;return g.Bs.lookupMutationBatch(E,d).next(A=>(Nt(null!==A),b=A.keys(),g.Bs.removeMutationBatch(E,A))).next(()=>g.Bs.performConsistencyCheck(E)).next(()=>g.fi.Ks(E,b))})}(r.localStore,e);rA(r,e,t),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qu(r,o)}catch(o){yield Lh(o)}}),eA.apply(this,arguments)}function tA(){return tA=(0,Ce.Z)(function*(n,e){const t=ot(n);wc(t.remoteStore)||Ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=ot(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.Bs.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.la.get(r)||[];o.push(e),t.la.set(r,o)}catch(r){const o=Og(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),tA.apply(this,arguments)}function nA(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function rA(n,e,t){const r=ot(n);let o=r.ha[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ha[r.currentUser.toKey()]=o}}function Fg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||Ax(n,r)})}function Ax(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(bv(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),sA(n))}function iA(n,e,t){for(const r of t)r instanceof Ix?(n.ca.addReference(r.key,e),QO(n,r)):r instanceof bx?(Ze("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||Ax(n,r.key)):_t()}function QO(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Ze("SyncEngine","New document in limbo: "+t),n.oa.add(r),sA(n))}function sA(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new st(cn.fromString(e)),r=n.fa.next();n.aa.set(r,new $O(t)),n.ua=n.ua.insert(t,r),OI(n.remoteStore,new _c(P(h(t.path)),r,2,$i.A))}}function qu(n,e,t){return oA.apply(this,arguments)}function oA(){return oA=(0,Ce.Z)(function*(n,e,t){const r=ot(n),o=[],u=[],d=[];var g;r.ia.isEmpty()||(r.ia.forEach((g,E)=>{d.push(r._a(E,e,t).then(b=>{if(b){r.isPrimaryClient&&r.sharedClientState.updateQueryState(E.targetId,b.fromCache?"not-current":"current"),o.push(b);const A=cT.Ys(E.targetId,b);u.push(A)}}))}),yield Promise.all(d),r.sa.zo(o),yield(g=(0,Ce.Z)(function*(E,b){const A=ot(E);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>we.forEach(b,B=>we.forEach(B.Hs,q=>A.persistence.referenceDelegate.addReference(S,B.targetId,q)).next(()=>we.forEach(B.Js,q=>A.persistence.referenceDelegate.removeReference(S,B.targetId,q)))))}catch(S){if(!Mh(S))throw S;Ze("LocalStore","Failed to update sequence numbers: "+S)}for(const S of b){const B=S.targetId;if(!S.fromCache){const q=A.ui.get(B),Pe=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);A.ui=A.ui.insert(B,Pe)}}}),function(E,b){return g.apply(this,arguments)})(r.localStore,u))}),oA.apply(this,arguments)}function JO(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Ce.Z)(function*(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ze("SyncEngine","User change. New user:",e.toKey());const r=yield tx(t.localStore,e);t.currentUser=e,(o=t).la.forEach(d=>{d.forEach(g=>{g.reject(new Be(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qu(t,r.di)}var o}),aA.apply(this,arguments)}function XO(n,e){const t=ot(n),r=t.aa.get(e);if(r&&r.na)return Sn().add(r.key);{let o=Sn();const u=t.ra.get(e);if(!u)return o;for(const d of u){const g=t.ia.get(d);o=o.unionWith(g.view.ju)}return o}}function eP(n,e){return uA.apply(this,arguments)}function uA(){return uA=(0,Ce.Z)(function*(n,e){const t=ot(n),r=yield MI(t.localStore,e.query,!0),o=e.view.ta(r);return t.isPrimaryClient&&iA(t,e.targetId,o.Xu),o}),uA.apply(this,arguments)}function tP(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,Ce.Z)(function*(n,e){const t=ot(n);return sx(t.localStore,e).then(r=>qu(t,r))}),lA.apply(this,arguments)}function nP(n,e,t,r){return cA.apply(this,arguments)}function cA(){return cA=(0,Ce.Z)(function*(n,e,t,r){const o=ot(n),u=yield function(d,g){const E=ot(d),b=ot(E.Bs);return E.persistence.runTransaction("Lookup mutation documents","readonly",A=>b.fn(A,g).next(S=>S?E.fi.Ks(A,S):we.resolve(null)))}(o.localStore,e);var g;null!==u?("pending"===t?yield Rg(o.remoteStore):"acknowledged"===t||"rejected"===t?(rA(o,e,r||null),nA(o,e),g=e,ot(ot(o.localStore).Bs)._n(g)):_t(),yield qu(o,u)):Ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),cA.apply(this,arguments)}function dA(){return dA=(0,Ce.Z)(function*(n,e){const t=ot(n);if(gA(t),mA(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield Sx(t,r.toArray());t.da=!0,yield LT(t.remoteStore,!0);for(const u of o)OI(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let o=Promise.resolve();t.ra.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):o=o.then(()=>(Fg(t,d),Mg(t.localStore,d,!0))),bv(t.remoteStore,d)}),yield o,yield Sx(t,r),function(u){const d=ot(u);d.aa.forEach((g,E)=>{bv(d.remoteStore,E)}),d.ca.Si(),d.aa=new Map,d.ua=new ar(st.comparator)}(t),t.da=!1,yield LT(t.remoteStore,!1)}}),dA.apply(this,arguments)}function Sx(n,e,t){return hA.apply(this,arguments)}function hA(){return hA=(0,Ce.Z)(function*(n,e,t){const r=ot(n),o=[],u=[];for(const d of e){let g;const E=r.ra.get(d);if(E&&0!==E.length){g=yield Sg(r.localStore,P(E[0]));for(const b of E){const A=r.ia.get(b),S=yield eP(r,A);S.snapshot&&u.push(S.snapshot)}}else{const b=yield ix(r.localStore,d);g=yield Sg(r.localStore,b),yield qT(r,Mx(b),d,!1)}o.push(g)}return r.sa.zo(u),o}),hA.apply(this,arguments)}function Mx(n){return c(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function iP(n){const e=ot(n);return ot(ot(e.localStore).persistence).Fs()}function sP(n,e,t,r){return fA.apply(this,arguments)}function fA(){return fA=(0,Ce.Z)(function*(n,e,t,r){const o=ot(n);if(o.da)return void Ze("SyncEngine","Ignoring unexpected query state notification.");const u=o.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield sx(o.localStore,ft(u[0])),g=av.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qu(o,d,g);break}case"rejected":yield Mg(o.localStore,e,!0),Fg(o,e,r);break;default:_t()}}),fA.apply(this,arguments)}function oP(n,e,t){return pA.apply(this,arguments)}function pA(){return pA=(0,Ce.Z)(function*(n,e,t){const r=gA(n);if(r.da){for(const o of e){if(r.ra.has(o)){Ze("SyncEngine","Adding an already active target "+o);continue}const u=yield ix(r.localStore,o),d=yield Sg(r.localStore,u);yield qT(r,Mx(u),d.targetId,!1),OI(r.remoteStore,d)}for(const o of t)r.ra.has(o)&&(yield Mg(r.localStore,o,!1).then(()=>{bv(r.remoteStore,o),Fg(r,o)}).catch(Lh))}}),pA.apply(this,arguments)}function gA(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qO.bind(null,e),e.sa.zo=LO.bind(null,e.eventManager),e.sa.wa=VO.bind(null,e.eventManager),e}function mA(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZO.bind(null,e),e}class xx{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ce.Z)(function*(){t.M=wv(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return ex(this.persistence,new XM,e.initialUser,this.M)}ya(e){return new gO(mT.Yi,this.M)}ga(e){return new lx}terminate(){var e=this;return(0,Ce.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Rx extends xx{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield mA(r.Ta.syncEngine),yield Rg(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return ex(this.persistence,new XM,e.initialUser,this.M)}pa(e){return new YN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ds.withCacheSize(this.cacheSizeBytes):ds.DEFAULT;return new uT(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dx(),NI(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new lx}}class uP extends Rx{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ce.Z)(function*(){yield t().call(r,e);const o=r.Ta.syncEngine;r.sharedClientState instanceof ET&&(r.sharedClientState.syncEngine={$r:nP.bind(null,o),Br:sP.bind(null,o),Lr:oP.bind(null,o),Fs:iP.bind(null,o),Fr:tP.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,Ce.Z)(function*(d){yield function rP(n,e){return dA.apply(this,arguments)}(r.Ta.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}ga(e){const t=dx();if(!ET.vt(t))throw new Be(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=lT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ET(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class yA{initialize(e,t){var r=this;return(0,Ce.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>Tx(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=JO.bind(null,r.syncEngine),yield LT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new FO}createDatastore(e){const t=wv(e.databaseInfo.databaseId),r=new EO(e.databaseInfo);return new bO(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>Tx(this.syncEngine,g,0),d=cx.vt()?new cx:new yO,new CO(t,r,o,u,d);var t,r,o,u,d}createSyncEngine(e,t){return function(r,o,u,d,g,E,b){const A=new HO(r,o,u,d,g,E);return b&&(A.da=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Ce.Z)(function*(t){const r=ot(t);Ze("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield xg(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Nx(n,e=10240){let t=0;return{read:()=>(0,Ce.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class kI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lP{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new wr,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,Ce.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,Ce.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),o=Number(r);isNaN(o)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(o);return new UO(JSON.parse(u),t.length+o)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,Ce.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,Ce.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,Ce.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class cP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,Ce.Z)(function*(u,d){const g=ot(u),E=dv(g.M)+"/documents",b={documents:d.map(q=>cv(g.M,q))},A=yield g._o("BatchGetDocuments",E,b),S=new Map;A.forEach(q=>{const ne=function cN(n,e){return"found"in e?function(t,r){Nt(!!r.found);const o=Ba(t,r.found.name),u=si(r.found.updateTime),d=new Ur({mapValue:{fields:r.found.fields}});return An.newFoundDocument(o,u,d)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const o=Ba(t,r.missing),u=si(r.readTime);return An.newNoDocument(o,u)}(n,e):_t()}(g.M,q);S.set(ne.key.toString(),ne)});const B=[];return d.forEach(q=>{const ne=S.get(q.toString());Nt(!!ne),B.push(ne)}),B}),function(u,d){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new sv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=st.fromPath(o);e.mutations.push(new WC(u,e.precondition(u)))}),yield(r=(0,Ce.Z)(function*(o,u){const d=ot(o),g=dv(d.M)+"/documents",E={writes:u.map(b=>hv(d.M,b))};yield d.co("Commit",g,E)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=St.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jr.updateTime(t):jr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(St.min()))throw new Be(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jr.updateTime(t)}return jr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class dP{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.xa=r.maxAttempts,this.No=new wT(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,Ce.Z)(function*(){const t=new cP(e.datastore),r=e.ka(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ma(u)}))}).catch(o=>{e.Ma(o)})}))}ka(e){try{const t=this.updateFunction(e);return!dc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!oM(t)}return!1}}class hP{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Kr.UNAUTHENTICATED,this.clientId=rI.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ce.Z)(function*(g){Ze("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ze("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,Ce.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Og(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function Ox(n,e){return _A.apply(this,arguments)}function _A(){return _A=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,Ce.Z)(function*(u){r.isEqual(u)||(yield tx(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),_A.apply(this,arguments)}function Px(n,e){return vA.apply(this,arguments)}function vA(){return vA=(0,Ce.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield EA(n);Ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>_x(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>_x(e.remoteStore,u)),n.onlineComponents=e}),vA.apply(this,arguments)}function EA(n){return wA.apply(this,arguments)}function wA(){return wA=(0,Ce.Z)(function*(n){return n.offlineComponents||(Ze("FirestoreClient","Using default OfflineComponentProvider"),yield Ox(n,new xx)),n.offlineComponents}),wA.apply(this,arguments)}function FI(n){return IA.apply(this,arguments)}function IA(){return IA=(0,Ce.Z)(function*(n){return n.onlineComponents||(Ze("FirestoreClient","Using default OnlineComponentProvider"),yield Px(n,new yA)),n.onlineComponents}),IA.apply(this,arguments)}function kx(n){return EA(n).then(e=>e.persistence)}function bA(n){return EA(n).then(e=>e.localStore)}function Fx(n){return FI(n).then(e=>e.remoteStore)}function DA(n){return FI(n).then(e=>e.syncEngine)}function Lg(n){return CA.apply(this,arguments)}function CA(){return CA=(0,Ce.Z)(function*(n){const e=yield FI(n),t=e.eventManager;return t.onListen=GO.bind(null,e.syncEngine),t.onUnlisten=zO.bind(null,e.syncEngine),t}),CA.apply(this,arguments)}function Lx(n,e,t={}){const r=new wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,u,d,g,E){const b=new kI({next:S=>{u.enqueueAndForget(()=>$T(o,A));const B=S.docs.has(d);!B&&S.fromCache?E.reject(new Be(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&S.fromCache&&g&&"server"===g.source?E.reject(new Be(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):E.resolve(S)},error:S=>E.reject(S)}),A=new zT(h(d.path),b,{includeMetadataChanges:!0,ku:!0});return BT(o,A)}(yield Lg(n),n.asyncQueue,e,t,r)})),r.promise}function Vx(n,e,t={}){const r=new wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(o,u,d,g,E){const b=new kI({next:S=>{u.enqueueAndForget(()=>$T(o,A)),S.fromCache&&"server"===g.source?E.reject(new Be(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(S)},error:S=>E.reject(S)}),A=new zT(d,b,{includeMetadataChanges:!0,ku:!0});return BT(o,A)}(yield Lg(n),n.asyncQueue,e,t,r)})),r.promise}const Ux=new Map;function TA(n,e,t){if(!t)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Bx(n,e,t,r){if(!0===e&&!0===r)throw new Be(ve.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function jx(n){if(!st.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $x(n){if(st.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=LI(n);throw new Be(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Hx(n,e){if(e<=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class Gx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dv{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gx({}),this._settingsFrozen=!1,e instanceof zo?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Be(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zo(o.options.projectId)}(e))}get app(){if(!this._app)throw new Be(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Rs;switch(t.type){case"gapi":const r=t.client;return Nt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new PC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Be(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Ux.get(e);t&&(Ze("ComponentProvider","Removing Datastore"),Ux.delete(e),t.terminate())}(this),Promise.resolve()}}class Qn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $a(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qn(this.firestore,e,this._key)}}class Ci{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ci(this.firestore,e,this._query)}}class $a extends Ci{constructor(e,t,r){super(e,t,h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qn(this.firestore,null,new st(e))}withConverter(e){return new $a(this.firestore,e,this._path)}}function zx(n,e,...t){if(n=(0,rn.m9)(n),TA("collection","path",e),n instanceof Dv){const r=cn.fromString(e,...t);return $x(r),new $a(n,null,r)}{if(!(n instanceof Qn||n instanceof $a))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return $x(r),new $a(n.firestore,null,r)}}function VI(n,e,...t){if(n=(0,rn.m9)(n),1===arguments.length&&(e=rI.R()),TA("doc","path",e),n instanceof Dv){const r=cn.fromString(e,...t);return jx(r),new Qn(n,null,new st(r))}{if(!(n instanceof Qn||n instanceof $a))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(cn.fromString(e,...t));return jx(r),new Qn(n.firestore,n instanceof $a?n.converter:null,new st(r))}}function Wx(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),(n instanceof Qn||n instanceof $a)&&(e instanceof Qn||e instanceof $a)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function qx(n,e){return n=(0,rn.m9)(n),e=(0,rn.m9)(e),n instanceof Ci&&e instanceof Ci&&n.firestore===e.firestore&&te(n._query,e._query)&&n.converter===e.converter}class bP{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new wT(this,"async_queue_retry"),this.Qa=()=>{const t=NI();t&&Ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=NI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=NI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new wr;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,Ce.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Mh(t))throw t;Ze("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Er("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const o=UT.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(o),o}ja(){this.Ua&&_t()}verifyOperationInProgress(){}Ja(){var e=this;return(0,Ce.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function AA(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class DP{constructor(){this._progressObserver={},this._taskCompletionResolver=new wr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ur extends Dv{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new bP,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Kx(this),this._firestoreClient.terminate()}}function TP(n=(0,jo.getApp)()){return(0,jo._getProvider)(n,"firestore").getImmediate()}function Hr(n){return n._firestoreClient||Kx(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function Kx(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new iI(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new hP(n._authCredentials,n._appCheckCredentials,n._queue,r)}function Zx(n,e,t){const r=new wr;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield Ox(n,t),yield Px(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===ve.FAILED_PRECONDITION||u.code===ve.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function Yx(n){if(n._initialized||n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ku{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ha(Vr.fromBase64String(e))}catch(t){throw new Be(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ha(Vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uh{constructor(e){this._methodName=e}}class UI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kt(this._lat,e._lat)||Kt(this._long,e._long)}}const kP=/^__.*__$/;class FP{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms):new iv(e,this.data,t,this.fieldTransforms)}}class Qx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Sh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Jx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class BI{constructor(e,t,r,o,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new BI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.rc(e),o}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.tc(),o}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return HI(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(Jx(this.ec)&&kP.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class LP{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||wv(e)}lc(e,t,r,o=!1){return new BI({ec:e,methodName:t,hc:r,path:Ir.emptyPath(),ic:!1,cc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Bh(n){const e=n._freezeSettings(),t=wv(n._databaseId);return new LP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jI(n,e,t,r,o,u={}){const d=n.lc(u.merge||u.mergeFields?2:0,e,t,o);RA("Data must be an object, but it was:",d,r);const g=tR(r,d);let E,b;if(u.merge)E=new cc(d.fieldMask),b=d.fieldTransforms;else if(u.mergeFields){const A=[];for(const S of u.mergeFields){const B=NA(e,S,t);if(!d.contains(B))throw new Be(ve.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);rR(A,B)||A.push(B)}E=new cc(A),b=d.fieldTransforms.filter(S=>E.covers(S.field))}else E=null,b=d.fieldTransforms;return new FP(new Ur(g),E,b)}class Cv extends Uh{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cv}}function Xx(n,e,t){return new BI({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class SA extends Uh{_toFieldTransform(e){return new rv(e.path,new Va)}isEqual(e){return e instanceof SA}}class VP extends Uh{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Xx(this,e,!0),r=this.fc.map(u=>jh(u,t)),o=new Wo(r);return new rv(e.path,o)}isEqual(e){return this===e}}class UP extends Uh{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=Xx(this,e,!0),r=this.fc.map(u=>jh(u,t)),o=new qo(r);return new rv(e.path,o)}isEqual(e){return this===e}}class BP extends Uh{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Ua(e.M,Di(e.M,this.dc));return new rv(e.path,t)}isEqual(e){return this===e}}function MA(n,e,t,r){const o=n.lc(1,e,t);RA("Data must be an object, but it was:",o,r);const u=[],d=Ur.empty();ju(r,(E,b)=>{const A=$I(e,E,t);b=(0,rn.m9)(b);const S=o.oc(A);if(b instanceof Cv)u.push(A);else{const B=jh(b,S);null!=B&&(u.push(A),d.set(A,B))}});const g=new cc(u);return new Qx(d,g,o.fieldTransforms)}function xA(n,e,t,r,o,u){const d=n.lc(1,e,t),g=[NA(e,r,t)],E=[o];if(u.length%2!=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<u.length;B+=2)g.push(NA(e,u[B])),E.push(u[B+1]);const b=[],A=Ur.empty();for(let B=g.length-1;B>=0;--B)if(!rR(b,g[B])){const q=g[B];let ne=E[B];ne=(0,rn.m9)(ne);const Pe=d.oc(q);if(ne instanceof Cv)b.push(q);else{const Xe=jh(ne,Pe);null!=Xe&&(b.push(q),A.set(q,Xe))}}const S=new cc(b);return new Qx(A,S,d.fieldTransforms)}function eR(n,e,t,r=!1){return jh(t,n.lc(r?4:3,e))}function jh(n,e){if(nR(n=(0,rn.m9)(n)))return RA("Unsupported field value:",e,n),tR(n,e);if(n instanceof Uh)return function(t,r){if(!Jx(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const d of t){let g=jh(d,r.uc(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Di(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Nn.fromDate(t);return{timestampValue:lv(r.M,o)}}if(t instanceof Nn){const o=new Nn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lv(r.M,o)}}if(t instanceof UI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ha)return{bytesValue:fM(r.M,t._byteString)};if(t instanceof Qn){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:KC(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${LI(t)}`)}(n,e)}function tR(n,e){const t={};return FC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ju(n,(r,o)=>{const u=jh(o,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function nR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Nn||n instanceof UI||n instanceof Ha||n instanceof Qn||n instanceof Uh)}function RA(n,e,t){if(!nR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=LI(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function NA(n,e,t){if((e=(0,rn.m9)(e))instanceof Ku)return e._internalPath;if("string"==typeof e)return $I(n,e);throw HI("Field path arguments must be of type string or ",n,!1,void 0,t)}const jP=new RegExp("[~\\*/\\[\\]]");function $I(n,e,t){if(e.search(jP)>=0)throw HI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ku(...e.split("."))._internalPath}catch(r){throw HI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function HI(n,e,t,r,o){const u=r&&!r.isEmpty(),d=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let E="";return(u||d)&&(E+=" (found",u&&(E+=` in field ${r}`),d&&(E+=` in document ${o}`),E+=")"),new Be(ve.INVALID_ARGUMENT,g+n+E)}function rR(n,e){return n.some(t=>t.isEqual(e))}class Tv{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Qn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new $P(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class $P extends Tv{data(){return super.data()}}function GI(n,e){return"string"==typeof e?$I(n,e):e instanceof Ku?e._internalPath:e._delegate._internalPath}class $h{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zu extends Tv{constructor(e,t,r,o,u,d){super(e,t,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Av(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(GI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Av extends Zu{data(e={}){return super.data(e)}}class bc{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new $h(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Av(this._firestore,this._userDataWriter,r.key,r,new $h(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new Av(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $h(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>o||3!==d.type).map(d=>{const g=new Av(r._firestore,r._userDataWriter,d.doc.key,d.doc,new $h(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,b=-1;return 0!==d.type&&(E=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),b=u.indexOf(d.doc.key)),{type:HP(d.type),doc:g,oldIndex:E,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function iR(n,e){return n instanceof Zu&&e instanceof Zu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof bc&&e instanceof bc&&n._firestore===e._firestore&&qx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function sR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Sv{}function Dc(n,...e){for(const t of e)n=t._apply(n);return n}class GP extends Sv{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=Bh(e.firestore),r=function(o,u,d,g,E,b,A){let S;if(E.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){dR(A,b);const q=[];for(const ne of A)q.push(cR(g,o,ne));S={arrayValue:{values:q}}}else S=cR(g,o,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||dR(A,b),S=eR(d,"where",A,"in"===b||"not-in"===b);const B=Zr.create(E,b,S);return function(q,ne){if(ne.S()){const Xe=I(q);if(null!==Xe&&!Xe.isEqual(ne.field))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Xe.toString()}' and '${ne.field.toString()}'`);const bt=v(q);null!==bt&&hR(0,ne.field,bt)}const Pe=function(Xe,bt){for(const Ot of Xe.filters)if(bt.indexOf(Ot.op)>=0)return Ot.op;return null}(q,function(Xe){switch(Xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ne.op));if(null!==Pe)throw new Be(ve.INVALID_ARGUMENT,Pe===ne.op?`Invalid query. You cannot use more than one '${ne.op.toString()}' filter.`:`Invalid query. You cannot use '${ne.op.toString()}' filters with '${Pe.toString()}' filters.`)}(o,B),B}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Ci(e.firestore,e.converter,function(o,u){const d=o.filters.concat([u]);return new l(o.path,o.collectionGroup,o.explicitOrderBy.slice(),d,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class WP extends Sv{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ah(o,u);return function(g,E){if(null===v(g)){const b=I(g);null!==b&&hR(0,b,E.field)}}(r,d),d}(e._query,this._c,this.gc);return new Ci(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new l(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class oR extends Sv{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Ci(e.firestore,e.converter,G(e._query,this.yc,this.Ic))}}class aR extends Sv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=lR(e,this.type,this.Tc,this.Ec);return new Ci(e.firestore,e.converter,(o=t,new l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class uR extends Sv{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=lR(e,this.type,this.Tc,this.Ec);return new Ci(e.firestore,e.converter,(o=t,new l((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function lR(n,e,t,r){if(t[0]=(0,rn.m9)(t[0]),t[0]instanceof Tv)return function(o,u,d,g,E){if(!g)throw new Be(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const b=[];for(const A of T(o))if(A.field.isKeyField())b.push(fc(u,g.key));else{const S=g.data.field(A.field);if(pg(S))throw new Be(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const B=A.field.canonicalString();throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}b.push(S)}return new Wu(b,E)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=Bh(n.firestore);return function(u,d,g,E,b,A){const S=u.explicitOrderBy;if(b.length>S.length)throw new Be(ve.INVALID_ARGUMENT,`Too many arguments provided to ${E}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let q=0;q<b.length;q++){const ne=b[q];if(S[q].field.isKeyField()){if("string"!=typeof ne)throw new Be(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${E}(), but got a ${typeof ne}`);if(!D(u)&&-1!==ne.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${E}() must be a plain document ID, but '${ne}' contains a slash.`);const Pe=u.path.child(cn.fromString(ne));if(!st.isDocumentKey(Pe))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${E}() must result in a valid document path, but '${Pe}' is not because it contains an odd number of segments.`);const Xe=new st(Pe);B.push(fc(d,Xe))}else{const Pe=eR(g,E,ne);B.push(Pe)}}return new Wu(B,A)}(n._query,n.firestore._databaseId,o,e,t,r)}}function cR(n,e,t){if("string"==typeof(t=(0,rn.m9)(t))){if(""===t)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D(e)&&-1!==t.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(cn.fromString(t));if(!st.isDocumentKey(r))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return fc(n,new st(r))}if(t instanceof Qn)return fc(n,t._key);throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${LI(t)}.`)}function dR(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function hR(n,e,t){if(!t.isEqual(e))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const ek={maxAttempts:5};class OA{convertValue(e,t="none"){switch(Pa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes($u(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){const r={};return ju(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new UI(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Hu(e));default:return null}}convertTimestamp(e){const t=Go(e);return new Nn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=cn.fromString(e);Nt(bM(r));const o=new zo(r.get(1),r.get(3)),u=new st(r.popFirst(5));return o.isEqual(t)||Er(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function zI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class tk extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}class fR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bh(e)}set(e,t,r){this._verifyNotCommitted();const o=Cc(e,this._firestore),u=zI(o.converter,t,r),d=jI(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,jr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=Cc(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ku?xA(this._dataReader,"WriteBatch.update",u._key,t,r,o):MA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,jr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Cc(e,this._firestore);return this._mutations=this._mutations.concat(new sv(t._key,jr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Cc(n,e){if((n=(0,rn.m9)(n)).firestore!==e)throw new Be(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hh extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qn(this.firestore,null,t)}}function pR(n,e,t){n=dn(n,Qn);const r=dn(n.firestore,ur),o=zI(n.converter,e,t);return Vg(r,[jI(Bh(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,jr.none())])}function gR(n,e,t,...r){n=dn(n,Qn);const o=dn(n.firestore,ur),u=Bh(o);let d;return d="string"==typeof(e=(0,rn.m9)(e))||e instanceof Ku?xA(u,"updateDoc",n._key,e,t,r):MA(u,"updateDoc",n._key,e),Vg(o,[d.toMutation(n._key,jr.exists(!0))])}function mR(n,...e){var t,r,o;n=(0,rn.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||AA(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(AA(e[d])){const S=e[d];e[d]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[d+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[d+2]=null===(o=S.complete)||void 0===o?void 0:o.bind(S)}let E,b,A;if(n instanceof Qn)b=dn(n.firestore,ur),A=h(n._key.path),E={next:S=>{e[d]&&e[d](PA(b,n,S))},error:e[d+1],complete:e[d+2]};else{const S=dn(n,Ci);b=dn(S.firestore,ur),A=S._query;const B=new Hh(b);E={next:q=>{e[d]&&e[d](new bc(b,B,S,q))},error:e[d+1],complete:e[d+2]},sR(n._query)}return function(S,B,q,ne){const Pe=new kI(ne),Xe=new zT(B,Pe,q);return S.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return BT(yield Lg(S),Xe)})),()=>{Pe.Aa(),S.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return $T(yield Lg(S),Xe)}))}}(Hr(b),A,g,E)}function Vg(n,e){return function(t,r){const o=new wr;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function WO(n,e,t){return YT.apply(this,arguments)}(yield DA(t),r,o)})),o.promise}(Hr(n),e)}function PA(n,e,t){const r=t.docs.get(e._key),o=new Hh(n);return new Zu(n,o,e._key,r,new $h(t.hasPendingWrites,t.fromCache),e.converter)}class dk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bh(e)}get(e){const t=Cc(e,this._firestore),r=new tk(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return _t();const u=o[0];if(u.isFoundDocument())return new Tv(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Tv(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const o=Cc(e,this._firestore),u=zI(o.converter,t,r),d=jI(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,d),this}update(e,t,r,...o){const u=Cc(e,this._firestore);let d;return d="string"==typeof(t=(0,rn.m9)(t))||t instanceof Ku?xA(this._dataReader,"Transaction.update",u._key,t,r,o):MA(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Cc(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Cc(e,this._firestore),r=new Hh(this._firestore);return super.get(e).then(o=>new Zu(this._firestore,r,t._key,o._document,new $h(!1,!1),t.converter))}}function kA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function _R(){if("undefined"==typeof Uint8Array)throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function vR(){if(!function VC(){return"undefined"!=typeof atob}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Uu=jo.SDK_VERSION,(0,jo._registerComponent)(new cy.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new ur(o,new z_(t.getProvider("auth-internal")),new tI(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,jo.registerVersion)(H_,"3.4.9",n),(0,jo.registerVersion)(H_,"3.4.9","esm2017")}();class Mv{constructor(e){this._delegate=e}static fromBase64String(e){return vR(),new Mv(Ha.fromBase64String(e))}static fromUint8Array(e){return _R(),new Mv(Ha.fromUint8Array(e))}toBase64(){return vR(),this._delegate.toBase64()}toUint8Array(){return _R(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function FA(n){return function Ek(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class wk{enableIndexedDbPersistence(e,t){return function AP(n,e){Yx(n=dn(n,ur));const t=Hr(n),r=n._freezeSettings(),o=new yA;return Zx(t,o,new Rx(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function SP(n){Yx(n=dn(n,ur));const e=Hr(n),t=n._freezeSettings(),r=new yA;return Zx(e,r,new uP(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function MP(n){if(n._initialized&&!n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(t=(0,Ce.Z)(function*(r){if(!Ko.vt())return Promise.resolve();const o=r+"main";yield Ko.delete(o)}),function(r){return t.apply(this,arguments)})(lT(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ER{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof zo||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&dg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function wP(n,e,t,r={}){var o;const u=(n=dn(n,Dv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&dg("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,g;if("string"==typeof r.mockUserToken)d=r.mockUserToken,g=Kr.MOCK_USER;else{d=(0,rn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new Be(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Kr(E)}n._authCredentials=new NC(new eI(d,g))}}(this._delegate,e,t,r)}enableNetwork(){return function RP(n){return function fP(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield kx(n),t=yield Fx(n);return e.setNetworkEnabled(!0),function(r){const o=ot(r);return o.wu.delete(0),Iv(o)}(t)}))}(Hr(n=dn(n,ur)))}(this._delegate)}disableNetwork(){return function NP(n){return function pP(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const e=yield kx(n),t=yield Fx(n);return e.setNetworkEnabled(!1),(r=(0,Ce.Z)(function*(o){const u=ot(o);u.wu.add(0),yield xg(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(Hr(n=dn(n,ur)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Bx("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function xP(n){return function(e){const t=new wr;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function YO(n,e){return tA.apply(this,arguments)}(yield DA(e),t)})),t.promise}(Hr(n=dn(n,ur)))}(this._delegate)}onSnapshotsInSync(e){return function ck(n,e){return function yP(n,e){const t=new kI(e);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Lg(n),o=t,ot(r).bu.add(o),void o.next();var r,o})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return r=yield Lg(n),o=t,void ot(r).bu.delete(o);var r,o}))}}(Hr(n=dn(n,ur)),AA(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ug(this,zx(this._delegate,e))}catch(t){throw Gi(t,"collection()","Firestore.collection()")}}doc(e){try{return new io(this,VI(this._delegate,e))}catch(t){throw Gi(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zi(this,function IP(n,e){if(n=dn(n,Dv),TA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ci(n,null,(t=e,new l(cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gi(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hk(n,e,t){n=dn(n,ur);const r=Object.assign(Object.assign({},ek),t);return function(o){if(o.maxAttempts<1)throw new Be(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function _P(n,e,t){const r=new wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const o=yield(u=n,FI(u).then(d=>d.datastore));var u;new dP(n.asyncQueue,o,t,e,r).run()})),r.promise}(Hr(n),o=>e(new dk(n,o)),r)}(this._delegate,t=>e(new wR(this,t)))}batch(){return Hr(this._delegate),new IR(new fR(this._delegate,e=>Vg(this._delegate,e)))}loadBundle(e){return function OP(n,e){const t=Hr(n=dn(n,ur)),r=new DP;return function vP(n,e,t,r){const o=function(u,d){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,E=function(E,b){if(E instanceof Uint8Array)return Nx(E,b);if(E instanceof ArrayBuffer)return Nx(new Uint8Array(E),b);if(E instanceof ReadableStream)return E.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new lP(E,d);var E}(t,wv(e));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function aP(n,e,t){const r=ot(n);var o;(o=(0,Ce.Z)(function*(u,d,g){try{const E=yield d.getMetadata();if(yield function(B,q){const ne=ot(B),Pe=si(q.createTime);return ne.persistence.runTransaction("hasNewerBundle","readonly",Xe=>ne._s.getBundleMetadata(Xe,q.id)).then(Xe=>!!Xe&&Xe.createTime.compareTo(Pe)>=0)}(u.localStore,E))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(B=E).totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}),Promise.resolve(new Set);g._updateProgress(wx(E));const b=new BO(E,u.localStore,d.M);let A=yield d.ma();for(;A;){const B=yield b.Fu(A);B&&g._updateProgress(B),A=yield d.ma()}const S=yield b.complete();return yield qu(u,S.Lu,void 0),yield function(B,q){const ne=ot(B);return ne.persistence.runTransaction("Save bundle","readwrite",Pe=>ne._s.saveBundleMetadata(Pe,q))}(u.localStore,E),g._completeWith(S.progress),Promise.resolve(S.Bu)}catch(E){return dg("SyncEngine",`Loading bundle failed with ${E}`),g._failWith(E),Promise.resolve(new Set)}var B}),function(u,d,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield DA(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function PP(n,e){return function EP(n,e){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(t,r){const o=ot(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield bA(n),e)}))}(Hr(n=dn(n,ur)),e).then(t=>t?new Ci(n,null,t.query):null)}(this._delegate,e).then(t=>t?new zi(this,t):null)}}class WI extends OA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mv(new Ha(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return io.forKey(t,this.firestore,null)}}class wR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new WI(e)}get(e){const t=zh(e);return this._delegate.get(t).then(r=>new xv(this._firestore,new Zu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=zh(e);return r?(kA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zh(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zh(e);return this._delegate.delete(t),this}}class IR{constructor(e){this._delegate=e}set(e,t,r){const o=zh(e);return r?(kA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=zh(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=zh(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gh{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Av(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Rv(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Gh.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new Gh(e,new WI(e),t),o.set(t,u)),u}}Gh.INSTANCES=new WeakMap;class io{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new WI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new io(t,new Qn(t._delegate,r,new st(e)))}static forKey(e,t,r){return new io(t,new Qn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ug(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ug(this.firestore,zx(this._delegate,e))}catch(t){throw Gi(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,rn.m9)(e))instanceof Qn&&Wx(this._delegate,e)}set(e,t){t=kA("DocumentReference.set",t);try{return t?pR(this._delegate,e,t):pR(this._delegate,e)}catch(r){throw Gi(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?gR(this._delegate,e):gR(this._delegate,e,t,...r)}catch(o){throw Gi(o,"updateDoc()","DocumentReference.update()")}}delete(){return function uk(n){return Vg(dn(n.firestore,ur),[new sv(n._key,jr.none())])}(this._delegate)}onSnapshot(...e){const t=bR(e),r=DR(e,o=>new xv(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return mR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function rk(n){n=dn(n,Qn);const e=dn(n.firestore,ur),t=Hr(e),r=new Hh(e);return function gP(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,u,d){try{const g=yield function(E,b){const A=ot(E);return A.persistence.runTransaction("read document","readonly",S=>A.fi.Ls(S,b))}(o,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Be(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const E=Og(g,`Failed to get document '${u} from cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield bA(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Zu(e,r,n._key,o,new $h(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function ik(n){n=dn(n,Qn);const e=dn(n.firestore,ur);return Lx(Hr(e),n._key,{source:"server"}).then(t=>PA(e,n,t))}(this._delegate):function nk(n){n=dn(n,Qn);const e=dn(n.firestore,ur);return Lx(Hr(e),n._key).then(t=>PA(e,n,t))}(this._delegate),t.then(r=>new xv(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new io(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}function Gi(n,e,t){return n.message=n.message.replace(e,t),n}function bR(n){for(const e of n)if("object"==typeof e&&!FA(e))return e;return{}}function DR(n,e){var t,r;let o;return o=FA(n[0])?n[0]:FA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class xv{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new io(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return iR(this._delegate,e._delegate)}}class Rv extends xv{data(e){const t=this._delegate.data(e);return function RC(n,e){n||_t()}(void 0!==t),t}}class zi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new WI(e)}where(e,t,r){try{return new zi(this.firestore,Dc(this._delegate,function zP(n,e,t){const r=e,o=GI("where",n);return new GP(o,r,t)}(e,t,r)))}catch(o){throw Gi(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new zi(this.firestore,Dc(this._delegate,function qP(n,e="asc"){const t=e,r=GI("orderBy",n);return new WP(r,t)}(e,t)))}catch(r){throw Gi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zi(this.firestore,Dc(this._delegate,function KP(n){return Hx("limit",n),new oR("limit",n,"F")}(e)))}catch(t){throw Gi(t,"limit()","Query.limit()")}}limitToLast(e){try{return new zi(this.firestore,Dc(this._delegate,function ZP(n){return Hx("limitToLast",n),new oR("limitToLast",n,"L")}(e)))}catch(t){throw Gi(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zi(this.firestore,Dc(this._delegate,function YP(...n){return new aR("startAt",n,!0)}(...e)))}catch(t){throw Gi(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zi(this.firestore,Dc(this._delegate,function QP(...n){return new aR("startAfter",n,!1)}(...e)))}catch(t){throw Gi(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zi(this.firestore,Dc(this._delegate,function JP(...n){return new uR("endBefore",n,!1)}(...e)))}catch(t){throw Gi(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zi(this.firestore,Dc(this._delegate,function XP(...n){return new uR("endAt",n,!0)}(...e)))}catch(t){throw Gi(t,"endAt()","Query.endAt()")}}isEqual(e){return qx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function ok(n){n=dn(n,Ci);const e=dn(n.firestore,ur),t=Hr(e),r=new Hh(e);return function mP(n,e){const t=new wr;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(r=(0,Ce.Z)(function*(o,u,d){try{const g=yield MI(o,u,!0),E=new Dx(u,g._i),b=E.Wu(g.documents),A=E.applyChanges(b,!1);d.resolve(A.snapshot)}catch(g){const E=Og(g,`Failed to execute query '${u} against cache`);d.reject(E)}}),function(o,u,d){return r.apply(this,arguments)})(yield bA(n),e,t);var r})),t.promise}(t,n._query).then(o=>new bc(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function ak(n){n=dn(n,Ci);const e=dn(n.firestore,ur),t=Hr(e),r=new Hh(e);return Vx(t,n._query,{source:"server"}).then(o=>new bc(e,r,n,o))}(this._delegate):function sk(n){n=dn(n,Ci);const e=dn(n.firestore,ur),t=Hr(e),r=new Hh(e);return sR(n._query),Vx(t,n._query).then(o=>new bc(e,r,n,o))}(this._delegate),t.then(r=>new LA(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=bR(e),r=DR(e,o=>new LA(this.firestore,new bc(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return mR(this._delegate,t,r)}withConverter(e){return new zi(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}class bk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Rv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class LA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new zi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Rv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new bk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Rv(this._firestore,r))})}isEqual(e){return iR(this._delegate,e._delegate)}}class Ug extends zi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new io(this.firestore,e):null}doc(e){try{return new io(this.firestore,void 0===e?VI(this._delegate):VI(this._delegate,e))}catch(t){throw Gi(t,"doc()","CollectionReference.doc()")}}add(e){return function lk(n,e){const t=dn(n.firestore,ur),r=VI(n),o=zI(n.converter,e);return Vg(t,[jI(Bh(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,jr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new io(this.firestore,t))}isEqual(e){return Wx(this._delegate,e._delegate)}withConverter(e){return new Ug(this.firestore,this._delegate.withConverter(e?Gh.getInstance(this.firestore,e):null))}}function zh(n){return dn(n,Qn)}class VA{constructor(...e){this._delegate=new Ku(...e)}static documentId(){return new VA(Ir.keyField().canonicalString())}isEqual(e){return(e=(0,rn.m9)(e))instanceof Ku&&this._delegate._internalPath.isEqual(e._internalPath)}}class Wh{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pk(){return new SA("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Wh(e)}static delete(){const e=function fk(){return new Cv("deleteField")}();return e._methodName="FieldValue.delete",new Wh(e)}static arrayUnion(...e){const t=function gk(...n){return new VP("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Wh(t)}static arrayRemove(...e){const t=function mk(...n){return new UP("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Wh(t)}static increment(e){const t=function yk(n){return new BP("increment",n)}(e);return t._methodName="FieldValue.increment",new Wh(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Dk={Firestore:ER,GeoPoint:UI,Timestamp:Nn,Blob:Mv,Transaction:wR,WriteBatch:IR,DocumentReference:io,DocumentSnapshot:xv,Query:zi,QueryDocumentSnapshot:Rv,QuerySnapshot:LA,CollectionReference:Ug,FieldPath:VA,FieldValue:Wh,setLogLevel:function Ik(n){!function xC(n){Bu.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function CR(n,e){return function Ak(n,e=JD.z){return new Pi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function UA(n,e){return CR(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function qI(n,e){return UA(n,e).pipe(Rl(void 0),Tp(),(0,xt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const E=o.find(A=>A.doc.ref.isEqual(d.ref)),b=null==t?void 0:t.payload.docs.find(A=>A.ref.isEqual(d.ref));E&&JSON.stringify(E.doc.metadata)===JSON.stringify(d.metadata)||!E&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function TR(n,e,t){return qI(n,t).pipe(No((r,o)=>function Mk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function xk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return BA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return BA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return BA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),Ny(),(0,xt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function BA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function AR(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Tk(n){(function Ck(n,e){n.INTERNAL.registerComponent(new cy.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},Dk)))})(n,(e,t)=>new ER(e,t,new wk)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(Np.Z);class SR{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=qI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Rl(void 0),Tp(),Ui(([r,o])=>o.length>0||!r),(0,xt.U)(([r,o])=>o),Xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(No((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Xt.iC)}get(e){return(0,ir.D)(this.query.get(e)).pipe(Xt.iC)}add(e){return this.ref.add(e)}doc(e){return new MR(this.ref.doc(e),this.afs)}}class MR{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=NR(r,t);return new SR(o,u,this.afs)}snapshotChanges(){return function Sk(n,e){return CR(n,e).pipe(Rl(void 0),Tp(),(0,xt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,ir.D)(this.ref.get(e)).pipe(Xt.iC)}}class Rk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?qI(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Ui(t=>t.length>0),Xt.iC):qI(this.query,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}auditTrail(e){return this.stateChanges(e).pipe(No((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=AR(e);return TR(this.query,t,this.afs.schedulers.outsideAngular).pipe(Xt.iC)}valueChanges(e={}){return UA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Xt.iC)}get(e){return(0,ir.D)(this.query.get(e)).pipe(Xt.iC)}}const xR=new f.OlP("angularfire2.enableFirestorePersistence"),RR=new f.OlP("angularfire2.firestore.persistenceSettings"),Nk=new f.OlP("angularfire2.firestore.settings"),Ok=new f.OlP("angularfire2.firestore.use-emulator");function NR(n,e=(t=>t)){return{query:e(n),ref:n}}let jA=(()=>{class n{constructor(t,r,o,u,d,g,E,b,A,S,B,q,ne,Pe,Xe,bt,Ot){this.schedulers=E;const an=(0,fi.on)(t,g,r),Gt=A;S&&Ry(an,g,B,ne,Pe,Xe,q,bt),[this.firestore,this.persistenceEnabled$]=(0,fi.cc)(`${an.name}.firestore`,"AngularFirestore",an.name,()=>{const ln=g.runOutsideAngular(()=>an.firestore());if(u&&ln.settings(u),Gt&&ln.useEmulator(...Gt),o&&!nr(d)){const In=()=>{try{return(0,ir.D)(ln.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(Ti){return"undefined"!=typeof console&&console.warn(Ti),dt(!1)}};return[ln,g.runOutsideAngular(In)]}return[ln,dt(!1)]},[u,Gt,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=NR(o,r),g=this.schedulers.ngZone.run(()=>u);return new SR(g,d,this)}collectionGroup(t,r){const o=r||(d=>d),u=this.firestore.collectionGroup(t);return new Rk(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new MR(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(fi.Dh),f.LFG(fi.xv,8),f.LFG(xR,8),f.LFG(Nk,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Xt.HU),f.LFG(RR,8),f.LFG(Ok,8),f.LFG(Cp,8),f.LFG(Ay,8),f.LFG(Dp,8),f.LFG(zd,8),f.LFG(Sy,8),f.LFG(My,8),f.LFG(xy,8),f.LFG(yi,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pk=(()=>{class n{constructor(){Gd.Z.registerVersion("angularfire",Xt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:xR,useValue:!0},{provide:RR,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[jA]}),n})(),kk=(()=>{class n{constructor(t){this.db=t,this.storageRef=Gd.Z.app().storage().ref()}uploadImage(t,r,o){var u=this;return(0,Ce.Z)(function*(){try{return yield(yield u.storageRef.child(t+"/"+r).putString(o,"data_url")).ref.getDownloadURL()}catch(d){return console.log(d),d}})()}alta(t,r){var o=this;return(0,Ce.Z)(function*(){try{return yield o.db.collection(r).add(t)}catch(u){return console.log("Error al realizar alta a Firebase: ",u),u}})()}baja(t,r){var o=this;return(0,Ce.Z)(function*(){try{return yield o.db.collection(r).doc(t).delete()}catch(u){return console.log("Error al realizar baja a Firebase: ",u),u}})()}getCollection(t){var r=this;return(0,Ce.Z)(function*(){try{return yield r.db.collection(t).snapshotChanges()}catch(o){return console.log("Error al obtener los objetos de Firebase: ",o),o}})()}getCollectionByField(t,r,o,u){var d=this;return(0,Ce.Z)(function*(){try{return yield d.db.collection(t,g=>g.where(o,r,u)).valueChanges()}catch(g){return g}})()}getDocById(t,r){var o=this;return(0,Ce.Z)(function*(){try{return yield o.db.collection(t).doc(r).get()}catch(u){return console.log("Error al obtener el documento por el id: ",u),u}})()}delete(t,r){var o=this;return(0,Ce.Z)(function*(){try{return yield o.db.collection(t).doc(r).delete()}catch(u){console.log("Error al realizar el delete: ",u)}})()}update(t,r,o){var u=this;return(0,Ce.Z)(function*(){try{return yield u.db.collection(t).doc(r).set(o)}catch(d){console.log("Error al realizar el update: ",d)}})()}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(jA))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"li",8),f.NdJ("click",function(){f.CHM(t);const o=f.oxw().$implicit;return f.oxw().getUsuarioSeleccionado(o,"")}),f.TgZ(1,"div")(2,"h6",9),f._uU(3),f.TgZ(4,"span"),f._uU(5),f.qZA()(),f.TgZ(6,"small",2),f._uU(7),f.qZA()()()}if(2&n){const t=f.oxw().$implicit;f.xp6(3),f.hij("",t.nombre," "),f.xp6(2),f.Oqu(t.apellido),f.xp6(2),f.Oqu(t.edad)}}function Lk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",14),f.NdJ("click",function(){f.CHM(t);const o=f.oxw(2).$implicit;return f.oxw().getUsuarioSeleccionado(o,"repartidores")}),f._uU(1,"LISTADO REPARTIDORES"),f.qZA()}}function Vk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",15),f.NdJ("click",function(){f.CHM(t);const o=f.oxw(2).$implicit;return f.oxw().getUsuarioSeleccionado(o,"pais")}),f._uU(1,"DETALLE PA\xcdS"),f.qZA()}}function Uk(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"button",16),f.NdJ("click",function(){f.CHM(t);const o=f.oxw(2).$implicit;return f.oxw().getUsuarioSeleccionado(o,"usuario")}),f._uU(1,"DETALLE USUARIO"),f.qZA()}}function Bk(n,e){if(1&n&&(f.TgZ(0,"li",10)(1,"div")(2,"h6",9),f._uU(3),f.TgZ(4,"span"),f._uU(5),f.qZA()(),f.TgZ(6,"small",2),f._uU(7),f.qZA()(),f.YNc(8,Lk,2,0,"button",11),f.YNc(9,Vk,2,0,"button",12),f.YNc(10,Uk,2,0,"button",13),f.qZA()),2&n){const t=f.oxw().$implicit,r=f.oxw();f.xp6(3),f.hij("",t.nombre," "),f.xp6(2),f.Oqu(t.apellido),f.xp6(2),f.Oqu(t.edad),f.xp6(1),f.Q6J("ngIf",r.inputPantalla),f.xp6(1),f.Q6J("ngIf",r.inputPantalla),f.xp6(1),f.Q6J("ngIf",r.inputPantalla)}}function jk(n,e){if(1&n&&(f.TgZ(0,"ul",5),f.YNc(1,Fk,8,3,"li",6),f.YNc(2,Bk,11,6,"li",7),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",!t.inputPantalla),f.xp6(1),f.Q6J("ngIf",t.inputPantalla)}}let OR=(()=>{class n{constructor(t){this.srv=t,this.usuarios=[],this.inputPantalla=!1,this.usuarioSeleccionado=new f.vpe}ngOnInit(){this.srv.getCollection("Actor").then(t=>t.subscribe(r=>{r.forEach(o=>{this.usuarios.push(o.payload.doc.data())})}))}getUsuarioSeleccionado(t,r){this.usuarioSeleccionado.emit({usuario:t,accion:r})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(kk))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-bienvenida"]],inputs:{inputPantalla:"inputPantalla"},outputs:{usuarioSeleccionado:"usuarioSeleccionado"},decls:6,vars:1,consts:[[1,"container"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-muted"],[1,"col","listaPaises"],["class","list-group mb-3",4,"ngFor","ngForOf"],[1,"list-group","mb-3"],["class","list-group-item d-flex justify-content-between lh-condensed usuarioContainer",3,"click",4,"ngIf"],["class","list-group-item d-flex justify-content-between lh-condensed usuarioContainer",4,"ngIf"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed","usuarioContainer",3,"click"],[1,"my-0"],[1,"list-group-item","d-flex","justify-content-between","lh-condensed","usuarioContainer"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],["class","btn btn-outline-secondary",3,"click",4,"ngIf"],["class","btn btn-outline-warning",3,"click",4,"ngIf"],[1,"btn","btn-outline-primary",3,"click"],[1,"btn","btn-outline-secondary",3,"click"],[1,"btn","btn-outline-warning",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"h4",1)(2,"span",2),f._uU(3,"Usuarios"),f.qZA()(),f.TgZ(4,"div",3),f.YNc(5,jk,3,2,"ul",4),f.qZA()()),2&t&&(f.xp6(5),f.Q6J("ngForOf",r.usuarios))},styles:[".usuarioContainer[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]}),n})(),KI=class{constructor(e,t){this.fb=e,this.db=t,this.bandera="",this.formGroup=this.fb.group({usuario:["",[ci.required,this.spacesValidator]],contrase\u00f1a:["",[ci.required,ci.minLength(4)]],edad:["",[ci.required,ci.min(12),ci.max(99)]],sexo:["",[ci.required]],nacionalidad:["",[ci.required]],bandera:""})}ngOnInit(){}obtenerNacionalidadActor(e){this.nacionalidad=e,this.formGroup.controls.nacionalidad.setValue(e.translations.spa.common),this.bandera=this.nacionalidad.flags.png}altaActor(){var e=this;return(0,Ce.Z)(function*(){let t=e.formGroup.value;t.nacionalidad=e.nacionalidad,(yield e.db.alta(t,"Actor"))&&e.formGroup.reset()})()}spacesValidator(e){return e.value.includes(" ")?{containsSpaces:!0}:null}};KI=(0,ol.gn)([(0,f.wA2)({selector:"app-login",templateUrl:"./login.component.html",styleUrls:["./login.component.css"]})],KI);let PR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-alta-repartidor"]],decls:2,vars:0,template:function(t,r){1&t&&(f.TgZ(0,"p"),f._uU(1,"alta-repartidor works!"),f.qZA())},styles:[""]}),n})(),kR=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-paises-listado"]],decls:2,vars:0,template:function(t,r){1&t&&(f.TgZ(0,"p"),f._uU(1,"paises-listado works!"),f.qZA())},styles:[""]}),n})();const $k=[{path:"bienvenida",component:OR},{path:"login",component:KI},{path:"repartidores/alta",component:PR},{path:"paises/listado",component:kR}];let Hk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[[Ss.forRoot($k)],Ss]}),n})();function Gk(n,e){if(1&n&&(f.TgZ(0,"li",1),f._uU(1),f.qZA()),2&n){const t=e.$implicit;f.xp6(1),f.hij(" ",t.name," ")}}let FR=(()=>{class n{constructor(t){this.title="begue-alejandro-PPLaboIV",this.items=t.collection("items").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(jA))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:5,vars:3,consts:[["class","text",4,"ngFor","ngForOf"],[1,"text"]],template:function(t,r){1&t&&(f.TgZ(0,"ul"),f.YNc(1,Gk,2,1,"li",0),f.ALo(2,"async"),f.qZA(),f._UZ(3,"app-bienvenida")(4,"router-outlet")),2&t&&(f.xp6(1),f.Q6J("ngForOf",f.lcZ(2,1,r.items)))},styles:[""]}),n})();const $A_firebase={projectId:"begue-alejandro-pplaboiv",appId:"1:448800622917:web:afb16d34f441b03b3a562c",storageBucket:"begue-alejandro-pplaboiv.appspot.com",apiKey:"AIzaSyD-3iOKw4oE74b_FmOtJW4e4P4aTKHSf4A",authDomain:"begue-alejandro-pplaboiv.firebaseapp.com",messagingSenderId:"448800622917"};var zk=M(198);class HA{constructor(e){return e}}class VR{constructor(){return(0,Xt.vb)("auth")}}const GA=new f.OlP("angularfire2.auth-instances");function qk(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new HA(r)}}const Kk={provide:VR,deps:[[new f.FiY,GA]]},Zk={provide:HA,useFactory:function Wk(n,e){const t=(0,Xt.JM)("auth",n,e);return t&&new HA(t)},deps:[[new f.FiY,GA],Sa]};let Yk=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",Xt.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[Zk,Kk]}),n})();const Jk=(0,Xt.u3)(zk.n,!0);class zA{constructor(e){return e}}const UR="firestore",WA=new f.OlP("angularfire2.firestore-instances");function t1(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new zA(r)}}const n1={provide:class Xk{constructor(){return(0,Xt.vb)(UR)}},deps:[[new f.FiY,WA]]},r1={provide:zA,useFactory:function e1(n,e){const t=(0,Xt.JM)(UR,n,e);return t&&new zA(t)},deps:[[new f.FiY,WA],Sa]};let s1=(()=>{class n{constructor(){(0,Bo.KN)("angularfire",Xt.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[r1,n1]}),n})();const a1=(0,Xt.u3)(TP,!0);let qA=class{};qA=(0,ol.gn)([(0,f.LVF)({declarations:[FR,OR,KI,PR,kR],imports:[kc,Hk,cd,uu,bl,hi,db,fi.hO.initializeApp($A_firebase),QD,Pk,function dD(n,...e){return{ngModule:y0,providers:[{provide:ap,useFactory:cD(n),multi:!0,deps:[f.R0b,f.zs3,Xt.HU,...e]}]}}(()=>fD($A_firebase)),function Qk(n,...e){return{ngModule:Yk,providers:[{provide:GA,useFactory:qk(n),multi:!0,deps:[f.R0b,f.zs3,Xt.HU,op,[new f.FiY,yi],...e]}]}}(()=>Jk()),function o1(n,...e){return{ngModule:s1,providers:[{provide:WA,useFactory:t1(n),multi:!0,deps:[f.R0b,f.zs3,Xt.HU,op,[new f.FiY,VR],[new f.FiY,yi],...e]}]}}(()=>a1())],providers:[],bootstrap:[FR]})],qA),(0,f.G48)(),zg().bootstrapModule(qA).catch(n=>console.error(n))},7982:(at,Te,M)=>{M.d(Te,{Gb:()=>f.Gb});var f=M(579)},5867:(at,Te,M)=>{M.d(Te,{C6:()=>f.getApps,KN:()=>f.registerVersion,Mq:()=>f.getApp,ZF:()=>f.initializeApp});var f=M(9681);(0,f.registerVersion)("firebase","9.8.1","app")},127:(at,Te,M)=>{M.d(Te,{Z:()=>f.Z});var f=M(3942);f.Z.registerVersion("firebase","9.8.1","app-compat")},5881:(at,Te,M)=>{M.r(Te);var f=M(5861),k=M(3942),x=M(198),ie=M(2090),de=(M(9681),M(1877),M(4859));function le(){return window}function j(){return(j=(0,f.Z)(function*(Q,$,L){var Me;const{BuildInfo:Je}=le();(0,x.aq)($.sessionId,"AuthEvent did not contain a session ID");const ut=yield be($.sessionId),Et={};return(0,x.ar)()?Et.ibi=Je.packageName:(0,x.as)()?Et.apn=Je.packageName:(0,x.at)(Q,"operation-not-supported-in-this-environment"),Je.displayName&&(Et.appDisplayName=Je.displayName),Et.sessionId=ut,(0,x.au)(Q,L,$.type,void 0,null!==(Me=$.eventId)&&void 0!==Me?Me:void 0,Et)})).apply(this,arguments)}function He(){return(He=(0,f.Z)(function*(Q){const{BuildInfo:$}=le(),L={};(0,x.ar)()?L.iosBundleId=$.packageName:(0,x.as)()?L.androidPackageName=$.packageName:(0,x.at)(Q,"operation-not-supported-in-this-environment"),yield(0,x.av)(Q,L)})).apply(this,arguments)}function Ge(){return(Ge=(0,f.Z)(function*(Q,$,L){const{cordova:Me}=le();let Je=()=>{};try{yield new Promise((ut,Et)=>{let Wt=null;function Ft(){var $t;ut();const Un=null===($t=Me.plugins.browsertab)||void 0===$t?void 0:$t.close;"function"==typeof Un&&Un(),"function"==typeof(null==L?void 0:L.close)&&L.close()}function Rn(){Wt||(Wt=window.setTimeout(()=>{Et((0,x.aw)(Q,"redirect-cancelled-by-user"))},2e3))}function cr(){"visible"===(null==document?void 0:document.visibilityState)&&Rn()}$.addPassiveListener(Ft),document.addEventListener("resume",Rn,!1),(0,x.as)()&&document.addEventListener("visibilitychange",cr,!1),Je=()=>{$.removePassiveListener(Ft),document.removeEventListener("resume",Rn,!1),document.removeEventListener("visibilitychange",cr,!1),Wt&&window.clearTimeout(Wt)}})}finally{Je()}})).apply(this,arguments)}function be(Q){return rt.apply(this,arguments)}function rt(){return(rt=(0,f.Z)(function*(Q){const $=qe(Q),L=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(L)).map(Je=>Je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function qe(Q){if((0,x.aq)(/[0-9a-zA-Z]+/.test(Q),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(Q);const $=new ArrayBuffer(Q.length),L=new Uint8Array($);for(let Me=0;Me<Q.length;Me++)L[Me]=Q.charCodeAt(Me);return L}class Re extends x.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(L=>L($)),super.onEvent($)}initialized(){var $=this;return(0,f.Z)(function*(){yield $.initPromise})()}}function J(Q){return he.apply(this,arguments)}function he(){return(he=(0,f.Z)(function*(Q){const $=yield re()._get(ae(Q));return $&&(yield re()._remove(ae(Q))),$})).apply(this,arguments)}function Y(){const Q=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let L=0;L<20;L++){const Me=Math.floor(Math.random()*$.length);Q.push($.charAt(Me))}return Q.join("")}function re(){return(0,x.ay)(x.b)}function ae(Q){return(0,x.az)("authEvent",Q.config.apiKey,Q.name)}function je(Q){if(!(null==Q?void 0:Q.includes("?")))return{};const[$,...L]=Q.split("?");return(0,ie.zd)(L.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function Vt(){var Q;return(null===(Q=null==self?void 0:self.location)||void 0===Q?void 0:Q.protocol)||null}function tn(Q=(0,ie.z$)()){return!("file:"!==Vt()&&"ionic:"!==Vt()||!Q.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kn(){try{const Q=self.localStorage,$=x.aI();if(Q)return Q.setItem($,"1"),Q.removeItem($),!function On(Q=(0,ie.z$)()){return function Tr(){return(0,ie.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gn(Q=(0,ie.z$)()){return/Edge\/\d+/.test(Q)}(Q)}()||(0,ie.hl)()}catch(Q){return Jn()&&(0,ie.hl)()}return!1}function Jn(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xn(){return(function Tt(){return"http:"===Vt()||"https:"===Vt()}()||(0,ie.ru)()||tn())&&!function Mn(){return(0,ie.b$)()||(0,ie.UG)()}()&&Kn()&&!Jn()}function Xn(){return tn()&&"undefined"!=typeof document}function Zn(){return(Zn=(0,f.Z)(function*(){return!!Xn()&&new Promise(Q=>{const $=setTimeout(()=>{Q(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),Q(!0)})})})).apply(this,arguments)}const Yt={LOCAL:"local",NONE:"none",SESSION:"session"},Ln=x.ax,Gn="persistence";function hn(Q){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(Q){yield Q._initializationPromise;const $=Pt(),L=x.az(Gn,Q.config.apiKey,Q.name);$&&$.setItem(L,Q._getPersistence())})).apply(this,arguments)}function Pt(){var Q;try{return(null===(Q=function Jt(){return"undefined"!=typeof window?window:null}())||void 0===Q?void 0:Q.sessionStorage)||null}catch($){return null}}const pt=x.ax;class it{constructor(){this.browserResolver=x.ay(x.k),this.cordovaResolver=x.ay(class zt{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize($){var L=this;return(0,f.Z)(function*(){const Me=$._key();let Je=L.eventManagers.get(Me);return Je||(Je=new Re($),L.eventManagers.set(Me,Je),L.attachCallbackListeners($,Je)),Je})()}_openPopup($){(0,x.at)($,"operation-not-supported-in-this-environment")}_openRedirect($,L,Me,Je){var ut=this;return(0,f.Z)(function*(){!function me(Q){var $,L,Me,Je,ut,Et,Wt,Ft,Rn,cr;const $t=le();(0,x.ax)("function"==typeof(null===($=null==$t?void 0:$t.universalLinks)||void 0===$?void 0:$.subscribe),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(void 0!==(null===(L=null==$t?void 0:$t.BuildInfo)||void 0===L?void 0:L.packageName),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(ut=null===(Je=null===(Me=null==$t?void 0:$t.cordova)||void 0===Me?void 0:Me.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===ut?void 0:ut.openUrl),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(Ft=null===(Wt=null===(Et=null==$t?void 0:$t.cordova)||void 0===Et?void 0:Et.plugins)||void 0===Wt?void 0:Wt.browsertab)||void 0===Ft?void 0:Ft.isAvailable),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(cr=null===(Rn=null==$t?void 0:$t.cordova)||void 0===Rn?void 0:Rn.InAppBrowser)||void 0===cr?void 0:cr.open),Q,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const Et=yield ut._initialize($);yield Et.initialized(),Et.resetRedirect(),(0,x.aD)(),yield ut._originValidation($);const Wt=function De(Q,$,L=null){return{type:$,eventId:L,urlResponse:null,sessionId:Y(),postBody:null,tenantId:Q.tenantId,error:(0,x.aw)(Q,"no-auth-event")}}($,Me,Je);yield function et(Q,$){return re()._set(ae(Q),$)}($,Wt);const Ft=yield function H(Q,$,L){return j.apply(this,arguments)}($,Wt,L),Rn=yield function Ae(Q){const{cordova:$}=le();return new Promise(L=>{$.plugins.browsertab.isAvailable(Me=>{let Je=null;Me?$.plugins.browsertab.openUrl(Q):Je=$.InAppBrowser.open(Q,(0,x.ap)()?"_blank":"_system","location=yes"),L(Je)})})}(Ft);return function Ue(Q,$,L){return Ge.apply(this,arguments)}($,Et,Rn)})()}_isIframeWebStorageSupported($,L){throw new Error("Method not implemented.")}_originValidation($){const L=$._key();return this.originValidationPromises[L]||(this.originValidationPromises[L]=function se(Q){return He.apply(this,arguments)}($)),this.originValidationPromises[L]}attachCallbackListeners($,L){const{universalLinks:Me,handleOpenURL:Je,BuildInfo:ut}=le(),Et=setTimeout((0,f.Z)(function*(){yield J($),L.onEvent(Qe())}),500),Wt=function(){var cr=(0,f.Z)(function*($t){clearTimeout(Et);const Un=yield J($);let Mr=null;Un&&(null==$t?void 0:$t.url)&&(Mr=function Se(Q,$){var L,Me;const Je=function ue(Q){const $=je(Q),L=$.link?decodeURIComponent($.link):void 0,Me=je(L).link,Je=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return je(Je).link||Je||Me||L||Q}($);if(Je.includes("/__/auth/callback")){const ut=je(Je),Et=ut.firebaseError?function ye(Q){try{return JSON.parse(Q)}catch($){return null}}(decodeURIComponent(ut.firebaseError)):null,Wt=null===(Me=null===(L=null==Et?void 0:Et.code)||void 0===L?void 0:L.split("auth/"))||void 0===Me?void 0:Me[1],Ft=Wt?(0,x.aw)(Wt):null;return Ft?{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,error:Ft,urlResponse:null,sessionId:null,postBody:null}:{type:Q.type,eventId:Q.eventId,tenantId:Q.tenantId,sessionId:Q.sessionId,urlResponse:Je,postBody:null}}return null}(Un,$t.url)),L.onEvent(Mr||Qe())});return function(Un){return cr.apply(this,arguments)}}();void 0!==Me&&"function"==typeof Me.subscribe&&Me.subscribe(null,Wt);const Ft=Je,Rn=`${ut.packageName.toLowerCase()}://`;le().handleOpenURL=function(){var cr=(0,f.Z)(function*($t){if($t.toLowerCase().startsWith(Rn)&&Wt({url:$t}),"function"==typeof Ft)try{Ft($t)}catch(Un){console.error(Un)}});return function($t){return cr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize($){var L=this;return(0,f.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._initialize($)})()}_openPopup($,L,Me,Je){var ut=this;return(0,f.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openPopup($,L,Me,Je)})()}_openRedirect($,L,Me,Je){var ut=this;return(0,f.Z)(function*(){return yield ut.selectUnderlyingResolver(),ut.assertedUnderlyingResolver._openRedirect($,L,Me,Je)})()}_isIframeWebStorageSupported($,L){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,L)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return Xn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return pt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,f.Z)(function*(){if($.underlyingResolver)return;const L=yield function vt(){return Zn.apply(this,arguments)}();$.underlyingResolver=L?$.cordovaResolver:$.browserResolver})()}}function bn(Q){return Q.unwrap()}function kt(Q){return _n(Q)}function _n(Q){const{_tokenResponse:$}=Q instanceof ie.ZR?Q.customData:Q;if(!$)return null;if(!(Q instanceof ie.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return x.P.credentialFromResult(Q);const L=$.providerId;if(!L||L===x.o.PASSWORD)return null;let Me;switch(L){case x.o.GOOGLE:Me=x.Q;break;case x.o.FACEBOOK:Me=x.N;break;case x.o.GITHUB:Me=x.T;break;case x.o.TWITTER:Me=x.W;break;default:const{oauthIdToken:Je,oauthAccessToken:ut,oauthTokenSecret:Et,pendingToken:Wt,nonce:Ft}=$;return ut||Et||Je||Wt?Wt?L.startsWith("saml.")?x.aL._create(L,Wt):x.J._fromParams({providerId:L,signInMethod:L,pendingToken:Wt,idToken:Je,accessToken:ut}):new x.U(L).credential({idToken:Je,accessToken:ut,rawNonce:Ft}):null}return Q instanceof ie.ZR?Me.credentialFromError(Q):Me.credentialFromResult(Q)}function nn(Q,$){return $.catch(L=>{throw L instanceof ie.ZR&&function lr(Q,$){var L;const Me=null===(L=$.customData)||void 0===L?void 0:L._tokenResponse;if("auth/multi-factor-auth-required"===$.code)$.resolver=new K(Q,x.an(Q,$));else if(Me){const Je=_n($),ut=$;Je&&(ut.credential=Je,ut.tenantId=Me.tenantId||void 0,ut.email=Me.email||void 0,ut.phoneNumber=Me.phoneNumber||void 0)}}(Q,L),L}).then(L=>{const Je=L.user;return{operationType:L.operationType,credential:kt(L),additionalUserInfo:x.al(L),user:Ie.getOrCreate(Je)}})}function F(Q,$){return z.apply(this,arguments)}function z(){return(z=(0,f.Z)(function*(Q,$){const L=yield $;return{verificationId:L.verificationId,confirm:Me=>nn(Q,L.confirm(Me))}})).apply(this,arguments)}class K{constructor($,L){this.resolver=L,this.auth=function Sr(Q){return Q.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return nn(bn(this.auth),this.resolver.resolveSignIn($))}}class Ie{constructor($){this._delegate=$,this.multiFactor=x.ao($)}static getOrCreate($){return Ie.USER_MAP.has($)||Ie.USER_MAP.set($,new Ie($)),Ie.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var L=this;return(0,f.Z)(function*(){return nn(L.auth,x.Z(L._delegate,$))})()}linkWithPhoneNumber($,L){var Me=this;return(0,f.Z)(function*(){return F(Me.auth,x.l(Me._delegate,$,L))})()}linkWithPopup($){var L=this;return(0,f.Z)(function*(){return nn(L.auth,x.d(L._delegate,$,it))})()}linkWithRedirect($){var L=this;return(0,f.Z)(function*(){return yield hn(x.aE(L.auth)),x.g(L._delegate,$,it)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var L=this;return(0,f.Z)(function*(){return nn(L.auth,x._(L._delegate,$))})()}reauthenticateWithPhoneNumber($,L){return F(this.auth,x.r(this._delegate,$,L))}reauthenticateWithPopup($){return nn(this.auth,x.e(this._delegate,$,it))}reauthenticateWithRedirect($){var L=this;return(0,f.Z)(function*(){return yield hn(x.aE(L.auth)),x.h(L._delegate,$,it)})()}sendEmailVerification($){return x.ab(this._delegate,$)}unlink($){var L=this;return(0,f.Z)(function*(){return yield x.ak(L._delegate,$),L})()}updateEmail($){return x.ag(this._delegate,$)}updatePassword($){return x.ah(this._delegate,$)}updatePhoneNumber($){return x.u(this._delegate,$)}updateProfile($){return x.af(this._delegate,$)}verifyBeforeUpdateEmail($,L){return x.ac(this._delegate,$,L)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ie.USER_MAP=new WeakMap;const V=x.ax;let X=(()=>{class Q{constructor(L,Me){if(this.app=L,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Je}=L.options;V(Je,"invalid-api-key",{appName:L.name}),V(Je,"invalid-api-key",{appName:L.name});const ut="undefined"!=typeof window?it:void 0;this._delegate=Me.initialize({options:{persistence:ee(Je,L.name),popupRedirectResolver:ut}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ie.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(L){this._delegate.languageCode=L}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(L){this._delegate.tenantId=L}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(L,Me){x.G(this._delegate,L,Me)}applyActionCode(L){return x.a2(this._delegate,L)}checkActionCode(L){return x.a3(this._delegate,L)}confirmPasswordReset(L,Me){return x.a1(this._delegate,L,Me)}createUserWithEmailAndPassword(L,Me){var Je=this;return(0,f.Z)(function*(){return nn(Je._delegate,x.a5(Je._delegate,L,Me))})()}fetchProvidersForEmail(L){return this.fetchSignInMethodsForEmail(L)}fetchSignInMethodsForEmail(L){return x.aa(this._delegate,L)}isSignInWithEmailLink(L){return x.a8(this._delegate,L)}getRedirectResult(){var L=this;return(0,f.Z)(function*(){V(xn(),L._delegate,"operation-not-supported-in-this-environment");const Me=yield x.j(L._delegate,it);return Me?nn(L._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(L){!function on(Q,$){(0,x.aE)(Q)._logFramework($)}(this._delegate,L)}onAuthStateChanged(L,Me,Je){const{next:ut,error:Et,complete:Wt}=U(L,Me,Je);return this._delegate.onAuthStateChanged(ut,Et,Wt)}onIdTokenChanged(L,Me,Je){const{next:ut,error:Et,complete:Wt}=U(L,Me,Je);return this._delegate.onIdTokenChanged(ut,Et,Wt)}sendSignInLinkToEmail(L,Me){return x.a7(this._delegate,L,Me)}sendPasswordResetEmail(L,Me){return x.a0(this._delegate,L,Me||void 0)}setPersistence(L){var Me=this;return(0,f.Z)(function*(){let Je;switch(function er(Q,$){Ln(Object.values(Yt).includes($),Q,"invalid-persistence-type"),(0,ie.b$)()?Ln($!==Yt.SESSION,Q,"unsupported-persistence-type"):(0,ie.UG)()?Ln($===Yt.NONE,Q,"unsupported-persistence-type"):Jn()?Ln($===Yt.NONE||$===Yt.LOCAL&&(0,ie.hl)(),Q,"unsupported-persistence-type"):Ln($===Yt.NONE||Kn(),Q,"unsupported-persistence-type")}(Me._delegate,L),L){case Yt.SESSION:Je=x.a;break;case Yt.LOCAL:Je=(yield x.ay(x.i)._isAvailable())?x.i:x.b;break;case Yt.NONE:Je=x.L;break;default:return x.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(Je)})()}signInAndRetrieveDataWithCredential(L){return this.signInWithCredential(L)}signInAnonymously(){return nn(this._delegate,x.X(this._delegate))}signInWithCredential(L){return nn(this._delegate,x.Y(this._delegate,L))}signInWithCustomToken(L){return nn(this._delegate,x.$(this._delegate,L))}signInWithEmailAndPassword(L,Me){return nn(this._delegate,x.a6(this._delegate,L,Me))}signInWithEmailLink(L,Me){return nn(this._delegate,x.a9(this._delegate,L,Me))}signInWithPhoneNumber(L,Me){return F(this._delegate,x.s(this._delegate,L,Me))}signInWithPopup(L){var Me=this;return(0,f.Z)(function*(){return V(xn(),Me._delegate,"operation-not-supported-in-this-environment"),nn(Me._delegate,x.c(Me._delegate,L,it))})()}signInWithRedirect(L){var Me=this;return(0,f.Z)(function*(){return V(xn(),Me._delegate,"operation-not-supported-in-this-environment"),yield hn(Me._delegate),x.f(Me._delegate,L,it)})()}updateCurrentUser(L){return this._delegate.updateCurrentUser(L)}verifyPasswordResetCode(L){return x.a4(this._delegate,L)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Q.Persistence=Yt,Q})();function U(Q,$,L){let Me=Q;"function"!=typeof Q&&({next:Me,error:$,complete:L}=Q);const Je=Me;return{next:Et=>Je(Et&&Ie.getOrCreate(Et)),error:$,complete:L}}function ee(Q,$){const L=function Ar(Q,$){const L=Pt();if(!L)return[];const Me=x.az(Gn,Q,$);switch(L.getItem(Me)){case Yt.NONE:return[x.L];case Yt.LOCAL:return[x.i,x.a];case Yt.SESSION:return[x.a];default:return[]}}(Q,$);if("undefined"!=typeof self&&!L.includes(x.i)&&L.push(x.i),"undefined"!=typeof window)for(const Me of[x.b,x.a])L.includes(Me)||L.push(Me);return L.includes(x.L)||L.push(x.L),L}class _e{constructor(){this.providerId="phone",this._delegate=new x.P(bn(k.Z.auth()))}static credential($,L){return x.P.credential($,L)}verifyPhoneNumber($,L){return this._delegate.verifyPhoneNumber($,L)}unwrap(){return this._delegate}}_e.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,_e.PROVIDER_ID=x.P.PROVIDER_ID;const Ve=x.ax;class We{constructor($,L,Me=k.Z.app()){var Je;Ve(null===(Je=Me.options)||void 0===Je?void 0:Je.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new x.R($,L,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gt(Q){Q.INTERNAL.registerComponent(new de.wA("auth-compat",$=>{const L=$.getProvider("app-compat").getImmediate(),Me=$.getProvider("auth");return new X(L,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:_e,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:We,TwitterAuthProvider:x.W,Auth:X,AuthCredential:x.H,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Q.registerVersion("@firebase/auth-compat","0.2.14")}(k.Z)},8306:(at,Te,M)=>{M.d(Te,{y:()=>H});var f=M(2961),k=M(727),x=M(8822),ie=M(4671);var de=M(2416),le=M(576),ge=M(2806);let H=(()=>{class Ae{constructor(Ge){Ge&&(this._subscribe=Ge)}lift(Ge){const me=new Ae;return me.source=this,me.operator=Ge,me}subscribe(Ge,me,be){const rt=function He(Ae){return Ae&&Ae instanceof f.Lv||function se(Ae){return Ae&&(0,le.m)(Ae.next)&&(0,le.m)(Ae.error)&&(0,le.m)(Ae.complete)}(Ae)&&(0,k.Nn)(Ae)}(Ge)?Ge:new f.Hp(Ge,me,be);return(0,ge.x)(()=>{const{operator:qe,source:Ne}=this;rt.add(qe?qe.call(rt,Ne):Ne?this._subscribe(rt):this._trySubscribe(rt))}),rt}_trySubscribe(Ge){try{return this._subscribe(Ge)}catch(me){Ge.error(me)}}forEach(Ge,me){return new(me=j(me))((be,rt)=>{const qe=new f.Hp({next:Ne=>{try{Ge(Ne)}catch(Re){rt(Re),qe.unsubscribe()}},error:rt,complete:be});this.subscribe(qe)})}_subscribe(Ge){var me;return null===(me=this.source)||void 0===me?void 0:me.subscribe(Ge)}[x.L](){return this}pipe(...Ge){return function Ee(Ae){return 0===Ae.length?ie.y:1===Ae.length?Ae[0]:function(Ge){return Ae.reduce((me,be)=>be(me),Ge)}}(Ge)(this)}toPromise(Ge){return new(Ge=j(Ge))((me,be)=>{let rt;this.subscribe(qe=>rt=qe,qe=>be(qe),()=>me(rt))})}}return Ae.create=Ue=>new Ae(Ue),Ae})();function j(Ae){var Ue;return null!==(Ue=null!=Ae?Ae:de.v.Promise)&&void 0!==Ue?Ue:Promise}},7579:(at,Te,M)=>{M.d(Te,{x:()=>de});var f=M(8306),k=M(727);const ie=(0,M(3888).d)(ge=>function(){ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=M(8737),Ee=M(2806);let de=(()=>{class ge extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const se=new le(this,this);return se.operator=j,se}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(j)}})}error(j){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:se}=this;for(;se.length;)se.shift().error(j)}})}complete(){(0,Ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:se,isStopped:He,observers:Ae}=this;return se||He?k.Lc:(this.currentObservers=null,Ae.push(j),new k.w0(()=>{this.currentObservers=null,(0,fe.P)(Ae,j)}))}_checkFinalizedStatuses(j){const{hasError:se,thrownError:He,isStopped:Ae}=this;se?j.error(He):Ae&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return ge.create=(H,j)=>new le(H,j),ge})();class le extends de{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===se||se.call(j,H)}error(H){var j,se;null===(se=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===se||se.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,se;return null!==(se=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==se?se:k.Lc}}},2961:(at,Te,M)=>{M.d(Te,{Hp:()=>Ge,Lv:()=>se});var f=M(576),k=M(727),x=M(2416),ie=M(7849);function fe(){}const Ee=ge("C",void 0,void 0);function ge(Ne,Re,De){return{kind:Ne,value:Re,error:De}}var H=M(3410),j=M(2806);class se extends k.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,k.Nn)(Re)&&Re.add(this)):this.destination=qe}static create(Re,De,et){return new Ge(Re,De,et)}next(Re){this.isStopped?rt(function le(Ne){return ge("N",Ne,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?rt(function de(Ne){return ge("E",void 0,Ne)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?rt(Ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ae(Ne,Re){return He.call(Ne,Re)}class Ue{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:De}=this;if(De.next)try{De.next(Re)}catch(et){me(et)}}error(Re){const{partialObserver:De}=this;if(De.error)try{De.error(Re)}catch(et){me(et)}else me(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(De){me(De)}}}class Ge extends se{constructor(Re,De,et){let J;if(super(),(0,f.m)(Re)||!Re)J={next:null!=Re?Re:void 0,error:null!=De?De:void 0,complete:null!=et?et:void 0};else{let he;this&&x.v.useDeprecatedNextContext?(he=Object.create(Re),he.unsubscribe=()=>this.unsubscribe(),J={next:Re.next&&Ae(Re.next,he),error:Re.error&&Ae(Re.error,he),complete:Re.complete&&Ae(Re.complete,he)}):J=Re}this.destination=new Ue(J)}}function me(Ne){x.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Ne):(0,ie.h)(Ne)}function rt(Ne,Re){const{onStoppedNotification:De}=x.v;De&&H.z.setTimeout(()=>De(Ne,Re))}const qe={closed:!0,next:fe,error:function be(Ne){throw Ne},complete:fe}},727:(at,Te,M)=>{M.d(Te,{Lc:()=>Ee,w0:()=>fe,Nn:()=>de});var f=M(576);const x=(0,M(3888).d)(ge=>function(j){ge(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((se,He)=>`${He+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=M(8737);class fe{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ae of j)Ae.remove(this);else j.remove(this);const{initialTeardown:se}=this;if((0,f.m)(se))try{se()}catch(Ae){H=Ae instanceof x?Ae.errors:[Ae]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ae of He)try{le(Ae)}catch(Ue){H=null!=H?H:[],Ue instanceof x?H=[...H,...Ue.errors]:H.push(Ue)}}if(H)throw new x(H)}}add(H){var j;if(H&&H!==this)if(this.closed)le(H);else{if(H instanceof fe){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,ie.P)(j,H),H instanceof fe&&H._removeParent(this)}}fe.EMPTY=(()=>{const ge=new fe;return ge.closed=!0,ge})();const Ee=fe.EMPTY;function de(ge){return ge instanceof fe||ge&&"closed"in ge&&(0,f.m)(ge.remove)&&(0,f.m)(ge.add)&&(0,f.m)(ge.unsubscribe)}function le(ge){(0,f.m)(ge)?ge():ge.unsubscribe()}},2416:(at,Te,M)=>{M.d(Te,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Te,M)=>{M.d(Te,{E:()=>k});const k=new(M(8306).y)(fe=>fe.complete())},8996:(at,Te,M)=>{M.d(Te,{D:()=>Re});var f=M(8421),k=M(5363),x=M(9468),Ee=M(8306),le=M(2202),ge=M(576),H=M(9672);function se(De,et){if(!De)throw new Error("Iterable cannot be null");return new Ee.y(J=>{(0,H.f)(J,et,()=>{const he=De[Symbol.asyncIterator]();(0,H.f)(J,et,()=>{he.next().then(Se=>{Se.done?J.complete():J.next(Se.value)})},0,!0)})})}var He=M(3670),Ae=M(8239),Ue=M(1144),Ge=M(6495),me=M(2206),be=M(4532),rt=M(3260);function Re(De,et){return et?function Ne(De,et){if(null!=De){if((0,He.c)(De))return function ie(De,et){return(0,f.Xf)(De).pipe((0,x.R)(et),(0,k.Q)(et))}(De,et);if((0,Ue.z)(De))return function de(De,et){return new Ee.y(J=>{let he=0;return et.schedule(function(){he===De.length?J.complete():(J.next(De[he++]),J.closed||this.schedule())})})}(De,et);if((0,Ae.t)(De))return function fe(De,et){return(0,f.Xf)(De).pipe((0,x.R)(et),(0,k.Q)(et))}(De,et);if((0,me.D)(De))return se(De,et);if((0,Ge.T)(De))return function j(De,et){return new Ee.y(J=>{let he;return(0,H.f)(J,et,()=>{he=De[le.h](),(0,H.f)(J,et,()=>{let Se,Y;try{({value:Se,done:Y}=he.next())}catch(re){return void J.error(re)}Y?J.complete():J.next(Se)},0,!0)}),()=>(0,ge.m)(null==he?void 0:he.return)&&he.return()})}(De,et);if((0,rt.L)(De))return function qe(De,et){return se((0,rt.Q)(De),et)}(De,et)}throw(0,be.z)(De)}(De,et):(0,f.Xf)(De)}},8421:(at,Te,M)=>{M.d(Te,{Xf:()=>He});var f=M(655),k=M(1144),x=M(8239),ie=M(8306),fe=M(3670),Ee=M(2206),de=M(4532),le=M(6495),ge=M(3260),H=M(576),j=M(7849),se=M(8822);function He(Ne){if(Ne instanceof ie.y)return Ne;if(null!=Ne){if((0,fe.c)(Ne))return function Ae(Ne){return new ie.y(Re=>{const De=Ne[se.L]();if((0,H.m)(De.subscribe))return De.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,k.z)(Ne))return function Ue(Ne){return new ie.y(Re=>{for(let De=0;De<Ne.length&&!Re.closed;De++)Re.next(Ne[De]);Re.complete()})}(Ne);if((0,x.t)(Ne))return function Ge(Ne){return new ie.y(Re=>{Ne.then(De=>{Re.closed||(Re.next(De),Re.complete())},De=>Re.error(De)).then(null,j.h)})}(Ne);if((0,Ee.D)(Ne))return be(Ne);if((0,le.T)(Ne))return function me(Ne){return new ie.y(Re=>{for(const De of Ne)if(Re.next(De),Re.closed)return;Re.complete()})}(Ne);if((0,ge.L)(Ne))return function rt(Ne){return be((0,ge.Q)(Ne))}(Ne)}throw(0,de.z)(Ne)}function be(Ne){return new ie.y(Re=>{(function qe(Ne,Re){var De,et,J,he;return(0,f.mG)(this,void 0,void 0,function*(){try{for(De=(0,f.KL)(Ne);!(et=yield De.next()).done;)if(Re.next(et.value),Re.closed)return}catch(Se){J={error:Se}}finally{try{et&&!et.done&&(he=De.return)&&(yield he.call(De))}finally{if(J)throw J.error}}Re.complete()})})(Ne,Re).catch(De=>Re.error(De))})}},6451:(at,Te,M)=>{M.d(Te,{T:()=>Ee});var f=M(8189),k=M(8421),x=M(515),ie=M(7669),fe=M(8996);function Ee(...de){const le=(0,ie.yG)(de),ge=(0,ie._6)(de,1/0),H=de;return H.length?1===H.length?(0,k.Xf)(H[0]):(0,f.J)(ge)((0,fe.D)(H,le)):x.E}},5403:(at,Te,M)=>{M.d(Te,{Q:()=>x,x:()=>k});var f=M(2961);function k(ie,fe,Ee,de,le){return new x(ie,fe,Ee,de,le)}class x extends f.Lv{constructor(fe,Ee,de,le,ge,H){super(fe),this.onFinalize=ge,this.shouldUnsubscribe=H,this._next=Ee?function(j){try{Ee(j)}catch(se){fe.error(se)}}:super._next,this._error=le?function(j){try{le(j)}catch(se){fe.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(j){fe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ee}=this;super.unsubscribe(),!Ee&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(at,Te,M)=>{M.d(Te,{U:()=>x});var f=M(4482),k=M(5403);function x(ie,fe){return(0,f.e)((Ee,de)=>{let le=0;Ee.subscribe((0,k.x)(de,ge=>{de.next(ie.call(fe,ge,le++))}))})}},8189:(at,Te,M)=>{M.d(Te,{J:()=>x});var f=M(5577),k=M(4671);function x(ie=1/0){return(0,f.z)(k.y,ie)}},5577:(at,Te,M)=>{M.d(Te,{z:()=>le});var f=M(4004),k=M(8421),x=M(4482),ie=M(9672),fe=M(5403),de=M(576);function le(ge,H,j=1/0){return(0,de.m)(H)?le((se,He)=>(0,f.U)((Ae,Ue)=>H(se,Ae,He,Ue))((0,k.Xf)(ge(se,He))),j):("number"==typeof H&&(j=H),(0,x.e)((se,He)=>function Ee(ge,H,j,se,He,Ae,Ue,Ge){const me=[];let be=0,rt=0,qe=!1;const Ne=()=>{qe&&!me.length&&!be&&H.complete()},Re=et=>be<se?De(et):me.push(et),De=et=>{Ae&&H.next(et),be++;let J=!1;(0,k.Xf)(j(et,rt++)).subscribe((0,fe.x)(H,he=>{null==He||He(he),Ae?Re(he):H.next(he)},()=>{J=!0},void 0,()=>{if(J)try{for(be--;me.length&&be<se;){const he=me.shift();Ue?(0,ie.f)(H,Ue,()=>De(he)):De(he)}Ne()}catch(he){H.error(he)}}))};return ge.subscribe((0,fe.x)(H,Re,()=>{qe=!0,Ne()})),()=>{null==Ge||Ge()}}(se,He,ge,j)))}},5363:(at,Te,M)=>{M.d(Te,{Q:()=>ie});var f=M(9672),k=M(4482),x=M(5403);function ie(fe,Ee=0){return(0,k.e)((de,le)=>{de.subscribe((0,x.x)(le,ge=>(0,f.f)(le,fe,()=>le.next(ge),Ee),()=>(0,f.f)(le,fe,()=>le.complete(),Ee),ge=>(0,f.f)(le,fe,()=>le.error(ge),Ee)))})}},3099:(at,Te,M)=>{M.d(Te,{B:()=>Ee});var f=M(8996),k=M(5698),x=M(7579),ie=M(2961),fe=M(4482);function Ee(le={}){const{connector:ge=(()=>new x.x),resetOnError:H=!0,resetOnComplete:j=!0,resetOnRefCountZero:se=!0}=le;return He=>{let Ae=null,Ue=null,Ge=null,me=0,be=!1,rt=!1;const qe=()=>{null==Ue||Ue.unsubscribe(),Ue=null},Ne=()=>{qe(),Ae=Ge=null,be=rt=!1},Re=()=>{const De=Ae;Ne(),null==De||De.unsubscribe()};return(0,fe.e)((De,et)=>{me++,!rt&&!be&&qe();const J=Ge=null!=Ge?Ge:ge();et.add(()=>{me--,0===me&&!rt&&!be&&(Ue=de(Re,se))}),J.subscribe(et),Ae||(Ae=new ie.Hp({next:he=>J.next(he),error:he=>{rt=!0,qe(),Ue=de(Ne,H,he),J.error(he)},complete:()=>{be=!0,qe(),Ue=de(Ne,j),J.complete()}}),(0,f.D)(De).subscribe(Ae))})(He)}}function de(le,ge,...H){return!0===ge?(le(),null):!1===ge?null:ge(...H).pipe((0,k.q)(1)).subscribe(()=>le())}},9468:(at,Te,M)=>{M.d(Te,{R:()=>k});var f=M(4482);function k(x,ie=0){return(0,f.e)((fe,Ee)=>{Ee.add(x.schedule(()=>fe.subscribe(Ee),ie))})}},5698:(at,Te,M)=>{M.d(Te,{q:()=>ie});var f=M(515),k=M(4482),x=M(5403);function ie(fe){return fe<=0?()=>f.E:(0,k.e)((Ee,de)=>{let le=0;Ee.subscribe((0,x.x)(de,ge=>{++le<=fe&&(de.next(ge),fe<=le&&de.complete())}))})}},8505:(at,Te,M)=>{M.d(Te,{b:()=>fe});var f=M(576),k=M(4482),x=M(5403),ie=M(4671);function fe(Ee,de,le){const ge=(0,f.m)(Ee)||de||le?{next:Ee,error:de,complete:le}:Ee;return ge?(0,k.e)((H,j)=>{var se;null===(se=ge.subscribe)||void 0===se||se.call(ge);let He=!0;H.subscribe((0,x.x)(j,Ae=>{var Ue;null===(Ue=ge.next)||void 0===Ue||Ue.call(ge,Ae),j.next(Ae)},()=>{var Ae;He=!1,null===(Ae=ge.complete)||void 0===Ae||Ae.call(ge),j.complete()},Ae=>{var Ue;He=!1,null===(Ue=ge.error)||void 0===Ue||Ue.call(ge,Ae),j.error(Ae)},()=>{var Ae,Ue;He&&(null===(Ae=ge.unsubscribe)||void 0===Ae||Ae.call(ge)),null===(Ue=ge.finalize)||void 0===Ue||Ue.call(ge)}))}):ie.y}},4408:(at,Te,M)=>{M.d(Te,{o:()=>fe});var f=M(727);class k extends f.w0{constructor(de,le){super()}schedule(de,le=0){return this}}const x={setInterval(Ee,de,...le){const{delegate:ge}=x;return(null==ge?void 0:ge.setInterval)?ge.setInterval(Ee,de,...le):setInterval(Ee,de,...le)},clearInterval(Ee){const{delegate:de}=x;return((null==de?void 0:de.clearInterval)||clearInterval)(Ee)},delegate:void 0};var ie=M(8737);class fe extends k{constructor(de,le){super(de,le),this.scheduler=de,this.work=le,this.pending=!1}schedule(de,le=0){if(this.closed)return this;this.state=de;const ge=this.id,H=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(H,ge,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(H,this.id,le),this}requestAsyncId(de,le,ge=0){return x.setInterval(de.flush.bind(de,this),ge)}recycleAsyncId(de,le,ge=0){if(null!=ge&&this.delay===ge&&!1===this.pending)return le;x.clearInterval(le)}execute(de,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(de,le);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,le){let H,ge=!1;try{this.work(de)}catch(j){ge=!0,H=j||new Error("Scheduled action threw falsy error")}if(ge)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:de,scheduler:le}=this,{actions:ge}=le;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(ge,this),null!=de&&(this.id=this.recycleAsyncId(le,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Te,M)=>{M.d(Te,{v:()=>x});var f=M(6063);class k{constructor(fe,Ee=k.now){this.schedulerActionCtor=fe,this.now=Ee}schedule(fe,Ee=0,de){return new this.schedulerActionCtor(this,fe).schedule(de,Ee)}}k.now=f.l.now;class x extends k{constructor(fe,Ee=k.now){super(fe,Ee),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:Ee}=this;if(this._active)return void Ee.push(fe);let de;this._active=!0;do{if(de=fe.execute(fe.state,fe.delay))break}while(fe=Ee.shift());if(this._active=!1,de){for(;fe=Ee.shift();)fe.unsubscribe();throw de}}}},4986:(at,Te,M)=>{M.d(Te,{z:()=>x});var f=M(4408);const x=new(M(7565).v)(f.o)},6063:(at,Te,M)=>{M.d(Te,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(at,Te,M)=>{M.d(Te,{z:()=>f});const f={setTimeout(k,x,...ie){const{delegate:fe}=f;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(k,x,...ie):setTimeout(k,x,...ie)},clearTimeout(k){const{delegate:x}=f;return((null==x?void 0:x.clearTimeout)||clearTimeout)(k)},delegate:void 0}},2202:(at,Te,M)=>{M.d(Te,{h:()=>k});const k=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Te,M)=>{M.d(Te,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(at,Te,M)=>{M.d(Te,{_6:()=>Ee,jO:()=>ie,yG:()=>fe});var f=M(576);function x(de){return de[de.length-1]}function ie(de){return(0,f.m)(x(de))?de.pop():void 0}function fe(de){return function k(de){return de&&(0,f.m)(de.schedule)}(x(de))?de.pop():void 0}function Ee(de,le){return"number"==typeof x(de)?de.pop():le}},8737:(at,Te,M)=>{function f(k,x){if(k){const ie=k.indexOf(x);0<=ie&&k.splice(ie,1)}}M.d(Te,{P:()=>f})},3888:(at,Te,M)=>{function f(k){const ie=k(fe=>{Error.call(fe),fe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}M.d(Te,{d:()=>f})},2806:(at,Te,M)=>{M.d(Te,{O:()=>ie,x:()=>x});var f=M(2416);let k=null;function x(fe){if(f.v.useDeprecatedSynchronousErrorHandling){const Ee=!k;if(Ee&&(k={errorThrown:!1,error:null}),fe(),Ee){const{errorThrown:de,error:le}=k;if(k=null,de)throw le}}else fe()}function ie(fe){f.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=fe)}},9672:(at,Te,M)=>{function f(k,x,ie,fe=0,Ee=!1){const de=x.schedule(function(){ie(),Ee?k.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(k.add(de),!Ee)return de}M.d(Te,{f:()=>f})},4671:(at,Te,M)=>{function f(k){return k}M.d(Te,{y:()=>f})},1144:(at,Te,M)=>{M.d(Te,{z:()=>f});const f=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(at,Te,M)=>{M.d(Te,{D:()=>k});var f=M(576);function k(x){return Symbol.asyncIterator&&(0,f.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(at,Te,M)=>{function f(k){return"function"==typeof k}M.d(Te,{m:()=>f})},3670:(at,Te,M)=>{M.d(Te,{c:()=>x});var f=M(8822),k=M(576);function x(ie){return(0,k.m)(ie[f.L])}},6495:(at,Te,M)=>{M.d(Te,{T:()=>x});var f=M(2202),k=M(576);function x(ie){return(0,k.m)(null==ie?void 0:ie[f.h])}},8239:(at,Te,M)=>{M.d(Te,{t:()=>k});var f=M(576);function k(x){return(0,f.m)(null==x?void 0:x.then)}},3260:(at,Te,M)=>{M.d(Te,{L:()=>ie,Q:()=>x});var f=M(655),k=M(576);function x(fe){return(0,f.FC)(this,arguments,function*(){const de=fe.getReader();try{for(;;){const{value:le,done:ge}=yield(0,f.qq)(de.read());if(ge)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(le)}}finally{de.releaseLock()}})}function ie(fe){return(0,k.m)(null==fe?void 0:fe.getReader)}},4482:(at,Te,M)=>{M.d(Te,{A:()=>k,e:()=>x});var f=M(576);function k(ie){return(0,f.m)(null==ie?void 0:ie.lift)}function x(ie){return fe=>{if(k(fe))return fe.lift(function(Ee){try{return ie(Ee,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},7849:(at,Te,M)=>{M.d(Te,{h:()=>x});var f=M(2416),k=M(3410);function x(ie){k.z.setTimeout(()=>{const{onUnhandledError:fe}=f.v;if(!fe)throw ie;fe(ie)})}},4532:(at,Te,M)=>{function f(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(Te,{z:()=>f})},655:(at,Te,M)=>{function ie(Y,re){var ae={};for(var ye in Y)Object.prototype.hasOwnProperty.call(Y,ye)&&re.indexOf(ye)<0&&(ae[ye]=Y[ye]);if(null!=Y&&"function"==typeof Object.getOwnPropertySymbols){var ue=0;for(ye=Object.getOwnPropertySymbols(Y);ue<ye.length;ue++)re.indexOf(ye[ue])<0&&Object.prototype.propertyIsEnumerable.call(Y,ye[ue])&&(ae[ye[ue]]=Y[ye[ue]])}return ae}function fe(Y,re,ae,ye){var yt,ue=arguments.length,je=ue<3?re:null===ye?ye=Object.getOwnPropertyDescriptor(re,ae):ye;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(Y,re,ae,ye);else for(var zt=Y.length-1;zt>=0;zt--)(yt=Y[zt])&&(je=(ue<3?yt(je):ue>3?yt(re,ae,je):yt(re,ae))||je);return ue>3&&je&&Object.defineProperty(re,ae,je),je}function le(Y,re,ae,ye){return new(ae||(ae=Promise))(function(je,yt){function zt(on){try{Qe(ye.next(on))}catch(Hn){yt(Hn)}}function Mt(on){try{Qe(ye.throw(on))}catch(Hn){yt(Hn)}}function Qe(on){on.done?je(on.value):function ue(je){return je instanceof ae?je:new ae(function(yt){yt(je)})}(on.value).then(zt,Mt)}Qe((ye=ye.apply(Y,re||[])).next())})}function me(Y){return this instanceof me?(this.v=Y,this):new me(Y)}function be(Y,re,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,ye=ae.apply(Y,re||[]),je=[];return ue={},yt("next"),yt("throw"),yt("return"),ue[Symbol.asyncIterator]=function(){return this},ue;function yt(yn){ye[yn]&&(ue[yn]=function(Zt){return new Promise(function(Vt,Tt){je.push([yn,Zt,Vt,Tt])>1||zt(yn,Zt)})})}function zt(yn,Zt){try{!function Mt(yn){yn.value instanceof me?Promise.resolve(yn.value.v).then(Qe,on):Hn(je[0][2],yn)}(ye[yn](Zt))}catch(Vt){Hn(je[0][3],Vt)}}function Qe(yn){zt("next",yn)}function on(yn){zt("throw",yn)}function Hn(yn,Zt){yn(Zt),je.shift(),je.length&&zt(je[0][0],je[0][1])}}function qe(Y){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,re=Y[Symbol.asyncIterator];return re?re.call(Y):(Y=function se(Y){var re="function"==typeof Symbol&&Symbol.iterator,ae=re&&Y[re],ye=0;if(ae)return ae.call(Y);if(Y&&"number"==typeof Y.length)return{next:function(){return Y&&ye>=Y.length&&(Y=void 0),{value:Y&&Y[ye++],done:!Y}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(Y),ae={},ye("next"),ye("throw"),ye("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ye(je){ae[je]=Y[je]&&function(yt){return new Promise(function(zt,Mt){!function ue(je,yt,zt,Mt){Promise.resolve(Mt).then(function(Qe){je({value:Qe,done:zt})},yt)}(zt,Mt,(yt=Y[je](yt)).done,yt.value)})}}}M.d(Te,{FC:()=>be,KL:()=>qe,_T:()=>ie,gn:()=>fe,mG:()=>le,qq:()=>me})},5e3:(at,Te,M)=>{M.d(Te,{$8M:()=>tu,$Z:()=>C0,AFp:()=>B_,ALo:()=>ic,AaK:()=>le,CHM:()=>Ri,CRH:()=>I_,CZH:()=>U_,CqO:()=>Ey,EJc:()=>Er,EpF:()=>_y,F4k:()=>mp,FYo:()=>Gp,FiY:()=>ts,G48:()=>st,GfV:()=>Wp,Gpc:()=>j,JOm:()=>xo,LFG:()=>mr,LSH:()=>kf,LVF:()=>MC,Lbi:()=>Kr,NdJ:()=>yp,OlP:()=>jn,Oqu:()=>Dp,PXZ:()=>cn,Q6J:()=>gy,QGY:()=>vy,Qsj:()=>Iw,R0b:()=>Rs,RDi:()=>Wa,Rgc:()=>xs,SBq:()=>Su,Sil:()=>RC,Suo:()=>w_,TTD:()=>Fs,TgZ:()=>jd,VLi:()=>lc,X6Q:()=>sI,XFs:()=>vt,Xpm:()=>_e,Y36:()=>Ql,YKP:()=>a_,YNc:()=>y0,Yjl:()=>Je,Yz7:()=>Zt,ZZ4:()=>J_,_Bn:()=>jp,_UZ:()=>pp,_Vd:()=>ih,_c5:()=>gI,_uU:()=>Ay,aQg:()=>X_,c2e:()=>G_,cJS:()=>Tt,cg1:()=>Fy,dDg:()=>nI,deG:()=>Wc,dqk:()=>kt,eFA:()=>Ir,ekj:()=>Cy,g9A:()=>H_,h0i:()=>$o,hGG:()=>Zr,hij:()=>zd,iGM:()=>E_,ifc:()=>Pt,ip1:()=>Qw,kL8:()=>Sp,lG2:()=>Me,lcZ:()=>lh,n5z:()=>zc,oAB:()=>Q,oxw:()=>vp,q4F:()=>i_,qLn:()=>Ff,qOj:()=>ip,qZA:()=>Jl,sBO:()=>to,sIi:()=>As,s_b:()=>hh,soG:()=>Ze,tBr:()=>bs,tb:()=>Uu,tp0:()=>ns,uIk:()=>ly,vHH:()=>Ue,vpe:()=>ii,wA2:()=>Zw,wAp:()=>At,xp6:()=>Mm,z2F:()=>gg,zSh:()=>np,zs3:()=>Ks});var f=M(7579),k=M(727),x=M(8306),ie=M(6451),fe=M(3099);function Ee(i){for(let s in i)if(i[s]===Ee)return s;throw Error("Could not find renamed property on target object.")}function de(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function le(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(le).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function ge(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const H=Ee({__forward_ref__:Ee});function j(i){return i.__forward_ref__=j,i.toString=function(){return le(this())},i}function se(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty(H)&&i.__forward_ref__===j}class Ue extends Error{constructor(s,a){super(function Ge(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function me(i){return"string"==typeof i?i:null==i?"":String(i)}function be(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():me(i)}function Re(i,s){const a=s?` in ${s}`:"";throw new Ue(-201,`No provider for ${be(i)} found${a}`)}function Qe(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function Zt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Tt(i){return{providers:i.providers||[],imports:i.imports||[]}}function tn(i){return Mn(i,Kn)||Mn(i,xn)}function Mn(i,s){return i.hasOwnProperty(s)?i[s]:null}function On(i){return i&&(i.hasOwnProperty(Jn)||i.hasOwnProperty(Xn))?i[Jn]:null}const Kn=Ee({\u0275prov:Ee}),Jn=Ee({\u0275inj:Ee}),xn=Ee({ngInjectableDef:Ee}),Xn=Ee({ngInjectorDef:Ee});var vt=(()=>((vt=vt||{})[vt.Default=0]="Default",vt[vt.Host=1]="Host",vt[vt.Self=2]="Self",vt[vt.SkipSelf=4]="SkipSelf",vt[vt.Optional=8]="Optional",vt))();let Zn;function Yt(i){const s=Zn;return Zn=i,s}function Ln(i,s,a){const l=tn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&vt.Optional?null:void 0!==s?s:void Re(le(i),"Injector")}function er(i){return{toString:i}.toString()}var hn=(()=>((hn=hn||{})[hn.OnPush=0]="OnPush",hn[hn.Default=1]="Default",hn))(),Pt=(()=>{return(i=Pt||(Pt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Pt;var i})();const pt="undefined"!=typeof globalThis&&globalThis,it="undefined"!=typeof window&&window,bn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt=pt||"undefined"!=typeof global&&global||it||bn,nn={},F=[],z=Ee({\u0275cmp:Ee}),K=Ee({\u0275dir:Ee}),Ie=Ee({\u0275pipe:Ee}),V=Ee({\u0275mod:Ee}),X=Ee({\u0275fac:Ee}),U=Ee({__NG_ELEMENT_ID__:Ee});let ee=0;function _e(i){return er(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===hn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||F,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Pt.Emulated,id:"c",styles:i.styles||F,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,h=i.features,y=i.pipes;return l.id+=ee++,l.inputs=L(i.inputs,a),l.outputs=L(i.outputs),h&&h.forEach(v=>v(l)),l.directiveDefs=c?()=>("function"==typeof c?c():c).map(We):null,l.pipeDefs=y?()=>("function"==typeof y?y():y).map(ze):null,l})}function Ve(i,s,a){const l=i.\u0275cmp;l.directiveDefs=()=>s.map(We),l.pipeDefs=()=>a.map(ze)}function We(i){return ut(i)||Et(i)}function ze(i){return Wt(i)}const gt={};function Q(i){return er(()=>{const s={type:i.type,bootstrap:i.bootstrap||F,declarations:i.declarations||F,imports:i.imports||F,exports:i.exports||F,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(gt[i.id]=i.type),s})}function $(i,s){return er(()=>{const a=Ft(i,!0);a.declarations=s.declarations||F,a.imports=s.imports||F,a.exports=s.exports||F})}function L(i,s){if(null==i)return nn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let c=i[l],h=c;Array.isArray(c)&&(h=c[1],c=c[0]),a[c]=l,s&&(s[c]=h)}return a}const Me=_e;function Je(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function ut(i){return i[z]||null}function Et(i){return i[K]||null}function Wt(i){return i[Ie]||null}function Ft(i,s){const a=i[V]||null;if(!a&&!0===s)throw new Error(`Type ${le(i)} does not have '\u0275mod' property.`);return a}function xr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Rr(i){return Array.isArray(i)&&!0===i[1]}function oo(i){return 0!=(8&i.flags)}function ao(i){return 2==(2&i.flags)}function fs(i){return 1==(1&i.flags)}function zr(i){return null!==i.template}function Tc(i){return 0!=(512&i[2])}function ui(i,s){return i.hasOwnProperty(X)?i[X]:null}class co{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fs(){return Xo}function Xo(i){return i.type.prototype.ngOnChanges&&(i.setInput=xc),Xu}function Xu(){const i=ho(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===nn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function xc(i,s,a,l){const c=ho(i)||function Ls(i,s){return i[gs]=s}(i,{previous:nn,current:null}),h=c.current||(c.current={}),y=c.previous,v=this.declaredInputs[a],I=y[v];h[v]=new co(I&&I.currentValue,s,y===nn),i[l]=s}Fs.ngInherit=!0;const gs="__ngSimpleChanges__";function ho(i){return i[gs]||null}const Rc="math";let na;function Wa(i){na=i}function Ki(){return void 0!==na?na:"undefined"!=typeof document?document:void 0}function wn(i){return!!i.listen}const ra={createRenderer:(i,s)=>Ki()};function vn(i){for(;Array.isArray(i);)i=i[0];return i}function sa(i,s){return vn(s[i])}function gr(i,s){return vn(s[i.index])}function po(i,s){return i.data[s]}function xi(i,s){return i[s]}function R(i,s){const a=s[i];return xr(a)?a:a[0]}function N(i){return 4==(4&i[2])}function Z(i){return 128==(128&i[2])}function $e(i,s){return null==s?null:i[s]}function tt(i){i[18]=0}function Ct(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const lt={lFrame:nf(null),bindingsEnabled:!0};function li(){return lt.bindingsEnabled}function aa(){lt.bindingsEnabled=!0}function Yi(){lt.bindingsEnabled=!1}function Oe(){return lt.lFrame.lView}function Bt(){return lt.lFrame.tView}function Ri(i){return lt.lFrame.contextLView=i,i[8]}function Tn(){let i=Qh();for(;null!==i&&64===i.type;)i=i.parent;return i}function Qh(){return lt.lFrame.currentTNode}function Vs(){const i=lt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function Qi(i,s){const a=lt.lFrame;a.currentTNode=i,a.isParent=s}function Oc(){return lt.lFrame.isParent}function qa(){lt.lFrame.isParent=!1}function Dr(){const i=lt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function ys(){return lt.lFrame.bindingIndex}function tl(i){return lt.lFrame.bindingIndex=i}function ua(){return lt.lFrame.bindingIndex++}function Ni(i){const s=lt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function nl(i){lt.lFrame.inI18n=i}function zg(i,s){const a=lt.lFrame;a.bindingIndex=a.bindingRootIndex=i,kc(s)}function kc(i){lt.lFrame.currentDirectiveIndex=i}function rl(i){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Xh(){return lt.lFrame.currentQueryIndex}function ef(i){lt.lFrame.currentQueryIndex=i}function tf(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Za(i,s,a){if(a&vt.SkipSelf){let c=s,h=i;for(;!(c=c.parent,null!==c||a&vt.Host||(c=tf(h),null===c||(h=h[15],10&c.type))););if(null===c)return!1;s=c,i=h}const l=lt.lFrame=go();return l.currentTNode=s,l.lView=i,!0}function il(i){const s=go(),a=i[1];lt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function go(){const i=lt.lFrame,s=null===i?null:i.child;return null===s?nf(i):s}function nf(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Wg(){const i=lt.lFrame;return lt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Fc=Wg;function Oi(){const i=Wg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Nr(){return lt.lFrame.selectedIndex}function Us(i){lt.lFrame.selectedIndex=i}function rr(){const i=lt.lFrame;return po(i.tView,i.selectedIndex)}function ZI(){lt.lFrame.currentNamespace="svg"}function YI(){lt.lFrame.currentNamespace=Rc}function Ov(){!function QI(){lt.lFrame.currentNamespace=null}()}function _s(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:I,ngAfterViewChecked:D,ngOnDestroy:T}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),D&&((i.viewHooks||(i.viewHooks=[])).push(a,D),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,D)),null!=T&&(i.destroyHooks||(i.destroyHooks=[])).push(a,T)}}function Ya(i,s,a){Zg(i,s,3,a)}function sl(i,s,a,l){(3&i[2])===a&&Zg(i,s,a,l)}function sf(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Zg(i,s,a,l){const h=null!=l?l:-1,y=s.length-1;let v=0;for(let I=void 0!==l?65535&i[18]:0;I<y;I++)if("number"==typeof s[I+1]){if(v=s[I],null!=l&&v>=l)break}else s[I]<0&&(i[18]+=65536),(v<h||-1==h)&&(kv(i,a,s,I),i[18]=(4294901760&i[18])+I+2),I++}function kv(i,s,a,l){const c=a[l]<0,h=a[l+1],v=i[c?-a[l]:a[l]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{h.call(v)}finally{}}}else try{h.call(v)}finally{}}class la{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Uc(i,s,a){const l=wn(i);let c=0;for(;c<a.length;){const h=a[c];if("number"==typeof h){if(0!==h)break;c++;const y=a[c++],v=a[c++],I=a[c++];l?i.setAttribute(s,v,I,y):s.setAttributeNS(y,v,I)}else{const y=h,v=a[++c];Bc(y)?l&&i.setProperty(s,y,v):l?i.setAttribute(s,y,v):s.setAttribute(y,v),c++}}return c}function al(i){return 3===i||4===i||6===i}function Bc(i){return 64===i.charCodeAt(0)}function ul(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const c=s[l];"number"==typeof c?a=c:0===a||mo(i,a,c,null,-1===a||2===a?s[++l]:null)}}return i}function mo(i,s,a,l,c){let h=0,y=i.length;if(-1===s)y=-1;else for(;h<i.length;){const v=i[h++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=h-1;break}}}for(;h<i.length;){const v=i[h];if("number"==typeof v)break;if(v===a){if(null===l)return void(null!==c&&(i[h+1]=c));if(l===i[h+1])return void(i[h+2]=c)}h++,null!==l&&h++,null!==c&&h++}-1!==y&&(i.splice(y,0,s),h=y+1),i.splice(h++,0,a),null!==l&&i.splice(h++,0,l),null!==c&&i.splice(h++,0,c)}function of(i){return-1!==i}function En(i){return 32767&i}function Bn(i,s){let a=function ca(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let xt=!0;function da(i){const s=xt;return xt=i,s}let Yg=0;function wi(i,s){const a=ha(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,Or(l.data,i),Or(s,null),Or(l.blueprint,null));const c=Xa(i,s),h=i.injectorIndex;if(of(c)){const y=En(c),v=Bn(c,s),I=v[1].data;for(let D=0;D<8;D++)s[h+D]=v[y+D]|I[y+D]}return s[h+8]=c,h}function Or(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ha(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Xa(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,c=s;for(;null!==c;){const h=c[1],y=h.type;if(l=2===y?h.declTNode:1===y?c[6]:null,null===l)return-1;if(a++,c=c[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function fa(i,s,a){!function Ja(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(U)&&(l=a[U]),null==l&&(l=a[U]=Yg++);const c=255&l;s.data[i+(c>>5)]|=1<<c}(i,s,a)}function cl(i,s,a){if(a&vt.Optional)return i;Re(s,"NodeInjector")}function dl(i,s,a,l){if(a&vt.Optional&&void 0===l&&(l=null),0==(a&(vt.Self|vt.Host))){const c=i[9],h=Yt(void 0);try{return c?c.get(s,l,a&vt.Optional):Ln(s,l,a&vt.Optional)}finally{Yt(h)}}return cl(l,s,a)}function ki(i,s,a,l=vt.Default,c){if(null!==i){const h=function uf(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(U)?i[U]:void 0;return"number"==typeof s?s>=0?255&s:Pr:s}(a);if("function"==typeof h){if(!Za(s,i,l))return l&vt.Host?cl(c,a,l):dl(s,a,l,c);try{const y=h(l);if(null!=y||l&vt.Optional)return y;Re(a)}finally{Fc()}}else if("number"==typeof h){let y=null,v=ha(i,s),I=-1,D=l&vt.Host?s[16][6]:null;for((-1===v||l&vt.SkipSelf)&&(I=-1===v?Xa(i,s):s[v+8],-1!==I&&Gc(l,!1)?(y=s[1],v=En(I),s=Bn(I,s)):v=-1);-1!==v;){const T=s[1];if(Hc(h,v,T.data)){const P=Bs(v,s,a,y,l,D);if(P!==hl)return P}I=s[v+8],-1!==I&&Gc(l,s[1].data[v+8]===D)&&Hc(h,v,s)?(y=T,v=En(I),s=Bn(I,s)):v=-1}}}return dl(s,a,l,c)}const hl={};function Pr(){return new Es(Tn(),Oe())}function Bs(i,s,a,l,c,h){const y=s[1],v=y.data[i+8],T=$c(v,y,a,null==l?ao(v)&&xt:l!=y&&0!=(3&v.type),c&vt.Host&&h===v);return null!==T?ci(s,y,T,v):hl}function $c(i,s,a,l,c){const h=i.providerIndexes,y=s.data,v=1048575&h,I=i.directiveStart,T=h>>20,G=c?v+T:i.directiveEnd;for(let te=l?v:v+T;te<G;te++){const xe=y[te];if(te<I&&a===xe||te>=I&&xe.type===a)return te}if(c){const te=y[I];if(te&&zr(te)&&te.type===a)return I}return null}function ci(i,s,a,l){let c=i[a];const h=s.data;if(function Fv(i){return i instanceof la}(c)){const y=c;y.resolving&&function rt(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Ue(-200,`Circular dependency in DI detected for ${i}${a}`)}(be(h[a]));const v=da(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Yt(y.injectImpl):null;Za(i,l,vt.Default);try{c=i[a]=y.factory(void 0,h,i,l),s.firstCreatePass&&a>=l.directiveStart&&function rf(i,s,a){const{ngOnChanges:l,ngOnInit:c,ngDoCheck:h}=s.type.prototype;if(l){const y=Xo(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}c&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,c),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],s)}finally{null!==I&&Yt(I),da(v),y.resolving=!1,Fc()}}return c}function Hc(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Gc(i,s){return!(i&vt.Self||i&vt.Host&&s)}class Es{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return ki(this._tNode,this._lView,s,l,a)}}function zc(i){return er(()=>{const s=i.prototype.constructor,a=s[X]||eu(s),l=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==l;){const h=c[X]||eu(c);if(h&&h!==a)return h;c=Object.getPrototypeOf(c)}return h=>new h})}function eu(i){return He(i)?()=>{const s=eu(se(i));return s&&s()}:ui(i)}function tu(i){return function af(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let c=0;for(;c<l;){const h=a[c];if(al(h))break;if(0===h)c+=2;else if("number"==typeof h)for(c++;c<l&&"string"==typeof a[c];)c++;else{if(h===s)return a[c+1];c+=2}}}return null}(Tn(),i)}const yo="__annotations__",ws="__parameters__",Ji="__prop__metadata__";function nu(i,s,a,l,c){return er(()=>{const h=fl(s);function y(...v){if(this instanceof y)return h.call(this,...v),this;const I=new y(...v);return function(T){return c&&c(T,...v),(T.hasOwnProperty(yo)?T[yo]:Object.defineProperty(T,yo,{value:[]})[yo]).push(I),l&&l(T),T}}return a&&(y.prototype=Object.create(a.prototype)),y.prototype.ngMetadataName=i,y.annotationCls=y,y})}function fl(i){return function(...a){if(i){const l=i(...a);for(const c in l)this[c]=l[c]}}}function _o(i,s,a){return er(()=>{const l=fl(s);function c(...h){if(this instanceof c)return l.apply(this,h),this;const y=new c(...h);return v.annotation=y,v;function v(I,D,T){const P=I.hasOwnProperty(ws)?I[ws]:Object.defineProperty(I,ws,{value:[]})[ws];for(;P.length<=T;)P.push(null);return(P[T]=P[T]||[]).push(y),I}}return a&&(c.prototype=Object.create(a.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}const cf=_o("Attribute",i=>({attributeName:i,__NG_ELEMENT_ID__:()=>tu(i)}));class jn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Zt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Wc=new jn("AnalyzeForEntryComponents");function Wn(i){const s=kt.ng;if(s&&s.\u0275compilerFacade)return s.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}const pl=Function;function Qr(i){return"function"==typeof i}function Xr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Xr(l,s)):s!==i&&s.push(l)}return s}function Fi(i,s){i.forEach(a=>Array.isArray(a)?Fi(a,s):s(a))}function pf(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function pa(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function vo(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function di(i,s,a){let l=ru(i,s);return l>=0?i[1|l]=a:(l=~l,function Kc(i,s,a,l){let c=i.length;if(c==s)i.push(a,l);else if(1===c)i.push(l,i[0]),i[0]=a;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function gf(i,s){const a=ru(i,s);if(a>=0)return i[1|a]}function ru(i,s){return function mf(i,s,a){let l=0,c=i.length>>a;for(;c!==l;){const h=l+(c-l>>1),y=i[h<<a];if(s===y)return h<<a;y>s?c=h:l=h+1}return~(c<<a)}(i,s,1)}const ml=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|(?:[^()]+\(\[\],)?[^()]+\(arguments\).*)\)/,nm=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Yc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Qc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{[^}]*super\(\.\.\.arguments\)/;class es{constructor(s){this._reflect=s||kt.Reflect}isReflectionEnabled(){return!0}factory(s){return(...a)=>new s(...a)}_zipTypesAndAnnotations(s,a){let l;l=vo(void 0===s?a.length:s.length);for(let c=0;c<l.length;c++)l[c]=void 0===s?[]:s[c]&&s[c]!=Object?[s[c]]:[],a&&null!=a[c]&&(l[c]=l[c].concat(a[c]));return l}_ownParameters(s,a){if(function yl(i){return ml.test(i)||Qc.test(i)||nm.test(i)&&!Yc.test(i)}(s.toString()))return null;if(s.parameters&&s.parameters!==a.parameters)return s.parameters;const c=s.ctorParameters;if(c&&c!==a.ctorParameters){const v="function"==typeof c?c():c,I=v.map(T=>T&&T.type),D=v.map(T=>T&&ga(T.decorators));return this._zipTypesAndAnnotations(I,D)}const h=s.hasOwnProperty(ws)&&s[ws],y=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",s);return y||h?this._zipTypesAndAnnotations(y,h):vo(s.length)}parameters(s){if(!Qr(s))return[];const a=Eo(s);let l=this._ownParameters(s,a);return!l&&a!==Object&&(l=this.parameters(a)),l||[]}_ownAnnotations(s,a){if(s.annotations&&s.annotations!==a.annotations){let l=s.annotations;return"function"==typeof l&&l.annotations&&(l=l.annotations),l}return s.decorators&&s.decorators!==a.decorators?ga(s.decorators):s.hasOwnProperty(yo)?s[yo]:null}annotations(s){if(!Qr(s))return[];const a=Eo(s),l=this._ownAnnotations(s,a)||[];return(a!==Object?this.annotations(a):[]).concat(l)}_ownPropMetadata(s,a){if(s.propMetadata&&s.propMetadata!==a.propMetadata){let l=s.propMetadata;return"function"==typeof l&&l.propMetadata&&(l=l.propMetadata),l}if(s.propDecorators&&s.propDecorators!==a.propDecorators){const l=s.propDecorators,c={};return Object.keys(l).forEach(h=>{c[h]=ga(l[h])}),c}return s.hasOwnProperty(Ji)?s[Ji]:null}propMetadata(s){if(!Qr(s))return{};const a=Eo(s),l={};if(a!==Object){const h=this.propMetadata(a);Object.keys(h).forEach(y=>{l[y]=h[y]})}const c=this._ownPropMetadata(s,a);return c&&Object.keys(c).forEach(h=>{const y=[];l.hasOwnProperty(h)&&y.push(...l[h]),y.push(...c[h]),l[h]=y}),l}ownPropMetadata(s){return Qr(s)&&this._ownPropMetadata(s,Eo(s))||{}}hasLifecycleHook(s,a){return s instanceof pl&&a in s.prototype}guards(s){return{}}getter(s){return new Function("o","return o."+s+";")}setter(s){return new Function("o","v","return o."+s+" = v;")}method(s){return new Function("o","args",`if (!o.${s}) throw new Error('"${s}" is undefined');\n        return o.${s}.apply(o, args);`)}importUri(s){return"object"==typeof s&&s.filePath?s.filePath:`./${le(s)}`}resourceUri(s){return`./${le(s)}`}resolveIdentifier(s,a,l,c){return c}resolveEnum(s,a){return s[a]}}function ga(i){return i?i.map(s=>new(0,s.type.annotationCls)(...s.args?s.args:[])):[]}function Eo(i){const s=i.prototype?Object.getPrototypeOf(i.prototype):null;return(s?s.constructor:null)||Object}const Is={},js="__NG_DI_FLAG__",_l="ngTempTokenPath",Jc=/\n/gm,Xc="__source",rm=Ee({provide:String,useValue:Ee});let ma;function Ef(i){const s=ma;return ma=i,s}function wf(i,s=vt.Default){if(void 0===ma)throw new Ue(203,"");return null===ma?Ln(i,void 0,s):ma.get(i,s&vt.Optional?null:void 0,s)}function mr(i,s=vt.Default){return(function Jt(){return Zn}()||wf)(se(i),s)}function vl(i){throw new Error("invalid")}const im=mr;function ya(i){const s=[];for(let a=0;a<i.length;a++){const l=se(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Ue(900,"");let c,h=vt.Default;for(let y=0;y<l.length;y++){const v=l[y],I=iu(v);"number"==typeof I?-1===I?c=v.token:h|=I:c=v}s.push(mr(c,h))}else s.push(mr(l))}return s}function wo(i,s){return i[js]=s,i.prototype[js]=s,i}function iu(i){return i[js]}const bs=wo(_o("Inject",i=>({token:i})),-1),ts=wo(_o("Optional"),8),Io=wo(_o("Self"),2),ns=wo(_o("SkipSelf"),4),bf=wo(_o("Host"),1);let ou=null;function El(){return ou=ou||new es}function bo(i){return function au(i){return i.map(s=>function wl(i){const s={token:null,attribute:null,host:!1,optional:!1,self:!1,skipSelf:!1};if(Array.isArray(i)&&i.length>0)for(let a=0;a<i.length;a++){const l=i[a];if(void 0===l)continue;const c=Object.getPrototypeOf(l);if(l instanceof ts||"Optional"===c.ngMetadataName)s.optional=!0;else if(l instanceof ns||"SkipSelf"===c.ngMetadataName)s.skipSelf=!0;else if(l instanceof Io||"Self"===c.ngMetadataName)s.self=!0;else if(l instanceof bf||"Host"===c.ngMetadataName)s.host=!0;else if(l instanceof bs)s.token=l.token;else if(l instanceof cf){if(void 0===l.attributeName)throw new Error("Attribute name must be defined.");s.attribute=l.attributeName}else s.token=l}else s.token=void 0===i||Array.isArray(i)&&0===i.length?null:i;return s}(s))}(El().parameters(i))}let $s=new Map;const Do=new Set;function Il(i){return!!(i.templateUrl&&!i.hasOwnProperty("template")||i.styleUrls&&i.styleUrls.length)}let Hs,td;function lu(){if(void 0===Hs&&(Hs=null,kt.trustedTypes))try{Hs=kt.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Hs}function Co(i){var s;return(null===(s=lu())||void 0===s?void 0:s.createHTML(i))||i}function nd(){if(void 0===td&&(td=null,kt.trustedTypes))try{td=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return td}function rd(i){var s;return(null===(s=nd())||void 0===s?void 0:s.createHTML(i))||i}function Tf(i){var s;return(null===(s=nd())||void 0===s?void 0:s.createScript(i))||i}function id(i){var s;return(null===(s=nd())||void 0===s?void 0:s.createScriptURL(i))||i}class Dl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Ds(i){return i instanceof Dl?i.changingThisBreaksApplicationSecurity:i}function To(i,s){const a=function Mf(i){return i instanceof Dl&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function sd(i){const s=new pm(i);return function ad(){try{return!!(new window.DOMParser).parseFromString(Co(""),"text/html")}catch(i){return!1}}()?new od(s):s}class od{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Co(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class pm{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Co(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Co(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let c=a.length-1;0<c;c--){const y=a.item(c).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const gm=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,p=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function m(i){return(i=String(i)).match(gm)||i.match(p)?i:"unsafe:"+i}function w(i){return(i=String(i)).split(",").map(s=>m(s.trim())).join(", ")}function C(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function O(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const oe=C("area,br,col,hr,img,wbr"),Fe=C("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ct=C("rp,rt"),Vi=O(oe,O(Fe,C("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),O(ct,C("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),O(ct,Fe)),Ii=C("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_a=C("srcset"),Tl=O(Ii,_a,C("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),C("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Gs=C("script,style,template");class ud{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let c=this.checkClobberedElement(a,a.nextSibling);if(c){a=c;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!Vi.hasOwnProperty(a))return this.sanitizedSomething=!0,!Gs.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let c=0;c<l.length;c++){const h=l.item(c),y=h.name,v=y.toLowerCase();if(!Tl.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let I=h.value;Ii[v]&&(I=m(I)),_a[v]&&(I=w(I)),this.buf.push(" ",y,'="',cu(I),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();Vi.hasOwnProperty(a)&&!oe.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(cu(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ld=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Of=/([^\#-~ |!])/g;function cu(i){return i.replace(/&/g,"&amp;").replace(ld,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Of,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let du;function Ao(i){return"content"in i&&function Pf(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var yr=(()=>((yr=yr||{})[yr.NONE=0]="NONE",yr[yr.HTML=1]="HTML",yr[yr.STYLE=2]="STYLE",yr[yr.SCRIPT=3]="SCRIPT",yr[yr.URL=4]="URL",yr[yr.RESOURCE_URL=5]="RESOURCE_URL",yr))();function Hv(i){const s=cd();return s?rd(s.sanitize(yr.HTML,i)||""):To(i,"HTML")?rd(Ds(i)):function mm(i,s){let a=null;try{du=du||sd(i);let l=s?String(s):"";a=du.getInertBodyElement(l);let c=5,h=l;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,l=h,h=a.innerHTML,a=du.getInertBodyElement(l)}while(l!==h);return Co((new ud).sanitizeChildren(Ao(a)||a))}finally{if(a){const l=Ao(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}(Ki(),me(i))}function XI(i){const s=cd();return s?s.sanitize(yr.STYLE,i)||"":To(i,"Style")?Ds(i):me(i)}function kf(i){const s=cd();return s?s.sanitize(yr.URL,i)||"":To(i,"URL")?Ds(i):m(me(i))}function Gv(i){const s=cd();if(s)return id(s.sanitize(yr.RESOURCE_URL,i)||"");if(To(i,"ResourceURL"))return id(Ds(i));throw new Ue(904,"")}function zv(i){const s=cd();if(s)return Tf(s.sanitize(yr.SCRIPT,i)||"");if(To(i,"Script"))return Tf(Ds(i));throw new Ue(905,"")}function eb(i){return Co(i[0])}function Wv(i){return function jv(i){var s;return(null===(s=lu())||void 0===s?void 0:s.createScriptURL(i))||i}(i[0])}function ZA(i,s,a){return function KA(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?Gv:kf}(s,a)(i)}function cd(){const i=Oe();return i&&i[12]}const rb="__ngContext__";function dt(i,s){i[rb]=s}function dd(i){const s=function dr(i){return i[rb]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function zs(i){return i.ngOriginalError}function ob(i,...s){i.error(...s)}class Ff{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function YA(i){return i&&i.ngErrorLogger||ob}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&zs(s);for(;a&&zs(a);)a=zs(a);return a||null}}const eE=/^>|^->|<!--|-->|--!>|<!-$/g,ab=/(<|>)/;const wm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))();function ub(i){return i.ownerDocument.defaultView}function nE(i){return i.ownerDocument}function rE(i){return i.ownerDocument.body}function Mo(i){return i instanceof Function?i():i}var xo=(()=>((xo=xo||{})[xo.Important=1]="Important",xo[xo.DashCase=2]="DashCase",xo))();let iE;function sE(i,s){return iE(i,s)}function Ml(i){const s=i[3];return Rr(s)?s[3]:s}function Bf(i){return jf(i[13])}function Im(i){return jf(i[4])}function jf(i){for(;null!==i&&!Rr(i);)i=i[4];return i}function fd(i,s,a,l,c){if(null!=l){let h,y=!1;Rr(l)?h=l:xr(l)&&(y=!0,l=l[0]);const v=vn(l);0===i&&null!==a?null==c?hE(s,a,v):fu(s,a,v,c||null,!0):1===i&&null!==a?fu(s,a,v,c||null,!0):2===i?Rl(s,v,y):3===i&&s.destroyNode(v),null!=h&&function yE(i,s,a,l,c){const h=a[7];h!==vn(a)&&fd(s,i,l,h,c);for(let v=10;v<a.length;v++){const I=a[v];No(I[1],I,i,s,l,h)}}(s,i,h,a,c)}}function aE(i,s){return wn(i)?i.createText(s):i.createTextNode(s)}function uE(i,s,a){wn(i)?i.setValue(s,a):s.textContent=a}function db(i,s){return i.createComment(function hr(i){return i.replace(eE,s=>s.replace(ab,"\u200b$1\u200b"))}(s))}function lE(i,s,a){if(wn(i))return i.createElement(s,a);{const l=null!==a?function ta(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":s===Rc?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function cE(i,s){const a=i[9],l=a.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,Ct(c,-1)),a.splice(l,1)}function bm(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const c=l[17];null!==c&&c!==i&&cE(c,l),s>0&&(i[a-1][4]=l[4]);const h=pa(i,10+s);!function JA(i,s){No(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=h[19];null!==y&&y.detachView(h[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function dE(i,s){if(!(256&s[2])){const a=s[11];wn(a)&&a.destroyNode&&No(i,s,a,3,null,null),function pd(i){let s=i[13];if(!s)return gd(i[1],i);for(;s;){let a=null;if(xr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)xr(s)&&gd(s[1],s),s=s[3];null===s&&(s=i),xr(s)&&gd(s[1],s),a=s&&s[4]}s=a}}(s)}}function gd(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function hb(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const c=s[a[l]];if(!(c instanceof la)){const h=a[l+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const v=c[h[y]],I=h[y+1];try{I.call(v)}finally{}}else try{h.call(c)}finally{}}}}(i,s),function Xt(i,s){const a=i.cleanup,l=s[7];let c=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+1],v="function"==typeof y?y(s):vn(s[y]),I=l[c=a[h+2]],D=a[h+3];"boolean"==typeof D?v.removeEventListener(a[h],I,D):D>=0?l[c=D]():l[c=-D].unsubscribe(),h+=2}else{const y=l[c=a[h+1]];a[h].call(y)}if(null!==l){for(let h=c+1;h<l.length;h++)l[h]();s[7]=null}}(i,s),1===s[1].type&&wn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Rr(s[3])){a!==s[3]&&cE(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function rs(i,s,a){return xl(i,s.parent,a)}function xl(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const c=i.data[l.directiveStart].encapsulation;if(c===Pt.None||c===Pt.Emulated)return null}return gr(l,a)}function fu(i,s,a,l,c){wn(i)?i.insertBefore(s,a,l,c):s.insertBefore(a,l,c)}function hE(i,s,a){wn(i)?i.appendChild(s,a):s.appendChild(a)}function fE(i,s,a,l,c){null!==l?fu(i,s,a,l,c):hE(i,s,a)}function pu(i,s){return wn(i)?i.parentNode(s):s.parentNode}function md(i,s,a){return gE(i,s,a)}function yd(i,s,a){return 40&i.type?gr(i,a):null}let _d,gE=yd;function Dm(i,s){gE=i,_d=s}function vd(i,s,a,l){const c=rs(i,l,s),h=s[11],v=md(l.parent||s[6],l,s);if(null!=c)if(Array.isArray(a))for(let I=0;I<a.length;I++)fE(h,c,a[I],v,!1);else fE(h,c,a,v,!1);void 0!==_d&&_d(h,l,s,a,c)}function Ed(i,s){if(null!==s){const a=s.type;if(3&a)return gr(s,i);if(4&a)return wd(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return Ed(i,l);{const c=i[s.index];return Rr(c)?wd(-1,c):vn(c)}}if(32&a)return sE(s,i)()||vn(i[s.index]);{const l=mE(i,s);return null!==l?Array.isArray(l)?l[0]:Ed(Ml(i[16]),l):Ed(i,s.next)}}return null}function mE(i,s){return null!==s?i[16][6].projection[s.projection]:null}function wd(i,s){const a=10+i+1;if(a<s.length){const l=s[a],c=l[1].firstChild;if(null!==c)return Ed(l,c)}return s[7]}function Rl(i,s,a){const l=pu(i,s);l&&function pE(i,s,a,l){wn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function Cm(i,s,a,l,c,h,y){for(;null!=a;){const v=l[a.index],I=a.type;if(y&&0===s&&(v&&dt(vn(v),l),a.flags|=4),64!=(64&a.flags))if(8&I)Cm(i,s,a.child,l,c,h,!1),fd(s,i,c,v,h);else if(32&I){const D=sE(a,l);let T;for(;T=D();)fd(s,i,c,T,h);fd(s,i,c,v,h)}else 16&I?$f(i,s,l,a,c,h):fd(s,i,c,v,h);a=y?a.projectionNext:a.next}}function No(i,s,a,l,c,h){Cm(a,l,i.firstChild,s,c,h,!1)}function $f(i,s,a,l,c,h){const y=a[16],I=y[6].projection[l.projection];if(Array.isArray(I))for(let D=0;D<I.length;D++)fd(s,i,c,I[D],h);else Cm(i,s,I,y[3],c,h,!0)}function Tm(i,s,a){wn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Am(i,s,a){wn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function Ea(i,s,a){let l=i.length;for(;;){const c=i.indexOf(s,a);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const h=s.length;if(c+h===l||i.charCodeAt(c+h)<=32)return c}a=c+1}}const _E="ng-template";function Oo(i,s,a){let l=0;for(;l<i.length;){let c=i[l++];if(a&&"class"===c){if(c=i[l],-1!==Ea(c.toLowerCase(),s,0))return!0}else if(1===c){for(;l<i.length&&"string"==typeof(c=i[l++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Hf(i){return 4===i.type&&i.value!==_E}function Id(i,s,a){return s===(4!==i.type||a?i.value:_E)}function vE(i,s,a){let l=4;const c=i.attrs||[],h=function yb(i){for(let s=0;s<i.length;s++)if(al(i[s]))return s;return i.length}(c);let y=!1;for(let v=0;v<s.length;v++){const I=s[v];if("number"!=typeof I){if(!y)if(4&l){if(l=2|1&l,""!==I&&!Id(i,I,a)||""===I&&1===s.length){if(Cs(l))return!1;y=!0}}else{const D=8&l?I:s[++v];if(8&l&&null!==i.attrs){if(!Oo(i.attrs,D,a)){if(Cs(l))return!1;y=!0}continue}const P=gb(8&l?"class":I,c,Hf(i),a);if(-1===P){if(Cs(l))return!1;y=!0;continue}if(""!==D){let G;G=P>h?"":c[P+1].toLowerCase();const te=8&l?G:null;if(te&&-1!==Ea(te,D,0)||2&l&&D!==G){if(Cs(l))return!1;y=!0}}}}else{if(!y&&!Cs(l)&&!Cs(I))return!1;if(y&&Cs(I))continue;y=!1,l=I|1&l}}return Cs(l)||y}function Cs(i){return 0==(1&i)}function gb(i,s,a,l){if(null===s)return-1;let c=0;if(l||!a){let h=!1;for(;c<s.length;){const y=s[c];if(y===i)return c;if(3===y||6===y)h=!0;else{if(1===y||2===y){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===y)break;if(0===y){c+=4;continue}}c+=h?1:2}return-1}return function _b(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function EE(i,s,a=!1){for(let l=0;l<s.length;l++)if(vE(i,s[l],a))return!0;return!1}function wE(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let c=0;c<i.length;c++)if(i[c]!==l[c])continue e;return!0}}return!1}function Sm(i,s){return i?":not("+s.trim()+")":s}function vb(i){let s=i[0],a=1,l=2,c="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const v=i[++a];c+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&l?c+="."+y:4&l&&(c+=" "+y);else""!==c&&!Cs(y)&&(s+=Sm(h,c),c=""),l=y,h=h||!Cs(l);a++}return""!==c&&(s+=Sm(h,c)),s}const jt={};function Mm(i){en(Bt(),Oe(),Nr()+i,!1)}function en(i,s,a,l){if(!l)if(3==(3&s[2])){const h=i.preOrderCheckHooks;null!==h&&Ya(s,h,a)}else{const h=i.preOrderHooks;null!==h&&sl(s,h,0,a)}Us(a)}function Po(i,s){return i<<17|s<<2}function ss(i){return i>>17&32767}function xm(i){return 2|i}function ko(i){return(131068&i)>>2}function os(i,s){return-131069&i|s<<2}function zf(i){return 1|i}function Ws(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const c=a[l],h=a[l+1];if(-1!==h){const y=i.data[h];ef(c),y.contentQueries(2,s[h],h)}}}function kl(i,s,a,l,c,h,y,v,I,D){const T=s.blueprint.slice();return T[0]=c,T[2]=140|l,tt(T),T[3]=T[15]=i,T[8]=a,T[10]=y||i&&i[10],T[11]=v||i&&i[11],T[12]=I||i&&i[12]||null,T[9]=D||i&&i[9]||null,T[6]=h,T[16]=2==s.type?i[16]:T,T}function Fl(i,s,a,l,c){let h=i.data[s];if(null===h)h=ba(i,s,a,l,c),function Gg(){return lt.lFrame.inI18n}()&&(h.flags|=64);else if(64&h.type){h.type=a,h.value=l,h.attrs=c;const y=Vs();h.injectorIndex=null===y?-1:y.injectorIndex}return Qi(h,!0),h}function ba(i,s,a,l,c){const h=Qh(),y=Oc(),I=i.data[s]=function Bm(i,s,a,l,c,h){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,s,l,c);return null===i.firstChild&&(i.firstChild=I),null!==h&&(y?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I)),I}function gu(i,s,a,l){if(0===a)return-1;const c=s.length;for(let h=0;h<a;h++)s.push(l),i.blueprint.push(l),i.data.push(null);return c}function Cd(i,s,a){il(s);try{const l=i.viewQuery;null!==l&&Ym(1,l,a);const c=i.template;null!==c&&Jf(i,s,c,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ws(i,s),i.staticViewQueries&&Ym(2,i.viewQuery,a);const h=i.components;null!==h&&function NE(i,s){for(let a=0;a<s.length;a++)Hb(i,s[a])}(s,h)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Oi()}}function Lo(i,s,a,l){const c=s[2];if(256!=(256&c)){il(s);try{tt(s),tl(i.bindingStartIndex),null!==a&&Jf(i,s,a,2,l);const y=3==(3&c);if(y){const D=i.preOrderCheckHooks;null!==D&&Ya(s,D,null)}else{const D=i.preOrderHooks;null!==D&&sl(s,D,0,null),sf(s,0)}if(function qm(i){for(let s=Bf(i);null!==s;s=Im(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const c=a[l],h=c[3];0==(1024&c[2])&&Ct(h,1),c[2]|=1024}}}(s),function $b(i){for(let s=Bf(i);null!==s;s=Im(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1];Z(l)&&Lo(c,l,c.template,l[8])}}(s),null!==i.contentQueries&&Ws(i,s),y){const D=i.contentCheckHooks;null!==D&&Ya(s,D)}else{const D=i.contentHooks;null!==D&&sl(s,D,1),sf(s,1)}!function Vm(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const c=a[l];if(c<0)Us(~c);else{const h=c,y=a[++l],v=a[++l];zg(y,h),v(2,s[h])}}}finally{Us(-1)}}(i,s);const v=i.components;null!==v&&function Pl(i,s){for(let a=0;a<s.length;a++)jE(i,s[a])}(s,v);const I=i.viewQuery;if(null!==I&&Ym(2,I,l),y){const D=i.viewCheckHooks;null!==D&&Ya(s,D)}else{const D=i.viewHooks;null!==D&&sl(s,D,2),sf(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-73,1024&s[2]&&(s[2]&=-1025,Ct(s[3],-1))}finally{Oi()}}}function OE(i,s,a,l){const c=s[10],y=N(s);try{!y&&c.begin&&c.begin(),y&&Cd(i,s,l),Lo(i,s,a,l)}finally{!y&&c.end&&c.end()}}function Jf(i,s,a,l,c){const h=Nr(),y=2&l;try{Us(-1),y&&s.length>20&&en(i,s,20,!1),a(l,c)}finally{Us(h)}}function Um(i,s,a){if(oo(s)){const c=s.directiveEnd;for(let h=s.directiveStart;h<c;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}function Td(i,s,a){!li()||(function Lb(i,s,a,l){const c=a.directiveStart,h=a.directiveEnd;i.firstCreatePass||wi(a,s),dt(l,s);const y=a.initialInputs;for(let v=c;v<h;v++){const I=i.data[v],D=zr(I);D&&Bb(s,a,I);const T=ci(s,i,v,a);dt(T,s),null!==y&&xd(0,v-c,T,I,0,y),D&&(R(a.index,s)[8]=T)}}(i,s,a,gr(a,s)),128==(128&a.flags)&&function Vb(i,s,a){const l=a.directiveStart,c=a.directiveEnd,y=a.index,v=function Pc(){return lt.lFrame.currentDirectiveIndex}();try{Us(y);for(let I=l;I<c;I++){const D=i.data[I],T=s[I];kc(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&VE(D,T)}}finally{Us(-1),kc(v)}}(i,s,a))}function Ad(i,s,a=gr){const l=s.localNames;if(null!==l){let c=s.index+1;for(let h=0;h<l.length;h+=2){const y=l[h+1],v=-1===y?a(s,i):i[y];i[c++]=v}}}function PE(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Da(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Da(i,s,a,l,c,h,y,v,I,D){const T=20+l,P=T+c,G=function Nb(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:jt);return a}(T,P),te="function"==typeof D?D():D;return G[1]={type:i,blueprint:G,template:a,queries:null,viewQuery:v,declTNode:s,data:G.slice().fill(null,T),bindingStartIndex:T,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:te,incompleteFirstPass:!1}}function Ll(i,s,a,l){const c=Jm(s);null===a?c.push(l):(c.push(a),i.firstCreatePass&&Rd(i).push(l,c.length-1))}function jm(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const c=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,c):a[l]=[s,c]}return a}function pi(i,s,a,l,c,h,y,v){const I=gr(s,a);let T,D=s.inputs;!v&&null!=D&&(T=D[l])?(ey(i,a,T,l,c),ao(s)&&function Pb(i,s){const a=R(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function Ob(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),c=null!=y?y(c,s.value||"",l):c,wn(h)?h.setProperty(I,l,c):Bc(l)||(I.setProperty?I.setProperty(l,c):I[l]=c))}function Hm(i,s,a,l){let c=!1;if(li()){const h=function zm(i,s,a){const l=i.directiveRegistry;let c=null;if(l)for(let h=0;h<l.length;h++){const y=l[h];EE(a,y.selectors,!1)&&(c||(c=[]),fa(wi(a,s),i,y.type),zr(y)?(Vo(i,a),c.unshift(y)):c.push(y))}return c}(i,s,a),y=null===l?null:{"":-1};if(null!==h){c=!0,UE(a,i.data.length,h.length);for(let T=0;T<h.length;T++){const P=h[T];P.providersResolver&&P.providersResolver(P)}let v=!1,I=!1,D=gu(i,s,h.length,null);for(let T=0;T<h.length;T++){const P=h[T];a.mergedAttrs=ul(a.mergedAttrs,P.hostAttrs),BE(i,a,s,D,P),mu(D,P,y),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const G=P.type.prototype;!v&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!I&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),I=!0),D++}!function FE(i,s){const l=s.directiveEnd,c=i.data,h=s.attrs,y=[];let v=null,I=null;for(let D=s.directiveStart;D<l;D++){const T=c[D],P=T.inputs,G=null===h||Hf(s)?null:jb(P,h);y.push(G),v=jm(P,D,v),I=jm(T.outputs,D,I)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=I}(i,a)}y&&function Ub(i,s,a){if(s){const l=i.localNames=[];for(let c=0;c<s.length;c+=2){const h=a[s[c+1]];if(null==h)throw new Ue(-301,!1);l.push(s[c],h)}}}(a,l,y)}return a.mergedAttrs=ul(a.mergedAttrs,a.attrs),c}function Gm(i,s,a,l,c,h){const y=h.hostBindings;if(y){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const I=~s.index;(function LE(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=I&&v.push(I),v.push(l,c,y)}}function VE(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Vo(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function mu(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;zr(s)&&(a[""]=i)}}function UE(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function BE(i,s,a,l,c){i.data[l]=c;const h=c.factory||(c.factory=ui(c.type)),y=new la(h,zr(c),null);i.blueprint[l]=y,a[l]=y,Gm(i,s,0,l,gu(i,a,c.hostVars,jt),c)}function Bb(i,s,a){const l=gr(s,i),c=PE(a),h=i[10],y=gi(i,kl(i,c,null,a.onPush?64:16,l,s,h,h.createRenderer(l,a),null,null));i[s.index]=y}function qs(i,s,a,l,c,h){const y=gr(i,s);yu(s[11],y,h,i.value,a,l,c)}function yu(i,s,a,l,c,h,y){if(null==h)wn(i)?i.removeAttribute(s,c,a):s.removeAttribute(c);else{const v=null==y?me(h):y(h,l||"",c);wn(i)?i.setAttribute(s,c,v,a):a?s.setAttributeNS(a,c,v):s.setAttribute(c,v)}}function xd(i,s,a,l,c,h){const y=h[s];if(null!==y){const v=l.setInput;for(let I=0;I<y.length;){const D=y[I++],T=y[I++],P=y[I++];null!==v?l.setInput(a,P,D,T):a[T]=P}}}function jb(i,s){let a=null,l=0;for(;l<s.length;){const c=s[l];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===a&&(a=[]),a.push(c,i[c],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Wm(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function jE(i,s){const a=R(s,i);if(Z(a)){const l=a[1];80&a[2]?Lo(l,a,l.template,a[8]):a[5]>0&&Km(a)}}function Km(i){for(let l=Bf(i);null!==l;l=Im(l))for(let c=10;c<l.length;c++){const h=l[c];if(1024&h[2]){const y=h[1];Lo(y,h,y.template,h[8])}else h[5]>0&&Km(h)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const c=R(a[l],i);Z(c)&&c[5]>0&&Km(c)}}function Hb(i,s){const a=R(s,i),l=a[1];(function Zm(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),Cd(l,a,a[8])}function gi(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function ep(i){for(;i;){i[2]|=64;const s=Ml(i);if(Tc(i)&&!s)return i;i=s}return null}function HE(i){!function Vl(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=dd(a),c=l[1];OE(c,l,c.template,a)}}(i[8])}function Ym(i,s,a){ef(0),s(i,a)}const GE=(()=>Promise.resolve(null))();function Jm(i){return i[7]||(i[7]=[])}function Rd(i){return i.cleanup||(i.cleanup=[])}function Xm(i,s,a){return(null===i||zr(i))&&(a=function Zi(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(a[s.index])),a[11]}function Bl(i,s){const a=i[9],l=a?a.get(Ff,null):null;l&&l.handleError(s)}function ey(i,s,a,l,c){for(let h=0;h<a.length;){const y=a[h++],v=a[h++],I=s[y],D=i.data[y];null!==D.setInput?D.setInput(I,c,l,v):I[v]=c}}function Uo(i,s,a){const l=sa(s,i);uE(i[11],l,a)}function tp(i,s,a){let l=a?i.styles:null,c=a?i.classes:null,h=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?h=v:1==h?c=ge(c,v):2==h&&(l=ge(l,v+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=c:i.classesWithoutHost=c}const Nd=new jn("INJECTOR",-1);class zE{get(s,a=Is){if(a===Is){const l=new Error(`NullInjectorError: No provider for ${le(s)}!`);throw l.name="NullInjectorError",l}return a}}const np=new jn("Set Injector scope."),Ca={},Wb={};let ty;function Od(){return void 0===ty&&(ty=new zE),ty}function WE(i,s=null,a=null,l){const c=jl(i,s,a,l);return c._resolveInjectorDefTypes(),c}function jl(i,s=null,a=null,l){return new qb(i,a,s||Od(),l)}class qb{constructor(s,a,l,c=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const h=[];a&&Fi(a,v=>this.processProvider(v,s,a)),Fi([s],v=>this.processInjectorType(v,[],h)),this.records.set(Nd,$l(void 0,this));const y=this.records.get(np);this.scope=null!=y?y.value:null,this.source=c||("object"==typeof s?null:le(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=Is,l=vt.Default){this.assertNotDestroyed();const c=Ef(this),h=Yt(void 0);try{if(!(l&vt.SkipSelf)){let v=this.records.get(s);if(void 0===v){const I=function Xb(i){return"function"==typeof i||"object"==typeof i&&i instanceof jn}(s)&&tn(s);v=I&&this.injectableDefInScope(I)?$l(ny(s),Ca):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(l&vt.Self?Od():this.parent).get(s,a=l&vt.Optional&&a===Is?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[_l]=y[_l]||[]).unshift(le(s)),c)throw y;return function If(i,s,a,l){const c=i[_l];throw s[Xc]&&c.unshift(s[Xc]),i.message=function su(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=le(s);if(Array.isArray(s))c=s.map(le).join(" -> ");else if("object"==typeof s){let h=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];h.push(y+":"+("string"==typeof v?JSON.stringify(v):le(v)))}c=`{${h.join(", ")}}`}return`${a}${l?"("+l+")":""}[${c}]: ${i.replace(Jc,"\n  ")}`}("\n"+i.message,c,a,l),i.ngTokenPath=c,i[_l]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{Yt(h),Ef(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,c)=>s.push(le(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ue(205,!1)}processInjectorType(s,a,l){if(!(s=se(s)))return!1;let c=On(s);const h=null==c&&s.ngModule||void 0,y=void 0===h?s:h,v=-1!==l.indexOf(y);if(void 0!==h&&(c=On(h)),null==c)return!1;if(null!=c.imports&&!v){let T;l.push(y);try{Fi(c.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===T&&(T=[]),T.push(P))})}finally{}if(void 0!==T)for(let P=0;P<T.length;P++){const{ngModule:G,providers:te}=T[P];Fi(te,xe=>this.processProvider(xe,G,te||F))}}this.injectorDefTypes.add(y);const I=ui(y)||(()=>new y);this.records.set(y,$l(I,Ca));const D=c.providers;if(null!=D&&!v){const T=s;Fi(D,P=>this.processProvider(P,T,D))}return void 0!==h&&void 0!==s.providers}processProvider(s,a,l){let c=Hl(s=se(s))?s:se(s&&s.provide);const h=function Kb(i,s,a){return KE(i)?$l(void 0,i.useValue):$l(qE(i),Ca)}(s);if(Hl(s)||!0!==s.multi)this.records.get(c);else{let y=this.records.get(c);y||(y=$l(void 0,Ca,!0),y.factory=()=>ya(y.multi),this.records.set(c,y)),c=s,y.multi.push(s)}this.records.set(c,h)}hydrate(s,a){return a.value===Ca&&(a.value=Wb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function ZE(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=se(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function ny(i){const s=tn(i),a=null!==s?s.factory:ui(i);if(null!==a)return a;if(i instanceof jn)throw new Ue(204,!1);if(i instanceof Function)return function Pd(i){const s=i.length;if(s>0)throw vo(s,"?"),new Ue(204,!1);const a=function Tr(i){const s=i&&(i[Kn]||i[xn]);if(s){const a=function gn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Ue(204,!1)}function qE(i,s,a){let l;if(Hl(i)){const c=se(i);return ui(c)||ny(c)}if(KE(i))l=()=>se(i.useValue);else if(function Yb(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...ya(i.deps||[]));else if(function Zb(i){return!(!i||!i.useExisting)}(i))l=()=>mr(se(i.useExisting));else{const c=se(i&&(i.useClass||i.provide));if(!function Jb(i){return!!i.deps}(i))return ui(c)||ny(c);l=()=>new c(...ya(i.deps))}return l}function $l(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function KE(i){return null!==i&&"object"==typeof i&&rm in i}function Hl(i){return"function"==typeof i}let Ks=(()=>{class i{static create(a,l){var c;if(Array.isArray(a))return WE({name:""},l,a,"");{const h=null!==(c=a.name)&&void 0!==c?c:"";return WE({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Is,i.NULL=new zE,i.\u0275prov=Zt({token:i,providedIn:"any",factory:()=>mr(Nd)}),i.__NG_ELEMENT_ID__=-1,i})();function iD(i,s){_s(dd(i)[1],Tn())}function c0(i){return Object.getPrototypeOf(i.prototype).constructor}function ip(i){let s=c0(i.type),a=!0;const l=[i];for(;s;){let c;if(zr(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Ue(903,"");c=s.\u0275dir}if(c){if(a){l.push(c);const y=i;y.inputs=kd(i.inputs),y.declaredInputs=kd(i.declaredInputs),y.outputs=kd(i.outputs);const v=c.hostBindings;v&&oD(i,v);const I=c.viewQuery,D=c.contentQueries;if(I&&Gl(i,I),D&&sD(i,D),de(i.inputs,c.inputs),de(i.declaredInputs,c.declaredInputs),de(i.outputs,c.outputs),zr(c)&&c.data.animation){const T=i.data;T.animation=(T.animation||[]).concat(c.data.animation)}}const h=c.features;if(h)for(let y=0;y<h.length;y++){const v=h[y];v&&v.ngInherit&&v(i),v===ip&&(a=!1)}}s=Object.getPrototypeOf(s)}!function ay(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const c=i[l];c.hostVars=s+=c.hostVars,c.hostAttrs=ul(c.hostAttrs,a=ul(a,c.hostAttrs))}}(l)}function kd(i){return i===nn?{}:i===F?[]:i}function Gl(i,s){const a=i.viewQuery;i.viewQuery=a?(l,c)=>{s(l,c),a(l,c)}:s}function sD(i,s){const a=i.contentQueries;i.contentQueries=a?(l,c,h)=>{s(l,c,h),a(l,c,h)}:s}function oD(i,s){const a=i.hostBindings;i.hostBindings=a?(l,c)=>{s(l,c),a(l,c)}:s}const d0=["providersResolver"],aD=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function h0(i){let a,s=c0(i.type);a=zr(i)?s.\u0275cmp:s.\u0275dir;const l=i;for(const c of d0)l[c]=a[c];if(zr(a))for(const c of aD)l[c]=a[c]}let Fd=null;function Ta(){if(!Fd){const i=kt.Symbol;if(i&&i.iterator)Fd=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Fd=l)}}}return Fd}function As(i){return!!uy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ta()in i)}function uy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ss(i,s,a){return i[s]=a}function Ld(i,s){return i[s]}function ti(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function _u(i,s,a,l){const c=ti(i,s,a);return ti(i,s+1,l)||c}function Vd(i,s,a,l,c){const h=_u(i,s,a,l);return ti(i,s+2,c)||h}function as(i,s,a,l,c,h){const y=_u(i,s,a,l);return _u(i,s+2,c,h)||y}function ly(i,s,a,l){const c=Oe();return ti(c,ua(),s)&&(Bt(),qs(rr(),c,i,s,a,l)),ly}function zl(i,s){let a=!1,l=ys();for(let h=1;h<s.length;h+=2)a=ti(i,l++,s[h])||a;if(tl(l),!a)return jt;let c=s[0];for(let h=1;h<s.length;h+=2)c+=me(s[h])+s[h+1];return c}function Aa(i,s,a,l){return ti(i,ua(),a)?s+me(a)+l:jt}function Wl(i,s,a,l,c,h){const v=_u(i,ys(),a,c);return Ni(2),v?s+me(a)+l+me(c)+h:jt}function ql(i,s,a,l,c,h,y,v){const D=Vd(i,ys(),a,c,y);return Ni(3),D?s+me(a)+l+me(c)+h+me(y)+v:jt}function vu(i,s,a,l,c,h,y,v,I,D){const P=as(i,ys(),a,c,y,I);return Ni(4),P?s+me(a)+l+me(c)+h+me(y)+v+me(I)+D:jt}function Kl(i,s,a,l,c,h,y,v,I,D,T,P){const G=ys();let te=as(i,G,a,c,y,I);return te=ti(i,G+4,T)||te,Ni(5),te?s+me(a)+l+me(c)+h+me(y)+v+me(I)+D+me(T)+P:jt}function Ud(i,s,a,l,c,h,y,v,I,D,T,P,G,te){const xe=ys();let Ye=as(i,xe,a,c,y,I);return Ye=_u(i,xe+4,T,G)||Ye,Ni(6),Ye?s+me(a)+l+me(c)+h+me(y)+v+me(I)+D+me(T)+P+me(G)+te:jt}function Zl(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye){const nt=ys();let ft=as(i,nt,a,c,y,I);return ft=Vd(i,nt+4,T,G,xe)||ft,Ni(7),ft?s+me(a)+l+me(c)+h+me(y)+v+me(I)+D+me(T)+P+me(G)+te+me(xe)+Ye:jt}function Eu(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft){const ke=ys();let Dt=as(i,ke,a,c,y,I);return Dt=as(i,ke+4,T,G,xe,nt)||Dt,Ni(8),Dt?s+me(a)+l+me(c)+h+me(y)+v+me(I)+D+me(T)+P+me(G)+te+me(xe)+Ye+me(nt)+ft:jt}function sp(i,s,a,l,c,h){const y=Oe(),v=Aa(y,s,a,l);return v!==jt&&qs(rr(),y,i,v,c,h),sp}function Bo(i,s,a,l,c,h,y,v){const I=Oe(),D=Wl(I,s,a,l,c,h);return D!==jt&&qs(rr(),I,i,D,y,v),Bo}function Sa(i,s,a,l,c,h,y,v,I,D){const T=Oe(),P=ql(T,s,a,l,c,h,y,v);return P!==jt&&qs(rr(),T,i,P,I,D),Sa}function op(i,s,a,l,c,h,y,v,I,D,T,P){const G=Oe(),te=vu(G,s,a,l,c,h,y,v,I,D);return te!==jt&&qs(rr(),G,i,te,T,P),op}function lD(i,s,a,l,c,h,y,v,I,D,T,P,G,te){const xe=Oe(),Ye=Kl(xe,s,a,l,c,h,y,v,I,D,T,P);return Ye!==jt&&qs(rr(),xe,i,Ye,G,te),lD}function p0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye){const nt=Oe(),ft=Ud(nt,s,a,l,c,h,y,v,I,D,T,P,G,te);return ft!==jt&&qs(rr(),nt,i,ft,xe,Ye),p0}function ap(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft){const ke=Oe(),Dt=Zl(ke,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye);return Dt!==jt&&qs(rr(),ke,i,Dt,nt,ft),ap}function g0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft,ke,Dt){const sn=Oe(),mn=Eu(sn,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft);return mn!==jt&&qs(rr(),sn,i,mn,ke,Dt),g0}function m0(i,s,a,l){const c=Oe(),h=zl(c,s);return h!==jt&&qs(rr(),c,i,h,a,l),m0}function y0(i,s,a,l,c,h,y,v){const I=Oe(),D=Bt(),T=i+20,P=D.firstCreatePass?function cD(i,s,a,l,c,h,y,v,I){const D=s.consts,T=Fl(s,i,4,y||null,$e(D,v));Hm(s,a,T,$e(D,I)),_s(s,T);const P=T.tViews=Da(2,T,l,c,h,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,T),P.queries=s.queries.embeddedTView(T)),T}(T,D,I,s,a,l,c,h,y):D.data[T];Qi(P,!1);const G=I[11].createComment("");vd(D,I,G,P),dt(G,I),gi(I,I[T]=Wm(G,I,G,P)),fs(P)&&Td(D,I,P),null!=y&&Ad(I,P,v)}function fS(i){return xi(function Hg(){return lt.lFrame.contextLView}(),20+i)}function Ql(i,s=vt.Default){const a=Oe();return null===a?mr(i,s):ki(Tn(),a,se(i),s)}function C0(){throw new Error("invalid")}function gy(i,s,a){const l=Oe();return ti(l,ua(),s)&&pi(Bt(),rr(),l,i,s,l[11],a,!1),gy}function my(i,s,a,l,c){const y=c?"class":"style";ey(i,a,s.inputs[y],y,l)}function jd(i,s,a,l){const c=Oe(),h=Bt(),y=20+i,v=c[11],I=c[y]=lE(v,s,function Pv(){return lt.lFrame.currentNamespace}()),D=h.firstCreatePass?function wD(i,s,a,l,c,h,y){const v=s.consts,D=Fl(s,i,2,c,$e(v,h));return Hm(s,a,D,$e(v,y)),null!==D.attrs&&tp(D,D.attrs,!1),null!==D.mergedAttrs&&tp(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,h,c,0,s,a,l):h.data[y];Qi(D,!0);const T=D.mergedAttrs;null!==T&&Uc(v,I,T);const P=D.classes;null!==P&&Am(v,I,P);const G=D.styles;return null!==G&&Tm(v,I,G),64!=(64&D.flags)&&vd(h,c,I,D),0===function Cn(){return lt.lFrame.elementDepthCount}()&&dt(I,c),function Ht(){lt.lFrame.elementDepthCount++}(),fs(D)&&(Td(h,c,D),Um(h,D,c)),null!==l&&Ad(c,D),jd}function Jl(){let i=Tn();Oc()?qa():(i=i.parent,Qi(i,!1));const s=i;!function ms(){lt.lFrame.elementDepthCount--}();const a=Bt();return a.firstCreatePass&&(_s(a,i),oo(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Lv(i){return 0!=(16&i.flags)}(s)&&my(a,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ol(i){return 0!=(32&i.flags)}(s)&&my(a,s,Oe(),s.stylesWithoutHost,!1),Jl}function pp(i,s,a,l){return jd(i,s,a,l),Jl(),pp}function Iu(i,s,a){const l=Oe(),c=Bt(),h=i+20,y=c.firstCreatePass?function A0(i,s,a,l,c){const h=s.consts,y=$e(h,l),v=Fl(s,i,8,"ng-container",y);return null!==y&&tp(v,y,!0),Hm(s,a,v,$e(h,c)),null!==s.queries&&s.queries.elementStart(s,v),v}(h,c,l,s,a):c.data[h];Qi(y,!0);const v=l[h]=l[11].createComment("");return vd(c,l,v,y),dt(v,l),fs(y)&&(Td(c,l,y),Um(c,y,l)),null!=a&&Ad(l,y),Iu}function yy(){let i=Tn();const s=Bt();return Oc()?qa():(i=i.parent,Qi(i,!1)),s.firstCreatePass&&(_s(s,i),oo(i)&&s.queries.elementEnd(i)),yy}function gp(i,s,a){return Iu(i,s,a),yy(),gp}function _y(){return Oe()}function vy(i){return!!i&&"function"==typeof i.then}function mp(i){return!!i&&"function"==typeof i.subscribe}const Ey=mp;function yp(i,s,a,l){const c=Oe(),h=Bt(),y=Tn();return S0(h,c,c[11],y,i,s,!!a,l),yp}function _p(i,s){const a=Tn(),l=Oe(),c=Bt();return S0(c,l,Xm(rl(c.data),a,l),a,i,s,!1),_p}function S0(i,s,a,l,c,h,y,v){const I=fs(l),T=i.firstCreatePass&&Rd(i),P=s[8],G=Jm(s);let te=!0;if(3&l.type||v){const nt=gr(l,s),ft=v?v(nt):nt,ke=G.length,Dt=v?sn=>v(vn(sn[l.index])):l.index;if(wn(a)){let sn=null;if(!v&&I&&(sn=function ID(i,s,a,l){const c=i.cleanup;if(null!=c)for(let h=0;h<c.length-1;h+=2){const y=c[h];if(y===a&&c[h+1]===l){const v=s[7],I=c[h+2];return v.length>I?v[I]:null}"string"==typeof y&&(h+=2)}return null}(i,s,c,l.index)),null!==sn)(sn.__ngLastListenerFn__||sn).__ngNextListenerFn__=h,sn.__ngLastListenerFn__=h,te=!1;else{h=Xl(l,s,P,h,!1);const mn=a.listen(ft,c,h);G.push(h,mn),T&&T.push(c,Dt,ke,ke+1)}}else h=Xl(l,s,P,h,!0),ft.addEventListener(c,h,y),G.push(h),T&&T.push(c,Dt,ke,y)}else h=Xl(l,s,P,h,!1);const xe=l.outputs;let Ye;if(te&&null!==xe&&(Ye=xe[c])){const nt=Ye.length;if(nt)for(let ft=0;ft<nt;ft+=2){const Di=s[Ye[ft]][Ye[ft+1]].subscribe(h),no=G.length;G.push(h,Di),T&&T.push(c,l.index,no,-(no+1))}}}function M0(i,s,a,l){try{return!1!==a(l)}catch(c){return Bl(i,c),!1}}function Xl(i,s,a,l,c){return function h(y){if(y===Function)return l;const v=2&i.flags?R(i.index,s):s;0==(32&s[2])&&ep(v);let I=M0(s,0,l,y),D=h.__ngNextListenerFn__;for(;D;)I=M0(s,0,D,y)&&I,D=D.__ngNextListenerFn__;return c&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function vp(i=1){return function qg(i){return(lt.lFrame.contextLView=function Kg(i,s){for(;i>0;)s=s[15],i--;return s}(i,lt.lFrame.contextLView))[8]}(i)}function wy(i,s){let a=null;const l=function mb(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let c=0;c<s.length;c++){const h=s[c];if("*"!==h){if(null===l?EE(i,h,!0):wE(l,h))return c}else a=c}return a}function Iy(i){const s=Oe()[16][6];if(!s.projection){const l=s.projection=vo(i?i.length:1,null),c=l.slice();let h=s.child;for(;null!==h;){const y=i?wy(h,i):0;null!==y&&(c[y]?c[y].projectionNext=h:l[y]=h,c[y]=h),h=h.next}}}function x0(i,s=0,a){const l=Oe(),c=Bt(),h=Fl(c,20+i,16,null,a||null);null===h.projection&&(h.projection=s),qa(),64!=(64&h.flags)&&function va(i,s,a){$f(s[11],0,s,a,rs(i,a,s),md(a.parent||s[6],a,s))}(c,l,h)}function R0(i,s,a){return Ep(i,"",s,"",a),R0}function Ep(i,s,a,l,c){const h=Oe(),y=Aa(h,s,a,l);return y!==jt&&pi(Bt(),rr(),h,i,y,h[11],c,!1),Ep}function $d(i,s,a,l,c,h,y){const v=Oe(),I=Wl(v,s,a,l,c,h);return I!==jt&&pi(Bt(),rr(),v,i,I,v[11],y,!1),$d}function N0(i,s,a,l,c,h,y,v,I){const D=Oe(),T=ql(D,s,a,l,c,h,y,v);return T!==jt&&pi(Bt(),rr(),D,i,T,D[11],I,!1),N0}function O0(i,s,a,l,c,h,y,v,I,D,T){const P=Oe(),G=vu(P,s,a,l,c,h,y,v,I,D);return G!==jt&&pi(Bt(),rr(),P,i,G,P[11],T,!1),O0}function P0(i,s,a,l,c,h,y,v,I,D,T,P,G){const te=Oe(),xe=Kl(te,s,a,l,c,h,y,v,I,D,T,P);return xe!==jt&&pi(Bt(),rr(),te,i,xe,te[11],G,!1),P0}function k0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe){const Ye=Oe(),nt=Ud(Ye,s,a,l,c,h,y,v,I,D,T,P,G,te);return nt!==jt&&pi(Bt(),rr(),Ye,i,nt,Ye[11],xe,!1),k0}function F0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt){const ft=Oe(),ke=Zl(ft,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye);return ke!==jt&&pi(Bt(),rr(),ft,i,ke,ft[11],nt,!1),F0}function L0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft,ke){const Dt=Oe(),sn=Eu(Dt,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft);return sn!==jt&&pi(Bt(),rr(),Dt,i,sn,Dt[11],ke,!1),L0}function V0(i,s,a){const l=Oe(),c=zl(l,s);return c!==jt&&pi(Bt(),rr(),l,i,c,l[11],a,!1),V0}function Hd(i,s,a,l,c){const h=i[a+1],y=null===s;let v=l?ss(h):ko(h),I=!1;for(;0!==v&&(!1===I||y);){const T=i[v+1];U0(i[v],s)&&(I=!0,i[v+1]=l?zf(T):xm(T)),v=l?ss(T):ko(T)}I&&(i[a+1]=l?xm(h):zf(h))}function U0(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&ru(i,s)>=0}const _r={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function wp(i){return i.substring(_r.key,_r.keyEnd)}function CD(i){return i.substring(_r.value,_r.valueEnd)}function B0(i,s){const a=_r.textEnd;return a===s?-1:(s=_r.keyEnd=function $0(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,_r.key=s,a),bu(i,s,a))}function by(i,s){const a=_r.textEnd;let l=_r.key=bu(i,s,a);return a===l?-1:(l=_r.keyEnd=function ES(i,s,a){let l;for(;s<a&&(45===(l=i.charCodeAt(s))||95===l||(-33&l)>=65&&(-33&l)<=90||l>=48&&l<=57);)s++;return s}(i,l,a),l=H0(i,l,a),l=_r.value=bu(i,l,a),l=_r.valueEnd=function wS(i,s,a){let l=-1,c=-1,h=-1,y=s,v=y;for(;y<a;){const I=i.charCodeAt(y++);if(59===I)return v;34===I||39===I?v=y=AD(i,I,y,a):s===y-4&&85===h&&82===c&&76===l&&40===I?v=y=AD(i,41,y,a):I>32&&(v=y),h=c,c=l,l=-33&I}return v}(i,l,a),H0(i,l,a))}function Dy(i){_r.key=0,_r.keyEnd=0,_r.value=0,_r.valueEnd=0,_r.textEnd=i.length}function bu(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function H0(i,s,a,l){return(s=bu(i,s,a))<a&&s++,s}function AD(i,s,a,l){let c=-1,h=a;for(;h<l;){const y=i.charCodeAt(h++);if(y==s&&92!==c)return h;c=92==y&&92===c?0:y}throw new Error}function SD(i,s,a){return yi(i,s,a,!1),SD}function Cy(i,s){return yi(i,s,null,!0),Cy}function Ms(i){Qs(kD,MD,i,!1)}function MD(i,s){for(let a=function j0(i){return Dy(i),by(i,bu(i,0,_r.textEnd))}(s);a>=0;a=by(s,a))kD(i,wp(s),CD(s))}function z0(i){Qs(di,us,i,!0)}function us(i,s){for(let a=function TD(i){return Dy(i),B0(i,bu(i,0,_r.textEnd))}(s);a>=0;a=B0(s,a))di(i,wp(s),!0)}function yi(i,s,a,l){const c=Oe(),h=Bt(),y=Ni(2);h.firstUpdatePass&&xD(h,i,y,l),s!==jt&&ti(c,y,s)&&FD(h,h.data[Nr()],c,c[11],i,c[y+1]=function Gd(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=le(Ds(i)))),i}(s,a),l,y)}function Qs(i,s,a,l){const c=Bt(),h=Ni(2);c.firstUpdatePass&&xD(c,null,h,l);const y=Oe();if(a!==jt&&ti(y,h,a)){const v=c.data[Nr()];if(q0(v,l)&&!Ip(c,h)){let I=l?v.classesWithoutHost:v.stylesWithoutHost;null!==I&&(a=ge(I,a||"")),my(c,v,y,a,l)}else!function bS(i,s,a,l,c,h,y,v){c===jt&&(c=F);let I=0,D=0,T=0<c.length?c[0]:null,P=0<h.length?h[0]:null;for(;null!==T||null!==P;){const G=I<c.length?c[I+1]:void 0,te=D<h.length?h[D+1]:void 0;let Ye,xe=null;T===P?(I+=2,D+=2,G!==te&&(xe=P,Ye=te)):null===P||null!==T&&T<P?(I+=2,xe=T):(D+=2,xe=P,Ye=te),null!==xe&&FD(i,s,a,l,xe,Ye,y,v),T=I<c.length?c[I]:null,P=D<h.length?h[D]:null}}(c,v,y,y[11],y[h+1],y[h+1]=function PD(i,s,a){if(null==a||""===a)return F;const l=[],c=Ds(a);if(Array.isArray(c))for(let h=0;h<c.length;h++)i(l,c[h],!0);else if("object"==typeof c)for(const h in c)c.hasOwnProperty(h)&&i(l,h,c[h]);else"string"==typeof c&&s(l,c);return l}(i,s,a),l,h)}}function Ip(i,s){return s>=i.expandoStartIndex}function xD(i,s,a,l){const c=i.data;if(null===c[a+1]){const h=c[Nr()],y=Ip(i,a);q0(h,l)&&null===s&&!y&&(s=!1),s=function RD(i,s,a,l){const c=rl(i);let h=l?s.residualClasses:s.residualStyles;if(null===c)0===(l?s.classBindings:s.styleBindings)&&(a=bp(a=W0(null,i,s,a,l),s.attrs,l),h=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==c)if(a=W0(c,i,s,a,l),null===h){let I=function IS(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==ko(l))return i[ss(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=W0(null,i,s,I[1],l),I=bp(I,s.attrs,l),function ND(i,s,a,l){i[ss(a?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else h=function OD(i,s,a){let l;const c=s.directiveEnd;for(let h=1+s.directiveStylingLast;h<c;h++)l=bp(l,i[h].hostAttrs,a);return bp(l,s.attrs,a)}(i,s,l)}return void 0!==h&&(l?s.residualClasses=h:s.residualStyles=h),a}(c,h,s,l),function bD(i,s,a,l,c,h){let y=h?s.classBindings:s.styleBindings,v=ss(y),I=ko(y);i[l]=a;let T,D=!1;if(Array.isArray(a)){const P=a;T=P[1],(null===T||ru(P,T)>0)&&(D=!0)}else T=a;if(c)if(0!==I){const G=ss(i[v+1]);i[l+1]=Po(G,v),0!==G&&(i[G+1]=os(i[G+1],l)),i[v+1]=function Ib(i,s){return 131071&i|s<<17}(i[v+1],l)}else i[l+1]=Po(v,0),0!==v&&(i[v+1]=os(i[v+1],l)),v=l;else i[l+1]=Po(I,0),0===v?v=l:i[I+1]=os(i[I+1],l),I=l;D&&(i[l+1]=xm(i[l+1])),Hd(i,T,l,!0),Hd(i,T,l,!1),function DD(i,s,a,l,c){const h=c?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof s&&ru(h,s)>=0&&(a[l+1]=zf(a[l+1]))}(s,T,i,l,h),y=Po(v,I),h?s.classBindings=y:s.styleBindings=y}(c,h,s,a,y,l)}}function W0(i,s,a,l,c){let h=null;const y=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<y&&(h=s[v],l=bp(l,h.hostAttrs,c),h!==i);)v++;return null!==i&&(a.directiveStylingLast=v),l}function bp(i,s,a){const l=a?1:2;let c=-1;if(null!==s)for(let h=0;h<s.length;h++){const y=s[h];"number"==typeof y?c=y:c===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),di(i,y,!!a||s[++h]))}return void 0===i?null:i}function kD(i,s,a){di(i,s,Ds(a))}function FD(i,s,a,l,c,h,y,v){if(!(3&s.type))return;const I=i.data,D=I[v+1];Ty(function Rm(i){return 1==(1&i)}(D)?LD(I,s,a,c,ko(D),y):void 0)||(Ty(h)||function Gf(i){return 2==(2&i)}(D)&&(h=LD(I,null,a,c,v,y)),function pb(i,s,a,l,c){const h=wn(i);if(s)c?h?i.addClass(a,l):a.classList.add(l):h?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:xo.DashCase;if(null==c)h?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),y|=xo.Important),h?i.setStyle(a,l,c,y):a.style.setProperty(l,c,v?"important":"")}}}(l,y,sa(Nr(),a),c,h))}function LD(i,s,a,l,c,h){const y=null===s;let v;for(;c>0;){const I=i[c],D=Array.isArray(I),T=D?I[1]:I,P=null===T;let G=a[c+1];G===jt&&(G=P?F:void 0);let te=P?gf(G,l):T===l?G:void 0;if(D&&!Ty(te)&&(te=gf(I,l)),Ty(te)&&(v=te,y))return v;const xe=i[c+1];c=y?ss(xe):ko(xe)}if(null!==s){let I=h?s.residualClasses:s.residualStyles;null!=I&&(v=gf(I,l))}return v}function Ty(i){return void 0!==i}function q0(i,s){return 0!=(i.flags&(s?16:32))}function Ay(i,s=""){const a=Oe(),l=Bt(),c=i+20,h=l.firstCreatePass?Fl(l,c,1,s,null):l.data[c],y=a[c]=aE(a[11],s);vd(l,a,y,h),Qi(h,!1)}function Dp(i){return zd("",i,""),Dp}function zd(i,s,a){const l=Oe(),c=Aa(l,i,s,a);return c!==jt&&Uo(l,Nr(),c),zd}function Sy(i,s,a,l,c){const h=Oe(),y=Wl(h,i,s,a,l,c);return y!==jt&&Uo(h,Nr(),y),Sy}function My(i,s,a,l,c,h,y){const v=Oe(),I=ql(v,i,s,a,l,c,h,y);return I!==jt&&Uo(v,Nr(),I),My}function xy(i,s,a,l,c,h,y,v,I){const D=Oe(),T=vu(D,i,s,a,l,c,h,y,v,I);return T!==jt&&Uo(D,Nr(),T),xy}function Ry(i,s,a,l,c,h,y,v,I,D,T){const P=Oe(),G=Kl(P,i,s,a,l,c,h,y,v,I,D,T);return G!==jt&&Uo(P,Nr(),G),Ry}function Cp(i,s,a,l,c,h,y,v,I,D,T,P,G){const te=Oe(),xe=Ud(te,i,s,a,l,c,h,y,v,I,D,T,P,G);return xe!==jt&&Uo(te,Nr(),xe),Cp}function VD(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe){const Ye=Oe(),nt=Zl(Ye,i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe);return nt!==jt&&Uo(Ye,Nr(),nt),VD}function K0(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt){const ft=Oe(),ke=Eu(ft,i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt);return ke!==jt&&Uo(ft,Nr(),ke),K0}function Ny(i){const s=Oe(),a=zl(s,i);return a!==jt&&Uo(s,Nr(),a),Ny}function UD(i,s,a){Qs(di,us,Aa(Oe(),i,s,a),!0)}function Tp(i,s,a,l,c){Qs(di,us,Wl(Oe(),i,s,a,l,c),!0)}function Oy(i,s,a,l,c,h,y){Qs(di,us,ql(Oe(),i,s,a,l,c,h,y),!0)}function Z0(i,s,a,l,c,h,y,v,I){Qs(di,us,vu(Oe(),i,s,a,l,c,h,y,v,I),!0)}function BD(i,s,a,l,c,h,y,v,I,D,T){Qs(di,us,Kl(Oe(),i,s,a,l,c,h,y,v,I,D,T),!0)}function DS(i,s,a,l,c,h,y,v,I,D,T,P,G){Qs(di,us,Ud(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G),!0)}function CS(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe){Qs(di,us,Zl(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe),!0)}function TS(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt){Qs(di,us,Eu(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt),!0)}function AS(i){Qs(di,us,zl(Oe(),i),!0)}function SS(i,s,a){Ms(Aa(Oe(),i,s,a))}function MS(i,s,a,l,c){Ms(Wl(Oe(),i,s,a,l,c))}function xS(i,s,a,l,c,h,y){Ms(ql(Oe(),i,s,a,l,c,h,y))}function RS(i,s,a,l,c,h,y,v,I){Ms(vu(Oe(),i,s,a,l,c,h,y,v,I))}function NS(i,s,a,l,c,h,y,v,I,D,T){Ms(Kl(Oe(),i,s,a,l,c,h,y,v,I,D,T))}function OS(i,s,a,l,c,h,y,v,I,D,T,P,G){Ms(Ud(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G))}function PS(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe){Ms(Zl(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe))}function jD(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt){Ms(Eu(Oe(),i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt))}function $D(i){Ms(zl(Oe(),i))}function Y0(i,s,a,l,c){return yi(i,Aa(Oe(),s,a,l),c,!1),Y0}function Q0(i,s,a,l,c,h,y){return yi(i,Wl(Oe(),s,a,l,c,h),y,!1),Q0}function J0(i,s,a,l,c,h,y,v,I){return yi(i,ql(Oe(),s,a,l,c,h,y,v),I,!1),J0}function Py(i,s,a,l,c,h,y,v,I,D,T){return yi(i,vu(Oe(),s,a,l,c,h,y,v,I,D),T,!1),Py}function X0(i,s,a,l,c,h,y,v,I,D,T,P,G){return yi(i,Kl(Oe(),s,a,l,c,h,y,v,I,D,T,P),G,!1),X0}function Ap(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe){return yi(i,Ud(Oe(),s,a,l,c,h,y,v,I,D,T,P,G,te),xe,!1),Ap}function ew(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt){return yi(i,Zl(Oe(),s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye),nt,!1),ew}function tw(i,s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft,ke){return yi(i,Eu(Oe(),s,a,l,c,h,y,v,I,D,T,P,G,te,xe,Ye,nt,ft),ke,!1),tw}function ec(i,s,a){return yi(i,zl(Oe(),s),a,!1),ec}function ky(i,s,a){const l=Oe();return ti(l,ua(),s)&&pi(Bt(),rr(),l,i,s,l[11],a,!0),ky}function HD(i,s,a){const l=Oe();if(ti(l,ua(),s)){const h=Bt(),y=rr();pi(h,y,l,i,s,Xm(rl(h.data),y,l),a,!0)}return HD}const Du=void 0;var zD=["en",[["a","p"],["AM","PM"],Du],[["AM","PM"],Du,Du],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Du,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Du,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Du,"{1} 'at' {0}",Du],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GD(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ma={};function Fy(i){const s=function LS(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=nw(s);if(a)return a;const l=s.split("-")[0];if(a=nw(l),a)return a;if("en"===l)return zD;throw new Error(`Missing locale data for the locale "${i}".`)}function Sp(i){return Fy(i)[At.PluralCase]}function nw(i){return i in Ma||(Ma[i]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[i]),Ma[i]}var At=(()=>((At=At||{})[At.LocaleId=0]="LocaleId",At[At.DayPeriodsFormat=1]="DayPeriodsFormat",At[At.DayPeriodsStandalone=2]="DayPeriodsStandalone",At[At.DaysFormat=3]="DaysFormat",At[At.DaysStandalone=4]="DaysStandalone",At[At.MonthsFormat=5]="MonthsFormat",At[At.MonthsStandalone=6]="MonthsStandalone",At[At.Eras=7]="Eras",At[At.FirstDayOfWeek=8]="FirstDayOfWeek",At[At.WeekendRange=9]="WeekendRange",At[At.DateFormat=10]="DateFormat",At[At.TimeFormat=11]="TimeFormat",At[At.DateTimeFormat=12]="DateTimeFormat",At[At.NumberSymbols=13]="NumberSymbols",At[At.NumberFormats=14]="NumberFormats",At[At.CurrencyCode=15]="CurrencyCode",At[At.CurrencySymbol=16]="CurrencySymbol",At[At.CurrencyName=17]="CurrencyName",At[At.Currencies=18]="Currencies",At[At.Directionality=19]="Directionality",At[At.PluralCase=20]="PluralCase",At[At.ExtraData=21]="ExtraData",At))();const WD=["zero","one","two","few","many"],Mp="en-US",xp={marker:"element"},Rp={marker:"ICU"};var sr=(()=>((sr=sr||{})[sr.SHIFT=2]="SHIFT",sr[sr.APPEND_EAGERLY=1]="APPEND_EAGERLY",sr[sr.COMMENT=2]="COMMENT",sr))();let rw=Mp;function iw(i,s,a){const l=s.insertBeforeIndex,c=Array.isArray(l)?l[0]:l;return null===c?yd(i,0,a):vn(a[c])}function Ly(i,s,a,l,c){const h=s.insertBeforeIndex;if(Array.isArray(h)){let y=l,v=null;if(3&s.type||(v=y,y=c),null!==y&&0==(2&s.flags))for(let I=1;I<h.length;I++)fu(i,y,a[h[I]],v,!1)}}function Wd(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];sw(l)||qd(l,s)&&null===ow(l)&&YD(l,s.index)}}function sw(i){return!(64&i.type)}function qd(i,s){return sw(s)||i.index>s.index}function ow(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function YD(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Dm(iw,Ly),i.insertBeforeIndex=s)}function Kd(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function BS(i,s,a){const l=ba(i,a,64,null,null);return Wd(s,l),l}function Np(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function aw(i){return i>>>17}function Js(i){return(131070&i)>>>1}let Rt=0,xa=0;function Op(i,s,a,l){const c=a[11];let y,h=null;for(let v=0;v<s.length;v++){const I=s[v];if("string"==typeof I){const D=s[++v];null===a[D]&&(a[D]=aE(c,I))}else if("number"==typeof I)switch(1&I){case 0:const D=aw(I);let T,P;if(null===h&&(h=D,y=pu(c,l)),D===h?(T=l,P=y):(T=null,P=vn(a[D])),null!==P){const Ye=Js(I);fu(c,P,a[Ye],T,!1);const ft=Kd(i,Ye);if(null!==ft&&"object"==typeof ft){const ke=Np(ft,a);null!==ke&&Op(i,ft.create[ke],a,a[ft.anchorIdx])}}break;case 1:const te=s[++v],xe=s[++v];yu(c,sa(I>>>1,a),null,null,te,xe,null)}else switch(I){case Rp:const D=s[++v],T=s[++v];null===a[T]&&dt(a[T]=db(c,D),a);break;case xp:const P=s[++v],G=s[++v];null===a[G]&&dt(a[G]=lE(c,P,null),a)}}}function uw(i,s,a,l,c){for(let h=0;h<a.length;h++){const y=a[h],v=a[++h];if(y&c){let I="";for(let D=h+1;D<=h+v;D++){const T=a[D];if("string"==typeof T)I+=T;else if("number"==typeof T)if(T<0)I+=me(s[l-T]);else{const P=T>>>2;switch(3&T){case 1:const G=a[++D],te=a[++D],xe=i.data[P];"string"==typeof xe?yu(s[11],s[P],null,xe,G,I,te):pi(i,xe,s,G,I,s[11],te,!1);break;case 0:const Ye=s[P];null!==Ye&&uE(s[11],Ye,I);break;case 2:eC(i,Kd(i,P),s,I);break;case 3:lw(i,Kd(i,P),l,s)}}}}else{const I=a[h+1];if(I>0&&3==(3&I)){const T=Kd(i,I>>>2);s[T.currentCaseLViewIndex]<0&&lw(i,T,l,s)}}h+=v}}function lw(i,s,a,l){let c=l[s.currentCaseLViewIndex];if(null!==c){let h=Rt;c<0&&(c=l[s.currentCaseLViewIndex]=~c,h=-1),uw(i,l,s.update[c],a,h)}}function eC(i,s,a,l){const c=function Pp(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function VS(i,s){const a=Sp(s)(parseInt(i,10)),l=WD[a];return void 0!==l?l:"other"}(s,function ZD(){return rw}());a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(Np(s,a)!==c&&(kr(i,s,a),a[s.currentCaseLViewIndex]=null===c?null:~c,null!==c)){const y=a[s.anchorIdx];y&&Op(i,s.create[c],a,y)}}function kr(i,s,a){let l=Np(s,a);if(null!==l){const c=s.remove[l];for(let h=0;h<c.length;h++){const y=c[h];if(y>0){const v=sa(y,a);null!==v&&Rl(a[11],v)}else kr(i,Kd(i,~y),a)}}}function qr(){const i=[];let a,l,s=-1;function h(v,I){s=0;const D=Np(v,I);l=null!==D?v.remove[D]:F}function y(){if(s<l.length){const v=l[s++];return v>0?a[v]:(i.push(s,l),h(a[1].data[~v],a),y())}return 0===i.length?null:(l=i.pop(),s=i.pop(),y())}return function c(v,I){for(a=I;i.length;)i.pop();return h(v.value,I),y}}const kp=/\ufffd(\d+):?\d*\ufffd/gi,cw=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,jy=/\ufffd(\d+)\ufffd/,Yd=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,_i=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,$y=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vi=/\uE500/g;function Fp(i,s,a,l,c,h,y){const v=gu(i,l,1,null);let I=v<<sr.SHIFT,D=Vs();s===D&&(D=null),null===D&&(I|=sr.APPEND_EAGERLY),y&&(I|=sr.COMMENT,function cb(i){void 0===iE&&(iE=i())}(qr)),c.push(I,null===h?"":h);const T=ba(i,v,y?32:1,null===h?"":h,null);Wd(a,T);const P=T.index;return Qi(T,!1),null!==D&&s!==D&&function JD(i,s){let a=i.insertBeforeIndex;null===a?(Dm(iw,Ly),a=i.insertBeforeIndex=[null,s]):(function Se(i,s,a){i!=s&&Qe(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(D,P),T}function fw(i,s,a,l,c,h,y){const v=y.match(kp),I=Fp(i,s,a,h,l,v?null:y,!1);v&&Tu(c,y,I.index,null,0,null)}function Tu(i,s,a,l,c,h){const y=i.length,v=y+1;i.push(null,null);const I=y+2,D=s.split(kp);let T=0;for(let P=0;P<D.length;P++){const G=D[P];if(1&P){const te=c+parseInt(G,10);i.push(-1-te),T|=gw(te)}else""!==G&&i.push(G)}return i.push(a<<2|(l?1:0)),l&&i.push(l,h),i[y]=T,i[v]=i.length-I,T}function Hy(i){let s=0;for(let a=0;a<i.length;a++){const l=i[a];"number"==typeof l&&l<0&&s++}return s}function gw(i){return 1<<Math.min(i,31)}function Au(i){let s,h,a="",l=0,c=!1;for(;null!==(s=_i.exec(i));)c?s[0]===`\ufffd/*${h}\ufffd`&&(l=s.index,c=!1):(a+=i.substring(l,s.index+s[0].length),h=s[1],c=!0);return a+=i.substr(l),a}function Lp(i,s,a,l,c,h){let y=0;const v={type:c.type,currentCaseLViewIndex:gu(i,s,1,null),anchorIdx:h,cases:[],create:[],remove:[],update:[]};(function Wy(i,s,a){i.push(gw(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,c,h),function QD(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,h,v);const I=c.values;for(let D=0;D<I.length;D++){const T=I[D],P=[];for(let G=0;G<T.length;G++){const te=T[G];if("string"!=typeof te){const xe=P.push(te)-1;T[G]=`\x3c!--\ufffd${xe}\ufffd--\x3e`}}y=_w(i,v,s,a,l,c.cases[D],T.join(""),P)|y}y&&function rC(i,s,a){i.push(s,1,a<<2|3)}(a,y,h)}function yw(i){const s=[],a=[];let l=1,c=0;const h=Gy(i=i.replace(Yd,function(y,v,I){return l="select"===I?0:1,c=parseInt(v.substr(1),10),""}));for(let y=0;y<h.length;){let v=h[y++].trim();1===l&&(v=v.replace(/\s*(?:=)?(\w+)\s*/,"$1")),v.length&&s.push(v);const I=Gy(h[y++]);s.length>a.length&&a.push(I)}return{type:l,mainBinding:c,cases:s,values:a}}function Gy(i){if(!i)return[];let s=0;const a=[],l=[],c=/[{}]/g;let h;for(c.lastIndex=0;h=c.exec(i);){const v=h.index;if("}"==h[0]){if(a.pop(),0==a.length){const I=i.substring(s,v);Yd.test(I)?l.push(yw(I)):l.push(I),s=v+1}}else{if(0==a.length){const I=i.substring(s,v);l.push(I),s=v+1}a.push("{")}}const y=i.substring(s);return l.push(y),l}function _w(i,s,a,l,c,h,y,v){const I=[],D=[],T=[];s.cases.push(h),s.create.push(I),s.remove.push(D),s.update.push(T);const G=sd(Ki()).getInertBodyElement(y),te=Ao(G)||G;return te?Qd(i,s,a,l,I,D,T,te,c,v,0):0}function Qd(i,s,a,l,c,h,y,v,I,D,T){let P=0,G=v.firstChild;for(;G;){const te=gu(i,a,1,null);switch(G.nodeType){case Node.ELEMENT_NODE:const xe=G,Ye=xe.tagName.toLowerCase();if(Vi.hasOwnProperty(Ye)){qy(c,xp,Ye,I,te),i.data[te]=Ye;const Dt=xe.attributes;for(let sn=0;sn<Dt.length;sn++){const mn=Dt.item(sn),Di=mn.name.toLowerCase();mn.value.match(kp)?Tl.hasOwnProperty(Di)&&Tu(y,mn.value,te,mn.name,0,Ii[Di]?m:_a[Di]?w:null):Ky(c,te,mn)}P=Qd(i,s,a,l,c,h,y,G,te,D,T+1)|P,Vp(h,te,T)}break;case Node.TEXT_NODE:const nt=G.textContent||"",ft=nt.match(kp);qy(c,null,ft?"":nt,I,te),Vp(h,te,T),ft&&(P=Tu(y,nt,te,null,0,null)|P);break;case Node.COMMENT_NODE:const ke=jy.exec(G.textContent||"");if(ke){const sn=D[parseInt(ke[1],10)];qy(c,Rp,"",I,te),Lp(i,a,l,I,sn,te),zy(h,te,T)}}G=G.nextSibling}return P}function Vp(i,s,a){0===a&&i.push(s)}function zy(i,s,a){0===a&&(i.push(~s),i.push(s))}function qy(i,s,a,l,c){null!==s&&i.push(s),i.push(a,c,function Vy(i,s,a){return i|s<<17|a<<1}(0,l,c))}function Ky(i,s,a){i.push(s<<1|1,a.name,a.value)}const iC=/\[(\ufffd.+?\ufffd?)\]/,sC=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,ni=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,Jd=/{([A-Z0-9_]+)}/g,oC=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Xd=/\/\*/,aC=/\d+\:(\d+)/;function eh(i,s,a=-1){const l=Bt(),c=Oe(),h=20+i,y=$e(l.consts,s),v=Vs();l.firstCreatePass&&function hw(i,s,a,l,c,h){const y=Vs(),v=[],I=[],D=[[]];c=function mw(i,s){if(function nC(i){return-1===i}(s))return Au(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Au(i.substring(a,l))}}(c,h);const T=function dw(i){return i.replace(vi," ")}(c).split($y);for(let P=0;P<T.length;P++){let G=T[P];if(0==(1&P)){const te=Gy(G);for(let xe=0;xe<te.length;xe++){let Ye=te[xe];if(0==(1&xe)){const nt=Ye;""!==nt&&fw(i,y,D[0],v,I,a,nt)}else{const nt=Ye;if("object"!=typeof nt)throw new Error(`Unable to parse ICU expression in "${c}" message.`);Lp(i,a,I,s,nt,Fp(i,y,D[0],a,v,"",!0).index)}}}else{const te=47===G.charCodeAt(0),Ye=(G.charCodeAt(te?1:0),20+Number.parseInt(G.substring(te?2:1)));if(te)D.shift(),Qi(Vs(),!1);else{const nt=BS(i,D[0],Ye);D.unshift([]),Qi(nt,!0)}}}i.data[l]={create:v,update:I}}(l,null===v?0:v.index,c,h,y,a);const I=l.data[h],T=xl(l,v===c[6]?null:v,c);(function XD(i,s,a,l){const c=i[11];for(let h=0;h<s.length;h++){const y=s[h++],v=s[h],I=(y&sr.COMMENT)===sr.COMMENT,D=(y&sr.APPEND_EAGERLY)===sr.APPEND_EAGERLY,T=y>>>sr.SHIFT;let P=i[T];null===P&&(P=i[T]=I?c.createComment(v):aE(c,v)),D&&null!==a&&fu(c,a,P,l,!1)}})(c,I.create,T,v&&8&v.type?c[v.index]:null),nl(!0)}function th(){nl(!1)}function Yy(i,s,a){eh(i,s,a),th()}function Qy(i,s){const a=Bt();!function pw(i,s,a){const c=Tn().index,h=[];if(i.firstCreatePass&&null===i.data[s]){for(let y=0;y<a.length;y+=2){const v=a[y],I=a[y+1];if(""!==I){if(cw.test(I))throw new Error(`ICU expressions are not supported in attributes. Message: "${I}".`);Tu(h,I,c,v,Hy(h),null)}}i.data[s]=h}}(a,i+20,$e(a.consts,s))}function Up(i){return function Uy(i){i&&(Rt|=1<<Math.min(xa,31)),xa++}(ti(Oe(),ua(),i)),Up}function Jy(i){!function Zd(i,s,a){if(xa>0){const l=i.data[a];uw(i,s,Array.isArray(l)?l:l.update,ys()-xa-1,Rt)}Rt=0,xa=0}(Bt(),Oe(),i+20)}function vw(i,s={}){return function uC(i,s={}){let a=i;if(iC.test(i)){const l={},c=[0];a=a.replace(sC,(h,y,v)=>{const I=y||v,D=l[I]||[];if(D.length||(I.split("|").forEach(Ye=>{const nt=Ye.match(aC),ft=nt?parseInt(nt[1],10):0,ke=Xd.test(Ye);D.push([ft,ke,Ye])}),l[I]=D),!D.length)throw new Error(`i18n postprocess: unmatched placeholder - ${I}`);const T=c[c.length-1];let P=0;for(let Ye=0;Ye<D.length;Ye++)if(D[Ye][0]===T){P=Ye;break}const[G,te,xe]=D[P];return te?c.pop():T!==G&&c.push(G),D.splice(P,1),xe})}return Object.keys(s).length&&(a=a.replace(ni,(l,c,h,y,v,I)=>s.hasOwnProperty(h)?`${c}${s[h]}${I}`:l),a=a.replace(Jd,(l,c)=>s.hasOwnProperty(c)?s[c]:l),a=a.replace(oC,(l,c)=>{if(s.hasOwnProperty(c)){const h=s[c];if(!h.length)throw new Error(`i18n postprocess: unmatched ICU - ${l} with key: ${c}`);return h.shift()}return l})),a}(i,s)}function Xy(i,s,a,l,c){if(i=se(i),Array.isArray(i))for(let h=0;h<i.length;h++)Xy(i[h],s,a,l,c);else{const h=Bt(),y=Oe();let v=Hl(i)?i:se(i.provide),I=qE(i);const D=Tn(),T=1048575&D.providerIndexes,P=D.directiveStart,G=D.providerIndexes>>20;if(Hl(i)||!i.multi){const te=new la(I,c,Ql),xe=nh(v,s,c?T:T+G,P);-1===xe?(fa(wi(D,y),h,v),Bp(h,i,s.length),s.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),a.push(te),y.push(te)):(a[xe]=te,y[xe]=te)}else{const te=nh(v,s,T+G,P),xe=nh(v,s,T,T+G),Ye=te>=0&&a[te],nt=xe>=0&&a[xe];if(c&&!nt||!c&&!Ye){fa(wi(D,y),h,v);const ft=function t_(i,s,a,l,c){const h=new la(i,a,Ql);return h.multi=[],h.index=s,h.componentProviders=0,e_(h,c,l&&!a),h}(c?lC:ww,a.length,c,l,I);!c&&nt&&(a[xe].providerFactory=ft),Bp(h,i,s.length,0),s.push(v),D.directiveStart++,D.directiveEnd++,c&&(D.providerIndexes+=1048576),a.push(ft),y.push(ft)}else Bp(h,i,te>-1?te:xe,e_(a[c?xe:te],I,!c&&l));!c&&l&&nt&&a[xe].componentProviders++}}}function Bp(i,s,a,l){const c=Hl(s),h=function Qb(i){return!!i.useClass}(s);if(c||h){const I=(h?se(s.useClass):s).prototype.ngOnDestroy;if(I){const D=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const T=D.indexOf(a);-1===T?D.push(a,[l,I]):D[T+1].push(l,I)}else D.push(a,I)}}}function e_(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function nh(i,s,a,l){for(let c=a;c<l;c++)if(s[c]===i)return c;return-1}function ww(i,s,a,l){return rh(this.multi,[])}function lC(i,s,a,l){const c=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=ci(a,a[1],this.providerFactory.index,l);h=v.slice(0,y),rh(c,h);for(let I=y;I<v.length;I++)h.push(v[I])}else h=[],rh(c,h);return h}function rh(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function jp(i,s=[]){return a=>{a.providersResolver=(l,c)=>function Ew(i,s,a){const l=Bt();if(l.firstCreatePass){const c=zr(i);Xy(a,l.data,l.blueprint,c,!0),Xy(s,l.data,l.blueprint,c,!1)}}(l,c?c(i):i,s)}}class Lr{}class cC{resolveComponentFactory(s){throw function $p(i){const s=Error(`No component factory found for ${le(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let ih=(()=>{class i{}return i.NULL=new cC,i})();function dC(){return nc(Tn(),Oe())}function nc(i,s){return new Su(gr(i,s))}let Su=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=dC,i})();function n_(i){return i instanceof Su?i.nativeElement:i}class Gp{}let Iw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function zp(){const i=Oe(),a=R(Tn().index,i);return function hC(i){return i[11]}(xr(a)?a:i)}(),i})(),r_=(()=>{class i{}return i.\u0275prov=Zt({token:i,providedIn:"root",factory:()=>null}),i})();class Wp{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const i_=new Wp("13.3.9"),s_={};function Ra(i,s,a,l,c=!1){for(;null!==a;){const h=s[a.index];if(null!==h&&l.push(vn(h)),Rr(h))for(let v=10;v<h.length;v++){const I=h[v],D=I[1].firstChild;null!==D&&Ra(I[1],I,D,l)}const y=a.type;if(8&y)Ra(i,s,a.child,l);else if(32&y){const v=sE(a,s);let I;for(;I=v();)l.push(I)}else if(16&y){const v=mE(s,a);if(Array.isArray(v))l.push(...v);else{const I=Ml(s[16]);Ra(I[1],I,v,l,!0)}}a=c?a.projectionNext:a.next}return l}class rc{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Ra(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Rr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(bm(s,l),pa(a,l))}this._attachedToViewContainer=!1}dE(this._lView[1],this._lView)}onDestroy(s){Ll(this._lView[1],this._lView,null,s)}markForCheck(){ep(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Ul(i,s,a){const l=s[10];l.begin&&l.begin();try{Lo(i,s,i.template,a)}catch(c){throw Bl(s,c),c}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ue(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function hu(i,s){No(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Ue(902,"");this._appRef=s}}class bw extends rc{constructor(s){super(s),this._view=s}detectChanges(){HE(this._view)}checkNoChanges(){}get context(){return null}}class o_ extends ih{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=ut(s);return new Na(a,this.ngModule)}}function sh(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class Na extends Lr{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Eb(i){return i.map(vb).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return sh(this.componentDef.inputs)}get outputs(){return sh(this.componentDef.outputs)}create(s,a,l,c){const h=(c=c||this.ngModule)?function pC(i,s){return{get:(a,l,c)=>{const h=i.get(a,s_,c);return h!==s_||l===s_?h:s.get(a,l,c)}}}(s,c.injector):s,y=h.get(Gp,ra),v=h.get(r_,null),I=y.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",T=l?function Sd(i,s,a){if(wn(i))return i.selectRootElement(s,a===Pt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):lE(y.createRenderer(null,this.componentDef),D,function fC(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?Rc:null}(D)),P=this.componentDef.onPush?576:528,G=function l0(i,s){return{components:[],scheduler:i||wm,clean:GE,playerHandler:s||null,flags:0}}(),te=Da(0,null,null,1,0,null,null,null,null,null),xe=kl(null,te,G,P,null,null,y,I,v,h);let Ye,nt;il(xe);try{const ft=function u0(i,s,a,l,c,h){const y=a[1];a[20]=i;const I=Fl(y,20,2,"#host",null),D=I.mergedAttrs=s.hostAttrs;null!==D&&(tp(I,D,!0),null!==i&&(Uc(c,i,D),null!==I.classes&&Am(c,i,I.classes),null!==I.styles&&Tm(c,i,I.styles)));const T=l.createRenderer(i,s),P=kl(a,PE(s),null,s.onPush?64:16,a[20],I,l,T,h||null,null);return y.firstCreatePass&&(fa(wi(I,a),y,s.type),Vo(y,I),UE(I,a.length,1)),gi(a,P),a[20]=P}(T,this.componentDef,xe,y,I);if(T)if(l)Uc(I,T,["ng-version",i_.full]);else{const{attrs:ke,classes:Dt}=function wb(i){const s=[],a=[];let l=1,c=2;for(;l<i.length;){let h=i[l];if("string"==typeof h)2===c?""!==h&&s.push(h,i[++l]):8===c&&a.push(h);else{if(!Cs(c))break;c=h}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);ke&&Uc(I,T,ke),Dt&&Dt.length>0&&Am(I,T,Dt.join(" "))}if(nt=po(te,20),void 0!==a){const ke=nt.projection=[];for(let Dt=0;Dt<this.ngContentSelectors.length;Dt++){const sn=a[Dt];ke.push(null!=sn?Array.from(sn):null)}}Ye=function oy(i,s,a,l,c){const h=a[1],y=function $m(i,s,a){const l=Tn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),BE(i,l,s,gu(i,s,1,null),a));const c=ci(s,i,l.directiveStart,l);dt(c,s);const h=gr(l,s);return h&&dt(h,s),c}(h,a,s);if(l.components.push(y),i[8]=y,c&&c.forEach(I=>I(y,s)),s.contentQueries){const I=Tn();s.contentQueries(1,y,I.directiveStart)}const v=Tn();return!h.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Us(v.index),Gm(a[1],v,0,v.directiveStart,v.directiveEnd,s),VE(s,y)),y}(ft,this.componentDef,xe,G,[iD]),Cd(te,xe,null)}finally{Oi()}return new Mu(this.componentType,Ye,nc(nt,xe),xe,nt)}}class Mu extends class Fr{}{constructor(s,a,l,c,h){super(),this.location=l,this._rootLView=c,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new bw(c),this.componentType=s}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class $o{}class a_{}const Xs=new Map;class Kp extends $o{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new o_(this);const l=Ft(s);this._bootstrapComponents=Mo(l.bootstrap),this._r3Injector=jl(s,a,[{provide:$o,useValue:this},{provide:ih,useValue:this.componentFactoryResolver}],le(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Ks.THROW_IF_NOT_FOUND,l=vt.Default){return s===Ks||s===$o||s===Nd?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zp extends a_{constructor(s){super(),this.moduleType=s,null!==Ft(s)&&function Cw(i){const s=new Set;!function a(l){const c=Ft(l,!0),h=c.id;null!==h&&(function ri(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${le(s)} vs ${le(s.name)}`)}(h,Xs.get(h),l),Xs.set(h,l));const y=Mo(c.imports);for(const v of y)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new Kp(this.moduleType,s)}}function Tw(i,s,a){const l=Dr()+i,c=Oe();return c[l]===jt?Ss(c,l,a?s.call(a):s()):Ld(c,l)}function ah(i,s,a,l){return Qp(Oe(),Dr(),i,s,a,l)}function u_(i,s,a,l,c){return h_(Oe(),Dr(),i,s,a,l,c)}function l_(i,s,a,l,c,h){return f_(Oe(),Dr(),i,s,a,l,c,h)}function c_(i,s,a,l,c,h,y){return p_(Oe(),Dr(),i,s,a,l,c,h,y)}function Yp(i,s,a,l,c,h,y,v){const I=Dr()+i,D=Oe(),T=as(D,I,a,l,c,h);return ti(D,I+4,y)||T?Ss(D,I+5,v?s.call(v,a,l,c,h,y):s(a,l,c,h,y)):Ld(D,I+5)}function uh(i,s,a,l,c,h,y,v,I){const D=Dr()+i,T=Oe(),P=as(T,D,a,l,c,h);return _u(T,D+4,y,v)||P?Ss(T,D+6,I?s.call(I,a,l,c,h,y,v):s(a,l,c,h,y,v)):Ld(T,D+6)}function Aw(i,s,a,l,c,h,y,v,I,D){const T=Dr()+i,P=Oe();let G=as(P,T,a,l,c,h);return Vd(P,T+4,y,v,I)||G?Ss(P,T+7,D?s.call(D,a,l,c,h,y,v,I):s(a,l,c,h,y,v,I)):Ld(P,T+7)}function _C(i,s,a,l,c,h,y,v,I,D,T){const P=Dr()+i,G=Oe(),te=as(G,P,a,l,c,h);return as(G,P+4,y,v,I,D)||te?Ss(G,P+8,T?s.call(T,a,l,c,h,y,v,I,D):s(a,l,c,h,y,v,I,D)):Ld(G,P+8)}function d_(i,s,a,l){return Sw(Oe(),Dr(),i,s,a,l)}function Oa(i,s){const a=i[s];return a===jt?void 0:a}function Qp(i,s,a,l,c,h){const y=s+a;return ti(i,y,c)?Ss(i,y+1,h?l.call(h,c):l(c)):Oa(i,y+1)}function h_(i,s,a,l,c,h,y){const v=s+a;return _u(i,v,c,h)?Ss(i,v+2,y?l.call(y,c,h):l(c,h)):Oa(i,v+2)}function f_(i,s,a,l,c,h,y,v){const I=s+a;return Vd(i,I,c,h,y)?Ss(i,I+3,v?l.call(v,c,h,y):l(c,h,y)):Oa(i,I+3)}function p_(i,s,a,l,c,h,y,v,I){const D=s+a;return as(i,D,c,h,y,v)?Ss(i,D+4,I?l.call(I,c,h,y,v):l(c,h,y,v)):Oa(i,D+4)}function Sw(i,s,a,l,c,h){let y=s+a,v=!1;for(let I=0;I<c.length;I++)ti(i,y++,c[I])&&(v=!0);return v?Ss(i,y,l.apply(h,c)):Oa(i,y)}function ic(i,s){const a=Bt();let l;const c=i+20;a.firstCreatePass?(l=function Mw(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[c]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(c,l.onDestroy)):l=a.data[c];const h=l.factory||(l.factory=ui(l.type)),y=Yt(Ql);try{const v=da(!1),I=h();return da(v),function dD(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Oe(),c,I),I}finally{Yt(y)}}function lh(i,s,a){const l=i+20,c=Oe(),h=xi(c,l);return Ru(c,l)?Qp(c,Dr(),s,h.transform,a,h):h.transform(a)}function ch(i,s,a,l){const c=i+20,h=Oe(),y=xi(h,c);return Ru(h,c)?h_(h,Dr(),s,y.transform,a,l,y):y.transform(a,l)}function xu(i,s,a,l,c){const h=i+20,y=Oe(),v=xi(y,h);return Ru(y,h)?f_(y,Dr(),s,v.transform,a,l,c,v):v.transform(a,l,c)}function g_(i,s,a,l,c,h){const y=i+20,v=Oe(),I=xi(v,y);return Ru(v,y)?p_(v,Dr(),s,I.transform,a,l,c,h,I):I.transform(a,l,c,h)}function vC(i,s,a){const l=i+20,c=Oe(),h=xi(c,l);return Ru(c,l)?Sw(c,Dr(),s,h.transform,a,h):h.transform.apply(h,a)}function Ru(i,s){return i[1].data[s].pure}function dh(i){return s=>{setTimeout(i,void 0,s)}}const ii=class sc extends f.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var c,h,y;let v=s,I=a||(()=>null),D=l;if(s&&"object"==typeof s){const P=s;v=null===(c=P.next)||void 0===c?void 0:c.bind(P),I=null===(h=P.error)||void 0===h?void 0:h.bind(P),D=null===(y=P.complete)||void 0===y?void 0:y.bind(P)}this.__isAsync&&(I=dh(I),v&&(v=dh(v)),D&&(D=dh(D)));const T=super.subscribe({next:v,error:I,complete:D});return s instanceof k.w0&&s.add(T),T}};function xw(){return this._results[Ta()]()}class m_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ta(),l=m_.prototype;l[a]||(l[a]=xw)}get changes(){return this._changes||(this._changes=new ii)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const c=Xr(s);(this._changesDetected=!function gl(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let c=i[l],h=s[l];if(a&&(c=a(c),h=a(h)),h!==c)return!1}return!0}(l._results,c,a))&&(l._results=c,l.length=c.length,l.last=c[this.length-1],l.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xs=(()=>{class i{}return i.__NG_ELEMENT_ID__=Xp,i})();const Ho=xs,Jp=class extends Ho{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=kl(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[19];return null!==h&&(l[19]=h.createEmbeddedView(a)),Cd(a,l,s),new rc(l)}};function Xp(){return Nu(Tn(),Oe())}function Nu(i,s){return 4&i.type?new Jp(s,i,nc(i,s)):null}let hh=(()=>{class i{}return i.__NG_ELEMENT_ID__=qn,i})();function qn(){return oc(Tn(),Oe())}const eg=hh,Rw=class extends eg{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return nc(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const s=Xa(this._hostTNode,this._hostLView);if(of(s)){const a=Bn(s,this._hostLView),l=En(s);return new Es(a[1].data[l+8],a)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Nw(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const c=s.createEmbeddedView(a||{});return this.insert(c,l),c}createComponent(s,a,l,c,h){const y=s&&!Qr(s);let v;if(y)v=a;else{const P=a||{};v=P.index,l=P.injector,c=P.projectableNodes,h=P.ngModuleRef}const I=y?s:new Na(ut(s)),D=l||this.parentInjector;if(!h&&null==I.ngModule){const G=(y?D:this.parentInjector).get($o,null);G&&(h=G)}const T=I.create(D,c,void 0,h);return this.insert(T.hostView,v),T}insert(s,a){const l=s._lView,c=l[1];if(function pe(i){return Rr(i[3])}(l)){const T=this.indexOf(s);if(-1!==T)this.detach(T);else{const P=l[3],G=new Rw(P,P[6],P[3]);G.detach(G.indexOf(s))}}const h=this._adjustIndex(a),y=this._lContainer;!function Cr(i,s,a,l){const c=10+l,h=a.length;l>0&&(a[c-1][4]=s),l<h-10?(s[4]=a[c],pf(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function Ro(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,l,y,h);const v=wd(h,y),I=l[11],D=pu(I,y[7]);return null!==D&&function fi(i,s,a,l,c,h){l[0]=c,l[6]=s,No(i,l,a,1,c,h)}(c,y[6],I,l,D,v),s.attachToViewContainerRef(),pf(Ou(y),h,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Nw(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=bm(this._lContainer,a);l&&(pa(Ou(this._lContainer),a),dE(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=bm(this._lContainer,a);return l&&null!=pa(Ou(this._lContainer),a)?new rc(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function Nw(i){return i[8]}function Ou(i){return i[8]||(i[8]=[])}function oc(i,s){let a;const l=s[i.index];if(Rr(l))a=l;else{let c;if(8&i.type)c=vn(l);else{const h=s[11];c=h.createComment("");const y=gr(i,s);fu(h,pu(h,y),c,function fb(i,s){return wn(i)?i.nextSibling(s):s.nextSibling}(h,y),!1)}s[i.index]=a=Wm(l,s,c,i),gi(s,a)}return new Rw(a,i,s)}class y_{constructor(s){this.queryList=s,this.matches=null}clone(){return new y_(this.queryList)}setDirty(){this.queryList.setDirty()}}class __{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,c=[];for(let h=0;h<l;h++){const y=a.getByIndex(h);c.push(this.queries[y.indexInDeclarationView].clone())}return new __(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ng(s,a).matches&&this.queries[a].setDirty()}}class Pw{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class Pu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const c=null!==a?a.length:0,h=this.getByIndex(l).embeddedTView(s,c);h&&(h.indexInDeclarationView=l,null!==a?a.push(h):a=[h])}return null!==a?new Pu(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class eo{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new eo(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let c=0;c<l.length;c++){const h=l[c];this.matchTNodeWithReadOption(s,a,kw(a,h)),this.matchTNodeWithReadOption(s,a,$c(a,s,h,!1,!1))}else l===xs?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,$c(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const c=this.metadata.read;if(null!==c)if(c===Su||c===hh||c===xs&&4&a.type)this.addMatch(a.index,-2);else{const h=$c(a,s,c,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function kw(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function Lw(i,s,a,l){return-1===a?function Fw(i,s){return 11&i.type?nc(i,s):4&i.type?Nu(i,s):null}(s,i):-2===a?function ac(i,s,a){return a===Su?nc(s,i):a===xs?Nu(s,i):a===hh?oc(s,i):void 0}(i,s,l):ci(i,i[1],a,s)}function Vw(i,s,a,l){const c=s[19].queries[l];if(null===c.matches){const h=i.data,y=a.matches,v=[];for(let I=0;I<y.length;I+=2){const D=y[I];v.push(D<0?null:Lw(s,h[D],y[I+1],a.metadata.read))}c.matches=v}return c.matches}function v_(i,s,a,l){const c=i.queries.getByIndex(a),h=c.matches;if(null!==h){const y=Vw(i,s,c,a);for(let v=0;v<h.length;v+=2){const I=h[v];if(I>0)l.push(y[v/2]);else{const D=h[v+1],T=s[-I];for(let P=10;P<T.length;P++){const G=T[P];G[17]===G[3]&&v_(G[1],G,D,l)}if(null!==T[9]){const P=T[9];for(let G=0;G<P.length;G++){const te=P[G];v_(te[1],te,D,l)}}}}}return l}function E_(i){const s=Oe(),a=Bt(),l=Xh();ef(l+1);const c=ng(a,l);if(i.dirty&&N(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const h=c.crossesNgTemplate?v_(a,s,l,[]):Vw(a,s,c,l);i.reset(h,n_),i.notifyOnChanges()}return!0}return!1}function wC(i,s,a){const l=Bt();l.firstCreatePass&&(D_(l,new Pw(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),tg(l,Oe(),s)}function w_(i,s,a,l){const c=Bt();if(c.firstCreatePass){const h=Tn();D_(c,new Pw(s,a,l),h.index),function Uw(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(c,i),2==(2&a)&&(c.staticContentQueries=!0)}tg(c,Oe(),a)}function I_(){return function b_(i,s){return i[19].queries[s].queryList}(Oe(),Xh())}function tg(i,s,a){const l=new m_(4==(4&a));Ll(i,s,l,l.destroy),null===s[19]&&(s[19]=new __),s[19].queries.push(new y_(l))}function D_(i,s,a){null===i.queries&&(i.queries=new Pu),i.queries.track(new eo(s,a))}function ng(i,s){return i.queries.getByIndex(s)}function IC(i,s){return Nu(i,s)}const Ei=(()=>({\u0275\u0275attribute:ly,\u0275\u0275attributeInterpolate1:sp,\u0275\u0275attributeInterpolate2:Bo,\u0275\u0275attributeInterpolate3:Sa,\u0275\u0275attributeInterpolate4:op,\u0275\u0275attributeInterpolate5:lD,\u0275\u0275attributeInterpolate6:p0,\u0275\u0275attributeInterpolate7:ap,\u0275\u0275attributeInterpolate8:g0,\u0275\u0275attributeInterpolateV:m0,\u0275\u0275defineComponent:_e,\u0275\u0275defineDirective:Me,\u0275\u0275defineInjectable:Zt,\u0275\u0275defineInjector:Tt,\u0275\u0275defineNgModule:Q,\u0275\u0275definePipe:Je,\u0275\u0275directiveInject:Ql,\u0275\u0275getInheritedFactory:zc,\u0275\u0275inject:mr,\u0275\u0275injectAttribute:tu,\u0275\u0275invalidFactory:C0,\u0275\u0275invalidFactoryDep:vl,\u0275\u0275templateRefExtractor:IC,\u0275\u0275NgOnChangesFeature:Fs,\u0275\u0275ProvidersFeature:jp,\u0275\u0275CopyDefinitionFeature:h0,\u0275\u0275InheritDefinitionFeature:ip,\u0275\u0275nextContext:vp,\u0275\u0275namespaceHTML:Ov,\u0275\u0275namespaceMathML:YI,\u0275\u0275namespaceSVG:ZI,\u0275\u0275enableBindings:aa,\u0275\u0275disableBindings:Yi,\u0275\u0275elementStart:jd,\u0275\u0275elementEnd:Jl,\u0275\u0275element:pp,\u0275\u0275elementContainerStart:Iu,\u0275\u0275elementContainerEnd:yy,\u0275\u0275elementContainer:gp,\u0275\u0275pureFunction0:Tw,\u0275\u0275pureFunction1:ah,\u0275\u0275pureFunction2:u_,\u0275\u0275pureFunction3:l_,\u0275\u0275pureFunction4:c_,\u0275\u0275pureFunction5:Yp,\u0275\u0275pureFunction6:uh,\u0275\u0275pureFunction7:Aw,\u0275\u0275pureFunction8:_C,\u0275\u0275pureFunctionV:d_,\u0275\u0275getCurrentView:_y,\u0275\u0275restoreView:Ri,\u0275\u0275listener:yp,\u0275\u0275projection:x0,\u0275\u0275syntheticHostProperty:HD,\u0275\u0275syntheticHostListener:_p,\u0275\u0275pipeBind1:lh,\u0275\u0275pipeBind2:ch,\u0275\u0275pipeBind3:xu,\u0275\u0275pipeBind4:g_,\u0275\u0275pipeBindV:vC,\u0275\u0275projectionDef:Iy,\u0275\u0275hostProperty:ky,\u0275\u0275property:gy,\u0275\u0275propertyInterpolate:R0,\u0275\u0275propertyInterpolate1:Ep,\u0275\u0275propertyInterpolate2:$d,\u0275\u0275propertyInterpolate3:N0,\u0275\u0275propertyInterpolate4:O0,\u0275\u0275propertyInterpolate5:P0,\u0275\u0275propertyInterpolate6:k0,\u0275\u0275propertyInterpolate7:F0,\u0275\u0275propertyInterpolate8:L0,\u0275\u0275propertyInterpolateV:V0,\u0275\u0275pipe:ic,\u0275\u0275queryRefresh:E_,\u0275\u0275viewQuery:wC,\u0275\u0275loadQuery:I_,\u0275\u0275contentQuery:w_,\u0275\u0275reference:fS,\u0275\u0275classMap:z0,\u0275\u0275classMapInterpolate1:UD,\u0275\u0275classMapInterpolate2:Tp,\u0275\u0275classMapInterpolate3:Oy,\u0275\u0275classMapInterpolate4:Z0,\u0275\u0275classMapInterpolate5:BD,\u0275\u0275classMapInterpolate6:DS,\u0275\u0275classMapInterpolate7:CS,\u0275\u0275classMapInterpolate8:TS,\u0275\u0275classMapInterpolateV:AS,\u0275\u0275styleMap:Ms,\u0275\u0275styleMapInterpolate1:SS,\u0275\u0275styleMapInterpolate2:MS,\u0275\u0275styleMapInterpolate3:xS,\u0275\u0275styleMapInterpolate4:RS,\u0275\u0275styleMapInterpolate5:NS,\u0275\u0275styleMapInterpolate6:OS,\u0275\u0275styleMapInterpolate7:PS,\u0275\u0275styleMapInterpolate8:jD,\u0275\u0275styleMapInterpolateV:$D,\u0275\u0275styleProp:SD,\u0275\u0275stylePropInterpolate1:Y0,\u0275\u0275stylePropInterpolate2:Q0,\u0275\u0275stylePropInterpolate3:J0,\u0275\u0275stylePropInterpolate4:Py,\u0275\u0275stylePropInterpolate5:X0,\u0275\u0275stylePropInterpolate6:Ap,\u0275\u0275stylePropInterpolate7:ew,\u0275\u0275stylePropInterpolate8:tw,\u0275\u0275stylePropInterpolateV:ec,\u0275\u0275classProp:Cy,\u0275\u0275advance:Mm,\u0275\u0275template:y0,\u0275\u0275text:Ay,\u0275\u0275textInterpolate:Dp,\u0275\u0275textInterpolate1:zd,\u0275\u0275textInterpolate2:Sy,\u0275\u0275textInterpolate3:My,\u0275\u0275textInterpolate4:xy,\u0275\u0275textInterpolate5:Ry,\u0275\u0275textInterpolate6:Cp,\u0275\u0275textInterpolate7:VD,\u0275\u0275textInterpolate8:K0,\u0275\u0275textInterpolateV:Ny,\u0275\u0275i18n:Yy,\u0275\u0275i18nAttributes:Qy,\u0275\u0275i18nExp:Up,\u0275\u0275i18nStart:eh,\u0275\u0275i18nEnd:th,\u0275\u0275i18nApply:Jy,\u0275\u0275i18nPostprocess:vw,\u0275\u0275resolveWindow:ub,\u0275\u0275resolveDocument:nE,\u0275\u0275resolveBody:rE,\u0275\u0275setComponentScope:Ve,\u0275\u0275setNgModuleScope:$,\u0275\u0275sanitizeHtml:Hv,\u0275\u0275sanitizeStyle:XI,\u0275\u0275sanitizeResourceUrl:Gv,\u0275\u0275sanitizeScript:zv,\u0275\u0275sanitizeUrl:kf,\u0275\u0275sanitizeUrlOrResourceUrl:ZA,\u0275\u0275trustConstantHtml:eb,\u0275\u0275trustConstantResourceUrl:Wv,forwardRef:j,resolveForwardRef:se}))();const ku=[];let Fu=!1;function jw(i){return Array.isArray(i)?i.every(jw):!!se(i)}function og(i,s){const a=Xr(s.declarations||F),l=ls(i);a.forEach(c=>{c.hasOwnProperty(z)?S_(ut(c),l):!c.hasOwnProperty(K)&&!c.hasOwnProperty(Ie)&&(c.ngSelectorScope=i)})}function S_(i,s){i.directiveDefs=()=>Array.from(s.compilation.directives).map(a=>a.hasOwnProperty(z)?ut(a):Et(a)).filter(a=>!!a),i.pipeDefs=()=>Array.from(s.compilation.pipes).map(a=>Wt(a)),i.schemas=s.schemas,i.tView=null}function ls(i){if(!gh(i))throw new Error(`${i.name} does not have a module def (\u0275mod property)`);const s=Ft(i);if(null!==s.transitiveCompileScopes)return s.transitiveCompileScopes;const a={schemas:s.schemas||null,compilation:{directives:new Set,pipes:new Set},exported:{directives:new Set,pipes:new Set}};return Mo(s.imports).forEach(l=>{const c=l;if(!gh(c))throw new Error(`Importing ${c.name} which does not have a \u0275mod property`);const h=ls(c);h.exported.directives.forEach(y=>a.compilation.directives.add(y)),h.exported.pipes.forEach(y=>a.compilation.pipes.add(y))}),Mo(s.declarations).forEach(l=>{Wt(l)?a.compilation.pipes.add(l):a.compilation.directives.add(l)}),Mo(s.exports).forEach(l=>{const c=l;if(gh(c)){const h=ls(c);h.exported.directives.forEach(y=>{a.compilation.directives.add(y),a.exported.directives.add(y)}),h.exported.pipes.forEach(y=>{a.compilation.pipes.add(y),a.exported.pipes.add(y)})}else Wt(c)?a.exported.pipes.add(c):a.exported.directives.add(c)}),s.transitiveCompileScopes=a,a}function M_(i){return function DC(i){return void 0!==i.ngModule}(i)?i.ngModule:i}function gh(i){return!!Ft(i)}let Lu=0;function mh(i,s){let a=null;ag(i,s||{}),Object.defineProperty(i,K,{get:()=>{if(null===a){const l=R_(i,s||{});a=Wn().compileDirective(Ei,l.sourceMapUrl,l.metadata)}return a},configurable:!1})}function R_(i,s){const a=i&&i.name,l=`ng:///${a}/\u0275dir.js`,c=Wn(),h=Ww(i,s);return h.typeSourceSpan=c.createParseSourceSpan("Directive",a,l),h.usesInheritance&&N_(i),{metadata:h,sourceMapUrl:l}}function ag(i,s){let a=null;Object.defineProperty(i,X,{get:()=>{if(null===a){const l=R_(i,s),c=Wn();a=c.compileFactory(Ei,`ng:///${i.name}/\u0275fac.js`,{name:l.metadata.name,type:l.metadata.type,typeArgumentCount:0,deps:bo(i),target:c.FactoryTarget.Directive})}return a},configurable:!1})}function ug(i){return Object.getPrototypeOf(i.prototype)===Object.prototype}function Ww(i,s){const a=El(),l=a.ownPropMetadata(i);return{name:i.name,type:i,selector:void 0!==s.selector?s.selector:null,host:s.host||nn,propMetadata:l,inputs:s.inputs||F,outputs:s.outputs||F,queries:O_(i,l,lg),lifecycle:{usesOnChanges:a.hasLifecycleHook(i,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!ug(i),exportAs:P_(s.exportAs),providers:s.providers||null,viewQueries:O_(i,l,k_)}}function N_(i){const s=Object.prototype;let a=Object.getPrototypeOf(i.prototype).constructor;for(;a&&a!==s;)!Et(a)&&!ut(a)&&Vu(a)&&mh(a,null),a=Object.getPrototypeOf(a)}function yh(i){return"string"==typeof i?F_(i):se(i)}function qw(i,s){return{propertyName:i,predicate:yh(s.selector),descendants:s.descendants,first:s.first,read:s.read?s.read:null,static:!!s.static,emitDistinctChangesOnly:!!s.emitDistinctChangesOnly}}function O_(i,s,a){const l=[];for(const c in s)if(s.hasOwnProperty(c)){const h=s[c];h.forEach(y=>{if(a(y)){if(!y.selector)throw new Error(`Can't construct a query for the property "${c}" of "${be(i)}" since the query selector wasn't defined.`);if(h.some(_h))throw new Error("Cannot combine @Input decorators with query decorators");l.push(qw(c,y))}})}return l}function P_(i){return void 0===i?null:F_(i)}function lg(i){const s=i.ngMetadataName;return"ContentChild"===s||"ContentChildren"===s}function k_(i){const s=i.ngMetadataName;return"ViewChild"===s||"ViewChildren"===s}function _h(i){return"Input"===i.ngMetadataName}function F_(i){return i.split(",").map(s=>s.trim())}const Kw=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function Vu(i){const s=El();if(Kw.some(l=>s.hasLifecycleHook(i,l)))return!0;const a=s.propMetadata(i);for(const l in a){const c=a[l];for(let h=0;h<c.length;h++){const y=c[h],v=y.ngMetadataName;if(_h(y)||lg(y)||k_(y)||"Output"===v||"HostBinding"===v||"HostListener"===v)return!0}}return!1}const Zw=nu("Component",(i={})=>Object.assign({changeDetection:hn.Default},i),nu("Directive",(i={})=>i,void 0,void 0,(i,s)=>mh(i,s)),void 0,(i,s)=>function zw(i,s){let a=null;(function Cf(i,s){Il(s)&&($s.set(i,s),Do.add(i))})(i,s),ag(i,s),Object.defineProperty(i,z,{get:()=>{if(null===a){const l=Wn();if(Il(s)){const D=[`Component '${i.name}' is not resolved:`];throw s.templateUrl&&D.push(` - templateUrl: ${s.templateUrl}`),s.styleUrls&&s.styleUrls.length&&D.push(` - styleUrls: ${JSON.stringify(s.styleUrls)}`),D.push("Did you run and wait for 'resolveComponentResources()'?"),new Error(D.join("\n"))}const c=null;let h=s.preserveWhitespaces;void 0===h&&(h=null!==c&&void 0!==c.preserveWhitespaces&&c.preserveWhitespaces);let y=s.encapsulation;void 0===y&&(y=null!==c&&void 0!==c.defaultEncapsulation?c.defaultEncapsulation:Pt.Emulated);const v=s.templateUrl||`ng:///${i.name}/template.html`,I=Object.assign(Object.assign({},Ww(i,s)),{typeSourceSpan:l.createParseSourceSpan("Component",i.name,v),template:s.template||"",preserveWhitespaces:h,styles:s.styles||F,animations:s.animations,directives:[],changeDetection:s.changeDetection,pipes:new Map,encapsulation:y,interpolation:s.interpolation,viewProviders:s.viewProviders||null});Lu++;try{I.usesInheritance&&N_(i),a=l.compileComponent(Ei,v,I)}finally{Lu--}if(0===Lu&&function ph(){if(!Fu){Fu=!0;try{for(let i=ku.length-1;i>=0;i--){const{moduleType:s,ngModule:a}=ku[i];a.declarations&&a.declarations.every(jw)&&(ku.splice(i,1),og(s,a))}}finally{Fu=!1}}}(),function x_(i){return void 0!==i.ngSelectorScope}(i)){const D=ls(i.ngSelectorScope);S_(a,D)}}return a},configurable:!1})}(i,s)),MC=nu("NgModule",i=>i,void 0,void 0,(i,s)=>function vr(i,s={}){(function $w(i,s,a=!1){const l=Xr(s.declarations||F);let c=null;Object.defineProperty(i,V,{configurable:!0,get:()=>(null===c&&(c=Wn().compileNgModule(Ei,`ng:///${i.name}/\u0275mod.js`,{type:i,bootstrap:Xr(s.bootstrap||F).map(se),declarations:l.map(se),imports:Xr(s.imports||F).map(se).map(M_),exports:Xr(s.exports||F).map(se).map(M_),schemas:s.schemas?Xr(s.schemas):null,id:s.id||null}),c.schemas||(c.schemas=[])),c)});let h=null;Object.defineProperty(i,X,{get:()=>{if(null===h){const v=Wn();h=v.compileFactory(Ei,`ng:///${i.name}/\u0275fac.js`,{name:i.name,type:i,deps:bo(i),target:v.FactoryTarget.NgModule,typeArgumentCount:0})}return h},configurable:!1});let y=null;Object.defineProperty(i,Jn,{get:()=>{if(null===y){const v={name:i.name,type:i,providers:s.providers||F,imports:[(s.imports||F).map(se),(s.exports||F).map(se)]};y=Wn().compileInjector(Ei,`ng:///${i.name}/\u0275inj.js`,v)}return y},configurable:!1})})(i,s),function Bw(i,s){ku.push({moduleType:i,ngModule:s})}(i,s)}(i,s));function cg(...i){}const Qw=new jn("Application Initializer");let U_=(()=>{class i{constructor(a){this.appInits=a,this.resolve=cg,this.reject=cg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,c)=>{this.resolve=l,this.reject=c})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const h=this.appInits[c]();if(vy(h))a.push(h);else if(Ey(h)){const y=new Promise((v,I)=>{h.subscribe({complete:v,error:I})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(c=>{this.reject(c)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(mr(Qw,8))},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const B_=new jn("AppId",{providedIn:"root",factory:function Jw(){return`${$_()}${$_()}${$_()}`}});function $_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const H_=new jn("Platform Initializer"),Kr=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Uu=new jn("appBootstrapListener");let G_=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Ze=new jn("LocaleId",{providedIn:"root",factory:()=>im(Ze,vt.Optional|vt.SkipSelf)||function xC(){return"undefined"!=typeof $localize&&$localize.locale||Mp}()}),Er=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Nt{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let RC=(()=>{class i{compileModuleSync(a){return new Zp(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),h=Mo(Ft(a).declarations).reduce((y,v)=>{const I=ut(v);return I&&y.push(new Na(I)),y},[]);return new Nt(l,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Be=(()=>Promise.resolve(0))();function wr(i){"undefined"==typeof Zone?Be.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Rs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ii(!1),this.onMicrotaskEmpty=new ii(!1),this.onStable=new ii(!1),this.onError=new ii(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!l&&a,c.shouldCoalesceRunChangeDetection=l,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function eI(){let i=kt.requestAnimationFrame,s=kt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function PC(i){const s=()=>{!function OC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(kt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,hg(i),i.isCheckStableRunning=!0,z_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),hg(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,c,h,y,v)=>{try{return tI(i),a.invokeTask(c,h,y,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&s(),kC(i)}},onInvoke:(a,l,c,h,y,v,I)=>{try{return tI(i),a.invoke(c,h,y,v,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),kC(i)}},onHasTask:(a,l,c,h)=>{a.hasTask(c,h),l===c&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,hg(i),z_(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,l,c,h)=>(a.handleError(c,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(c)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,c){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+c,s,NC,cg,cg);try{return h.runTask(y,a,l)}finally{h.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const NC={};function z_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function hg(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function tI(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function kC(i){i._nesting--,z_(i)}class $i{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ii,this.onMicrotaskEmpty=new ii,this.onStable=new ii,this.onError=new ii}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,c){return s.apply(a,l)}}let nI=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),wr(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wr(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,c){let h=-1;l&&l>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:c})}whenStable(a,l,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,c){return[]}}return i.\u0275fac=function(a){return new(a||i)(mr(Rs))},i.\u0275prov=Zt({token:i,factory:i.\u0275fac}),i})(),rI=(()=>{class i{constructor(){this._applications=new Map,fg.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return fg.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();class Kt{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function lc(i){fg=i}let fg=new Kt,Nn=null;const St=new jn("AllowMultipleToken"),W_=new jn("PlatformOnDestroy");class cn{constructor(s,a){this.name=s,this.token=a}}function Ir(i,s,a=[]){const l=`Platform: ${s}`,c=new jn(l);return(h=[])=>{let y=q_();if(!y||y.injector.get(St,!1)){const v=[...a,...h,{provide:c,useValue:!0}];i?i(v):function LC(i){if(Nn&&!Nn.get(St,!1))throw new Ue(400,"");Nn=i;const s=i.get(Go),a=i.get(H_,null);a&&a.forEach(l=>l())}(function VC(i=[],s){return Ks.create({name:s,providers:[{provide:np,useValue:"platform"},{provide:W_,useValue:()=>Nn=null},...i]})}(v,l))}return function cc(i){const s=q_();if(!s)throw new Ue(401,"");return s}()}}function q_(){var i;return null!==(i=null==Nn?void 0:Nn.get(Go))&&void 0!==i?i:null}let Go=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const v=function or(i,s){let a;return a="noop"===i?new $i:("zone.js"===i?void 0:i)||new Rs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:Rs,useValue:v}];return v.run(()=>{const D=Ks.create({providers:I,parent:this.injector,name:a.moduleType.name}),T=a.create(D),P=T.injector.get(Ff,null);if(!P)throw new Ue(402,"");return v.runOutsideAngular(()=>{const G=v.onError.subscribe({next:te=>{P.handleError(te)}});T.onDestroy(()=>{Hu(this._modules,T),G.unsubscribe()})}),function $u(i,s,a){try{const l=a();return vy(l)?l.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(P,v,()=>{const G=T.injector.get(U_);return G.runInitializers(),G.donePromise.then(()=>(function KD(i){(function Mt(i,s){null==i&&Qe(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(rw=i.toLowerCase().replace(/_/g,"-"))}(T.injector.get(Ze,Mp)||Mp),this._moduleDoBootstrap(T),T))})})}bootstrapModule(a,l=[]){const c=pg({},l);return function ju(i,s,a){const l=new Zp(a);return Promise.resolve(l)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,c))}_moduleDoBootstrap(a){const l=a.injector.get(gg);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(c=>l.bootstrap(c));else{if(!a.instance.ngDoBootstrap)throw new Ue(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ue(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(W_,null);null==a||a(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(mr(Ks))},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function pg(i,s){return Array.isArray(s)?s.reduce(pg,i):Object.assign(Object.assign({},i),s)}let gg=(()=>{class i{constructor(a,l,c,h){this._zone=a,this._injector=l,this._exceptionHandler=c,this._initStatus=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new x.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new x.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),wr(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const T=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),T.unsubscribe()}});this.isStable=(0,ie.T)(y,v.pipe((0,fe.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Ue(405,"");let c;c=a instanceof Lr?a:this._injector.get(ih).resolveComponentFactory(a),this.componentTypes.push(c.componentType);const h=function Eh(i){return i.isBoundToModule}(c)?void 0:this._injector.get($o),v=c.create(Ks.NULL,[],l||c.selector,h),I=v.location.nativeElement,D=v.injector.get(nI,null),T=D&&v.injector.get(rI);return D&&T&&T.registerApplication(I,D),v.onDestroy(()=>{this.detachView(v.hostView),Hu(this.components,v),T&&T.unregisterApplication(I)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Ue(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Hu(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Uu,[]).concat(this._bootstrapListeners).forEach(c=>c(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(mr(Rs),mr(Ks),mr(Ff),mr(U_))},i.\u0275prov=Zt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Hu(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let dc=!0,hc=!1;function sI(){return hc=!0,dc}function st(){if(hc)throw new Error("Cannot enable prod mode after platform setup.");dc=!1}let to=(()=>{class i{}return i.__NG_ELEMENT_ID__=wh,i})();function wh(i){return function ka(i,s,a){if(ao(i)&&!a){const l=R(i.index,s);return new rc(l,l)}return 47&i.type?new rc(s[16],s):null}(Tn(),Oe(),16==(16&i))}class mc{constructor(){}supports(s){return As(s)}create(s){return new BC(s)}}const hI=(i,s)=>s;class BC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||hI}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,c=0,h=null;for(;a||l;){const y=!l||a&&a.currentIndex<Ch(l,c,h)?a:l,v=Ch(y,c,h),I=y.currentIndex;if(y===l)c--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)c++;else{h||(h=[]);const D=v-c,T=I-c;if(D!=T){for(let G=0;G<D;G++){const te=G<h.length?h[G]:h[G]=0,xe=te+G;T<=xe&&xe<D&&(h[G]=te+1)}h[y.previousIndex]=T-D}}v!==I&&s(y,v,I)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!As(s))throw new Ue(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,h,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)h=s[v],y=this._trackByFn(v,h),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,h,y,v)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,v),l=!0),a=a._next}else c=0,function uD(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ta()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,v=>{y=this._trackByFn(c,v),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,v,y,c)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,y,c),l=!0),a=a._next,c++}),this.length=c;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,c){let h;return null===s?h=this._itTail:(h=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,h,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,c))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,h,c)):s=this._addAfter(new Ns(a,l),h,c),s}_verifyReinsertion(s,a,l,c){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==h?s=this._reinsertAfter(h,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,h=s._nextRemoved;return null===c?this._removalsHead=h:c._nextRemoved=h,null===h?this._removalsTail=c:h._prevRemoved=c,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const c=null===a?this._itHead:a._next;return s._next=c,s._prev=a,null===c?this._itTail=s:c._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new ar),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ar),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ns{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class ar{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new fI,this.map.set(a,l)),l.add(s)}get(s,a){const c=this.map.get(s);return c?c.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ch(i,s,a){const l=i.previousIndex;if(null===l)return l;let c=0;return a&&l<a.length&&(c=a[l]),l+s+c}class Br{constructor(){}supports(s){return s instanceof Map||uy(s)}create(){return new Fn}}class Fn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||uy(s)))throw new Ue(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,c)=>{if(a&&a.key===c)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(c,l);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,a);const h=c._prev,y=c._next;return h&&(h._next=y),y&&(y._prev=h),c._next=null,c._prev=null,c}const l=new pI(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class pI{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zu(){return new J_([new mc])}let J_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||zu()),deps:[[i,new ns,new ts]]}}find(a){const l=this.factories.find(c=>c.supports(a));if(null!=l)return l;throw new Ue(901,"")}}return i.\u0275prov=Zt({token:i,providedIn:"root",factory:zu}),i})();function La(){return new X_([new Br])}let X_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const c=l.factories.slice();a=a.concat(c)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||La()),deps:[[i,new ns,new ts]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new Ue(901,"")}}return i.\u0275prov=Zt({token:i,providedIn:"root",factory:La}),i})();const gI=Ir(null,"core",[]);let Zr=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(mr(gg))},i.\u0275mod=Q({type:i}),i.\u0275inj=Tt({}),i})()},579:(at,Te,M)=>{M.d(Te,{EI:()=>z,Gb:()=>kt,Iv:()=>nn,Kz:()=>K,Xd:()=>vt,lT:()=>_n,xP:()=>F});var f=M(5861),k=M(9681),x=M(1877),ie=M(2090),fe=M(4859);M(2833);const de="analytics",le="firebase_id",j="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",se="https://www.googletagmanager.com/gtag/js",He=new x.Yd("@firebase/analytics");function Ae(U){return Promise.all(U.map(ee=>ee.catch(_e=>_e)))}function Ue(U,ee){const _e=document.createElement("script");_e.src=`${se}?l=${U}&id=${ee}`,_e.async=!0,document.head.appendChild(_e)}function me(U,ee,_e,Ve,We,ze){return be.apply(this,arguments)}function be(){return(be=(0,f.Z)(function*(U,ee,_e,Ve,We,ze){const gt=Ve[We];try{if(gt)yield ee[gt];else{const $=(yield Ae(_e)).find(L=>L.measurementId===We);$&&(yield ee[$.appId])}}catch(Q){He.error(Q)}U("config",We,ze)})).apply(this,arguments)}function rt(U,ee,_e,Ve,We){return qe.apply(this,arguments)}function qe(){return(qe=(0,f.Z)(function*(U,ee,_e,Ve,We){try{let ze=[];if(We&&We.send_to){let gt=We.send_to;Array.isArray(gt)||(gt=[gt]);const Q=yield Ae(_e);for(const $ of gt){const L=Q.find(Je=>Je.measurementId===$),Me=L&&ee[L.appId];if(!Me){ze=[];break}ze.push(Me)}}0===ze.length&&(ze=Object.values(ee)),yield Promise.all(ze),U("event",Ve,We||{})}catch(ze){He.error(ze)}})).apply(this,arguments)}function De(){const U=window.document.getElementsByTagName("script");for(const ee of Object.values(U))if(ee.src&&ee.src.includes(se))return ee;return null}const J=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),re=new class Y{constructor(ee={},_e=1e3){this.throttleMetadata=ee,this.intervalMillis=_e}getThrottleMetadata(ee){return this.throttleMetadata[ee]}setThrottleMetadata(ee,_e){this.throttleMetadata[ee]=_e}deleteThrottleMetadata(ee){delete this.throttleMetadata[ee]}};function ae(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function ye(U){return ue.apply(this,arguments)}function ue(){return(ue=(0,f.Z)(function*(U){var ee;const{appId:_e,apiKey:Ve}=U,We={method:"GET",headers:ae(Ve)},ze=j.replace("{app-id}",_e),gt=yield fetch(ze,We);if(200!==gt.status&&304!==gt.status){let Q="";try{const $=yield gt.json();(null===(ee=$.error)||void 0===ee?void 0:ee.message)&&(Q=$.error.message)}catch($){}throw J.create("config-fetch-failed",{httpStatus:gt.status,responseMessage:Q})}return gt.json()})).apply(this,arguments)}function je(U){return yt.apply(this,arguments)}function yt(){return(yt=(0,f.Z)(function*(U,ee=re,_e){const{appId:Ve,apiKey:We,measurementId:ze}=U.options;if(!Ve)throw J.create("no-app-id");if(!We){if(ze)return{measurementId:ze,appId:Ve};throw J.create("no-api-key")}const gt=ee.getThrottleMetadata(Ve)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Q=new Hn;return setTimeout((0,f.Z)(function*(){Q.abort()}),void 0!==_e?_e:6e4),zt({appId:Ve,apiKey:We,measurementId:ze},gt,Q,ee)})).apply(this,arguments)}function zt(U,ee,_e){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,f.Z)(function*(U,{throttleEndTimeMillis:ee,backoffCount:_e},Ve,We=re){const{appId:ze,measurementId:gt}=U;try{yield Qe(Ve,ee)}catch(Q){if(gt)return He.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Q.message}]`),{appId:ze,measurementId:gt};throw Q}try{const Q=yield ye(U);return We.deleteThrottleMetadata(ze),Q}catch(Q){if(!on(Q)){if(We.deleteThrottleMetadata(ze),gt)return He.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${gt} provided in the "measurementId" field in the local Firebase config. [${Q.message}]`),{appId:ze,measurementId:gt};throw Q}const $=503===Number(Q.customData.httpStatus)?(0,ie.$s)(_e,We.intervalMillis,30):(0,ie.$s)(_e,We.intervalMillis),L={throttleEndTimeMillis:Date.now()+$,backoffCount:_e+1};return We.setThrottleMetadata(ze,L),He.debug(`Calling attemptFetch again in ${$} millis`),zt(U,L,Ve,We)}})).apply(this,arguments)}function Qe(U,ee){return new Promise((_e,Ve)=>{const We=Math.max(ee-Date.now(),0),ze=setTimeout(_e,We);U.addEventListener(()=>{clearTimeout(ze),Ve(J.create("fetch-throttle",{throttleEndTimeMillis:ee}))})})}function on(U){if(!(U instanceof ie.ZR&&U.customData))return!1;const ee=Number(U.customData.httpStatus);return 429===ee||500===ee||503===ee||504===ee}class Hn{constructor(){this.listeners=[]}addEventListener(ee){this.listeners.push(ee)}abort(){this.listeners.forEach(ee=>ee())}}function yn(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,f.Z)(function*(){if(!(0,ie.hl)())return He.warn(J.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(U){return He.warn(J.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function Tt(){return(Tt=(0,f.Z)(function*(U,ee,_e,Ve,We,ze,gt){var Q;const $=je(U);$.then(Et=>{_e[Et.measurementId]=Et.appId,U.options.measurementId&&Et.measurementId!==U.options.measurementId&&He.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${Et.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Et=>He.error(Et)),ee.push($);const L=yn().then(Et=>{if(Et)return Ve.getId()}),[Me,Je]=yield Promise.all([$,L]);De()||Ue(ze,Me.measurementId),We("js",new Date);const ut=null!==(Q=null==gt?void 0:gt.config)&&void 0!==Q?Q:{};return ut.origin="firebase",ut.update=!0,null!=Je&&(ut[le]=Je),We("config",Me.measurementId,ut),Me.measurementId})).apply(this,arguments)}class tn{constructor(ee){this.app=ee}_delete(){return delete Mn[this.app.options.appId],Promise.resolve()}}let Mn={},Tr=[];const gn={};let Jn,xn,On="dataLayer",Kn="gtag",Xn=!1;function vt(U){if(Xn)throw J.create("already-initialized");U.dataLayerName&&(On=U.dataLayerName),U.gtagName&&(Kn=U.gtagName)}function Jt(U,ee,_e){!function Zn(){const U=[];if((0,ie.ru)()&&U.push("This is a browser extension environment."),(0,ie.zI)()||U.push("Cookies are not available."),U.length>0){const ee=U.map((Ve,We)=>`(${We+1}) ${Ve}`).join(" "),_e=J.create("invalid-analytics-context",{errorInfo:ee});He.warn(_e.message)}}();const Ve=U.options.appId;if(!Ve)throw J.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw J.create("no-api-key");He.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Mn[Ve])throw J.create("already-exists",{id:Ve});if(!Xn){!function Ge(U){let ee=[];Array.isArray(window[U])?ee=window[U]:window[U]=ee}(On);const{wrappedGtag:ze,gtagCore:gt}=function Re(U,ee,_e,Ve,We){let ze=function(...gt){window[Ve].push(arguments)};return window[We]&&"function"==typeof window[We]&&(ze=window[We]),window[We]=function Ne(U,ee,_e,Ve){function ze(){return(ze=(0,f.Z)(function*(gt,Q,$){try{"event"===gt?yield rt(U,ee,_e,Q,$):"config"===gt?yield me(U,ee,_e,Ve,Q,$):U("set",Q)}catch(L){He.error(L)}})).apply(this,arguments)}return function We(gt,Q,$){return ze.apply(this,arguments)}}(ze,U,ee,_e),{gtagCore:ze,wrappedGtag:window[We]}}(Mn,Tr,gn,On,Kn);xn=ze,Jn=gt,Xn=!0}return Mn[Ve]=function Vt(U,ee,_e,Ve,We,ze,gt){return Tt.apply(this,arguments)}(U,Tr,gn,ee,Jn,On,_e),new tn(U)}function Ln(){return(Ln=(0,f.Z)(function*(U,ee,_e,Ve,We){if(We&&We.global)U("event",_e,Ve);else{const ze=yield ee;U("event",_e,Object.assign(Object.assign({},Ve),{send_to:ze}))}})).apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(U,ee,_e,Ve){if(Ve&&Ve.global)return U("set",{screen_name:_e}),Promise.resolve();U("config",yield ee,{update:!0,screen_name:_e})})).apply(this,arguments)}function Vn(){return(Vn=(0,f.Z)(function*(U,ee,_e,Ve){if(Ve&&Ve.global)return U("set",{user_id:_e}),Promise.resolve();U("config",yield ee,{update:!0,user_id:_e})})).apply(this,arguments)}function Pt(){return(Pt=(0,f.Z)(function*(U,ee,_e,Ve){if(Ve&&Ve.global){const We={};for(const ze of Object.keys(_e))We[`user_properties.${ze}`]=_e[ze];return U("set",We),Promise.resolve()}U("config",yield ee,{update:!0,user_properties:_e})})).apply(this,arguments)}function it(){return(it=(0,f.Z)(function*(U,ee){const _e=yield U;window[`ga-disable-${_e}`]=!ee})).apply(this,arguments)}function kt(){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch(U){return!1}})).apply(this,arguments)}function _n(U,ee,_e){U=(0,ie.m9)(U),function Gn(U,ee,_e,Ve){return er.apply(this,arguments)}(xn,Mn[U.app.options.appId],ee,_e).catch(Ve=>He.error(Ve))}function nn(U,ee,_e){U=(0,ie.m9)(U),function hn(U,ee,_e,Ve){return Vn.apply(this,arguments)}(xn,Mn[U.app.options.appId],ee,_e).catch(Ve=>He.error(Ve))}function F(U,ee,_e){U=(0,ie.m9)(U),function Ar(U,ee,_e,Ve){return Pt.apply(this,arguments)}(xn,Mn[U.app.options.appId],ee,_e).catch(Ve=>He.error(Ve))}function z(U,ee){U=(0,ie.m9)(U),function pt(U,ee){return it.apply(this,arguments)}(Mn[U.app.options.appId],ee).catch(_e=>He.error(_e))}function K(U,ee,_e,Ve){U=(0,ie.m9)(U),function Yt(U,ee,_e,Ve,We){return Ln.apply(this,arguments)}(xn,Mn[U.app.options.appId],ee,_e,Ve).catch(We=>He.error(We))}const Ie="@firebase/analytics",V="0.7.9";!function X(){(0,k._registerComponent)(new fe.wA(de,(ee,{options:_e})=>Jt(ee.getProvider("app").getImmediate(),ee.getProvider("installations-internal").getImmediate(),_e),"PUBLIC")),(0,k._registerComponent)(new fe.wA("analytics-internal",function U(ee){try{const _e=ee.getProvider(de).getImmediate();return{logEvent:(Ve,We,ze)=>K(_e,Ve,We,ze)}}catch(_e){throw J.create("interop-component-reg-failed",{reason:_e})}},"PRIVATE")),(0,k.registerVersion)(Ie,V),(0,k.registerVersion)(Ie,V,"esm2017")}()},3942:(at,Te,M)=>{M.d(Te,{Z:()=>Ue});var f=M(2090),k=M(4859),x=M(9681),ie=M(1877);class fe{constructor(me,be){this._delegate=me,this.firebase=be,(0,x._addComponent)(me,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=me.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(me){this._delegate.automaticDataCollectionEnabled=me}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(me=>{this._delegate.checkDestroyed(),me()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(me,be=x._DEFAULT_ENTRY_NAME){var rt;this._delegate.checkDestroyed();const qe=this._delegate.container.getProvider(me);return!qe.isInitialized()&&"EXPLICIT"===(null===(rt=qe.getComponent())||void 0===rt?void 0:rt.instantiationMode)&&qe.initialize(),qe.getImmediate({identifier:be})}_removeServiceInstance(me,be=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(me).clearInstance(be)}_addComponent(me){(0,x._addComponent)(this._delegate,me)}_addOrOverwriteComponent(me){(0,x._addOrOverwriteComponent)(this._delegate,me)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ge(){const Ge=function le(Ge){const me={},be={__esModule:!0,initializeApp:function Ne(J,he={}){const Se=x.initializeApp(J,he);if((0,f.r3)(me,Se.name))return me[Se.name];const Y=new Ge(Se,be);return me[Se.name]=Y,Y},app:qe,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function De(J){const he=J.name,Se=he.replace("-compat","");if(x._registerComponent(J)&&"PUBLIC"===J.type){const Y=(re=qe())=>{if("function"!=typeof re[Se])throw de.create("invalid-app-argument",{appName:he});return re[Se]()};void 0!==J.serviceProps&&(0,f.ZB)(Y,J.serviceProps),be[Se]=Y,Ge.prototype[Se]=function(...re){return this._getService.bind(this,he).apply(this,J.multipleInstances?re:[])}}return"PUBLIC"===J.type?be[Se]:null},removeApp:function rt(J){delete me[J]},useAsService:function et(J,he){return"serverAuth"===he?null:he},modularAPIs:x}};function qe(J){if(!(0,f.r3)(me,J=J||x._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:J});return me[J]}return be.default=be,Object.defineProperty(be,"apps",{get:function Re(){return Object.keys(me).map(J=>me[J])}}),qe.App=Ge,be}(fe);return Ge.INTERNAL=Object.assign(Object.assign({},Ge.INTERNAL),{createFirebaseNamespace:ge,extendNamespace:function me(be){(0,f.ZB)(Ge,be)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Ge}(),j=new ie.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ge=self.firebase.SDK_VERSION;Ge&&Ge.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ue=H;!function Ae(Ge){(0,x.registerVersion)("@firebase/app-compat","0.1.25",Ge)}()},9681:(at,Te,M)=>{M.r(Te),M.d(Te,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>Kn,_DEFAULT_ENTRY_NAME:()=>Mt,_addComponent:()=>yn,_addOrOverwriteComponent:()=>Zt,_apps:()=>on,_clearComponents:()=>Mn,_components:()=>Hn,_getProvider:()=>Tt,_registerComponent:()=>Vt,_removeServiceInstance:()=>tn,deleteApp:()=>vt,getApp:()=>xn,getApps:()=>Xn,initializeApp:()=>Jn,onLog:()=>Yt,registerVersion:()=>Jt,setLogLevel:()=>Ln});var f=M(5861),k=M(4859),x=M(1877),ie=M(2090),fe=M(8766);class Ee{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function de(V){const X=V.getComponent();return"VERSION"===(null==X?void 0:X.type)}(U)){const ee=U.getImmediate();return`${ee.library}/${ee.version}`}return null}).filter(U=>U).join(" ")}}const le="@firebase/app",H=new x.Yd("@firebase/app"),Mt="[DEFAULT]",Qe={[le]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},on=new Map,Hn=new Map;function yn(V,X){try{V.container.addComponent(X)}catch(U){H.debug(`Component ${X.name} failed to register with FirebaseApp ${V.name}`,U)}}function Zt(V,X){V.container.addOrOverwriteComponent(X)}function Vt(V){const X=V.name;if(Hn.has(X))return H.debug(`There were multiple attempts to register component ${X}.`),!1;Hn.set(X,V);for(const U of on.values())yn(U,V);return!0}function Tt(V,X){const U=V.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),V.container.getProvider(X)}function tn(V,X,U=Mt){Tt(V,X).clearInstance(U)}function Mn(){Hn.clear()}const gn=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class On{constructor(X,U,ee){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Kn="9.8.1";function Jn(V,X={}){"object"!=typeof X&&(X={name:X});const U=Object.assign({name:Mt,automaticDataCollectionEnabled:!1},X),ee=U.name;if("string"!=typeof ee||!ee)throw gn.create("bad-app-name",{appName:String(ee)});const _e=on.get(ee);if(_e){if((0,ie.vZ)(V,_e.options)&&(0,ie.vZ)(U,_e.config))return _e;throw gn.create("duplicate-app",{appName:ee})}const Ve=new k.H0(ee);for(const ze of Hn.values())Ve.addComponent(ze);const We=new On(V,U,Ve);return on.set(ee,We),We}function xn(V=Mt){const X=on.get(V);if(!X)throw gn.create("no-app",{appName:V});return X}function Xn(){return Array.from(on.values())}function vt(V){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(V){const X=V.name;on.has(X)&&(on.delete(X),yield Promise.all(V.container.getProviders().map(U=>U.delete())),V.isDeleted=!0)})).apply(this,arguments)}function Jt(V,X,U){var ee;let _e=null!==(ee=Qe[V])&&void 0!==ee?ee:V;U&&(_e+=`-${U}`);const Ve=_e.match(/\s|\//),We=X.match(/\s|\//);if(Ve||We){const ze=[`Unable to register library "${_e}" with version "${X}":`];return Ve&&ze.push(`library name "${_e}" contains illegal characters (whitespace or "/")`),Ve&&We&&ze.push("and"),We&&ze.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void H.warn(ze.join(" "))}Vt(new k.wA(`${_e}-version`,()=>({library:_e,version:X}),"VERSION"))}function Yt(V,X){if(null!==V&&"function"!=typeof V)throw gn.create("invalid-log-argument");(0,x.Am)(V,X)}function Ln(V){(0,x.Ub)(V)}const hn="firebase-heartbeat-store";let Vn=null;function Ar(){return Vn||(Vn=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(V,X)=>{0===X&&V.createObjectStore(hn)}}).catch(V=>{throw gn.create("storage-open",{originalErrorMessage:V.message})})),Vn}function pt(){return(pt=(0,f.Z)(function*(V){try{return(yield Ar()).transaction(hn).objectStore(hn).get(Sr(V))}catch(X){throw gn.create("storage-get",{originalErrorMessage:X.message})}})).apply(this,arguments)}function it(V,X){return bn.apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(V,X){try{const ee=(yield Ar()).transaction(hn,"readwrite");return yield ee.objectStore(hn).put(X,Sr(V)),ee.done}catch(U){throw gn.create("storage-set",{originalErrorMessage:U.message})}})).apply(this,arguments)}function Sr(V){return`${V.name}!${V.options.appId}`}class _n{constructor(X){this.container=X,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new z(U),this._heartbeatsCachePromise=this._storage.read().then(ee=>(this._heartbeatsCache=ee,ee))}triggerHeartbeat(){var X=this;return(0,f.Z)(function*(){const ee=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),_e=nn();if(null===X._heartbeatsCache&&(X._heartbeatsCache=yield X._heartbeatsCachePromise),X._heartbeatsCache.lastSentHeartbeatDate!==_e&&!X._heartbeatsCache.heartbeats.some(Ve=>Ve.date===_e))return X._heartbeatsCache.heartbeats.push({date:_e,agent:ee}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Ve=>{const We=new Date(Ve.date).valueOf();return Date.now()-We<=2592e6}),X._storage.overwrite(X._heartbeatsCache)})()}getHeartbeatsHeader(){var X=this;return(0,f.Z)(function*(){if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null===X._heartbeatsCache||0===X._heartbeatsCache.heartbeats.length)return"";const U=nn(),{heartbeatsToSend:ee,unsentEntries:_e}=function F(V,X=1024){const U=[];let ee=V.slice();for(const _e of V){const Ve=U.find(We=>We.agent===_e.agent);if(Ve){if(Ve.dates.push(_e.date),K(U)>X){Ve.dates.pop();break}}else if(U.push({agent:_e.agent,dates:[_e.date]}),K(U)>X){U.pop();break}ee=ee.slice(1)}return{heartbeatsToSend:U,unsentEntries:ee}}(X._heartbeatsCache.heartbeats),Ve=(0,ie.L)(JSON.stringify({version:2,heartbeats:ee}));return X._heartbeatsCache.lastSentHeartbeatDate=U,_e.length>0?(X._heartbeatsCache.heartbeats=_e,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),Ve})()}}function nn(){return(new Date).toISOString().substring(0,10)}class z{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,f.Z)(function*(){return(yield X._canUseIndexedDBPromise)&&(yield function Pt(V){return pt.apply(this,arguments)}(X.app))||{heartbeats:[]}})()}overwrite(X){var U=this;return(0,f.Z)(function*(){var ee;if(yield U._canUseIndexedDBPromise){const Ve=yield U.read();return it(U.app,{lastSentHeartbeatDate:null!==(ee=X.lastSentHeartbeatDate)&&void 0!==ee?ee:Ve.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var U=this;return(0,f.Z)(function*(){var ee;if(yield U._canUseIndexedDBPromise){const Ve=yield U.read();return it(U.app,{lastSentHeartbeatDate:null!==(ee=X.lastSentHeartbeatDate)&&void 0!==ee?ee:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...X.heartbeats]})}})()}}function K(V){return(0,ie.L)(JSON.stringify({version:2,heartbeats:V})).length}!function Ie(V){Vt(new k.wA("platform-logger",X=>new Ee(X),"PRIVATE")),Vt(new k.wA("heartbeat",X=>new _n(X),"PRIVATE")),Jt(le,"0.7.24",V),Jt(le,"0.7.24","esm2017"),Jt("fire-js","")}("")},4859:(at,Te,M)=>{M.d(Te,{H0:()=>le,wA:()=>x});var f=M(5861),k=M(2090);class x{constructor(H,j,se){this.name=H,this.instanceFactory=j,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ie="[DEFAULT]";class fe{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const se=new k.BH;if(this.instancesDeferred.set(j,se),this.isInitialized(j)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:j});He&&se.resolve(He)}catch(He){}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const se=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),He=null!==(j=null==H?void 0:H.optional)&&void 0!==j&&j;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(Ae){if(He)return null;throw Ae}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function de(ge){return"EAGER"===ge.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(j){}for(const[j,se]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(j);try{const Ae=this.getOrInitializeService({instanceIdentifier:He});se.resolve(Ae)}catch(Ae){}}}}clearInstance(H=ie){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,f.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...j.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ie){return this.instances.has(H)}getOptions(H=ie){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,se=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:se,options:j});for(const[Ae,Ue]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(Ae)&&Ue.resolve(He);return He}onInit(H,j){var se;const He=this.normalizeInstanceIdentifier(j),Ae=null!==(se=this.onInitCallbacks.get(He))&&void 0!==se?se:new Set;Ae.add(H),this.onInitCallbacks.set(He,Ae);const Ue=this.instances.get(He);return Ue&&H(Ue,He),()=>{Ae.delete(H)}}invokeOnInitCallbacks(H,j){const se=this.onInitCallbacks.get(j);if(se)for(const He of se)try{He(H,j)}catch(Ae){}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let se=this.instances.get(H);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(ge=H,ge===ie?void 0:ge),options:j}),this.instances.set(H,se),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(se,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,se)}catch(He){}var ge;return se||null}normalizeInstanceIdentifier(H=ie){return this.component?this.component.multipleInstances?H:ie:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new fe(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},2833:(at,Te,M)=>{var f=M(5861),k=M(9681),x=M(4859),ie=M(2090),fe=M(8766);const Ee="@firebase/installations",ge="w:0.5.9",H="FIS_v2",Ge=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function me(W){return W instanceof ie.ZR&&W.code.includes("request-failed")}function be({projectId:W}){return`https://firebaseinstallations.googleapis.com/v1/projects/${W}/installations`}function rt(W){return{token:W.token,requestStatus:2,expiresIn:he(W.expiresIn),creationTime:Date.now()}}function qe(W,ce){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,f.Z)(function*(W,ce){const mt=(yield ce.json()).error;return Ge.create("request-failed",{requestName:W,serverCode:mt.code,serverMessage:mt.message,serverStatus:mt.status})})).apply(this,arguments)}function Re({apiKey:W}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":W})}function De(W,{refreshToken:ce}){const Le=Re(W);return Le.append("Authorization",function Se(W){return`${H} ${W}`}(ce)),Le}function et(W){return J.apply(this,arguments)}function J(){return(J=(0,f.Z)(function*(W){const ce=yield W();return ce.status>=500&&ce.status<600?W():ce})).apply(this,arguments)}function he(W){return Number(W.replace("s","000"))}function Y(W,ce){return re.apply(this,arguments)}function re(){return(re=(0,f.Z)(function*({appConfig:W,heartbeatServiceProvider:ce},{fid:Le}){const mt=be(W),Ut=Re(W),Qt=ce.getImmediate({optional:!0});if(Qt){const wt=yield Qt.getHeartbeatsHeader();wt&&Ut.append("x-firebase-client",wt)}const Pn={method:"POST",headers:Ut,body:JSON.stringify({fid:Le,authVersion:H,appId:W.appId,sdkVersion:ge})},fr=yield et(()=>fetch(mt,Pn));if(fr.ok){const wt=yield fr.json();return{fid:wt.fid||Le,registrationStatus:2,refreshToken:wt.refreshToken,authToken:rt(wt.authToken)}}throw yield qe("Create Installation",fr)})).apply(this,arguments)}function ae(W){return new Promise(ce=>{setTimeout(ce,W)})}const ue=/^[cdef][\w-]{21}$/;function yt(){try{const W=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(W),W[0]=112+W[0]%16;const Le=function zt(W){return function ye(W){return btoa(String.fromCharCode(...W)).replace(/\+/g,"-").replace(/\//g,"_")}(W).substr(0,22)}(W);return ue.test(Le)?Le:""}catch(W){return""}}function Mt(W){return`${W.appName}!${W.appId}`}const Qe=new Map;function on(W,ce){const Le=Mt(W);Zt(Le,ce),function Vt(W,ce){const Le=function tn(){return!Tt&&"BroadcastChannel"in self&&(Tt=new BroadcastChannel("[Firebase] FID Change"),Tt.onmessage=W=>{Zt(W.data.key,W.data.fid)}),Tt}();Le&&Le.postMessage({key:W,fid:ce}),function Mn(){0===Qe.size&&Tt&&(Tt.close(),Tt=null)}()}(Le,ce)}function Zt(W,ce){const Le=Qe.get(W);if(Le)for(const mt of Le)mt(ce)}let Tt=null;const On="firebase-installations-store";let Kn=null;function Jn(){return Kn||(Kn=(0,fe.X3)("firebase-installations-database",1,{upgrade:(W,ce)=>{0===ce&&W.createObjectStore(On)}})),Kn}function xn(W,ce){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,f.Z)(function*(W,ce){const Le=Mt(W),Ut=(yield Jn()).transaction(On,"readwrite"),Qt=Ut.objectStore(On),Lt=yield Qt.get(Le);return yield Qt.put(ce,Le),yield Ut.done,(!Lt||Lt.fid!==ce.fid)&&on(W,ce.fid),ce})).apply(this,arguments)}function vt(W){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,f.Z)(function*(W){const ce=Mt(W),mt=(yield Jn()).transaction(On,"readwrite");yield mt.objectStore(On).delete(ce),yield mt.done})).apply(this,arguments)}function Jt(W,ce){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(W,ce){const Le=Mt(W),Ut=(yield Jn()).transaction(On,"readwrite"),Qt=Ut.objectStore(On),Lt=yield Qt.get(Le),Pn=ce(Lt);return void 0===Pn?yield Qt.delete(Le):yield Qt.put(Pn,Le),yield Ut.done,Pn&&(!Lt||Lt.fid!==Pn.fid)&&on(W,Pn.fid),Pn})).apply(this,arguments)}function Ln(W){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,f.Z)(function*(W){let ce;const Le=yield Jt(W.appConfig,mt=>{const Ut=er(mt),Qt=hn(W,Ut);return ce=Qt.registrationPromise,Qt.installationEntry});return""===Le.fid?{installationEntry:yield ce}:{installationEntry:Le,registrationPromise:ce}})).apply(this,arguments)}function er(W){return bn(W||{fid:yt(),registrationStatus:0})}function hn(W,ce){if(0===ce.registrationStatus){if(!navigator.onLine)return{installationEntry:ce,registrationPromise:Promise.reject(Ge.create("app-offline"))};const Le={fid:ce.fid,registrationStatus:1,registrationTime:Date.now()},mt=function Vn(W,ce){return Ar.apply(this,arguments)}(W,Le);return{installationEntry:Le,registrationPromise:mt}}return 1===ce.registrationStatus?{installationEntry:ce,registrationPromise:Pt(W)}:{installationEntry:ce}}function Ar(){return(Ar=(0,f.Z)(function*(W,ce){try{const Le=yield Y(W,ce);return xn(W.appConfig,Le)}catch(Le){throw me(Le)&&409===Le.customData.serverCode?yield vt(W.appConfig):yield xn(W.appConfig,{fid:ce.fid,registrationStatus:0}),Le}})).apply(this,arguments)}function Pt(W){return pt.apply(this,arguments)}function pt(){return(pt=(0,f.Z)(function*(W){let ce=yield it(W.appConfig);for(;1===ce.registrationStatus;)yield ae(100),ce=yield it(W.appConfig);if(0===ce.registrationStatus){const{installationEntry:Le,registrationPromise:mt}=yield Ln(W);return mt||Le}return ce})).apply(this,arguments)}function it(W){return Jt(W,ce=>{if(!ce)throw Ge.create("installation-not-found");return bn(ce)})}function bn(W){return function Sr(W){return 1===W.registrationStatus&&W.registrationTime+1e4<Date.now()}(W)?{fid:W.fid,registrationStatus:0}:W}function kt(W,ce){return lr.apply(this,arguments)}function lr(){return(lr=(0,f.Z)(function*({appConfig:W,heartbeatServiceProvider:ce},Le){const mt=_n(W,Le),Ut=De(W,Le),Qt=ce.getImmediate({optional:!0});if(Qt){const wt=yield Qt.getHeartbeatsHeader();wt&&Ut.append("x-firebase-client",wt)}const Pn={method:"POST",headers:Ut,body:JSON.stringify({installation:{sdkVersion:ge,appId:W.appId}})},fr=yield et(()=>fetch(mt,Pn));if(fr.ok)return rt(yield fr.json());throw yield qe("Generate Auth Token",fr)})).apply(this,arguments)}function _n(W,{fid:ce}){return`${be(W)}/${ce}/authTokens:generate`}function nn(W){return F.apply(this,arguments)}function F(){return(F=(0,f.Z)(function*(W,ce=!1){let Le;const mt=yield Jt(W.appConfig,Qt=>{if(!U(Qt))throw Ge.create("not-registered");const Lt=Qt.authToken;if(!ce&&ee(Lt))return Qt;if(1===Lt.requestStatus)return Le=z(W,ce),Qt;{if(!navigator.onLine)throw Ge.create("app-offline");const Pn=Ve(Qt);return Le=V(W,Pn),Pn}});return Le?yield Le:mt.authToken})).apply(this,arguments)}function z(W,ce){return K.apply(this,arguments)}function K(){return(K=(0,f.Z)(function*(W,ce){let Le=yield Ie(W.appConfig);for(;1===Le.authToken.requestStatus;)yield ae(100),Le=yield Ie(W.appConfig);const mt=Le.authToken;return 0===mt.requestStatus?nn(W,ce):mt})).apply(this,arguments)}function Ie(W){return Jt(W,ce=>{if(!U(ce))throw Ge.create("not-registered");return function We(W){return 1===W.requestStatus&&W.requestTime+1e4<Date.now()}(ce.authToken)?Object.assign(Object.assign({},ce),{authToken:{requestStatus:0}}):ce})}function V(W,ce){return X.apply(this,arguments)}function X(){return(X=(0,f.Z)(function*(W,ce){try{const Le=yield kt(W,ce),mt=Object.assign(Object.assign({},ce),{authToken:Le});return yield xn(W.appConfig,mt),Le}catch(Le){if(!me(Le)||401!==Le.customData.serverCode&&404!==Le.customData.serverCode){const mt=Object.assign(Object.assign({},ce),{authToken:{requestStatus:0}});yield xn(W.appConfig,mt)}else yield vt(W.appConfig);throw Le}})).apply(this,arguments)}function U(W){return void 0!==W&&2===W.registrationStatus}function ee(W){return 2===W.requestStatus&&!function _e(W){const ce=Date.now();return ce<W.creationTime||W.creationTime+W.expiresIn<ce+36e5}(W)}function Ve(W){const ce={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},W),{authToken:ce})}function gt(){return(gt=(0,f.Z)(function*(W){const ce=W,{installationEntry:Le,registrationPromise:mt}=yield Ln(ce);return mt?mt.catch(console.error):nn(ce).catch(console.error),Le.fid})).apply(this,arguments)}function $(){return($=(0,f.Z)(function*(W,ce=!1){const Le=W;return yield L(Le),(yield nn(Le,ce)).token})).apply(this,arguments)}function L(W){return Me.apply(this,arguments)}function Me(){return(Me=(0,f.Z)(function*(W){const{registrationPromise:ce}=yield Ln(W);ce&&(yield ce)})).apply(this,arguments)}function Un(W){return Ge.create("missing-app-config-values",{valueName:W})}const Mr="installations",hs=W=>{const ce=W.getProvider("app").getImmediate(),Le=function $t(W){if(!W||!W.options)throw Un("App Configuration");if(!W.name)throw Un("App Name");const ce=["projectId","apiKey","appId"];for(const Le of ce)if(!W.options[Le])throw Un(Le);return{appName:W.name,projectId:W.options.projectId,apiKey:W.options.apiKey,appId:W.options.appId}}(ce);return{app:ce,appConfig:Le,heartbeatServiceProvider:(0,k._getProvider)(ce,"heartbeat"),_delete:()=>Promise.resolve()}},br=W=>{const ce=W.getProvider("app").getImmediate(),Le=(0,k._getProvider)(ce,Mr).getImmediate();return{getId:()=>function ze(W){return gt.apply(this,arguments)}(Le),getToken:Ut=>function Q(W){return $.apply(this,arguments)}(Le,Ut)}};(function Ke(){(0,k._registerComponent)(new x.wA(Mr,hs,"PUBLIC")),(0,k._registerComponent)(new x.wA("installations-internal",br,"PRIVATE"))})(),(0,k.registerVersion)(Ee,"0.5.9"),(0,k.registerVersion)(Ee,"0.5.9","esm2017")},1877:(at,Te,M)=>{M.d(Te,{Am:()=>ge,Ub:()=>le,Yd:()=>de,in:()=>k});const f=[];var k=(()=>{return(H=k||(k={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",k;var H})();const x={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ie=k.INFO,fe={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ee=(H,j,...se)=>{if(j<H.logLevel)return;const He=(new Date).toISOString(),Ae=fe[j];if(!Ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ae](`[${He}]  ${H.name}:`,...se)};class de{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=Ee,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in k))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?x[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...j),this._logHandler(this,k.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...j),this._logHandler(this,k.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,k.INFO,...j),this._logHandler(this,k.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,k.WARN,...j),this._logHandler(this,k.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...j),this._logHandler(this,k.ERROR,...j)}}function le(H){f.forEach(j=>{j.setLogLevel(H)})}function ge(H,j){for(const se of f){let He=null;j&&j.level&&(He=x[j.level]),se.userLogHandler=null===H?null:(Ae,Ue,...Ge)=>{const me=Ge.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch(rt){return null}}).filter(be=>be).join(" ");Ue>=(null!=He?He:Ae.logLevel)&&H({level:k[Ue].toLowerCase(),message:me,args:Ge,type:Ae.name})}}}},8766:(at,Te,M)=>{M.d(Te,{Lj:()=>Ne,X3:()=>qe});var f=M(5861);let x,ie;const de=new WeakMap,le=new WeakMap,ge=new WeakMap,H=new WeakMap,j=new WeakMap;let Ae={get(he,Se,Y){if(he instanceof IDBTransaction){if("done"===Se)return le.get(he);if("objectStoreNames"===Se)return he.objectStoreNames||ge.get(he);if("store"===Se)return Y.objectStoreNames[1]?void 0:Y.objectStore(Y.objectStoreNames[0])}return be(he[Se])},set:(he,Se,Y)=>(he[Se]=Y,!0),has:(he,Se)=>he instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in he};function me(he){return"function"==typeof he?function Ge(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ee(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...Se){return he.apply(rt(this),Se),be(de.get(this))}:function(...Se){return be(he.apply(rt(this),Se))}:function(Se,...Y){const re=he.call(rt(this),Se,...Y);return ge.set(re,Se.sort?Se.sort():[Se]),be(re)}}(he):(he instanceof IDBTransaction&&function He(he){if(le.has(he))return;const Se=new Promise((Y,re)=>{const ae=()=>{he.removeEventListener("complete",ye),he.removeEventListener("error",ue),he.removeEventListener("abort",ue)},ye=()=>{Y(),ae()},ue=()=>{re(he.error||new DOMException("AbortError","AbortError")),ae()};he.addEventListener("complete",ye),he.addEventListener("error",ue),he.addEventListener("abort",ue)});le.set(he,Se)}(he),((he,Se)=>Se.some(Y=>he instanceof Y))(he,function fe(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ae):he)}function be(he){if(he instanceof IDBRequest)return function se(he){const Se=new Promise((Y,re)=>{const ae=()=>{he.removeEventListener("success",ye),he.removeEventListener("error",ue)},ye=()=>{Y(be(he.result)),ae()},ue=()=>{re(he.error),ae()};he.addEventListener("success",ye),he.addEventListener("error",ue)});return Se.then(Y=>{Y instanceof IDBCursor&&de.set(Y,he)}).catch(()=>{}),j.set(Se,he),Se}(he);if(H.has(he))return H.get(he);const Se=me(he);return Se!==he&&(H.set(he,Se),j.set(Se,he)),Se}const rt=he=>j.get(he);function qe(he,Se,{blocked:Y,upgrade:re,blocking:ae,terminated:ye}={}){const ue=indexedDB.open(he,Se),je=be(ue);return re&&ue.addEventListener("upgradeneeded",yt=>{re(be(ue.result),yt.oldVersion,yt.newVersion,be(ue.transaction))}),Y&&ue.addEventListener("blocked",()=>Y()),je.then(yt=>{ye&&yt.addEventListener("close",()=>ye()),ae&&yt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),je}function Ne(he,{blocked:Se}={}){const Y=indexedDB.deleteDatabase(he);return Se&&Y.addEventListener("blocked",()=>Se()),be(Y).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],et=new Map;function J(he,Se){if(!(he instanceof IDBDatabase)||Se in he||"string"!=typeof Se)return;if(et.get(Se))return et.get(Se);const Y=Se.replace(/FromIndex$/,""),re=Se!==Y,ae=De.includes(Y);if(!(Y in(re?IDBIndex:IDBObjectStore).prototype)||!ae&&!Re.includes(Y))return;const ye=function(){var ue=(0,f.Z)(function*(je,...yt){const zt=this.transaction(je,ae?"readwrite":"readonly");let Mt=zt.store;return re&&(Mt=Mt.index(yt.shift())),(yield Promise.all([Mt[Y](...yt),ae&&zt.done]))[0]});return function(yt){return ue.apply(this,arguments)}}();return et.set(Se,ye),ye}!function Ue(he){Ae=he(Ae)}(he=>HR($R({},he),{get:(Se,Y,re)=>J(Se,Y)||he.get(Se,Y,re),has:(Se,Y)=>!!J(Se,Y)||he.has(Se,Y)}))},5861:(at,Te,M)=>{function f(x,ie,fe,Ee,de,le,ge){try{var H=x[le](ge),j=H.value}catch(se){return void fe(se)}H.done?ie(j):Promise.resolve(j).then(Ee,de)}function k(x){return function(){var ie=this,fe=arguments;return new Promise(function(Ee,de){var le=x.apply(ie,fe);function ge(j){f(le,Ee,de,ge,H,"next",j)}function H(j){f(le,Ee,de,ge,H,"throw",j)}ge(void 0)})}}M.d(Te,{Z:()=>k})}},at=>{at(at.s=136)}]);